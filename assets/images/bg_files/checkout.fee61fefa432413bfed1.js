!function(){var e,t,n,i,a,r={7815:function(e,t,n){"use strict";var i=n(10763);e.exports={compressPayload:function(e){var t={};return Object.keys(i).forEach((function(n){var a=n,r=i[n];t[a]=e[r]})),t},expandPayload:function(e){var t={},n=Object.keys(e).filter((function(e){return-1===Object.keys(i).indexOf(e)}));return n.length&&(t.UNMATCHED={},n.forEach((function(n){t.UNMATCHED[n]=e[n]})),t.invalid=!0),Object.keys(i).forEach((function(n){var a=n,r=i[n];e[a]&&(t[r]=e[a])})),t}}},59687:function(e,t,n){"use strict";var i,a=n(2784);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(this,arguments)}var s=function(e,t){return a.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),i||(i=a.createElement("polyline",{points:"6 9 12 15 18 9"})))},o=(0,a.forwardRef)(s),c=(0,a.memo)(o);t.Z=c},71549:function(e,t,n){"use strict";var i,a,r,s,o=n(2784);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c.apply(this,arguments)}var l=function(e,t){return o.createElement("svg",c({width:24,height:24,viewBox:"0 0 24 24",fill:"none",strokeWidth:1.4,stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",ref:t},e),i||(i=o.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"})),a||(a=o.createElement("path",{d:"M9.08984 9.00008C9.32495 8.33175 9.789 7.76819 10.3998 7.40921C11.0106 7.05024 11.7287 6.91902 12.427 7.03879C13.1253 7.15857 13.7587 7.52161 14.2149 8.06361C14.6712 8.60561 14.9209 9.2916 14.9198 10.0001C14.9198 12.0001 11.9198 13.0001 11.9198 13.0001",strokeLinecap:"round",strokeLinejoin:"round"})),r||(r=o.createElement("circle",{cx:12,cy:16.5,r:.5,strokeLinecap:"round",strokeLinejoin:"round"})),s||(s=o.createElement("path",{d:"M11.5049 16L12.5049 17"})))},u=(0,o.forwardRef)(l),d=(0,o.memo)(u);t.Z=d},95197:function(e,t,n){var i={"./card-amex.png":5062,"./card-diners.png":74575,"./card-discover.png":98635,"./card-jcb.png":81749,"./card-mastercard.png":33580,"./card-unionpay.png":69636,"./card-unknown-error.png":25717,"./card-unknown.png":44317,"./card-visa.png":33653};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=95197},56451:function(e,t,n){var i={"./ideal-bank-abn_amro.svg":36427,"./ideal-bank-asn_bank.svg":74493,"./ideal-bank-bunq.svg":86544,"./ideal-bank-ing.svg":89103,"./ideal-bank-knab.svg":60869,"./ideal-bank-rabobank.svg":1395,"./ideal-bank-regiobank.svg":33065,"./ideal-bank-revolut.svg":79505,"./ideal-bank-sns_bank.svg":61320,"./ideal-bank-triodos_bank.svg":35307,"./ideal-bank-van_lanschot.svg":60340};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=56451},51297:function(e,t,n){const i=n(88403),a=n(68984),r=n(43948),s=n(67868),o=n(32449),c=n(69455),l=n(21433),u=n(45435),d=n(16660),h=n(3243),m=n(23539),p=n(25197),g=n(76826),y=n(35655),f=n(21600),v=n(64006);e.exports={creditCard:h,applePay:g,googlePay:p,clickToPay:m,ach:r,usBankAccount:s,plaid:o,paypal:u,venmo:d,auBecsDebit:c,ukBacs:l,acss:a,sepa:i,ideal:v,crypto:y,stock:f}},88874:function(e,t,n){"use strict";function i(e,t,n){const i=n-1;switch(e.code){case"ArrowDown":return e.preventDefault(),null===t||t+1>i?{currentOptionIdx:0}:{currentOptionIdx:t+1};case"ArrowUp":return e.preventDefault(),null===t||t-1<0?{currentOptionIdx:i}:{currentOptionIdx:t-1};case"Enter":return e.preventDefault(),{currentOptionIdx:t,needSelectOption:!0};case"Escape":return{closeDropdown:!0,currentOptionIdx:null};default:return{currentOptionIdx:null}}}n.d(t,{n:function(){return i}})},775:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});var i=n(52322),a=n(74502);const r=e=>{const{htmlFor:t,label:n,labelOptional:r,labelSrOnly:s,labelFloating:o,formGroupClass:c,formLabelClass:l,formControlValue:u,children:d}=e;return(0,i.jsxs)("div",{className:(0,a.Z)("form-group",c),children:[d,(0,i.jsxs)("label",{htmlFor:t,className:(0,a.Z)("form-label",{"sr-only":s,"is-floating":o,"has-value":u},l),children:[n,r&&(0,i.jsxs)("span",{className:"font-weight-400 text-gray-60",children:[" (",r,")"]})]})]})}},25703:function(e,t,n){"use strict";n.d(t,{u:function(){return h}});var i=n(50418),a=n.n(i),r=n(22970),s=n(52322),o=n(74502),c=n(2784),l=n(775),u=n(2230),d=n(99486);const h=e=>{var{label:t,labelSrOnly:n,labelFloating:i,value:h,autoFocus:m,dataQa:p,dataTestId:g,children:y,className:f,placeholder:v,formGroupClass:S,formLabelClass:C,labelOptional:b,id:E,error:A,customPrefix:N,dataTrackingElementName:P,type:x="text",autoCorrect:k="off",spellCheck:w="false",autoFocusMode:D=d.E.DESKTOP,setRef:T}=e,O=(0,r._T)(e,["label","labelSrOnly","labelFloating","value","autoFocus","dataQa","dataTestId","children","className","placeholder","formGroupClass","formLabelClass","labelOptional","id","error","customPrefix","dataTrackingElementName","type","autoCorrect","spellCheck","autoFocusMode","setRef"]);const _=(0,c.useRef)(null);return(0,u.w)({ref:_,autoFocus:m,mode:D}),(0,c.useImperativeHandle)(T,(()=>_.current),[]),(0,s.jsxs)(l.E,{htmlFor:E,label:t,labelSrOnly:n,labelFloating:i,labelOptional:b,formGroupClass:S,formLabelClass:(0,o.Z)(C,{"has-error":A}),formControlValue:h,children:[N,(0,s.jsx)("input",a()({id:E,className:(0,o.Z)("form-control",f,{"has-label-floating":i,"has-error":A}),ref:_,type:x,placeholder:i?void 0:v,value:h,autoCorrect:k,spellCheck:w,"data-qa":p,"data-testid":g,"data-tracking-element-name":P},O)),y]})}},99117:function(e,t,n){"use strict";n.d(t,{N:function(){return f},K:function(){return v}});var i=n(52322),a=n(47444),r=n(69623),s=n(25311),o=n(35818),c=n(77627),l=n(67846),u=n(64736),d=n(74502),h=n(2784),m=n(28316),p=n(3726),g=n(10958);const y={top:"bottom",right:"left",bottom:"top",left:"right"},f=(0,h.forwardRef)(((e,t)=>{var n,f,v,S,C,b;const{triggerRef:E,mainAxis:A,crossAxis:N,arrowX:P,arrowY:x,fallbackPlacements:k,fallbackStrategy:w,flipAlignment:D,alwaysMount:T,role:O,dataQa:_,disableAnimation:I,hasFlash:R,flashAnimated:L}=e,M=(0,h.useContext)(g.p),j=(0,l.q)(),[F,U]=(0,h.useState)(!0),[B,G]=(0,h.useState)(!1),q=!!M&&e.show,V=(0,c.T)(),K=(0,h.useRef)(null),H=(0,o.nB)(),{x:Y,y:Z,reference:z,floating:W,update:$,placement:X,strategy:Q,refs:J,middlewareData:ee}=(0,a.YF)({whileElementsMounted:r.Me,placement:e.placement||"top",strategy:e.strategy,middleware:[(0,s.cv)(null!==(n=e.offset)&&void 0!==n?n:12),(0,s.RR)({mainAxis:A,crossAxis:N,fallbackPlacements:k,fallbackStrategy:w,flipAlignment:D}),(0,a.x7)({element:K,padding:null!==(f=e.arrowPadding)&&void 0!==f?f:10})]});(0,h.useEffect)((()=>{G(q&&null!==Z&&null!==Y)}),[q,Z,Y]);const te=(null===(v=ee.arrow)||void 0===v?void 0:v.x)?null!=P?P:null===(S=ee.arrow)||void 0===S?void 0:S.x:"",ne=(null===(C=ee.arrow)||void 0===C?void 0:C.y)?null!=x?x:null===(b=ee.arrow)||void 0===b?void 0:b.y:"",ie=(0,h.useCallback)((()=>{U(!1)}),[]),ae=(0,h.useCallback)((()=>{U(!0)}),[]);(0,h.useLayoutEffect)((()=>{q&&J.reference.current!==E.current&&z(E.current)}),[V,z,E,J.reference,q]);const re=function(e){return y[e.split("-")[0]]}(X),se=X.split("-")[0],oe=(0,h.useCallback)((e=>{W(e),t&&("function"==typeof t?t(e):t.current=e)}),[W,t]),ce=(0,h.useCallback)((e=>{K.current=e,$()}),[$]),le=(0,u.r)(J.floating),ue=(0,i.jsx)(p.Z,{in:q&&B,addEndListener:le,onEnter:ie,onExited:ae,classNames:I?"":`ui-tooltip-to-${se}`,nodeRef:J.floating,timeout:I?0:void 0,children:t=>(0,i.jsxs)("div",{ref:oe,className:(0,d.Z)(j("ui-tooltip"),`ui-tooltip-${se}`,e.customClass),style:{position:Q,top:null!=Z?Z:"",left:null!=Y?Y:"",maxWidth:e.maxWidth||"200px",minWidth:e.minWidth,visibility:q&&B?void 0:"exited"===t?"hidden":void 0},role:null!=O?O:"status","aria-live":q&&!O?"polite":void 0,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,children:[(0,i.jsxs)("div",{className:j("ui-tooltip-body"),"data-qa":_,children:[e.children,R&&(0,i.jsx)("div",{className:(0,d.Z)("ui-tooltip-flash",{"is-animated":L})})]}),!e.withoutArrow&&(0,i.jsx)("div",{ref:ce,style:{top:ne,left:te,[re]:"-6px"},className:"ui-tooltip-arrow"})]})}),de=q||!F||T?ue:null;return H.current&&!e.withoutPortal?(0,m.createPortal)(de,H.current):de}));f.displayName="_UIManualTooltip";const v=(0,h.memo)(f);v.whyDidYouRender=!1},97758:function(e,t,n){"use strict";n.d(t,{N:function(){return p}});var i=n(50418),a=n.n(i),r=n(52322),s=n(99117),o=n(33093),c=n.n(o),l=n(39647),u=n(40695),d=n(95423),h=n(2784);const m=e=>{const{trigger:t,triggerRef:n,hideOnTooltipClick:i,offset:o,arrowPadding:m,mainAxis:p,crossAxis:g,fallbackPlacements:y,fallbackStrategy:f,flipAlignment:v,disableAnimation:S,disableHideDelay:C}=e,b=(0,h.useRef)(null),{show:E,handleTooltipMouseEnter:A,handleTooltipMouseLeave:N}=function(e){const{trigger:t=["hover","focus"],triggerRef:n,tooltipRef:i,hideOnTooltipClick:a,hoverShowDelay:r=0,hoverHideDelay:s=200}=e,o=(0,l.R)().document,[m,p]=(0,h.useState)(!1),[g,y]=(0,h.useState)(!1),[f,v]=(0,h.useState)(!1),S=c()(t).call(t,"click"),C=c()(t).call(t,"focus"),b=c()(t).call(t,"hover"),E=S&&m||b&&g||C&&f;if(S&&b)throw new Error('trigger must not have values "focus" and "click" at the same time');(0,h.useEffect)((()=>{const e=n.current;if(!S||!e)return;const t=t=>{const n=t.target;if(!n)return;const r=!!(0,u.FX)(n,(t=>t===e)),s=!!(0,u.FX)(n,(e=>e===i.current));p(r?e=>!e:!!s&&!a)},r=C?"mousedown":"click";return o.addEventListener(r,t),()=>{o.removeEventListener(r,t)}}),[S,C,n,i,a,o]),(0,h.useEffect)((()=>{const e=n.current;if(!C||!e)return;const t=()=>v(!0),i=()=>v(!1);return e.addEventListener("focus",t),e.addEventListener("blur",i),()=>{e.removeEventListener("focus",t),e.removeEventListener("blur",i)}}),[C,n,o]);const A=(0,d.i)((e=>y(e))),N=(0,h.useCallback)((()=>A.set([!0],r)),[A,r]),P=(0,h.useCallback)((()=>A.set([!1],s)),[A,s]);return(0,h.useEffect)((()=>{const e=n.current;if(!b||!e)return;const t=()=>A.set([!0],r),i=()=>A.set([!1],s);return e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",i),()=>{e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",i)}}),[b,A,n,r,s]),{show:E,handleTooltipMouseEnter:N,handleTooltipMouseLeave:P}}({trigger:t,triggerRef:n,tooltipRef:b,hideOnTooltipClick:i,hoverHideDelay:C?0:200});return(0,r.jsx)(s.N,a()({ref:b,show:E},e,{onMouseEnter:A,onMouseLeave:N,offset:o,arrowPadding:m,mainAxis:p,crossAxis:g,fallbackPlacements:y,fallbackStrategy:f,flipAlignment:v,disableAnimation:S}))},p=(0,h.memo)(m);p.whyDidYouRender=!1},10958:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});const i=(0,n(2784).createContext)(null)},74512:function(e,t,n){"use strict";n.d(t,{p:function(){return a},C:function(){return r}});var i=n(2784);const a=(0,i.createContext)(null);function r(){const e=(0,i.useContext)(a);if(!e)throw new Error("CheckoutConfiguration data is not provided");return e}},39647:function(e,t,n){"use strict";n.d(t,{E:function(){return a},R:function(){return r}});var i=n(2784);const a=(0,i.createContext)(null);function r(){const e=(0,i.useContext)(a);if(!e)throw new Error("iframe window is not provided");return e}},8708:function(e,t,n){"use strict";n.d(t,{S:function(){return a}});var i=n(74512);function a(){return(0,i.C)().infrastructureParams.isMobile}},35818:function(e,t,n){"use strict";n.d(t,{Og:function(){return a},nB:function(){return r},pG:function(){return s}});var i=n(2784);const a=(0,i.createContext)(null);function r(){const e=(0,i.useContext)(a);if(!e)throw new Error("Portal ref was not provided");return e}const s=(0,i.createContext)(null)},77627:function(e,t,n){"use strict";n.d(t,{E:function(){return a},T:function(){return r}});var i=n(2784);const a=(0,i.createContext)(null);function r(){const e=(0,i.useContext)(a);if(!e)throw new Error("SentryService is not provided");return e}},69062:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});var i=n(83093),a=n(2649);function r(){const e=(0,i.r)(),t=(0,a.Y)();return e&&!1!==t}},83093:function(e,t,n){"use strict";n.d(t,{s:function(){return a},r:function(){return r}});var i=n(2784);const a=(0,i.createContext)(!1);function r(){return(0,i.useContext)(a)}},2649:function(e,t,n){"use strict";n.d(t,{z:function(){return a},Y:function(){return r}});var i=n(2784);const a=(0,i.createContext)(null);function r(){return(0,i.useContext)(a)}},34158:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var i=n(74512);function a(){return"iOS"===(0,i.C)().infrastructureParams.OS}},67846:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var i=n(90899),a=n.n(i),r=n(8708),s=n(2784);function o(){const e=(0,r.S)(),t=(0,s.useCallback)((t=>`${t} ${t}-${e?"mobile":"desktop"}`),[e]);return(0,s.useCallback)((e=>{var n;return a()(n=e.split(" ")).call(n,t).join(" ")}),[t])}},99486:function(e,t,n){"use strict";var i;n.d(t,{E:function(){return i}}),function(e){e.DESKTOP="desktop",e.MOBILE="mobile",e.ALL="all"}(i||(i={}))},2230:function(e,t,n){"use strict";n.d(t,{w:function(){return h}});var i=n(41628),a=n.n(i),r=n(2784),s=n(69062),o=n(38535),c=n(18875),l=n(99486),u=n(8708),d=n(34158);const h=e=>{const{ref:t,autoFocus:n,mode:i}=e,h=(0,s.w)(),m=(0,u.S)(),p=(0,d.V)(),g=(0,o.g)(),y=(0,c.t)();(0,r.useEffect)((()=>{if(!g&&n&&h&&y.current&&((e,t,n)=>e===l.E.DESKTOP?!t:e!==l.E.MOBILE||t&&!n)(i,m,p)){if(!t.current)throw new Error("ref is not provided");a()((()=>{var e;null===(e=t.current)||void 0===e||e.focus()}))}}),[t,n,h,m,p,g,y,i])}},64736:function(e,t,n){"use strict";n.d(t,{q:function(){return a},r:function(){return r}});var i=n(2784);function a(e,t){if(!e.current)throw new Error("Ref was not passed");e.current.addEventListener("transitionend",(function n(){e.current&&(e.current.removeEventListener("transitionend",n),t())}),!1)}function r(e){return(0,i.useCallback)((t=>{a(e,t)}),[e])}},95423:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var i=n(54496),a=n.n(i),r=n(2784);function s(e){const t=(0,r.useRef)(),n=(0,r.useRef)(e);(0,r.useEffect)((()=>{n.current=e}),[e]);const i=(0,r.useCallback)((()=>{window.clearTimeout(t.current)}),[]),s=(0,r.useCallback)((function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(),r?t.current=a()((()=>{n.current(...e)}),r):n.current(...e)}),[i]);return(0,r.useEffect)((()=>i),[i]),{set:s,clear:i}}},18875:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var i=n(2784);function a(){const e=(0,i.useRef)(!1);return(0,i.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},38535:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var i=n(74512);const a=()=>(0,i.C)().infrastructureParams.showcase},13184:function(e,t,n){"use strict";var i=n(98189);(this&&this.__awaiter||function(e,t,n,a){return new(n||(n=i))((function(i,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))})(void 0,void 0,void 0,(function*(){if(void 0===window.ResizeObserver){window.ResizeObserver=class{observe(){}unobserve(){}disconnect(){}};const e=yield n.e(127).then(n.bind(n,99127));window.ResizeObserver=e.ResizeObserver}}))},17236:function(e,t,n){"use strict";n.d(t,{k:function(){return a},j:function(){return r}});var i=n(2784);const a=(0,i.createContext)(null);function r(){const e=(0,i.useContext)(a);if(!e)throw new Error("Experiments is not provided");return e}},49561:function(e,t,n){"use strict";n.d(t,{u:function(){return a}});var i=n(25703);const a=(0,n(43151).U)(i.u)},43151:function(e,t,n){"use strict";n.d(t,{U:function(){return l}});var i=n(50418),a=n.n(i),r=n(52322),s=n(86010),o=n(17236),c=n(10041);const l=e=>t=>{const n=(0,o.j)().get(c.X.FLOATING_LABELS_CHECKOUT_EXPERIMENT),{isTestGroup:i,isVariant2TestGroup:l}=n,u=t.labelFloating&&i;return(0,r.jsx)(e,a()({},t,{labelFloating:u,labelSrOnly:t.labelSrOnly&&!u,className:(0,s.Z)(t.className,{"form-control-experiment":l})}))}},82621:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var i=n(17236),a=n(10041);const r=()=>{const e=(0,i.j)().get(a.X.FLOATING_LABELS_CHECKOUT_EXPERIMENT),{isTestGroup:t,isVariant1TestGroup:n,isVariant2TestGroup:r}=e;return{isTestGroup:t,isVariant1TestGroup:n,isVariant2TestGroup:r}}},68972:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var i=n(2784),a=n(3619),r=n(50970);function s(){const e=(0,r.Y)();return(0,i.useMemo)((()=>"rtl"===(0,a.j9)(e.language)),[e.language])}},93854:function(e,t,n){"use strict";var i=n(8005),a=n.n(i);const r=(()=>{try{return window}catch(e){return self}})(),s=r.FUN_ENV||"production",o=r.FUN_HOST||"https://api.fundraiseup.com",c=r.FUN_CDN||"https://cdn.fundraiseup.com",l=r.FUN_STATIC||"https://static.fundraiseup.com";r.FUN_STATIC_S3,n.p=l+("/"===a()(l).call(l,-1)?"":"/");var u=n(77689),d=n(70655),h=(n(13184),n(20929)),m=n(2784);var p=n(10161),g=n.n(p),y=n(22970);var f=n(87636),v=n.n(f),S=n(74426),C=n.n(S),b=n(69117),E=n.n(b);class A{constructor(e){this.window=e,this.hideTimeout=null,this.hiddenElementsList=[],this.elementsSelectorList=[".s.u.m.o"]}hideAll(){const e=()=>{var e;v()(e=this.elementsSelectorList).call(e,(e=>{var t;const n=this.window.document.querySelectorAll(e);v()(n).call(n,C()(t=this.hideNode).call(t,this))}))};e(),this.hideTimeout=this.window.setInterval(e,1e3)}restoreAll(){var e;this.hideTimeout&&clearTimeout(this.hideTimeout),v()(e=this.hiddenElementsList).call(e,(e=>{let{node:t,style:n}=e;null===n?t.removeAttribute("style"):t.setAttribute("style",n)})),this.hiddenElementsList=[]}hideNode(e){var t;E()(t=this.hiddenElementsList).call(t,(t=>t.node===e))||(this.hiddenElementsList.push({node:e,style:e.getAttribute("style")}),e.setAttribute("style","display: none;"))}}function N(e,t){const n=t.findElement(e);if(!n)throw new Error('No element with id "root"');return n}function P(e){if(!e.iframeDocument||!e.iframeWindow)throw new Error("No window or document in iframe");return{target:e.iframeWindow,global:window}}var x=n(50418),k=n.n(x);class w extends class{get iframeNode(){throw new Error("Not implemented")}destroy(e){throw new Error("Not implemented")}}{constructor(e,t,n){super(),this.checkoutUI=e,this.checkoutCore=t,this.foreignElements=n,this.eventEmitter=new(g()),this.destroyed=!1}get iframeNode(){return this.checkoutUI.iframeNode}get checkoutLocale(){return this.checkoutCore.intl.locale}initialize(){this.checkoutAPIBridge.on("donationComplete",(e=>{this.emit("donationComplete",e)}))}destroy(e){return(0,d.mG)(this,void 0,void 0,(function*(){this.assertNotDestroyed(),this.checkoutUI.close();const t=k()(k()({},e),this.checkoutAPIBridge.getClosePublicJsApiPayload());this.checkoutCore.logger.checkoutClose({key:this.checkoutCore.checkoutConfiguration.campaign.key,name:this.checkoutCore.checkoutConfiguration.campaign.name},this.checkoutAPIBridge.getClosePublicJsApiPayload()),this.emit("close",t),this.emit("checkoutIntent",this.checkoutAPIBridge.getIntent()),this.foreignElements&&this.foreignElements.restoreAll(),this.eventEmitter.removeAllListeners(),this.checkoutAPIBridge.dispose(),this.checkoutCore.dispose(),this.destroyed=!0}))}on(e,t){this.assertNotDestroyed(),this.eventEmitter.on(e,t)}getOpenParams(){return this.checkoutAPIBridge.getOpenParams()}get checkoutAPIBridge(){return this.checkoutCore.checkoutAPIBridge}emit(e,t){this.eventEmitter.emit(e,t)}assertNotDestroyed(){if(this.destroyed)throw new Error("CheckoutAPI destroyed")}}var D=n(59225),T=n.n(D),O=n(8979),_=n.n(O),I=n(68477),R=n.n(I),L=n(19820);function M(e){return(0,L.ZP)(e)}var j=n(49685);function F(e,t){return function(e){return e!==j.C.TESTING}(e)?{domain:t,sameSite:"None",secure:!0}:{domain:t}}const U={topLevelDomain:"topLevelDomain",t:"topLevelDomain",ida:"intent.donation.amount",idc:"intent.donation.currency",idr:"intent.donation.recurring",idf:"intent.donation.frequency",idh:"intent.donation.selectedHintId",isf:"intent.supporter.firstName",isl:"intent.supporter.lastName",ise:"intent.supporter.email",ici:"intent.campaign.id",iek:"intent.element.key",iet:"intent.element.type",ic:"intent.comment",it:"intent.tribute",itt:"intent.tribute.type",iti:"intent.tribute.inHonorOf",itl:"intent.tribute.labelType",icd:"intent.checkoutSettings.designation",icc:"intent.checkoutSettings.customFields",icma:"intent.checkoutSettings.modifyAmount",icmd:"intent.checkoutSettings.modifyDesignation",ift:"intent.flowType",ifk:"intent.fundraisingPage.key",ifc:"intent.fundraisingPage.customerKey",ife:"intent.feeCovered",mm:"messageBar.manuallyClosed",pi:"popup.interactionAt",sl:"socialProof.lastChargeAt",si:"socialProof.interactionAt",sls:"socialProof.lastShownCharge",nsa:"socialProof.nextShowAt",li:"lightbox.interactionAt",lsda:"lastSuccessDonationAt",s:"sessionAt",sp:"sessionPage",x:"xFactor"};class B{constructor(e,t){this.funStorageAdapter=e,this.env=t.env,this._allowWrite=t.allowWrite}get available(){return this.funStorageAdapter.available}get isFuncStorageInitialized(){return this.funStorageAdapter.isFuncStorageInitialized}get allowWrite(){return this._allowWrite}set allowWrite(e){this._allowWrite=e}getData(){return this.funStorageAdapter.getData()}setData(e,t){this.allowWrite&&this.funStorageAdapter.setData(e,t)}removeData(e){this.funStorageAdapter.removeData(e)}initialize(e,t){this.funStorageAdapter.initialize({topLevelDomain:e},t)}getField(e){const t=this.getData();return t&&e in t?t[e]:null}setField(e,t){if(!this.allowWrite)return;const n=this.getData()||{};n[e]=t;const i=F(this.env,n.topLevelDomain);this.setData(n,i)}removeField(e){const t=this.getData();if(!t)return;delete t[e];const n=F(this.env,t.topLevelDomain);this.setData(t,n)}}class G{constructor(e,t){this.storage=e,this.initAt=t||(new Date).getTime(),this.read()}incrementSession(){this.sessionPage++,this.refresh()}refresh(){this.sessionAt||this.addSession(),this.write()}addSession(){this.sessionAt=this.initAt}write(){this.storage.setField("sessionAt",this.sessionAt.toString(10)),this.storage.setField("sessionPage",this.sessionPage)}read(){this.sessionAt=Number(this.storage.getField("sessionAt"))||0,this.sessionPage=Number(this.storage.getField("sessionPage"))||0}}var q=n(98189),V=n.n(q),K=n(54496),H=n.n(K),Y=n(33093),Z=n.n(Y),z=n(67550);const W=[z.c0.EN_GB],$=[z.c0.EN_GB],X={[z.c0.EN_US]:"en_US",[z.c0.EN_GB]:"en_GB",[z.c0.EN_CA]:"en_CA",[z.c0.FR_CA]:"fr_CA",[z.c0.ES]:"es_ES",[z.c0.ES_US]:"es_US",[z.c0.NL]:"nl_NL",[z.c0.NO]:"no_NO",[z.c0.DE]:"de_DE",[z.c0.FI_FI]:"fi_FI",[z.c0.FR_FR]:"fr_FR",[z.c0.AR_001]:"ar_AE",[z.c0.SV]:"sv_SE",[z.c0.IT]:"it_IT",[z.c0.PT_PT]:"pt_PT",[z.c0.PT_BR]:"pt_BR",[z.c0.ZH_CN]:"zh_CN",[z.c0.ZH_TW]:"zh_TW",[z.c0.JA]:"ja_JP",[z.c0.KO]:"ko_KR",[z.c0.HU]:"hu_HU",[z.c0.DA]:"da_DK",[z.c0.RU_RU]:"ru_RU"};function Q(e){return X[e]}var J=n(97107),ee=n.n(J),te=n(42461),ne=n.n(te);class ie extends Error{constructor(e){super(e),this.name=this.constructor.name}}class ae extends ie{constructor(e,t){super(t?`Unreachable statement: ${e} [${t}]`:`Unreachable statement: ${e}`)}}class re extends ie{constructor(){super("Unexpected error")}}const se=new(ee());let oe=null;const ce=new(V())((e=>{oe=e}));class le extends ie{constructor(e){super(e?`'Script failed to load': ${e}`:"Script failed to load"),this.name="LoadScriptError"}}function ue(e){return!!e&&e.constructor==={}.constructor}function de(e,t){var n;const i=document.createElement("script");return i.type="text/javascript",i.async=!0,i.src=e,v()(n=ne()(t)).call(n,(e=>{i.setAttribute(e,t[e])})),i}function he(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=t||window;let i={};se.has(t)?i=se.get(t):se.set(t,i);const a=i[e];if(a)return a;const r=new(V())((function(i,a){H()((()=>{const r=de(e,n);r.onerror=function(e){if("string"==typeof e)return void a(new le);const t=null==e?void 0:e.target;t instanceof HTMLScriptElement?a(new le(t.src)):a(new le)},r.onload=function(){i(!0)},t.document.documentElement.appendChild(r),me._immedeatly&&i(!0)}),0)}));return i[e]=r,r}function me(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(i&&!ue(i))throw new Error("Expected attributes to be an object.");return t?ce.then((()=>he(e,n,i))):he(e,n,i)}me._windows=se,me._immedeatly=!1;const pe="supporter",ge="1234@example.com";class ye extends Error{constructor(){super(ye.errorMessage)}}ye.errorMessage="Stripe.js could not be loaded";const fe={target:window,apiVersion:"2023-10-16",deferred:!1,loadTimeout:0,locale:z.c0.EN_US};function ve(e,t,n,i){const a=n.target,r=function(e){return Z()($).call($,e)?e:e.split("-")[0]}(n.locale);return me("https://js.stripe.com/v3/",n.deferred,a).then((()=>new(V())(((i,s)=>{const o=()=>{a.Stripe?i(a.Stripe(e,{stripeAccount:t,apiVersion:n.apiVersion,locale:r})):s(new ye)};n.loadTimeout?H()((()=>{o()}),n.loadTimeout):o()})))).catch((e=>{throw e.message.match("js.stripe.com")&&i.captureException(e.message,{extra:{script:e.message,stripeAccount:t}}),e}))}class Se extends Error{constructor(e){super("[Stripe Factory]"+e)}}function Ce(e,t){if(e.showcase)return()=>{};let n;const i=()=>(0,y.mG)(this,void 0,void 0,(function*(){if(!e.targetWindow)throw new Se("target window is not provided");n=yield function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fe;return(0,y.mG)(this,void 0,void 0,(function*(){let a;const r=k()({},fe,i);try{return a=yield ve(e,t,r,n),a}catch(i){return ve(e,t,k()(k()({},r),{loadTimeout:500}),n)}}))}(e.publicKey,e.stripeAccount||"",t,{target:e.targetWindow,locale:e.locale})}));return i(),function(){return(0,y.mG)(this,void 0,void 0,(function*(){return n||(yield i(),n)}))}}var be=n(16465),Ee=n.n(be);class Ae{constructor(){this.disposables=new(Ee())}static isFunction(e){return"function"==typeof e}run(e){return(0,y.mG)(this,void 0,void 0,(function*(){yield this.initializeCurrencyFilter(),yield this.setLocale(null==e?void 0:e.localeCode),this.initializePageGuardManager(),this.initializePublicJsApi(),this.initializeCookieConsent(),this.initializeUserSession(),this.initializeRouter(),this.initializeTracker(),this.initializeExperiments(),this.initializeLiveSessionScript(),yield this.initializeCurrencyService();const t=this.subscribeOnUserInteraction();yield this.startFlow(null==e?void 0:e.initialScreen),this.subscribeOnHistoryInteraction(),this.disposables.add(t).add(this.checkoutRouter).add(this.trackerCheckout).add(this.flowManager)}))}dispose(){var e;v()(e=this.disposables).call(e,(e=>{Ae.isFunction(e)?e():e.dispose()}))}}var Ne,Pe,xe=n(56139),ke=n.n(xe),we=n(90899),De=n.n(we);!function(e){e.INACTIVITY="inactivity",e.EXIT="exit",e.PAYMENT_ISSUE="paymentIssue",e.REMINDER_REQUEST="reminderRequest"}(Ne||(Ne={})),function(e){e.YES="yes",e.NO="no",e.NOT_GIVEN="notGiven"}(Pe||(Pe={}));class Te{constructor(e){this.checkoutConfiguration=e,this.eventEmitter=new(g())}getOpenParams(){var e,t,n,i,a,r,s,o,c;const l=this.checkoutConfiguration.campaign,u=this.checkoutConfiguration.externalConfig,d=this.checkoutConfiguration.queryParams,h=this.checkoutConfiguration.mergedCustomFields;return{customFields:ke()(null!==(e=null==h?void 0:De()(h).call(h,(e=>{let{name:t,value:n}=e;return[t,n]})))&&void 0!==e?e:[]),livemode:this.checkoutConfiguration.infrastructureParams.livemode,campaign:{id:l.key,code:l.code||null,name:l.name},utm:{source:d.utm.source||(null===(t=this.checkoutConfiguration.infrastructureQueryParams)||void 0===t?void 0:t.utm_source)||"",campaign:d.utm.campaign||(null===(n=this.checkoutConfiguration.infrastructureQueryParams)||void 0===n?void 0:n.utm_campaign)||"",medium:d.utm.medium||(null===(i=this.checkoutConfiguration.infrastructureQueryParams)||void 0===i?void 0:i.utm_medium)||"",content:d.utm.content||(null===(a=this.checkoutConfiguration.infrastructureQueryParams)||void 0===a?void 0:a.utm_content)||"",term:d.utm.term||(null===(r=this.checkoutConfiguration.infrastructureQueryParams)||void 0===r?void 0:r.utm_term)||""},element:{id:null===(s=u.launcher)||void 0===s?void 0:s.elementKey,type:null===(o=u.launcher)||void 0===o?void 0:o.elementTitle,name:null===(c=u.launcher)||void 0===c?void 0:c.elementName}}}on(e,t){return this.eventEmitter.on(e,t),this}emitCheckoutOpen(){this.emit("open",this.getOpenParams())}emitDonationComplete(e){this.emit("donationComplete",k()(k()({},this.getOpenParams()),e))}setDonationParams(e){this.donationParams=e}setIntentParams(e){this.intent=this.formatIntent(e)}getClosePublicJsApiPayload(){if(!this.donationParams)throw new Error("Call setDonationParams first to set public donation params");return k()(k()({},this.getOpenParams()),this.donationParams)}getIntent(){if(void 0===this.intent)throw new Error("Call setIntentParams on close to set public intent params");return this.intent}dispose(){this.eventEmitter.removeAllListeners()}formatIntent(e){var t,n;if(!e)return null;const i=this.checkoutConfiguration.externalConfig,a=!!i.checkoutIntent;if(e.isSavedEmailOnExit===Pe.YES||a)return null;const r=this.checkoutConfiguration.campaign,s=this.checkoutConfiguration.fundraisingPage,o={flowType:e.flowType,campaign:{id:r.key},element:{key:null===(t=i.launcher)||void 0===t?void 0:t.elementKey,type:null===(n=i.launcher)||void 0===n?void 0:n.elementType},checkoutSettings:{customFields:this.checkoutConfiguration.mergedCustomFields,designation:e.checkoutSettings.designation,modifyAmount:e.checkoutSettings.modifyAmount,modifyDesignation:e.checkoutSettings.modifyDesignation},comment:e.comment,donation:e.donation,supporter:e.supporter,tribute:e.tribute,feeCovered:e.feeCovered};return s&&(o.fundraisingPage={key:s.key,customerKey:s.admin}),o}emit(e,t){this.eventEmitter.emit(e,t)}}var Oe,_e,Ie=n(973),Re=n.n(Ie),Le=n(33415),Me=n.n(Le),je=n(50381),Fe=n.n(je),Ue=n(85952),Be=n.n(Ue),Ge=n(11052),qe=n.n(Ge),Ve=n(49924),Ke=n.n(Ve);(_e=Oe||(Oe={})).ONCE="once",_e.DAILY="daily",_e.WEEKLY="weekly",_e.BIWEEKLY="biweekly",_e.EVERY_4_WEEKS="every4weeks",_e.MONTHLY="monthly",_e.BIMONTHLY="bimonthly",_e.QUARTERLY="quarterly",_e.SEMIANNUAL="semiannual",_e.ANNUAL="annual";const He={[Oe.DAILY]:[2e4,1e4,5e3,3e3,1e3,500],[Oe.WEEKLY]:[2e4,1e4,5e3,3e3,1e3,500],[Oe.BIWEEKLY]:[2e4,1e4,5e3,3e3,1e3,500],[Oe.EVERY_4_WEEKS]:[2e4,1e4,5e3,3e3,1e3,500],[Oe.MONTHLY]:[2e4,1e4,5e3,3e3,1e3,500],[Oe.BIMONTHLY]:[2e4,1e4,5e3,3e3,1e3,500],[Oe.QUARTERLY]:[2e4,1e4,5e3,3e3,1e3,500],[Oe.SEMIANNUAL]:[2e4,1e4,5e3,3e3,1e3,500],[Oe.ANNUAL]:[2e4,1e4,5e3,3e3,1e3,500],[Oe.ONCE]:[1e5,5e4,25e3,1e4,5e3,2500]},Ye={[Oe.ONCE]:10,[Oe.ANNUAL]:20,[Oe.SEMIANNUAL]:30,[Oe.QUARTERLY]:40,[Oe.MONTHLY]:50,[Oe.EVERY_4_WEEKS]:60,[Oe.BIMONTHLY]:70,[Oe.WEEKLY]:80,[Oe.BIWEEKLY]:90,[Oe.DAILY]:100},Ze=[500,1e3,3e3],ze=[2500,5e3,1e4],We=[500,1e3,3e3,5e3,1e4,2e4],$e=[2500,5e3,1e4,25e3,5e4,1e5],Xe=2500;class Qe{static getDefaultFrequency(e){const t=ne()(e),n=qe()(t).call(t,(t=>e[t].enabled&&e[t].default));if(!n)throw new Error("No default frequency found");return n}static getDefaultFrequencyWithOverride(e,t){var n;if(t&&Z()(n=this.getEnabledFrequencies(e)).call(n,t))return t;const i=ne()(e);return qe()(i).call(i,(t=>e[t].enabled&&e[t].default))||null}static getSecondaryFrequency(e){const t=ne()(e);return qe()(t).call(t,(t=>e[t].enabled&&!e[t].default))}static getEnabledFrequencies(e){var t,n;const i=De()(t=Fe()(n=ne()(e)).call(n,(t=>e[t].enabled))).call(t,(e=>e));if(0===i.length)throw new Error("No enabled frequencies found");return this.sortByWeights(i)}static isOnetimeOnly(e){const t=this.getEnabledFrequencies(e);return 1===t.length&&Z()(t).call(t,Oe.ONCE)}static isRecurringOnly(e){const t=this.getEnabledFrequencies(e);return!Z()(t).call(t,Oe.ONCE)}static isOnetimeEnabled(e){var t;return Z()(t=this.getEnabledFrequencies(e)).call(t,Oe.ONCE)}static isRecurringEnabled(e){const t=this.getEnabledFrequencies(e);return!!qe()(t).call(t,(e=>e!==Oe.ONCE))}static frequencySettingsToWidgetRepeat(e){const t=this.isOnetimeEnabled(e),n=this.isRecurringEnabled(e);return t&&!n?h.Bx.ONLY_ONETIME:!t&&n?h.Bx.ONLY_MONTHLY:this.getDefaultFrequency(e)===Oe.ONCE?h.Bx.DEFAULT_ONETIME:h.Bx.DEFAULT_MONTHLY}static isFrequencyEnabled(e,t){var n;if(null===t)return!1;const i=Me()(Oe);return Z()(i).call(i,t)&&Z()(n=Qe.getEnabledFrequencies(e)).call(n,t)}static sortByWeights(e){return Ke()(e).call(e,((e,t)=>Ye[e]-Ye[t]))}}var Je,et,tt,nt,it,at;!function(e){e.HELPING_HAND_STAGING="FUNTMDMPPAF",e.ISRAELI_AMERICAN_COUNCIL_1="FUNTWQULBUW",e.ISRAELI_AMERICAN_COUNCIL_2="FUNVUTSEZXA",e.ACCESS_FUND_1="FUNFWAWHCAJ",e.ACCESS_FUND_2="FUNYGCGZKAB",e.ACCESS_FUND_3="FUNUVSVAKSL",e.IAC_1="FUNRYLWADLU",e.IAC_2="FUNQNGXYKJA",e.IAC_3="FUNSWLJZBXE"}(Je||(Je={})),function(e){e.MONEY="money",e.STOCK="stock",e.CRYPTO="crypto"}(et||(et={})),function(e){e.LIVE="live",e.TEST="test"}(tt||(tt={})),function(e){e.DONATE_FORM="donate-form",e.COMMENT="comment",e.UPSELL="upsell",e.PAYMENT_METHOD="payment-method",e.PAYPAL="paypal",e.BANK_LOADING="bank-loading",e.CREDIT_CARD="credit-card",e.UK_BACS="uk-bacs",e.UK_BACS_CONFIRMATION="uk-bacs-confirmation",e.AU_BECS="au-becs",e.SEPA="sepa",e.PRIVACY="privacy",e.DOUBLE="double",e.GIFT_AID="gift-aid",e.MAILING_ADDRESS="mailing-address",e.THANK_YOU="thank-you",e.THANK_YOU_TRIBUTE="thank-you-tribute",e.QUESTIONS1="questions1",e.QUESTIONS="questions",e.REMIND_ME="remind-me",e.ASK_PAGE="ask-page",e.POST_DONATION_UPSELL="post-donation-upsell",e.CLICK_TO_PAY_SPLASH="click-to-pay-splash"}(nt||(nt={})),function(e){e.REMINDER="reminder",e.DONATE_BUTTON="donateButton",e.STICKY_BUTTON="stickyButton",e.IMAGE_CARD="imageCard",e.TEXT_LINK="textLink",e.DONATION_FORM="donationForm",e.SIMPLE_FORM="simpleForm",e.GOAL_METER="goalMeter",e.STAT_COUNTER="statCounter",e.IMPACT_SLIDER="impactSlider",e.DONATION_LEVELS="donationLevels",e.BUTTON_GROUP="buttonGroup",e.FLOATING_BUTTON="floatingButton",e.MESSAGE_BAR="messageBar",e.TOP_SUPPORTERS="topSupporters",e.TOP_LOCATIONS="topLocations",e.SOCIAL_PROOF="socialProof",e.QR_CODE="qrCode",e.RECENT_DONATIONS="recentDonations",e.P2P_BUTTON="p2pButton",e.P2P_LINK="p2pLink",e.TOP_FUNDRAISERS="topFundraisers",e.DONOR_MAP="donorMap",e.LIGHTBOX="lightbox",e.FUNDRAISING_PAGE_LINK="fundraisingPageLink",e.FUNDRAISING_PAGE_INVITE_LINK="fundraisingPageInviteLink",e.LINK="link",e.DIRECT_LINK="direct",e.DEBUG_PANEL="debugPanel",e.TEST_MODE_PANEL="testModePanel",e.SPLIT_TESTING="splitTesting"}(it||(it={})),function(e){e.MODAL="modal",e.PAGE="page"}(at||(at={}));var rt=n(15729);function st(e){return(0,rt.ZP)(M(e),(e=>e))}var ot=n(40695);const ct=e=>`https://ucarecdn.com/7a2a472d-06d6-48fc-8c7d-37e313b717e0/-/resize/${e?"1248x":"624x"}/-/format/auto/`;var lt,ut,dt,ht,mt,pt,gt,yt,ft,vt={getLinks:function(e){var t,n;return(null===(n=null===(t=e.campaignPage)||void 0===t?void 0:t.ask)||void 0===n?void 0:n.links)?[...e.campaignPage.ask.links]:[]},getAskTitle:function(e,t){var n,i,a;return(null===(i=null===(n=t.checkoutData)||void 0===n?void 0:n.ask)||void 0===i?void 0:i.show)?t.checkoutData.ask.title:(null===(a=e.campaignPage)||void 0===a?void 0:a.ask.title)||""},getLogoImageURL:function(e,t){var n,i,a,r,s,o;return t?null===(a=null===(i=null===(n=e.campaignPage)||void 0===n?void 0:n.ask)||void 0===i?void 0:i.logoImage)||void 0===a?void 0:a.previewUrlRetina:null===(o=null===(s=null===(r=e.campaignPage)||void 0===r?void 0:r.ask)||void 0===s?void 0:s.logoImage)||void 0===o?void 0:o.previewUrl},getAskDescription:function(e,t){var n,i,a,r;return(null===(i=null===(n=t.checkoutData)||void 0===n?void 0:n.ask)||void 0===i?void 0:i.show)?t.checkoutData.ask.text:(null===(r=null===(a=e.campaignPage)||void 0===a?void 0:a.ask)||void 0===r?void 0:r.text)||""},getAskMainImageURL:function(e,t){var n,i,a,r,s,o;const c=ct(t);return(t?null===(a=null===(i=null===(n=e.campaignPage)||void 0===n?void 0:n.ask)||void 0===i?void 0:i.mainImage)||void 0===a?void 0:a.previewUrlRetina:null===(o=null===(s=null===(r=e.campaignPage)||void 0===r?void 0:r.ask)||void 0===s?void 0:s.mainImage)||void 0===o?void 0:o.previewUrl)||c},getCompanyImageURL:function(e,t){if(!e.logoUuid)return null;const n=t?"x112":"x56";return`https://ucarecdn.com/${e.logoUuid}/-/resize/${n}/-/format/auto/`}},St={getLinks:function(e){return[...e.ask.links]},getAskTitle:function(e,t){var n,i;return(null===(i=null===(n=t.checkoutData)||void 0===n?void 0:n.ask)||void 0===i?void 0:i.show)?t.checkoutData.ask.title:e.ask.title},getLogoImageURL:function(e,t){return t?e.ask.logoImage.previewUrlRetina:e.ask.logoImage.previewUrl},getAskDescription:function(e,t){var n,i;return(null===(i=null===(n=t.checkoutData)||void 0===n?void 0:n.ask)||void 0===i?void 0:i.show)?t.checkoutData.ask.text:e.ask.text},getAskMainImageURL:function(e,t){const n=ct(t);return(t?e.ask.mainImage.previewUrlRetina:e.ask.mainImage.previewUrl)||n},getCompanyImageURL:function(e,t){if(!e.logoUuid)return null;const n=t?"x100":"x50";return`https://ucarecdn.com/${e.logoUuid}/-/resize/${n}/-/format/auto/`}};!function(e){e.RELATIVE="relative",e.ABSOLUTE="absolute"}(lt||(lt={})),function(e){e.TWO_WEEKS="2weeks",e.ONE_MONTH="1month",e.THREE_MONTHS="3months"}(ut||(ut={})),function(e){e.ASC="asc",e.DESC="desc"}(dt||(dt={})),function(e){e.WITHOUT="without",e.SELECT="select"}(ht||(ht={})),function(e){e.ENABLED="enabled",e.DISABLED="disabled"}(mt||(mt={})),function(e){e.ACTIVE="active",e.DISABLED="disabled",e.AUTO_ARCHIVE="autoArchive"}(pt||(pt={})),function(e){e.FULL_NAME="fullName",e.FIRST_NAME_LAST_INITIALS="firstNameLastInitials",e.FIRST_NAME="firstName",e.NONE="none"}(gt||(gt={})),function(e){e.SPECIFIED="specified",e.DETECTED="detected",e.ACTUAL="actual"}(yt||(yt={})),function(e){e.ROUNDED="rounded",e.SHARP="sharp",e.PILL="pill"}(ft||(ft={}));const Ct=(Me()({"2:1":1.5,"1:1":2,"1:2":3,"1:3":4,"1:4":5,"1:5":6,"1:6":7,"1:7":8,"1:8":9,"1:9":10,"1:10":11}),{ask:{logoImage:null,mainImage:null,text:"",title:"",links:[]},sharing:{twitter:!1,facebook:!1,linkedin:!1,copyLink:!1},goal:{hasGoal:!1,amount:0,endDate:null,raisedAmount:0,donorsCount:0},donorImpact:{show:!1,donorNameType:gt.NONE,showDonorComment:!1,showDonationAmount:!1,showDonationDate:!1,showDonorLocation:!1,currencyShowType:yt.ACTUAL,currency:""},rateMatching:{show:!1,rate:0,sponsor:null,minAmount:0,endDate:null},thankYouScreen:{type:h.Tl.THANK_YOU_SCREEN,redirect:{url:null,includeSupporterData:!1},sharing:{link:null,text:null,channels:{twitter:!1,facebook:!1,email:!1,linkedin:!1}}},appearance:{color:"",type:ft.PILL}}),bt=5e3;var Et;!function(e){e.RECURRING="recurring",e.ONE_TIME="one-time",e.ALL="all"}(Et||(Et={}));class At{static overrideWidgetGoalsConfig(e){var t;const n=M(e);return Qe.isOnetimeOnly(e.frequencies)||Qe.isRecurringOnly(e.frequencies)?(this.hasDefaultGoalForAllFrequencies(e.goals)||(n.goals=De()(t=n.goals).call(t,((e,t)=>k()(k()({},e),{repeat:Et.ALL,default:0===t?Et.ALL:null})))),n):n}static hasDefaultGoalForAllFrequencies(e){return E()(e).call(e,(e=>{const t=Re()(e)===Et.ALL,n=e.default===Et.ALL;return t&&n}))}constructor(e,t,n,i,a,r,s,o,c,l,u,d){this.window=l,this._showcase=e.showcase;const h=this.cloneWidget(e.campaign);this._externalConfig=this.getExternalConfig(n,h),this._queryParams=st(i),this._infrastructureParams=st(a),this._infrastructureQueryParams=u&&st(u),this._integrations=st(r),this._launcherParams=st(s),this._environmentConfig=st(o),this._campaign=st(k()(k()({},h),{config:_()(h.config,"ask")})),this._cryptoCurrencies=st(e.config.cryptoCurrencies),this._currencies=st(e.config.currencies),this._user=st(e.user),this._aiSuggestions=st(e.aiSuggestions),this._company=this.getResolvedCompany(e.company,t),this._fundraisingPage=e.fundraisingPage?this.getFundraisingPage(e.fundraisingPage,this.campaign.key):void 0,this._splitTest=d&&st(d),this._getAskPageConfig=this.getAskPageConfigGetter(h,n,this.company),this._checkoutType=c.checkoutType,this._recentDonations=e.campaign.recentDonations?st(e.campaign.recentDonations):null}get allowLegacyTributeLabel(){var e;return Z()(e=["ASCBRLZS","APGYPDRM","AGPUPUKX","AGDVEKDU","ASMXWWKS","AYDKPHBH"]).call(e,this.company.key)}get successPaymentDelayBeforeLeave(){switch(this.checkoutType){case at.MODAL:return 2e3;case at.PAGE:return 0;default:throw new ae(this.checkoutType)}}get campaignPagesSharingEnabled(){return this.campaignPage.sharing.linkedin||this.campaignPage.sharing.facebook||this.campaignPage.sharing.copyLink||this.campaignPage.sharing.twitter}get showDonorImpactSection(){return this.checkoutType===at.PAGE&&this.campaignPage.donorImpact.show&&!!this.recentDonations}get showGoalMeterSection(){var e,t,n;return(null===(t=null===(e=this.campaign.config.campaignPage)||void 0===e?void 0:e.goal)||void 0===t?void 0:t.hasGoal)||!!(null===(n=this.fundraisingPage)||void 0===n?void 0:n.goalAmount)}get recentDonations(){return this._recentDonations}get checkoutType(){return this._checkoutType}get aiSuggestions(){return this._aiSuggestions}get showcase(){return this._showcase}get featureConfig(){return this._company.featureConfig}get parentCompanyConfig(){return this._company.parentCompanyConfig}get fundraisingPage(){return this._fundraisingPage}get splitTest(){return this._splitTest}get defaultFlowType(){var e,t;return(null===(e=this.externalConfig.checkoutIntent)||void 0===e?void 0:e.flowType)?null===(t=this.externalConfig.checkoutIntent)||void 0===t?void 0:t.flowType:this.fundraisingPage&&this.enabledFlows.money?et.MONEY:this.campaign.config.defaultDonationType}get queryParams(){return this._queryParams}get infrastructureQueryParams(){return this._infrastructureQueryParams||{}}get infrastructureParams(){return this._infrastructureParams}get integrations(){return this._integrations}get launcherParams(){return this._launcherParams}get environmentConfig(){return this._environmentConfig}get element(){var e,t,n,i,a,r;return{key:(null===(e=this.externalConfig.launcher)||void 0===e?void 0:e.elementKey)||(null===(t=this.fundraisingPage)||void 0===t?void 0:t.elementKey)||"",type:(null===(n=this.externalConfig.launcher)||void 0===n?void 0:n.elementType)||(null===(i=this.fundraisingPage)||void 0===i?void 0:i.elementType)||it.DIRECT_LINK,reminderKey:(null===(a=this.externalConfig.launcher)||void 0===a?void 0:a.elementReminderKey)||"",locale:null===(r=this.externalConfig.launcher)||void 0===r?void 0:r.elementLocale}}get hasExternalAmount(){var e;return!(!this.queryParams.amount&&"number"!=typeof(null===(e=this.externalConfig.checkoutData)||void 0===e?void 0:e.amount)&&!this.externalConfig.checkoutIntent)}get hasExternalFrequency(){var e,t,n;return!!this.queryParams.recurring||!!(null===(e=this.externalConfig.checkoutData)||void 0===e?void 0:e.recurring)||!!(null===(n=null===(t=this.externalConfig.checkoutIntent)||void 0===t?void 0:t.donation)||void 0===n?void 0:n.frequency)}get campaign(){return this._campaign}get campaignPage(){return this.campaign.config.campaignPage||Ct}get company(){return this._company}get user(){return this._user}get cryptoCurrencies(){return this._cryptoCurrencies}get currencies(){return this._currencies}get externalConfig(){return this._externalConfig}get mergedCustomFields(){return this.getMergedCustomFields()}get enabledFrequencies(){return Qe.getEnabledFrequencies(this.campaign.config.frequencies)}get defaultAmounts(){var e;const t=this.campaign.config.frequencies,n={};return v()(e=this.frequencies).call(e,(e=>{n[e]=t[e].defaultAmount})),n}get defaultAmountOptions(){var e;const t=this.campaign.config.frequencies,n={};return v()(e=this.frequencies).call(e,(e=>{n[e]=t[e].amountOptions})),n}get enabledFlows(){return{[et.MONEY]:this.campaign.config.donationTypes.money.enabled,[et.CRYPTO]:this.campaign.config.donationTypes.crypto.enabled&&!!this.company.cryptoProvider,[et.STOCK]:this.campaign.config.donationTypes.stock.enabled&&!!this.company.stockProvider}}get preselectDesignation(){var e;return!Z()(e=Me()(Je)).call(e,this.campaign.key)}get isIOSFirefox(){return function(e){var t,n,i;return"string"==typeof(null===(t=e.navigator)||void 0===t?void 0:t.userAgent)&&!!(null===(i=null===(n=e.navigator)||void 0===n?void 0:n.userAgent)||void 0===i?void 0:i.match("FxiOS"))}(this.window)}getAskPageConfig(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._getAskPageConfig(e)}get frequencies(){const e=this.campaign.config.frequencies,t=[];for(const n of ne()(e))t.push(n);return t}get livemodeType(){return this.infrastructureParams.livemode?tt.LIVE:tt.TEST}getMergedCustomFields(){var e,t,n,i,a,r,s,o;const c=this.getCustomFieldsHash(this.campaign.customFields||[]),l=this.getCustomFieldsHash((null===(a=null===(i=null===(n=this.externalConfig.checkoutData)||void 0===n?void 0:n.intent)||void 0===i?void 0:i.checkoutSettings)||void 0===a?void 0:a.customFields)||[]),u=this.getCustomFieldsHash((null===(r=this.externalConfig.launcher)||void 0===r?void 0:r.customFields)||[]);let d=this.launcherParams;void 0!==(null===(s=this.fundraisingPage)||void 0===s?void 0:s.customFields)&&(null===(o=this.fundraisingPage)||void 0===o?void 0:o.customFields.length)>0&&(d=this.getCustomFieldsHash(this.fundraisingPage.customFields));const h=window.location.href,m=(0,ot.O5)(h),p=k()(c,u,d,l,m);return Fe()(e=De()(t=ne()(p)).call(t,(e=>{var t;return{name:e,value:Be()(p[e])?null===(t=p[e])||void 0===t?void 0:t[0]:p[e]}}))).call(e,(e=>e.value))}getFundraisingPage(e,t){if(e&&e.key&&e.openWidget===t)return e}getCustomFieldsHash(e){const t={};return v()(e).call(e,(e=>{e.name&&e.value&&(t[e.name]=e.value)})),t}getResolvedCompany(e,t){const n=qe()(t).call(t,(e=>e.key===this.campaign.company));if(e.key!==this.campaign.company)throw new Error("Invalid resolved company");if(!n)throw new Error("Widget's Company not found");if(n.useParentPaymentAccounts){const e=qe()(t).call(t,(e=>e.key===n.parentKey));if(!e)throw new Error("Widget's Parent Company not found");n.stripeCurrencies=e.stripeCurrencies}return k()(k()(k()({},e),n),{paymentOptions:n.paymentOptions[this.livemodeType]})}cloneWidget(e){const t=At.overrideWidgetGoalsConfig(e.config);return st(k()(k()({},e),{config:t}))}getAskPageConfigGetter(e,t,n){return i=>function(e,t,n,i){let{isRetina:a,checkoutType:r}=i;const s=function(e,t){var n,i;return Boolean(e.ask.show||(null===(i=null===(n=t.checkoutData)||void 0===n?void 0:n.ask)||void 0===i?void 0:i.show))}(e,t),o=n.name,c=function(e){return e===at.MODAL?St:vt}(r),l=c.getAskTitle(e,t),u=c.getAskDescription(e,t),d=c.getLinks(e),h=c.getLogoImageURL(e,a),m=c.getAskMainImageURL(e,a);return{text:u,title:l,companyName:o,links:d,logoImage:h||c.getCompanyImageURL(n,a),fallbackCompanyLogo:c.getCompanyImageURL(n,a),mainImage:m,show:s,showLinks:!!d.length}}(e.config,t,n,{isRetina:i,checkoutType:this.checkoutType})}getExternalConfig(e,t){var n,i;const a=k()(k()({},e),{checkoutData:k()({},_()(e.checkoutData,["ask","designationId"]))}),r=De()(n=t.config.goals).call(n,(e=>e.key));return(null===(i=e.checkoutData)||void 0===i?void 0:i.designationId)&&Z()(r).call(r,e.checkoutData.designationId)?st(k()(k()({},a),{checkoutData:k()(k()({},a.checkoutData),{designationId:e.checkoutData.designationId})})):st(a)}}var Nt,Pt=n(50428),xt=n.n(Pt),kt=n(59222),wt=JSON.parse('{"CY":0.597,"ER":14.319,"LR":0.439,"SO":0.367,"ZM":7.52,"VE":41.572,"TM":2.416,"AL":41.905,"HR":0.457,"GB":0.692,"SD":913.322,"TL":0.401,"CG":305.697,"AZ":0.683,"KE":46.595,"CI":235.862,"SN":241.375,"VN":7320.584,"SV":0.479,"AF":21.476,"LV":0.573,"GT":4.091,"KW":0.188,"ST":16.694,"KG":26.777,"PL":2.122,"GH":4.464,"LT":0.545,"AM":166.739,"GD":1.532,"TJ":2.487,"ET":26.474,"MA":3.78,"PR":0.883,"NZ":1.435,"BN":0.634,"RO":2.098,"BY":0.988,"PA":0.431,"CM":223.664,"CZ":14.033,"GR":0.539,"ML":209.499,"FR":0.726,"PK":65.328,"PE":1.843,"BB":2.305,"TD":238.939,"HU":176.404,"KM":176.794,"BD":32.841,"FJ":0.834,"CN":3.791,"CO":1622.964,"DZ":50.173,"MV":7.304,"MY":1.576,"ES":0.611,"IE":0.753,"EE":0.637,"PY":2759.532,"UY":30.804,"ZA":7.171,"LC":1.935,"VU":140.789,"FI":0.833,"SE":8.981,"LB":949.837,"US":1,"CL":475.645,"AU":1.452,"BZ":1.272,"GY":67.471,"MN":1279.203,"TV":1.523,"DO":24.98,"GQ":226.141,"KN":1.622,"BO":2.612,"NP":37.095,"TW":13.751,"BJ":202.869,"BG":0.864,"MD":7.624,"BT":20.503,"KH":1336.847,"AG":2.036,"HT":90.913,"CV":45.61,"GE":0.963,"BI":1011.198,"BS":0.768,"MU":18.967,"LY":1.156,"MW":459.168,"MX":10.089,"SZ":6.285,"PG":2.744,"DM":1.77,"RU":32.418,"IL":3.582,"SG":0.896,"UG":1373.909,"SK":0.552,"TO":1.868,"AE":2.071,"SR":14.885,"UZ":3049.14,"SA":1.742,"EG":7.393,"IT":0.635,"MG":1290.888,"CA":1.2,"MH":1.059,"MR":11.793,"GM":20.941,"TT":4.385,"SC":6.955,"JP":91.378,"BR":2.654,"TZ":894.827,"AD":0.604,"IR":118010.95,"TG":218.614,"MT":0.564,"KR":765.24,"WS":1.974,"DE":0.752,"NE":241.175,"JM":83.222,"NI":12.716,"GN":4352.156,"BE":0.758,"PT":0.548,"DK":6.481,"PH":19.058,"AT":0.782,"GW":201.323,"NA":7.658,"CR":332.589,"BA":0.717,"MO":4.442,"MZ":27.653,"ME":0.379,"UA":15.389,"IQ":658.651,"AO":297.001,"SL":5194.855,"FM":1.131,"RS":48.126,"EC":0.486,"TR":10.54,"KI":1.214,"KZ":195.433,"IS":155.812,"PW":1.044,"QA":2.616,"CH":1.019,"JO":0.269,"MM":526.745,"TH":11.08,"AW":1.244,"NG":205.494,"BH":0.174,"LA":3617.279,"DJ":95.733,"SB":7.954,"IN":23.365,"SM":0.647,"LU":0.88,"CF":298.324,"BW":5.285,"NO":12.59,"GA":270.74,"ZW":10066.803,"LS":6.784,"SI":0.594,"AR":269.377,"BF":201.05,"YE":491.281,"CD":1132.812,"OM":0.205,"ID":4857.581,"NR":1.584,"RW":395.173,"MK":21.119,"NL":0.789,"TN":1.055,"SS":1016.902,"HN":11.603,"VC":1.418,"LK":55.699,"HK":5.545}'),Dt=n(78765),Tt=n.n(Dt),Ot=n(99794),_t=n.n(Ot),It=n(45835),Rt=n.n(It),Lt=n(62871);class Mt extends class extends class{constructor(e,t){this.rates=e,this.sentry=t}getDigits(e){return this.currencyData[e]?this.currencyData[e].digits:2}getRate(e){return this.rates[e]||1}setData(e,t,n){this._currencyData=e,t&&(this._countriesData=t),n&&(this._pppexData=n)}convertBase(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;var r;if(!Rt()(e)){const e=new Error("amount should be a finite number");return null===(r=this.sentry)||void 0===r||r.captureException(e),console.error(e),0}if(0===e)return 0;if(t===n)return e;const s=this.currencyData[t].type===Lt.x.FIAT,o=this.currencyData[n].type===Lt.x.FIAT,c=this.getDigits(t),l=this.getDigits(n),u=this.calcRate(t,n,s,o);return i&&a&&s&&o&&(e=this.toAiAmount(e,a)),Math.ceil(e/Math.pow(10,c)*u*Math.pow(10,l))}calcRate(e,t,n,i){let a;const r=this.getRate(e),s=this.getRate(t);return a=n&&i?s/r:n&&!i?1/(r*s):!n&&i?r*s:r/s,a}toAiAmount(e,t){const n=this.pppexData[t]||1,i=this.rates[this.getCountryCurrency(t)]||1;return 1===n||1===i?e:e*n/i}getCountryCurrency(e){return this.countriesData[e]?this.countriesData[e][0]:"USD"}get currencyData(){if(!this._currencyData)throw new Error("Currency data was not set");return this._currencyData}get countriesData(){if(!this._countriesData)throw new Error("Countries data was not set");return this._countriesData}get pppexData(){if(!this._pppexData)throw new Error("Pppex data was not set");return this._pppexData}}{getCryptoCurrency(e){const t=this.currencyData[e];if(!t)throw new Error(`Currency ${e} was not found`);if(t.type!==Lt.x.CRYPTO)throw new Error(`Currency ${e} is not a crypto`);return t}getSymbol(e){return this.currencyData[e]?this.currencyData[e].symbol:""}getName(e){return this.currencyData[e]?this.currencyData[e].name:""}getRate(e){return this.rates[e]||1}convert(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;return this.convertBase(e,t,n,i,a)}round(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=Math.ceil(Tt()(e+1))-t,i=5*Math.pow(10,Math.max(n-3,0)+t);return Math.ceil(e/i)*i}toFloatUnformattedStr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const i=this.getDigits(t);return(e/Math.pow(10,i)).toFixed(n)}toFloat(e,t){const n=this.getDigits(t);return e/Math.pow(10,n)}fromFloat(e,t){const n=this.getDigits(t);return Math.round(e*Math.pow(10,n))}ceil(e,t){return this.fromFloat(Math.ceil(this.toFloat(e,t)),t)}getMinAmount(e){return this.convert(70,"USD",e)}toInt(e,t){if(!_t()(e))throw new Error("amount should be a finite number");const n=this.getDigits(t);return e*Math.pow(10,n)}getCurrencyCodesBySource(e){var t;return Fe()(t=ne()(this.currencyData)).call(t,(t=>{var n;return Z()(n=this.currencyData[t].sources).call(n,e)}))}isCrypto(e){return this.currencyData[e].type===Lt.x.CRYPTO}}{constructor(e,t,n){super(t,n),this.currencyDataLoader=e,this.rates=t,this.sentry=n}loadFiat(e){const t=this.currencyDataLoader.loadFiat(e),n=kt,i=wt,a=k()(k()({},t),this._currencyData);this.setData(a,n,i)}loadCrypto(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.currencyDataLoader.loadCrypto(),t=k()(k()({},e),this._currencyData);this.setData(t)}))}convertFeeCurrency(e,t,n,i){const a=Math.abs(i||1);return this.convertBase(e,t,n)*a}}!function(e){e.PREFIX="prefix",e.POSTFIX="postfix"}(Nt||(Nt={}));var jt=n(97006);class Ft extends jt.I{getCryptoCurrencies(){return(0,y.mG)(this,void 0,void 0,(function*(){return(yield Promise.resolve().then(n.t.bind(n,61695,19))).default}))}}function Ut(e){return!!e.campaign.config.donationTypes.crypto.enabled||e.checkoutType===at.PAGE&&e.showDonorImpactSection}var Bt=n(79131),Gt=n.n(Bt),qt=n(52950),Vt=n.n(qt),Kt=n(3675),Ht=n.n(Kt);function Yt(e){return!!e&&function(e){return/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e))}(e)}var Zt=n(23972),zt=n.n(Zt),Wt=n(36004),$t=n.n(Wt),Xt=n(29406),Qt=n.n(Xt),Jt=n(45214),en=n.n(Jt),tn=n(71899),nn=n.n(tn),an=n(36065),rn=n.n(an),sn=n(8717),on=n.n(sn),cn=n(4024);n(7815);class ln{static format(e){var t,n,i,a,r;const s=ln.parseAmount(e.amount);return{firstName:e.firstName?Gt()(t=e.firstName).call(t):null,lastName:e.lastName?Gt()(n=e.lastName).call(n):null,email:ln.parseEmail(e.email),amount:s,currency:e.currency?Gt()(i=e.currency).call(i):null,modifyAmount:e.modifyAmount?"no"!==e.modifyAmount:null,recurring:ln.parseRecurring(e.recurring),designationId:e.designationId||null,modifyDesignation:e.modifyDesignation?"no"!==e.modifyDesignation:null,tributeHonoree:e.tributeHonoree?Gt()(a=e.tributeHonoree).call(a):null,tributeSelected:e.tributeSelected?"yes"===e.tributeSelected:null,successUrl:ln.parseURL(e.successUrl),member:e.member?Gt()(r=e.member).call(r):null,fundraiseupLivemode:e.fundraiseupLivemode?"no"!==e.fundraiseupLivemode:null,embedClientId:ln.parseEmbedClientId(e.clientId),utm:{source:e.utm_source||null,campaign:e.utm_campaign||null,medium:e.utm_medium||null,content:e.utm_content||null,term:e.utm_term||null}}}static parseURL(e){return e&&function(e){let t;try{t=new(zt())(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}(e)?Gt()(e).call(e):null}static parseEmail(e){return e&&Yt(e)?Gt()(e).call(e):null}static parseRecurring(e){const t=Me()(Oe);return Z()(t).call(t,e)?e:null}static parseEmbedClientId(e){return(t=e)&&20===t.length&&!/[^\d]/.test(t)?e:null;var t}static parseAmount(e){if(!e)return null;const t=Vt()(e);return Ht()(t)?null:t>999999?99999900:t>0?t:null}}var un;!function(e){e.COMMENT="comment",e.MAILING_ADDRESS="mailing-address",e.PRIVACY="privacy",e.THANK_YOU="thank-you",e.REMIND_ME="remind-me",e.QUESTIONS="questions"}(un||(un={}));const dn=class{static isFailure(e){return"Failure"===e._tag}static isSuccess(e){return"Success"===e._tag}static fail(e){return{_tag:"Failure",failureResult:e}}static success(e){return{_tag:"Success",successResult:e}}constructor(){throw new Error("Either can not be instantiated")}};var hn,mn,pn,gn=n(10140);function yn(e){var t,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";const a=e=>"string"==typeof e?Gt()(e).call(e):e,r=e=>"string"==typeof e||"number"==typeof e,s=e=>""!==e;return Fe()(t=De()(n=Fe()(e).call(e,r)).call(n,a)).call(t,s).join(i)}class fn extends Error{constructor(e){let{type:t="",code:n="",cause:i="",description:a="",resolution:r=""}=e;super(`Loqate ${t} error: error code: "${n}", cause: "${i}, description: "${a}", resolution: "${r}"`)}}class vn{static formatPredictions(e){return De()(e).call(e,(e=>{let{Id:t,Text:n,Next:i}=e;return{placeId:t,description:n,meta:{shouldFindSubplaces:"Retrieve"!==i}}}))}constructor(e,t,n){this.sentry=e,this.fundraiseupAddressProviderWithLoqate=t,this.requestService=n,this.apiUrl="https://api.addressy.com/CapturePlus/Interactive/Find/v2.10/json3.ws"}getPlaces(e){var t;const{input:n,restrictCountries:i,lastId:a}=e;return this.requestService.get({url:this.apiUrl,withCredentials:!1,headers:{Accept:"application/json"},params:{SearchFor:"Everything",Country:null!==(t=null==i?void 0:i[0])&&void 0!==t?t:"GB",PreferredLanguage:"English",MaxSuggestions:20,MaxResults:100,Key:vn.apiKey,Street:n,SearchTerm:n,LastId:a},rejectOnInvalid:!0}).then((e=>{if(dn.isFailure(e))return this.sentry.captureException(new gn.J6,{extra:{failureResult:e.failureResult},tags:{service:vn.name}}),[];const t=e.successResult,n=t.Items[0];if(1===(i=t.Items).length&&4===ne()(i[0]).length&&"Cause"in i[0]){const e=new fn({type:"autocomplete",code:n.Error,cause:n.Cause,description:n.Description,resolution:n.Resolution});return this.sentry.captureException(e),[]}var i;return vn.formatPredictions(t.Items)})).catch((e=>(this.sentry.captureException(e,{tags:{service:vn.name}}),[])))}shouldFindSubplaces(e){var t;const{place:n}=e;return!!(null===(t=n.meta)||void 0===t?void 0:t.shouldFindSubplaces)}getSubplaces(e){const{input:t,restrictCountries:n,place:i}=e;return this.getPlaces({input:t,restrictCountries:n,lastId:i.placeId})}getDetails(e){const{customData:t,place:n,sessionToken:i}=e;return this.fundraiseupAddressProviderWithLoqate.getDetails({customData:t,place:n,sessionToken:i})}}vn.apiKey="XB23-FH36-GC98-TK65",function(e){e.GOOGLE_PLACES="google-places",e.LOB="lob",e.LOQATE="loqate"}(hn||(hn={})),function(e){e.DELIVERABLE="deliverable",e.UNDELIVERABLE="undeliverable"}(mn||(mn={})),function(e){e[e.STREET=200]="STREET",e[e.APARTMENT=200]="APARTMENT",e[e.CITY=40]="CITY",e[e.STATE=200]="STATE",e[e.ZIP=100]="ZIP"}(pn||(pn={}));class Sn{constructor(e,t,n,i){this.createFundraiseupAddressProvider=e,this.sentry=t,this.requestService=n,this.config=i}getPlaces(e){return(0,y.mG)(this,void 0,void 0,(function*(){const{customData:t,input:n,sessionToken:i,restrictCountries:a}=e,r=this.getProvider({restrictCountries:a});return""===n?[]:r.getPlaces({customData:t,input:n,sessionToken:i,restrictCountries:a})}))}shouldFindSubplaces(e){const{place:t,restrictCountries:n}=e;return this.getProvider({restrictCountries:n}).shouldFindSubplaces({place:t,restrictCountries:n})}getSubplaces(e){const{place:t,input:n,sessionToken:i,restrictCountries:a}=e;return this.getProvider({restrictCountries:a}).getSubplaces({place:t,input:n,sessionToken:i,restrictCountries:a})}getDetails(e){return(0,y.mG)(this,void 0,void 0,(function*(){const{customData:t,place:n,sessionToken:i,restrictCountries:a}=e;return this.getProvider({restrictCountries:a}).getDetails({customData:t,place:n,sessionToken:i})}))}getProvider(e){const{restrictCountries:t}=e;let n;switch(t&&t[0]){case h.C9.UNITED_KINGDOM:case h.C9.IRELAND:{const e=this.createFundraiseupAddressProvider(this.sentry,this.config);e.setForcedProviderType(hn.LOQATE),n=new vn(this.sentry,e,this.requestService);break}default:n=this.createFundraiseupAddressProvider(this.sentry,this.config)}return n}}var Cn,bn=n(32493),En=n(98419);!function(e){e.PREFIX="prefix",e.POSTFIX="postfix"}(Cn||(Cn={}));const An={[z.c0.EN_US]:Cn.PREFIX,[z.c0.EN_GB]:Cn.PREFIX,[z.c0.EN_CA]:Cn.PREFIX,[z.c0.FR_CA]:Cn.POSTFIX,[z.c0.ES]:Cn.POSTFIX,[z.c0.ES_US]:Cn.PREFIX,[z.c0.NL]:Cn.PREFIX,[z.c0.NO]:Cn.PREFIX,[z.c0.DE]:Cn.POSTFIX,[z.c0.FI_FI]:Cn.POSTFIX,[z.c0.FR_FR]:Cn.POSTFIX,[z.c0.SV]:Cn.POSTFIX,[z.c0.IT]:Cn.POSTFIX,[z.c0.PT_PT]:Cn.POSTFIX,[z.c0.PT_BR]:Cn.PREFIX,[z.c0.AR_001]:Cn.PREFIX,[z.c0.ZH_CN]:Cn.PREFIX,[z.c0.ZH_TW]:Cn.PREFIX,[z.c0.JA]:Cn.PREFIX,[z.c0.KO]:Cn.PREFIX,[z.c0.HU]:Cn.POSTFIX,[z.c0.DA]:Cn.POSTFIX,[z.c0.RU_RU]:Cn.POSTFIX};class Nn{constructor(){this._currenciesData=null}setData(e){this._currenciesData=e}formatCurrency(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"full",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"narrowSymbol";const o=this.currenciesData[t];e=(e||0)/Math.pow(10,o.digits);const c=this.buildOptions({amount:e,display:n,currency:t,displayCurrency:s,datum:o,withoutPrefix:i,withoutSuffix:a});return e<0&&0===c.intlOptions.maximumFractionDigits&&(e=0),Nn.castIntl({amount:e,locale:r,options:c,datum:o})}getCurrencyFormat(e){return{decimalSeparator:Intl.NumberFormat(e).format(1.1).replace(/\d/g,""),groupSeparator:Intl.NumberFormat(e).format(1e5).replace(/\d/g,"")}}static castIntl(e){let t,{amount:n,locale:i,options:a,datum:r}=e;try{t=Intl.NumberFormat(i,a.intlOptions).format(n)}catch(e){if(!Nn.isUnsupportedBrowserError(e,a))throw e;a.intlOptions.currencyDisplay=bn.qA,t=Intl.NumberFormat(i,a.intlOptions).format(n)}return r.symbol&&Z()(t).call(t,r.code)&&(t=t.replace(r.code,r.symbol)),a.internalOptions.pushSuffix&&(t+=`${r.code}`),t}formatSymbol(e,t,n){const i=Nn.currencySymbolPosition(n);return i===Cn.PREFIX&&t===Nt.PREFIX||i===Cn.POSTFIX&&t===Nt.POSTFIX?e:""}get currenciesData(){if(!this._currenciesData)throw new Error("Currencies data was not set");return this._currenciesData}buildOptions(e){let{amount:t,display:n,currency:i,datum:a,withoutPrefix:r,withoutSuffix:s,displayCurrency:o="narrowSymbol"}=e;const c=a.type===Lt.x.CRYPTO,l=c?void 0:a.symbol,u={style:l?"currency":"decimal",currency:c?void 0:i,notation:"standard",currencyDisplay:o,minimumFractionDigits:0,maximumFractionDigits:0,numberingSystem:"latn"},d={pushSuffix:!l};switch(n){case"short":{const e=this.shortFormatNotation(t),n=Nn.shortFormatFractionDigits(t);"compact"===e&&(u.minimumFractionDigits=0,u.maximumFractionDigits=n),u.notation=e;break}case"shortlabel":{const e=this.shortFormatNotation(t),n=Nn.shortFormatFractionDigits(t);"compact"===e&&(u.minimumFractionDigits=0,u.maximumFractionDigits=n),u.notation=e,d.pushSuffix=!1;break}case"round":break;case"roundstrict":throw new Error("Used only in non-localized parts, not rewritten at the moment");case"roundlabel":d.pushSuffix=!1;break;case"full":c&&(u.style="decimal",d.pushSuffix=!0),u.maximumFractionDigits=a.digits,u.minimumFractionDigits=c?bn.Rt:a.digits;break;case"fullstrict":c&&(u.style="decimal"),d.pushSuffix=!0,u.maximumFractionDigits=a.digits,u.minimumFractionDigits=c?bn.Rt:a.digits;break;case"floatcents":Math.round(t)!==t?(u.maximumFractionDigits=a.digits,u.minimumFractionDigits=a.digits):(u.maximumFractionDigits=0,u.minimumFractionDigits=0);break;case"trimzeroes":c?(u.maximumFractionDigits=a.digits,u.minimumFractionDigits=0):Math.round(t)!==t?(u.maximumFractionDigits=a.digits,u.minimumFractionDigits=a.digits):(u.maximumFractionDigits=0,u.minimumFractionDigits=0);break;case"fulltrimzeroes":d.pushSuffix=!0,c?(u.maximumFractionDigits=a.digits,u.minimumFractionDigits=0,u.style="decimal"):Math.round(t)!==t?(u.maximumFractionDigits=a.digits,u.minimumFractionDigits=a.digits):(u.maximumFractionDigits=0,u.minimumFractionDigits=0);break;case"scopeFloatCents":throw new Error("Unused, not rewritten at the moment");default:throw new Error(`Unknown display type ${n}`)}return r&&(u.style="decimal"),(s||(0,En.i)(i))&&(d.pushSuffix=!1),{intlOptions:u,internalOptions:d}}shortFormatNotation(e){return Math.abs(e)<1e4?"standard":"compact"}static shortFormatFractionDigits(e){const t=Math.abs(e),n=Nn.calcDivisor(t);let i=Nn.calcDigits(t,n);return t>=Nn.TEN_THOUSAND&&t<Nn.HUNDRED_THOUSAND&&(i=1),t%n==0&&(i=0),i}static calcDivisor(e){let t=1;return e>=Nn.MILLION?t=Nn.TEN_MILLIONS:e>=Nn.TEN_THOUSAND&&(t=Nn.THOUSAND),t}static calcDigits(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=2-Math.ceil(Tt()(e/t));return Math.max(0,n)}static currencySymbolPosition(e){return An[e]}static isUnsupportedBrowserError(e,t){const n="narrowSymbol"===t.intlOptions.currencyDisplay,i=e.toString()===bn.JX;return n&&i}}Nn.THOUSAND=1e3,Nn.TEN_THOUSAND=1e4,Nn.HUNDRED_THOUSAND=1e5,Nn.MILLION=1e6,Nn.TEN_MILLIONS=1e7;class Pn extends Nn{constructor(e){super(),this.currencyDataLoader=e,this.loadFiat()}loadCrypto(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.currencyDataLoader.loadCrypto(),t=k()(k()({},e),this._currenciesData);this.setData(t)}))}loadFiat(){const e=this.currencyDataLoader.loadFiat(),t=k()(k()({},e),this._currenciesData);this.setData(t)}}class xn extends class{constructor(e,t){var n,i,a;this._locale=e,this.commonCurrencyFilter=t,this.formatCurrency=C()(n=t.formatCurrency).call(n,t),this.formatSymbol=C()(i=t.formatSymbol).call(i,t),this.getCurrencyFormat=C()(a=t.getCurrencyFormat).call(a,t)}get locale(){return this._locale}set locale(e){this._locale=e}changeLocale(e){return this.locale=e,this.locale}format(e,t){return this.formatCurrency(e,null==t?void 0:t.currency,null==t?void 0:t.display,null==t?void 0:t.withoutPrefix,null==t?void 0:t.withoutSuffix,this.locale,null==t?void 0:t.displayCurrency)}formatCurrencySymbol(e,t){return this.formatSymbol(e,t,this.locale)}getFormat(){return this.getCurrencyFormat(this.locale)}}{constructor(e,t){super(e,t)}replaceCurrencyFilter(e){this.formatCurrency=e.formatCurrency,this.formatSymbol=e.formatSymbol,this.getCurrencyFormat=e.getCurrencyFormat}}class kn{constructor(e,t){this.field=e,this.storage=t}get(){return this.storage.get(this.field)}set(e,t){this.storage.set(this.field,e,t)}remove(e){this.storage.remove(this.field,e)}}var wn,Dn,Tn=n(26562),On=n.n(Tn),_n=n(32142),In=n.n(_n),Rn=n(21805);function Ln(){const e=[],t=window.location.hostname.split(".");let n=On()(t).call(t,-1).join();for(let i=t.length;i>0;i--)n=On()(t).call(t,-1).join()+"."+n,e.push(n);return e}!function(e){e.SESSION="fundraiseup_session",e.FUNC="fundraiseup_func",e.PERFORMANCE="fundraiseup_stat",e.CONSENT="fundraiseup_consent",e.MARKETING="fundraiseup_mark",e.CID="fundraiseup_cid",e.DEBUG="fundraiseup_debug",e.EXPERIMENTS="fundraiseup_experiments",e.FUN_AB_STORAGE="fundraiseup_ab_test"}(wn||(wn={})),function(e){e.STRING="string",e.OBJECT="object"}(Dn||(Dn={}));const Mn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rn.Z;function n(n){if(o(n))return null;const i=t.get(n);if(!i)return null;if(e===Dn.OBJECT){let e=null;return e=JSON.parse(i),e}return i}function i(n,i,a){o(n)||(e===Dn.OBJECT&&(i=In()(i)),t.set(n,i,a))}function a(e,n){t.remove(e,n)}function r(){const e=Ln();v()(e).call(e,(e=>{a(wn.CID,{domain:e}),a(wn.SESSION,{domain:e}),a(wn.FUNC,{domain:e}),a(wn.PERFORMANCE,{domain:e})}))}function s(){const e=Ln();v()(e).call(e,(e=>{a(wn.SESSION,{domain:e}),a(wn.FUNC,{domain:e}),a(wn.PERFORMANCE,{domain:e})}))}function o(e){return!!window.FUN_DO_NOT_TRACK||!!window.FUN_ONLY_STRICTLY_NECESSARY_COOKIES&&e!==wn.CID}return window.FUN_DO_NOT_TRACK&&r(),window.FUN_ONLY_STRICTLY_NECESSARY_COOKIES&&s(),{get:n,set:i,remove:a}};var jn=n(3619),Fn=n(86606),Un=n(44712);class Bn{constructor(e,t,n,i,a,r,s){this.translationService=e,this.dateFormatter=t,this.currencyFormatter=n,this.numberFormatter=i,this.company=a,this.donateToPayTokens=r,this._locale=Bn.DEFAULT_LOCALE,this.availableLocales=s.availableLocales,this.locale=s.locale,this.company=a,this.donateToPayTokens=r,this.dateFormatter.intl=this}static isLocaleCode(e){return void 0!==e&&Z()(Fn.d).call(Fn.d,e)}get locale(){return this._locale}set locale(e){this.isLocaleAvailable(e)?this._locale=e:this._locale=Bn.DEFAULT_LOCALE}get language(){return this.locale.split("-")[0]}setLocale(e){const t=this.locale;this.locale=e;const n=[this.translationService.changeLocale(this.locale)];return V().all(n).then((()=>this.locale)).catch((e=>(this.locale=t,V().reject(e)))).finally((()=>{this.dateFormatter.changeLocale(this.locale),this.currencyFormatter.changeLocale(this.locale),this.numberFormatter.changeLocale(this.locale)}))}translate(e,t){const n=(0,jn.C3)(this.translationService.translate(e,t));return this.replaceDonateToPay(e,n)}formatDate(e,t){return this.dateFormatter.format(e,t)}formatCurrency(e,t){return this.currencyFormatter.format(e,t)}formatSymbol(e,t){return this.currencyFormatter.formatCurrencySymbol(e,t)}formatNumber(e,t){return this.numberFormatter.format(e,t)}isLocaleAvailable(e){var t;return E()(t=this.availableLocales).call(t,(t=>t===e))}replaceDonateToPay(e,t){var n;if("AFJCHFEK"===this.company&&this.locale===Un.c.EN_US&&Z()(n=this.donateToPayTokens).call(n,e)){const e={donation:"payment",Donation:"Payment",Donate:"Pay",donate:"pay",donating:"paying"};return t.replace(/donation|Donation|Donate|donate|donating/g,(t=>e[t]))}return t}getCurrencyFormat(){return this.currencyFormatter.getFormat()}}Bn.DEFAULT_LOCALE=Un.c.EN_US;const Gn={withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}};class qn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this.baseURL=e,this.request=t}sendRequest(e){const t=k()(k()({},Gn),e);return t.url=this.baseURL+t.url,this.request(t).then((e=>{let{data:t,valid:n}=e;return n?dn.success(t):dn.fail(t)}))}get(e){return this.sendRequest(k()(k()({},e),{method:"GET"}))}post(e){return this.sendRequest(k()(k()({},e),{method:"POST"}))}}function Vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new qn(e,gn.WY)}var Kn=n(65731),Hn=n.n(Kn);class Yn{constructor(e){this.currencyService=e,this.numbers=this.generateNumbers()}beautify(e,t,n){var i,a;const r=Be()(e);let s=De()(i=Hn()(e)).call(i,(e=>this.currencyService.toFloat(e,t)));const o=this.sortAsc(s);s=o.list;const c=o.positions;let l=this.findNearestPosition(s[0],0,this.numbers.length-s.length);if(n){const e=this.currencyService.toFloat(n,t),i=this.numbers[this.numbers.length-1];for(;e&&this.numbers[l]<e&&e<i;)l++}const u=this.getPositionsArray(l,s.length);for(let e=u.length-1;e>0;e--){const t=this.findNearestPosition(s[e],u[e-1]+1,u[e+1]-1);u[e]=t||u[e]}return s=De()(a=this.restoreSort(De()(u).call(u,(e=>this.numbers[e])),c)).call(a,(e=>this.currencyService.fromFloat(e,t))),r?s:s[0]}generateNumbers(){const e=[1,2,3,4,5,6,7,8,9,10,12,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,100,120,130,140,150,160,170,180,190,200,250,300,350,400,450,500,600,650,700,750,800,900],t=[10,12,15,20,25,30,35,40,50,60,70,80,90];for(let n=100;n<1e7;n*=10)v()(t).call(t,(t=>e.push(t*n)));return e}sortAsc(e){var t;let n=0;const i=Ke()(t=De()(e).call(e,(e=>({val:e,pos:n++})))).call(t,((e,t)=>e.val-t.val));return{list:De()(i).call(i,(e=>e.val)),positions:De()(i).call(i,(e=>e.pos))}}restoreSort(e,t){var n,i;let a=0;return De()(n=Ke()(i=De()(t).call(t,(t=>({pos:t,val:e[a++]})))).call(i,((e,t)=>e.pos-t.pos))).call(n,(e=>e.val))}findNearestPosition(e,t,n){if(t=t||0,n=n||this.numbers.length-1,e>=this.numbers[n])return n;for(let i=n;i>t;i--)if(this.numbers[i-1]<=e&&e<=this.numbers[i])return e-this.numbers[i-1]>=this.numbers[i]-e?i:i-1;return 0}getPositionsArray(e,t){const n=[];for(let i=e;i<e+t;i++)n.push(i);return n}}class Zn{constructor(e){this.window=e}subscribeOnUserInteraction(e){const t=function(e,t){let n=!1;return t=>{n||(e(t),n=!0,H()((()=>{n=!1}),1e3))}}(e);return this.window.addEventListener("mousemove",t),this.window.addEventListener("touchstart",e),this.window.addEventListener("keypress",e),()=>{this.window.removeEventListener("mousemove",t),this.window.removeEventListener("touchstart",e),this.window.removeEventListener("keypress",e)}}}let zn;function Wn(){return void 0===zn&&(zn=!1),zn}var $n;!function(e){e.US_BANK_ACCOUNT="us-bank-account",e.US_BANK_ACCOUNT_DONATE_OPTIONS="us-bank-account-donate-options",e.US_BANK_ACCOUNT_CONFIRMATION="us-bank-account-confirmation",e.US_BANK_ACCOUNT_VERIFICATION_GUIDE="us-bank-account-verification-guide",e.AU_BECS="au-becs",e.CLICK_TO_PAY_SPLASH="click-to-pay-splash",e.CREDIT_CARD="credit-card",e.DONATE="donate-form",e.DOUBLE="double",e.GIFT_AID="gift-aid",e.PAYMENT_OPTIONS="payment-method",e.PAYPAL_CONVERSION="paypal-conversion",e.POST_DONATION_UPSELL="post-donation-upsell",e.SEPA="sepa",e.IDEAL="ideal",e.UK_BACS="uk-bacs",e.UK_BACS_CONFIRMATION="uk-bacs-confirmation",e.IDEAL_CONFIRMATION="ideal-confirmation",e.UPSELL="upsell"}($n||($n={}));var Xn,Qn=n(85738),Jn=n.n(Qn),ei=n(23650),ti=n.n(ei);class ni{constructor(e){this.window=e}track(e,t){switch(e){case"checkoutOpen":this.openEvent(e,t);break;case"checkoutClose":this.closeEvent(e,t);break;case"donationComplete":this.donationEvent(e,t)}}openEvent(e,t){const n={event:"FundraiseUp."+e,FundraiseUp:t.data,ecommerce:{}};this.pushEvent(n)}closeEvent(e,t){const n={event:"FundraiseUp."+e,FundraiseUp:t.data,ecommerce:{}};this.pushEvent(n)}donationEvent(e,t){var n,i,a,r,s,o,c,l,u;const d=t.data,h={event:"FundraiseUp."+e,FundraiseUp:d,ecommerce:{transaction_id:null===(n=d.donation)||void 0===n?void 0:n.id,value:null===(i=d.donation)||void 0===i?void 0:i.amount,currency:null===(a=d.donation)||void 0===a?void 0:a.currency,items:[{item_id:t.widget.key,item_name:t.widget.name,index:0,item_brand:"Fundraise Up",item_category:null===(r=d.designation)||void 0===r?void 0:r.name,item_category2:null===(s=d.designation)||void 0===s?void 0:s.id,item_category3:null===(o=d.designation)||void 0===o?void 0:o.code,item_variant:null===(c=d.donation)||void 0===c?void 0:c.frequency,price:null===(l=d.donation)||void 0===l?void 0:l.amount,quantity:1,currency:null===(u=d.donation)||void 0===u?void 0:u.currency}]}};this.pushEvent(h)}pushEvent(e){this.window.dataLayer=this.window.dataLayer||[],this.window.dataLayer.push(e)}}function ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:19;const t=window.crypto||window.msCrypto;let n="";if(t&&"function"==typeof t.getRandomValues){const i=new Uint8Array(e);t.getRandomValues(i);const r=a()([]).call(i);n=De()(r).call(r,(e=>e%10)).join("")}else for(let t=0;t<e;t++)n+=Math.floor(10*Math.random()).toString();return"0"!==n[0]?n:ii(e)}!function(e){e.INITIATE_CHECKOUT="InitiateCheckout",e.PURCHASE="Purchase",e.DONATE="Donate",e.SUBSCRIBE="Subscribe"}(Xn||(Xn={}));const ai="customEvent";class ri{constructor(){this.payload={}}merge(e){const t={};for(const n in e)t[n]=e[n];for(const e in this.payload)t[e]=this.payload[e];this.payload=t,e.eventComment&&this.mergeEventComment(e.eventComment)}validate(){return!(!this.payload.companyKey||8!==this.payload.companyKey.length||!this.payload.clientId||!this.eventType)}toObject(){const e={};for(const t in this.payload)e[t]=this.payload[t];return this.payload.eventComment&&(e.eventComment=In()(this.payload.eventComment)),e.eventType=this.eventType,e}mergeEventComment(e){this.payload.eventComment||(this.payload.eventComment={}),k()(this.payload.eventComment,e)}}class si extends ri{constructor(e){super(),this.eventId=e.options.eventID;const t={eventId:this.eventId,pixels:e.pixels,data:e.parameters};this.payload={pixelEventName:e.eventName,pixelEventData:In()(t)}}get eventType(){return"facebookPixel"}validate(){return!(!this.eventId||!this.payload.pixelEventName||!this.eventType)}}var oi=n(56248),ci=n.n(oi),li=n(86166),ui=n.n(li);class di{constructor(){this.queue=[]}pushEvent(e,t){this.queue.push({eventName:e,eventPayload:t})}[ci()](){var e;return ui()(e=this.queue).call(e)}}class hi{constructor(e){this.observers=[],this.isActive=!0,this._eventsQueue=null,this.isEnabled=e.enabledByDefault,this.window=e.window,this.tracker=e.tracker,this.initializeObservers(),this.initializeFacebookPixelTracking()}donationComplete(e,t){if(!this.isEnabled)return;const n={widget:e,data:t};this.observe("donationComplete",n)}checkoutClose(e,t){if(!this.isEnabled)return;const n={widget:e,data:t};this.observe("checkoutClose",n)}checkoutOpen(e,t){if(!this.isEnabled)return;const n={widget:e,data:t};this.observe("checkoutOpen",n)}observe(e,t){this.isEnabled&&(this.isActive?this.observeEvent(e,t):this.eventsQueue.pushEvent(e,t))}setActive(e){if(this.isActive=e,this.isActive)for(const{eventName:e,eventPayload:t}of this.eventsQueue)this.observeEvent(e,t)}get eventsQueue(){return this._eventsQueue||(this._eventsQueue=new di),this._eventsQueue}observeEvent(e,t){for(const n of this.observers)n.track(e,t)}resolveFacebookPixels(){var e;let t=[];const n=this.window.fbq;if(!n)return t;if("function"==typeof(null==n?void 0:n.getState)){const a=n.getState();var i;if(null===(e=null==a?void 0:a.pixels)||void 0===e?void 0:e.length)return t=De()(i=a.pixels).call(i,(e=>e.id)),t}const a=n.queue;return a.length?(v()(a).call(a,(e=>{const n=e[0],i=e[1];"init"===n&&i&&t.push(i)})),t):t}resolveFacebookEventOptions(e){const t=(null==e?void 0:e.eventID)||`event.${Jn()().toString()}.${ii(7)}`;return k()(k()({},e),{eventID:t})}initializeFacebookPixelTracking(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.overrideFacebookPixelQueuePush(),this.overrideFacebookPixelCallMethod()||e>24||H()((()=>this.initializeFacebookPixelTracking(e+1)),100*e)}overrideFacebookPixelCallMethod(){const e=this.window.fbq;if(!e||!e.callMethod)return!1;if(e.callMethod.overridden)return!0;if(e.queue.length)return!1;const t=e.callMethod,n=this;return e.callMethod=function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];const[r,s,o,c]=n.transformQueuePushArgs(i),l=n.resolveFacebookEventOptions(c);t.call(this,...arguments),"string"==typeof s&&n.trackFacebookEventToClickhouse({eventType:r,eventName:s,parameters:o,options:l,pixels:n.resolveFacebookPixels()})},e.callMethod.overridden=!0,!0}transformQueuePushArgs(e){if((e=Be()(e)?e:ti()(e)).length<4)return e;const t=e[3];return t&&"object"==typeof t?(t.content_ids&&!Be()(t.content_ids)&&(t.content_ids=[t.content_ids]),On()(e).call(e,1,1),e):e}overrideFacebookPixelQueuePush(){const e=this.window.fbq;if(!e||e.callMethod)return;if(e.queue.push.overridden)return;const t=this,n=t.resolveFacebookPixels(),i=e.queue;i.length&&v()(i).call(i,(e=>{const i=(e=t.transformQueuePushArgs(e))[0],a=e[1],r=e[2],s=t.resolveFacebookEventOptions();"init"!==i&&t.trackFacebookEventToClickhouse({eventType:i,eventName:a,parameters:r,options:s,pixels:n})}));const a=e.queue.push;e.queue.push=function(e){const i=a.call(this,e);if(!e)return i;const r=(e=t.transformQueuePushArgs(e))[0],s=e[1],o=e[2],c=e[3],l=t.resolveFacebookEventOptions(c);return"string"!=typeof s||t.trackFacebookEventToClickhouse({eventType:r,eventName:s,parameters:o,options:l,pixels:n}),i},e.queue.push.overridden=!0}trackFacebookEventToClickhouse(e){var t;let{eventType:n,eventName:i,parameters:a,options:r,pixels:s}=e;var o;this.isEnabled&&(Z()(t=Me()(Xn)).call(t,i)&&(Be()(s)&&s.length&&(s=Fe()(s).call(s,(e=>"string"==typeof e)),o=s,s=ti()(new(Ee())(o))),this.tracker.track(new si({eventType:n,eventName:i,parameters:a,options:r,pixels:s}))))}initializeObservers(){this.observers.push(new ni(this.window))}}var mi=n(7035),pi=n.n(mi);class gi{constructor(e){this.isInitialized=!1,this.excluded=!1,this.isActive=!1;const{settings:t,companyKey:n,widgetKey:i,tracker:a,funStorage:r,user:s,parentCompanyKey:o,infrastructureParams:c,sentry:l,distribution:u,allowExperiments:d=!0}=e;this.sentry=l,this.companyKey=n,this.parentCompanyKey=o,this.widgetKey=i,this.tracker=a,this.funStorage=r,this.user=s,this.infrastructureParams=c;const{experimentId:h,name:m,disabledAccounts:p,enabledAccounts:g,enabled:y,enabledWidgets:f}=t;this.name=m,this.experimentId=h,this.disabledAccounts=p,this.enabledAccounts=g,this.enabledWidgets=f,this.disabledWidgets=t.disabledWidgets,this.enabled=y,this.distribution=u;const v=Be()(window.FUN_DISABLED_EXPERIMENTS)?window.FUN_DISABLED_EXPERIMENTS:[];this.globalDisabled=!d||window.FUN_DISABLE_EXPERIMENTS||-1!==nn()(v).call(v,h)}get isExperimentEnabled(){return this.enabled||this.getDebugPanelEnabled()}getDebugPanelEnabled(){var e;const t=this.funStorage.get();return Boolean(t&&(null===(e=t[this.name])||void 0===e?void 0:e.enabled))}get active(){return this.isActive}get variantName(){return this.distribution.currentVariantName}start(e){if(!this.checkDisabled()&&(this.isInitialized=this.init(),this.isInitialized)){this.activate();const e=this.getTags();this.tracker.setEventTags(e)}}getTags(){const e=[this.experimentId,`${this.experimentId}-${this.variantName}`];return this.excluded&&e.push(`${this.experimentId}-exclusion`),e}isVariant(e){return this.variantName===e}setVariant(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.distribution.setVariant(e),this.excluded=t;const n=[this.experimentId];this.tracker.removeEventTags(n);const i=this.getTags();this.tracker.setEventTags(i)}restoreVariant(){this.distribution.previousVariantName&&this.setVariant(this.distribution.previousVariantName,!1)}exposure(){this.isActive&&this.tracker.customTrack({type:"testGroupExposed",data:{experimentId:this.experimentId,variantName:this.variantName}})}init(){var e,t,n,i,a,r,s;const o=this.getDebugPanelVariant();if(o.variant&&o.enabled)return this.setVariant(o.variant),!0;if(o.enabled&&!o.variant&&(this.excluded=!0),null===(e=this.disabledAccounts)||void 0===e?void 0:qe()(e).call(e,(e=>e===this.companyKey)))return!1;const c=null===(t=this.enabledAccounts)||void 0===t?void 0:qe()(t).call(t,(e=>e===this.companyKey));if((null===(n=this.enabledAccounts)||void 0===n?void 0:n.length)&&!c)return!1;const l=null===(i=this.enabledWidgets)||void 0===i?void 0:qe()(i).call(i,(e=>e===this.widgetKey));if((null===(a=this.enabledWidgets)||void 0===a?void 0:a.length)&&!l)return!1;const u=null===(r=this.disabledWidgets)||void 0===r?void 0:qe()(r).call(r,(e=>e===this.widgetKey));return!((null===(s=this.disabledWidgets)||void 0===s?void 0:s.length)&&u||(this.distribution.initCurrentVariantName(),0))}activate(){this.isActive?this.sentry.captureException(`4 ${this.name}`):this.isActive=!0}checkDisabled(){const e=this.getDebugPanelExperimentsSettings();if(e){const t=e[this.name];if(t&&t.enabled)return!1}return!this.enabled||this.globalDisabled}getDebugPanelExperimentsSettings(){const e=this.funStorage.get();return"object"!=typeof e?(this.sentry.captureException("6"),null):e}getDebugPanelVariant(){const e=this.funStorage.get();if(!e)return{enabled:!1};const t=e[this.name];return t&&(null==t?void 0:t.enabled)?{enabled:!0,variant:t.variant}:{enabled:!1}}}var yi=n(10041);const fi={[yi.X.DUMMY_EXPERIMENT]:"33802",[yi.X.UPSELL_CURTAIN_EXPERIMENT]:"43030",[yi.X.CHECKOUT_BUNDLE_EXPERIMENT]:"61172",[yi.X.MOBILE_FIRST_PAGES_EXPERIMENT]:"58523",[yi.X.OPTIMIZATION_OF_DONATION_RETRY_SETTINGS_EXPERIMENT]:"44158",[yi.X.UPSELL_SCREEN_V_3_EXPERIMENT]:"65613",[yi.X.FLOATING_LABELS_CHECKOUT_EXPERIMENT]:"60368",[yi.X.FLOATING_LABELS_CAMPAIGN_PAGES_EXPERIMENT]:"65248",[yi.X.DONOR_PORTAL_TEST_EXPERIMENT]:"68092",[yi.X.CAMPAIGN_PAGE_TEST_EXPERIMENT]:"68383",[yi.X.RADICAL_SCREENS_ORDER_CHANGE_EXPERIMENT]:"60418",[yi.X.UPGRADE_LINKS_PAGE_AI_EXPERIMENT]:"66445",[yi.X.EMBED_TEST_EXPERIMENT]:"65492",[yi.X.UPGRADE_LINKS_IN_INSTALLMENT_EMAILS_AI_EXPERIMENT]:"66469",[yi.X.ML_POST_DONATION_UPSELL_CHECKOUT_EXPERIMENT]:"70084",[yi.X.ML_POST_DONATION_UPSELL_CAMPAIGN_PAGES_EXPERIMENT]:"71732",[yi.X.DEFAULT_AMOUNT_IN_DONATION_FORM_EXPERIMENT]:"72268",[yi.X.MATCH_DONATION_IN_SOCIAL_PROOF_EXPERIMENT]:"59325",[yi.X.CHECKOUT_MODAL_VS_CAMPAIGN_PAGES_EXPERIMENT]:"58415",[yi.X.ML_DEFAULT_AMOUNT_CHECKOUT_EXPERIMENT]:"70533",[yi.X.ML_DEFAULT_AMOUNT_CAMPAIGN_PAGES_EXPERIMENT]:"71829",[yi.X.PAGES_ASK_VIDEO_VS_IMAGE_EXPERIMENT]:"65320",[yi.X.IMPACT_SLIDER_ML_DATA_COLLECTING_EXPERIMENT]:"73899",[yi.X.CHECKOUT_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT]:"73814",[yi.X.CAMPAIGN_PAGES_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT]:"73816",[yi.X.ML_FREQUENCY_DATA_COLLECT_CHECKOUT_EXPERIMENT]:"74766",[yi.X.ML_FREQUENCY_DATA_COLLECT_CAMPAIGN_PAGES_EXPERIMENT]:"74775",[yi.X.LESS_PAYMENT_OPTIONS_EXPERIMENT]:"40193",[yi.X.ONE_TIME_RECEIPT_TO_RECURRING_UPGRADE_EMAIL_EXPERIMENT]:"48625",[yi.X.ML_DONATION_RETRY_SETTINGS_EXPERIMENT]:"71792",[yi.X.ML_SMART_COVERING_FEE_CHECKOUT_EXPERIMENT]:"73882-modal",[yi.X.ML_SMART_COVERING_FEE_CAMPAIGN_PAGES_EXPERIMENT]:"73882-pages"};var vi,Si,Ci,bi,Ei,Ai,Ni,Pi,xi,ki,wi,Di,Ti,Oi,_i,Ii,Ri,Li,Mi,ji,Fi,Ui,Bi,Gi,qi,Vi,Ki,Hi,Yi,Zi,zi,Wi,$i,Xi,Qi,Ji;!function(e){e.BILLING="billing",e.EMBED="embed",e.CAMPAIGN_PAGES="campaignPages",e.DONOR_PORTAL="donorPortal",e.EMAILS="emails"}(vi||(vi={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(Si||(Si={})),function(e){e.CONTROL="control",e.TEST="test"}(Ci||(Ci={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(bi||(bi={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(Ei||(Ei={})),function(e){e.CONTROL="control",e.TEST="test"}(Ai||(Ai={})),function(e){e.CONTROL="control",e.TEST="test"}(Ni||(Ni={})),function(e){e.CONTROL="control",e.TEST="test"}(Pi||(Pi={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(xi||(xi={})),function(e){e.CONTROL="control",e.TEST="test"}(ki||(ki={})),function(e){e.CONTROL="control",e.TEST="test"}(wi||(wi={})),function(e){e.CONTROL="control",e.TEST="test"}(Di||(Di={})),function(e){e.CONTROL="control",e.TEST="test"}(Ti||(Ti={})),function(e){e.CONTROL="control",e.TEST="test"}(Oi||(Oi={})),function(e){e.CONTROL="control",e.TEST="test"}(_i||(_i={})),function(e){e.CONTROL="control",e.TEST="test"}(Ii||(Ii={})),function(e){e.CONTROL="control",e.TEST="test"}(Ri||(Ri={})),function(e){e.CONTROL="control",e.TEST="test"}(Li||(Li={})),function(e){e.CONTROL="control",e.TEST="test"}(Mi||(Mi={})),function(e){e.CONTROL="control",e.TEST="test"}(ji||(ji={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(Fi||(Fi={})),function(e){e.CONTROL="control",e.TEST="test"}(Ui||(Ui={})),function(e){e.CONTROL="control",e.TEST="test"}(Bi||(Bi={})),function(e){e.CONTROL="control",e.TEST="test"}(Gi||(Gi={})),function(e){e.CONTROL="control",e.TEST="test"}(qi||(qi={})),function(e){e.CONTROL="control",e.TEST="test"}(Vi||(Vi={})),function(e){e.CONTROL="control",e.TEST="test"}(Ki||(Ki={})),function(e){e.CONTROL="control",e.TEST="test"}(Hi||(Hi={})),function(e){e.CONTROL="control",e.TEST="test"}(Yi||(Yi={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(Zi||(Zi={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(zi||(zi={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3",e.TEST_4="test-4"}(Wi||(Wi={})),function(e){e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}($i||($i={})),function(e){e.CONTROL="control",e.TEST="test"}(Xi||(Xi={})),function(e){e.CONTROL="control",e.TEST="test"}(Qi||(Qi={})),function(e){e.CONTROL="control",e.TEST="test"}(Ji||(Ji={}));class ea extends gi{constructor(){super(...arguments),this.exposed=!1,this.validFrequencies=[Oe.ONCE,Oe.MONTHLY]}get isTestGroup(){return this.isVariant1TestGroup||this.isVariant2TestGroup}get isVariant1TestGroup(){return this.isActive&&this.isVariant(Zi.TEST_1)}get isVariant2TestGroup(){return this.isActive&&this.isVariant(Zi.TEST_2)}exposure(){this.exposed||(this.exposed=!0,super.exposure())}tryStart(e){var t;this.isActive||e.campaign.config.enableAI&&2===e.enabledFrequencies.length&&pi()(t=e.enabledFrequencies).call(t,(e=>{var t;return Z()(t=this.validFrequencies).call(t,e)}))&&(e.hasExternalFrequency||this.start())}getDefaultFrequency(){if(this.isActive&&this.isTestGroup)return this.isVariant1TestGroup?Oe.ONCE:Oe.MONTHLY}}class ta extends gi{constructor(){super(...arguments),this._openListeners=new(Ee()),this._closeListeners=new(Ee())}get isTestGroup(){return this.active&&!this.isVariant(bi.CONTROL)&&!this.isVariant(bi.TEST_3)}canOpenUpsellCurtain(e){return this.isTestGroup&&e.preDonationUpsellIsEnabled&&!this.isTributeAnnualUpsell(e.tributeIsFilled,e.targetFrequency)}canBeStarted(e){var t;return!!e.preDonationUpsellIsEnabled&&!!Z()(t=ta.INCLUDED_LOCALES).call(t,e.locale)&&e.currentFrequency===Oe.ONCE&&!this.isTributeAnnualUpsell(e.tributeIsFilled,e.targetFrequency)}tryStart(e){this.active||this.canBeStarted(e)&&this.start(e)}openCurtain(){var e;this.trackCurtainOpen(),v()(e=this._openListeners).call(e,(e=>e()))}closeCurtain(){var e;this.trackCurtainClose(),v()(e=this._closeListeners).call(e,(e=>e()))}onCurtainOpen(e){return this._openListeners.add(e),()=>this._openListeners.delete(e)}onCurtainClose(e){return this._closeListeners.add(e),()=>this._closeListeners.delete(e)}onBackDropClose(e){return this._onBackDropCloseListener=e,()=>this._onBackDropCloseListener=void 0}closeCurtainOnBackDrop(){this._onBackDropCloseListener&&this._onBackDropCloseListener()}isTributeAnnualUpsell(e,t){return e&&t===Oe.ANNUAL}trackCurtainOpen(){this.tracker.customTrack({type:"upsellCurtainExperimentOpen"})}trackCurtainClose(){this.tracker.customTrack({type:"upsellCurtainExperimentClose"})}}ta.INCLUDED_LOCALES=[Un.c.EN_US,Un.c.EN_GB,Un.c.EN_CA];class na{constructor(e){this.deviceExperimentsSettings=e}getSuggestions(e){if(this.shouldSortSuggestions)return this.sortSuggestionsBasedOnCompanyExclusions(e)}getAmount(){if(this.shouldHideDefaultAmount)return this.showAmountBasedOnCompanyExclusions()}get shouldSortSuggestions(){return"ascSort"in this.deviceExperimentsSettings}get shouldHideDefaultAmount(){return"hasDefault"in this.deviceExperimentsSettings}sortSuggestionsBasedOnCompanyExclusions(e){return t=[...e],(n=this.deviceExperimentsSettings.ascSort?dt.ASC:dt.DESC)===dt.ASC?Ke()(t).call(t,((e,t)=>e-t)):n===dt.DESC?Ke()(t).call(t,((e,t)=>t-e)):t;var t,n}showAmountBasedOnCompanyExclusions(){if(!this.deviceExperimentsSettings.hasDefault)return null}}class ia{static convertMinAmount(e,t,n,i){let a=Math.max(t,e.convert(70,"USD",n));a=e.convert(a,n,i);const r=e.getDigits(i);return Math.ceil(a/Math.pow(10,r))*Math.pow(10,r)}constructor(e,t,n){var i,a;this.currencyService=t,this.suggestionsService=n,this.forceNullAmountWidgets=["FUNFXDEZPWX"],this.defaultData=k()(k()({},e),{disableCompanyExclusionLogic:{amounts:Boolean(null===(i=e.disableCompanyExclusionLogic)||void 0===i?void 0:i.amounts),suggestions:Boolean(null===(a=e.disableCompanyExclusionLogic)||void 0===a?void 0:a.suggestions)}}),this.currentData={frequency:this.defaultData.frequency,amount:this.defaultData.defaultAmount,minAmount:this.defaultData.minAmount||0,suggestions:this.defaultData.amountOptions,hintsAmounts:this.defaultData.hintsAmounts},this.setupCurrentData()}get amount(){return this.currentData.amount}get minAmount(){return this.currentData.minAmount}get isValidAmount(){return null!==this.currentData.amount&&this.currentData.amount>=this.currentData.minAmount}get suggestions(){return this.currentData.suggestions}get hintsAmounts(){return this.currentData.hintsAmounts||null}get currency(){return this.defaultData.currentCurrency}get currencyDigits(){return this.currencyService.getDigits(this.defaultData.currentCurrency)}setAmount(e){this.currentData.amount=e,this.defaultData.disableAmountAI=!0}setCurrency(e,t){this.defaultData.previousCurrency=this.defaultData.currentCurrency,this.defaultData.currentCurrency=e,this.defaultData.disableAmountAI=!0,this.resetMinAmount(),t||(this.resetAmount(),this.applyNAIAmount(),this.applyRoundAmount()),this.resetSuggestions(),this.applyNAISuggestions(),this.applyRoundSuggestions(),this.resetHints(),this.applyRoundHints(),this.applyCompanyExclusions(),this.applyWidgetExclusions()}get needNAIAmount(){return Boolean(this.defaultData.aiEnabled&&!this.defaultData.showcase&&this.defaultData.trend&&!this.defaultData.disableAmountAI)}get needNAISuggestions(){return Boolean(this.defaultData.aiEnabled&&!this.defaultData.showcase&&this.defaultData.trend)}get suggestionsMultiplier(){return!this.defaultData.isLauncher&&this.defaultData.aiEnabled&&!this.defaultData.disableAmountAI&&this.deviceExperimentsSettings.multiplySuggestions?1.4:1}get deviceExperimentsSettings(){return this.defaultData.experimentsSettings[this.defaultData.isMobile?h.xR.MOBILE:h.xR.DESKTOP]}setupCurrentData(){this.resetMinAmount(),this.resetAmount(),this.applyNAIAmount(),this.applyRoundAmount(),this.resetSuggestions(),this.applyNAISuggestions(),this.applyRoundSuggestions(),this.resetHints(),this.applyRoundHints(),this.applyCompanyExclusions(),this.applyWidgetExclusions()}resetMinAmount(){this.currentData.minAmount=ia.convertMinAmount(this.currencyService,this.defaultData.minAmount||0,this.defaultData.defaultCurrency,this.defaultData.currentCurrency)}resetAmount(){null!==this.currentData.amount&&(this.currentData.amount=this.currencyService.convert(this.currentData.amount,this.defaultData.previousCurrency,this.defaultData.currentCurrency,this.defaultData.aiEnabled&&!this.defaultData.disableAmountAI,this.defaultData.countryCode))}applyNAIAmount(){const e=this.defaultData.trend[this.currentData.frequency];var t,n;if(null!==this.currentData.amount&&this.needNAIAmount){let i=this.currencyService.convert(e,this.defaultData.defaultCurrency,this.defaultData.currentCurrency,!1,this.defaultData.countryCode);((n=this.currentData.amount)-e)/n*100>10&&(i=this.currentData.amount-this.currentData.amount/10),this.currentData.amount=e?i:(t=this.defaultData.xFactor,this.currentData.amount*(1+t/100))}}applyRoundAmount(){null!==this.currentData.amount&&(this.needNAIAmount||this.defaultData.previousCurrency!==this.defaultData.currentCurrency)&&(this.currentData.amount=this.suggestionsService.beautify(this.currentData.amount,this.defaultData.currentCurrency,this.currentData.minAmount))}resetSuggestions(){var e;this.currentData.suggestions=De()(e=this.defaultData.amountOptions).call(e,(e=>this.currencyService.convert(e,this.defaultData.defaultCurrency,this.defaultData.currentCurrency,this.defaultData.aiEnabled,this.defaultData.countryCode)))}applyNAISuggestions(){this.needNAISuggestions&&(this.currentData.suggestions=function(e,t){let n=[e/4,e/3,e/2,e,1.3*e];return 3===t.length&&(n=[e/2,e]),t=Ke()(t).call(t,((e,t)=>e-t)),v()(n).call(n,((e,n)=>{const i=n+1;t[i]<5e4&&(t[i]=t[i]*(1+e/100))})),t=Ke()(t).call(t,((e,t)=>t-e))}(this.defaultData.xFactor,this.currentData.suggestions))}applyRoundSuggestions(){if(this.needNAISuggestions||this.defaultData.currentCurrency!==this.defaultData.defaultCurrency){var e;const t=De()(e=this.currentData.suggestions).call(e,(e=>{const t=e*this.suggestionsMultiplier;return this.defaultData.aiEnabled?Math.max(t,this.currentData.minAmount):t}));this.currentData.suggestions=this.suggestionsService.beautify(t,this.defaultData.currentCurrency,this.currentData.minAmount)}}resetHints(){var e;this.defaultData.hintsAmounts&&(this.currentData.hintsAmounts=De()(e=this.defaultData.hintsAmounts).call(e,(e=>this.currencyService.convert(e,this.defaultData.defaultCurrency,this.defaultData.currentCurrency,!1,this.defaultData.countryCode))))}applyRoundHints(){this.currentData.hintsAmounts&&this.defaultData.currentCurrency!==this.defaultData.defaultCurrency&&(this.currentData.hintsAmounts=this.suggestionsService.beautify(this.currentData.hintsAmounts,this.defaultData.currentCurrency,this.currentData.minAmount))}applyCompanyExclusions(){const e=this.defaultData.disableCompanyExclusionLogic.amounts||this.defaultData.disableCompanyExclusionLogic.suggestions;if(!this.defaultData.aiEnabled&&!e)return;const t=new na(this.deviceExperimentsSettings),n=t.getSuggestions(this.currentData.suggestions);if(n&&!this.defaultData.disableCompanyExclusionLogic.suggestions&&(this.currentData.suggestions=n),this.defaultData.disableAmountAI)return;const i=t.getAmount();null!==i||this.defaultData.disableCompanyExclusionLogic.amounts||(this.currentData.amount=i)}applyWidgetExclusions(){var e;this.defaultData.widgetKey&&Z()(e=this.forceNullAmountWidgets).call(e,this.defaultData.widgetKey)&&(this.currentData.amount=null)}}class aa{static get frequencyOrder(){return Ye}static convertMinAmount(e,t,n,i){let a=Math.max(t,aa.getMinInWidgetCurrency(e,n));a=e.convert(a,n,i);const r=e.getDigits(i);return Math.ceil(a/Math.pow(10,r))*Math.pow(10,r)}static getMinInWidgetCurrency(e,t){return e.convert(70,"USD",t)}constructor(e,t,n,i){var a,r;if(this.exchequerCurrencyService=t,this.currencyService=n,this.suggestionsService=i,this.currentFrequency=Oe.ONCE,this.strategyMap=new($t()),this._enabledFrequencies=[],this.frequencies=ne()(e.frequencies),this._enabledFrequencies=De()(a=Fe()(r=xt()(e.frequencies)).call(r,(e=>{let[,t]=e;return t.enabled}))).call(a,(e=>{let[t]=e;return t})),this.initStrategies(e),e.forceDefaultAmount){const t=this.getCurrentCurrency();this.setCurrency(e.defaultCurrency),this.setAmounts(e.forceDefaultAmount),this.setCurrency(t)}}get enabledFrequencies(){return this._enabledFrequencies}getCurrentFrequency(){return this.currentFrequency}getCurrentAmount(){return this.getStrategy(this.currentFrequency).amount}getCurrentCurrency(){return this.getStrategy(this.currentFrequency).currency}getAllAmounts(){const e={};for(const t of this.frequencies)e[t]=this.getStrategy(t).amount;return e}getAllMinAmounts(){const e={};for(const t of this.frequencies)e[t]=this.getStrategy(t).minAmount;return e}getAllSuggestions(){const e={};for(const t of this.frequencies)e[t]=this.getStrategy(t).suggestions;return e}getAllHintsAmounts(){const e={};for(const t of this.frequencies)e[t]=this.getStrategy(t).hintsAmounts;return e}getGuessedCurrency(){return this.exchequerCurrencyService.guessedCurrency}getGuessedCurrenciesList(){return this.exchequerCurrencyService.guessedCurrenciesList}setFrequency(e){return this.currentFrequency=e,this}setAmount(e){return this.getStrategy(this.currentFrequency).setAmount(e),this}setAmountForFrequency(e,t){return this.getStrategy(t).setAmount(e),this}setAmounts(e){var t;return v()(t=this.strategyMap).call(t,(t=>{t.setAmount(e)})),this}setCurrency(e,t){var n;return v()(n=this.strategyMap).call(n,(n=>{n.setCurrency(e,t)})),this}getHighestFrequency(){if(1===this.enabledFrequencies.length)return this.enabledFrequencies[0];let e=this.enabledFrequencies[0];for(const t of this.enabledFrequencies)aa.frequencyOrder[t]>aa.frequencyOrder[e]&&(e=t);return e}getLowestFrequency(){if(1===this.enabledFrequencies.length)return this.enabledFrequencies[0];let e=this.enabledFrequencies[0];for(const t of this.enabledFrequencies)aa.frequencyOrder[t]<aa.frequencyOrder[e]&&(e=t);return e}getCurrentState(){const e=this.getStrategy(this.currentFrequency);return{frequency:this.currentFrequency,amount:e.amount,minAmount:e.minAmount,isValidAmount:e.isValidAmount,suggestions:e.suggestions,hintsAmounts:e.hintsAmounts,currency:e.currency,currencyDigits:e.currencyDigits,guessedCurrenciesList:this.exchequerCurrencyService.guessedCurrenciesList,guessedCurrency:this.exchequerCurrencyService.guessedCurrency}}getStrategy(e){const t=this.strategyMap.get(e);if(!t)throw new Error(`Strategy for frequency ${e} is not defined`);return t}initStrategies(e){for(const n of this.frequencies){var t;e.frequencies[n].default&&(this.currentFrequency=n);const i=De()(t=He[n]).call(t,((t,i)=>e.frequencies[n].amountOptions[i]||t)),a=e.hintsAmounts&&e.hintsAmounts[n]||null,r=this.shouldDisableAi(n,e);this.strategyMap.set(n,new ia({widgetKey:e.widgetKey,countryCode:e.countryCode,defaultCurrency:e.defaultCurrency,isMobile:e.isMobile,isLauncher:e.isLauncher,showcase:e.showcase,aiEnabled:e.aiEnabled&&!r,disableAmountAI:e.disableAmountAI,trend:e.trend,xFactor:e.xFactor,disableCompanyExclusionLogic:e.disableCompanyExclusionLogic,experimentsSettings:e.experimentsSettings,frequency:n,minAmount:e.frequencies[n].minAmount,defaultAmount:e.frequencies[n].defaultAmount,amountOptions:i,currentCurrency:this.exchequerCurrencyService.defaultCurrentCurrency,previousCurrency:this.exchequerCurrencyService.defaultPreviousCurrency,hintsAmounts:a},this.currencyService,this.suggestionsService))}}shouldDisableAi(e,t){return"FUNGQSSKQKB"===t.widgetKey&&t.isMobile&&e===Oe.ONCE}}function ra(e){var t;return Fe()(t=Me()(e)).call(t,(e=>e.enabled)).length>1}var sa,oa=n(34126);class ca{constructor(e,t,n){this.sentry=e,this.requestService=t,this.config=n,this.baseURL="",this.basePrefix="",(null==n?void 0:n.baseURL)&&(this.baseURL=n.baseURL)}setForcedProviderType(e){this.forcedProviderType=e}getPlaces(e){var t;const{customData:n,input:i,sessionToken:a,restrictCountries:r}=e;return this.requestService.get({url:`${this.baseURL}${this.basePrefix}/autocompleteAddresses`,withCredentials:!0,headers:k()(k()({},null===(t=this.config)||void 0===t?void 0:t.fundraiseupAddressProviderHeaders),{Accept:"application/json"}),params:{customData:oa.stringify(n),input:i,sessionToken:a,restrictCountries:r,forceAddressProviderType:this.forcedProviderType},rejectOnInvalid:!0}).then((e=>dn.isFailure(e)?(this.sentry.captureException(new gn.J6,{extra:{failureResult:e.failureResult},tags:{service:ca.name}}),[]):e.successResult)).catch((e=>(this.sentry.captureException(e,{tags:{service:ca.name}}),[])))}shouldFindSubplaces(){return!1}getSubplaces(){return V().reject(new Error("There is no subplaces in fundraiseup provider"))}getDetails(e){var t;const{customData:n,place:i,sessionToken:a}=e;if(i.address)return V().resolve(i.address);if(!i.placeId)return V().reject(new Error("Nor address field neither placeId field is defined in place object, something gone wrong"));const{placeId:r}=i;return this.requestService.get({url:`${this.baseURL}${this.basePrefix}/detailsAddress`,withCredentials:!0,headers:k()(k()({},null===(t=this.config)||void 0===t?void 0:t.fundraiseupAddressProviderHeaders),{Accept:"application/json"}),params:{customData:oa.stringify(n),placeId:r,sessionToken:a,forceAddressProviderType:this.forcedProviderType},rejectOnInvalid:!0}).then((e=>dn.isFailure(e)?V().reject(new gn.J6):e.successResult))}}class la extends ca{constructor(e,t,n,i){super(e,t,n),this.sentry=e,this.requestService=t,this.config=n,this.checkoutSessionToken=i}getPlaces(e){var t,n;const{customData:i,input:a,sessionToken:r,restrictCountries:s}=e,o=this.checkoutSessionToken||(null==i?void 0:i.token);return o?this.requestService.get({url:`${this.baseURL}/paymentSession/${o}/mailingAddress`,withCredentials:!0,headers:k()(k()({},null===(t=this.config)||void 0===t?void 0:t.fundraiseupAddressProviderHeaders),{Accept:"application/json"}),params:{input:a,sessionToken:r,restrictCountries:s,forceAddressProviderType:this.forcedProviderType,locale:null===(n=this.config)||void 0===n?void 0:n.locale},rejectOnInvalid:!0}).then((e=>dn.isFailure(e)?(this.sentry.captureException(new gn.J6,{extra:{failureResult:e.failureResult},tags:{service:ca.name}}),[]):e.successResult)):V().reject(new Error("Expected the widgetSession token"))}getDetails(e){var t,n;const{customData:i,place:a,sessionToken:r}=e;if(a.address)return V().resolve(a.address);if(!a.placeId)return V().reject(new Error("Nor address field neither placeId field is defined in place object, something gone wrong"));const{placeId:s}=a,o=this.checkoutSessionToken||(null==i?void 0:i.token);return o?this.requestService.get({url:`${this.baseURL}/paymentSession/${o}/mailingAddress/${s}`,withCredentials:!0,headers:k()(k()({},null===(t=this.config)||void 0===t?void 0:t.fundraiseupAddressProviderHeaders),{Accept:"application/json"}),params:{sessionToken:r,forceAddressProviderType:this.forcedProviderType,locale:null===(n=this.config)||void 0===n?void 0:n.locale},rejectOnInvalid:!0}).then((e=>dn.isFailure(e)?V().reject(new gn.J6):e.successResult)):V().reject(new Error("Expected the widgetSession token"))}}class ua{constructor(e,t,n){this.storage=e,this.zipper=t,this.disableNewCookies=n}getData(){const e=this.storage.get(this.key);return e?this.zipper.unzip(e):{}}setData(e,t){const n=this.zipper.zip(e);this.storage.set(this.key,n,t)}removeData(e){this.storage.remove(this.key,e)}}class da extends ua{constructor(){super(...arguments),this.key=wn.SESSION}get available(){return!!this.disableNewCookies||Boolean(this.storage.get(wn.CID))&&Boolean(this.storage.get(this.key))}}class ha extends ua{constructor(){super(...arguments),this.key=wn.FUNC}get available(){if(this.disableNewCookies)return!1;const e=Boolean(this.storage.get(wn.CID));return!e||e&&Boolean(this.storage.get(this.key))}}class ma{constructor(e){this.dictionary=new($t()),this.reverseDictionary=new($t());for(const t in e){if(!Object.prototype.hasOwnProperty.call(e,t))continue;const n=e[t];this.dictionary.set(t,n),this.reverseDictionary.set(n,t)}}zip(e){return this.zipKeys(this.toFlatData(e))}unzip(e){return this.fromFlatData(this.unzipKeys(e))}unzipKeys(e){const t={};for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const i=this.dictionary.get(n);i?t[i]=e[n]:console.error(`The key for the "${n}" field was not found`)}return t}zipKeys(e){const t={};for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const i=this.reverseDictionary.get(n);i?t[i]=e[n]:console.error(`The minification key for the "${n}" field was not found`)}return t}toFlatData(e){const t={};for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const i=e[n];if(pa(i)){t[n]=i;continue}const a=this.toFlatData(i);for(const i in a)Object.prototype.hasOwnProperty.call(e,n)&&(t[n+"."+i]=a[i])}return t}fromFlatData(e){var t;let n={};return v()(t=ne()(e)).call(t,(t=>{const i=e[t],a=t.split("."),r={};let s;v()(a).call(a,((e,t)=>{if(a.length===t+1)return s?void(s[e]=i):void(r[e]=i);const o=e;if(n[o])s=n[o];else{if(s)return s[e]||(s[e]={}),void(s=s[e]);r[e]={},s=r[e]}})),n=k()({},n,r)})),n}}function pa(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e||Be()(e)}class ga{constructor(e,t,n){this.funLegacyStorage=e,this.funFuncStorage=t,this.disableNewCookies=n}get available(){return this.disableNewCookies?this.funLegacyStorage.available:this.funFuncStorage.available}get isFuncStorageInitialized(){const e=this.funFuncStorage.getData();return!!ne()(e).length}getData(){return this.funFuncStorage.available&&this.isFuncStorageInitialized?this.funFuncStorage.getData():this.funLegacyStorage.getData()}initialize(e,t){this.funFuncStorage.setData(e,t)}setData(e,t){this.funFuncStorage.available&&this.funFuncStorage.setData(e,t),this.funLegacyStorage.available&&this.funLegacyStorage.setData(e,t)}removeData(e){this.funFuncStorage.available&&this.funFuncStorage.removeData(e),this.funLegacyStorage.available&&this.funLegacyStorage.removeData(e)}}!function(e){e.SCREEN_CHANGED="screenChanged",e.FLOW_CHANGED="flowChanged",e.DONE="done",e.LOCKED="locked",e.UNLOCKED="unlocked"}(sa||(sa={}));const ya=[et.MONEY,et.STOCK];class fa{constructor(e,t,n,i,a,r,s,o,c,l,u,d,h,m,p,g,y,f,v,S,C,b,E,A,N){this.eventEmitter=e,this.checkoutConfiguration=t,this.intl=n,this.tracker=i,this.debug=a,this.currencyService=r,this.suggestionsService=s,this.targetWindow=o,this.globalWindow=c,this.sentry=l,this.paymentMethods=u,this.stripeLoadingPromise=d,this.applePayStripeLoadingPromise=h,this.userSession=m,this.addressService=p,this.checkoutAPIBridge=g,this._experiments=y,this.flowFactoryMap=f,this.logger=v,this.requestService=S,this.subscriptionPeriodLabelsService=C,this.paymentMethodAvailabilityManagerRepository=b,this.mailingAddressCustomization=E,this.mlCheckoutDefaultParamsService=A,this.params=N,this.currentFlow=null,this._checkoutService=null,this._flowType=null,this._isFlowInitializedOnce=!1}get checkoutService(){if(!this._checkoutService)throw new Error("Checkout service is not defined");return this._checkoutService}get experiments(){if(!this._experiments)throw new Error("Checkout Experiments Controller is not defined");return this._experiments}get flowType(){if(!this._flowType)throw new Error("Flow is not initialized");return this._flowType}get isFlowInitializedOnce(){return this._isFlowInitializedOnce}get questionsScreenPageCount(){return this._checkoutService?this._checkoutService.checkoutUIState.pagesOfQuestionsScreen:null}dispose(){var e,t;null===(e=this._checkoutService)||void 0===e||e.dispose(),null===(t=this.currentFlow)||void 0===t||t.dispose()}setInitialScreen(e){return this.initialScreen=e,this}getCurrentFlow(){if(!this.currentFlow)throw new Error("Start flow first");return this.currentFlow}onScreenChanged(e){return this.eventEmitter.on(sa.SCREEN_CHANGED,e),()=>this.eventEmitter.removeListener(sa.SCREEN_CHANGED,e)}onFlowChanged(e){return this.eventEmitter.on(sa.FLOW_CHANGED,e),()=>this.eventEmitter.removeListener(sa.FLOW_CHANGED,e)}startDefaultFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){yield this.start(this.checkoutConfiguration.defaultFlowType),this.checkoutConfiguration.defaultFlowType===et.MONEY&&this.getCurrentFlow().isCurrentScreenFirst()&&this.getCurrentFlow().getCurrentScreen().name===$n.PAYMENT_OPTIONS&&(yield this.checkoutService.fetchFeeCoveringSuggestion())}))}startFiatFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){yield this.start(et.MONEY),this.getCurrentFlow().isCurrentScreenFirst()&&this.getCurrentFlow().getCurrentScreen().name===$n.PAYMENT_OPTIONS&&(yield this.checkoutService.fetchFeeCoveringSuggestion())}))}startCryptoFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.start(et.CRYPTO)}))}startStockFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.start(et.STOCK)}))}restart(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.start(this.flowType)}))}start(e){var t,n;return(0,y.mG)(this,void 0,void 0,(function*(){yield null===(t=this._checkoutService)||void 0===t?void 0:t.dispose(),null===(n=this.currentFlow)||void 0===n||n.dispose();const{flow:i,checkoutService:a}=yield this.initializeFlow(e,{shouldRestoreFromIntent:this.isFlowInitializedOnce});this.currentFlow=i,this._checkoutService=a,this._flowType=e,this._isFlowInitializedOnce=!0,this.eventEmitter.emit(sa.FLOW_CHANGED,e),yield i.start()}))}canClose(e){var t,n;if(!this.currentFlow)throw new Error("currentFlow is not defined");const i=this.checkoutService.isPaid,a=this.currentFlow.isLocked,r=null===(n=null===(t=this.checkoutConfiguration.company)||void 0===t?void 0:t.abandonedDonations)||void 0===n?void 0:n.enabled;if(a)return!1;if(this.checkoutConfiguration.infrastructureParams.showcase)return!1;if(r&&e.isRemindMeLaterAvailableScreen&&this.currentFlow.tryExit())return!1;if(!i&&(!e.isUnrestrictedExitScreen||e.isMobile&&e.isMobileExitScreen)&&this.currentFlow.tryExit())return!1;if(!r&&!e.isUnrestrictedExitScreen&&!this.currentFlow.isExiting){const e=[this.intl.translate("confirmCloseDialog.question"),this.intl.translate("confirmCloseDialog.instructions")].join("\n\n");return confirm(e)}return!0}shouldNotifyAbandoned(e){var t,n;if(!Z()(ya).call(ya,this.flowType))return!1;if(!this.currentFlow)throw new Error("currentFlow is not defined");if(e)return!1;if(!(null===(n=null===(t=this.checkoutConfiguration.company)||void 0===t?void 0:t.abandonedDonations)||void 0===n?void 0:n.enabled))return!1;const i=this.checkoutService.isPaid,a=this.checkoutService.isPaymentStarted;if(i||a)return!1;if(this.currentFlow.isExiting)return!0;const{remindMeLater:r}=this.checkoutService.getState();return!r.show}canNavigateBackward(e,t){var n;const i=this.checkoutService.checkoutUIState.isCanNotGoBackScreen(e.getCurrentScreen().name),a=e.previousScreenName&&e.previousScreenName===t.getPaymentScreen(e.previousScreenName)&&t.isPaid,r=e.previousScreenName===this.params.screenSet.creditCard&&t.isPaid,s=e.previousScreenName===this.params.screenSet.ukBacs&&t.isPaid,o=e.previousScreenName===this.params.screenSet.paymentOptions&&t.isPaid,c=null===(n=this.currentFlow)||void 0===n?void 0:n.isLocked;return!(i||a||r||s||o||c)}initializeFlow(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){const{flow:n,checkoutService:i}=yield this.createFlow(e);return n.on(sa.SCREEN_CHANGED,(e=>{i.setCanGoBack(this.canNavigateBackward(n,i)),i.shouldFindMandatoryScreen=!1,i.checkoutUIState.setCloseButtonVisibility(n.getCurrentScreen().name,n.getHistoricalScreens()),this.eventEmitter.emit(sa.SCREEN_CHANGED,e)})),n.on(sa.LOCKED,(()=>{i.setCanGoBack(this.canNavigateBackward(n,i))})),n.on(sa.UNLOCKED,(()=>{i.setCanGoBack(this.canNavigateBackward(n,i))})),i.initialize(t),this.tracker.setCurrentScreenDataGetter((()=>({screenName:n.getCurrentScreen().name,screenData:n.getCurrentScreen().getScreenData()}))),this.tracker.setCheckoutTrackerDataGetter((()=>i.getCheckoutTrackerData())),this.tracker.setCheckoutUIStateGetter((()=>i.checkoutUIState)),this.tracker.setDonationType(i.type),{flow:n,checkoutService:i}}))}createFlow(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.loadFlowFactory(e),{formFlow:n,checkoutService:i}=t({checkoutConfiguration:this.checkoutConfiguration,intl:this.intl,tracker:this.tracker,debug:this.debug,currencyService:this.currencyService,suggestionsService:this.suggestionsService,targetWindow:this.targetWindow,globalWindow:this.globalWindow,sentry:this.sentry,paymentMethods:this.paymentMethods,stripeLoadingPromise:this.stripeLoadingPromise,applePayStripeLoadingPromise:this.applePayStripeLoadingPromise,subscriptionPeriodLabelsService:this.subscriptionPeriodLabelsService,userSession:this.userSession,addressService:this.addressService,eventEmitter:this.eventEmitter,checkoutAPIBridge:this.checkoutAPIBridge,experiments:this.experiments,initialScreen:this.initialScreen,logger:this.logger,requestService:this.requestService,paymentMethodAvailabilityManagerRepository:this.paymentMethodAvailabilityManagerRepository,mailingAddressCustomization:this.mailingAddressCustomization,mlCheckoutDefaultParamsService:this.mlCheckoutDefaultParamsService,stripe:{elementsOptions:this.params.stripe.elementsOptions,elementStyles:this.params.stripe.elementStyles,elementClasses:this.params.stripe.elementClasses}});return{flow:n,checkoutService:i}}))}loadFlowFactory(e){return(0,y.mG)(this,void 0,void 0,(function*(){return(0,this.flowFactoryMap[e])()}))}}var va,Sa;!function(e){e.DEFAULT="default",e.POSTAL_CODE_FIRST="postalCodeFirst"}(va||(va={})),function(e){e.DEFAULT="default",e.ALTERNATIVE="alternative"}(Sa||(Sa={}));class Ca{constructor(e){this._config=e}isLayoutPostalCodeFirst(e){return this.findOption(this._config.layout.type,e)===va.POSTAL_CODE_FIRST}isAlternativeLabels(e){return this.findOption(this._config.labels.type,e)===Sa.ALTERNATIVE}isAutocompleteEnabled(e){return!!this.findOption(this._config.autocomplete.enabled,e)}isRegionEnabled(e){return!!this.findOption(this._config.region.enabled,e)}isRegionRequired(e){return!!this.findOption(this._config.region.required,e)}getPredefinedRegions(e){return this.findOption(this._config.region.predefinedRegions,e)}isPostalCodeRequired(e){return!!this.findOption(this._config.postalCode.required,e)}isPostalCodeAutocompleteEnabled(e){return!!this.findOption(this._config.postalCode.autocomplete.enabled,e)}getPostalCodeValidation(e){return this.findOption(this._config.postalCode.validation,e)}findOption(e,t){var n;const i=qe()(e).call(e,(e=>{var n,i;if(!e.countries&&!e.companies)return!0;const a=t.country&&(null===(n=e.countries)||void 0===n?void 0:Z()(n).call(n,t.country)),r=t.company&&(null===(i=e.companies)||void 0===i?void 0:Z()(i).call(i,t.company));return a||r}));return null!==(n=null==i?void 0:i.option)&&void 0!==n?n:null}}const ba={layout:{type:[{option:va.POSTAL_CODE_FIRST,countries:[h.C9.UNITED_KINGDOM]},{option:va.DEFAULT}]},labels:{type:[{option:Sa.ALTERNATIVE,countries:[h.C9.UNITED_KINGDOM,h.C9.IRELAND]},{option:Sa.DEFAULT}]},autocomplete:{enabled:[{option:!1,companies:["AGSTXLKM"]},{option:!0}]},region:{enabled:[{option:!1,countries:[h.C9.UNITED_KINGDOM,h.C9.ISRAEL]},{option:!0}],required:[{option:!1,countries:[h.C9.UNITED_KINGDOM,h.C9.ISRAEL]},{option:!0}],predefinedRegions:[{option:{"US States":[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DC",name:"District of Columbia"},{code:"DE",name:"Delaware"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}],"US Territories":[{code:"AS",name:"American Samoa"},{code:"GU",name:"Guam"},{code:"MH",name:"Marshall Islands"},{code:"FM",name:"Micronesia"},{code:"MP",name:"Northern Mariana Islands"},{code:"PW",name:"Palau"},{code:"PR",name:"Puerto Rico"},{code:"VI",name:"U.S. Virgin Islands"}],"US Military":[{code:"AA",name:"Armed Forces America"},{code:"AE",name:"Armed Forces"},{code:"AP",name:"Armed Forces Pacific"}]},countries:[h.C9.UNITED_STATES]},{option:[{code:"AB",name:"Alberta"},{code:"BC",name:"British Columbia"},{code:"MB",name:"Manitoba"},{code:"NB",name:"New Brunswick"},{code:"NL",name:"Newfoundland and Labrador"},{code:"NS",name:"Nova Scotia"},{code:"NT",name:"Northwest Territories"},{code:"NU",name:"Nunavut"},{code:"ON",name:"Ontario"},{code:"PE",name:"Prince Edward Island"},{code:"QC",name:"Qubec"},{code:"SK",name:"Saskatchewan"},{code:"YT",name:"Yukon"}],countries:[h.C9.CANADA]},{option:[{code:"Carlow",name:"Carlow"},{code:"Cavan",name:"Cavan"},{code:"Clare",name:"Clare"},{code:"Cork",name:"Cork"},{code:"Donegal",name:"Donegal"},{code:"Dublin",name:"Dublin"},{code:"Galway",name:"Galway"},{code:"Kerry",name:"Kerry"},{code:"Kildare",name:"Kildare"},{code:"Kilkenny",name:"Kilkenny"},{code:"Laois",name:"Laois"},{code:"Leitrim",name:"Leitrim"},{code:"Limerick",name:"Limerick"},{code:"Longford",name:"Longford"},{code:"Louth",name:"Louth"},{code:"Mayo",name:"Mayo"},{code:"Meath",name:"Meath"},{code:"Monaghan",name:"Monaghan"},{code:"Offaly",name:"Offaly"},{code:"Roscommon",name:"Roscommon"},{code:"Sligo",name:"Sligo"},{code:"Tipperary",name:"Tipperary"},{code:"Waterford",name:"Waterford"},{code:"Westmeath",name:"Westmeath"},{code:"Wexford",name:"Wexford"},{code:"Wicklow",name:"Wicklow"},{code:"Dublin 1",name:"Dublin 1"},{code:"Dublin 2",name:"Dublin 2"},{code:"Dublin 3",name:"Dublin 3"},{code:"Dublin 4",name:"Dublin 4"},{code:"Dublin 5",name:"Dublin 5"},{code:"Dublin 6",name:"Dublin 6"},{code:"Dublin 6W",name:"Dublin 6W"},{code:"Dublin 7",name:"Dublin 7"},{code:"Dublin 8",name:"Dublin 8"},{code:"Dublin 9",name:"Dublin 9"},{code:"Dublin 10",name:"Dublin 10"},{code:"Dublin 11",name:"Dublin 11"},{code:"Dublin 12",name:"Dublin 12"},{code:"Dublin 13",name:"Dublin 13"},{code:"Dublin 14",name:"Dublin 14"},{code:"Dublin 15",name:"Dublin 15"},{code:"Dublin 16",name:"Dublin 16"},{code:"Dublin 17",name:"Dublin 17"},{code:"Dublin 18",name:"Dublin 18"},{code:"Dublin 20",name:"Dublin 20"},{code:"Dublin 22",name:"Dublin 22"},{code:"Dublin 24",name:"Dublin 24"}],countries:[h.C9.IRELAND]}]},postalCode:{required:[{option:!1,countries:[h.C9.HONG_KONG]},{option:!0}],autocomplete:{enabled:[{option:!1,countries:[h.C9.IRELAND]},{option:!0}]},validation:[{option:/^\d{5}(-\d{4})?$/,countries:[h.C9.UNITED_STATES]},{option:/^[A-Z]\d[A-Z]\s?\d[A-Z]\d$/i,countries:[h.C9.CANADA]}]}},Ea=n(51297);class Aa{constructor(e,t){this.schema=e,this.config=t}validate(e){return this.schema.validate(e)}allowed(e,t){const n=this.schema.path(e);return!!n&&!n.validate(t,{[e]:t},e)}isRequired(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.schema.path(e);return!!n&&!!n.validate(null,t,e)}getProvider(){return this.config.provider}}class Na{constructor(e,t){this.config=e,this.paymentMethodConfigParser=t,this.managersMap=new($t())}createManager(e,t){const n=this.config[e],i=n[t],a=this.paymentMethodConfigParser.parse(i);return new Aa(a,k()(k()({},i),{name:n.name,provider:n.provider}))}getManager(e,t){const n=e+"_"+t;let i=this.managersMap.get(n);return i||(i=this.createManager(e,t),this.managersMap.set(n,i),i)}}var Pa=n(85448),xa=n.n(Pa),ka=n(64537),wa=n.n(ka),Da=n(84101),Ta=n.n(Da),Oa=n(77485),_a=n.n(Oa),Ia=n(36160),Ra=n.n(Ia),La=n(80524),Ma=n.n(La);const ja=(e,t,n)=>{const i=_a()(t,"ibanCountry");return!Z()(n).call(n,i)||!!e&&!Ra()(e)},Fa=(e,t,n)=>!!Ma()(e)||e>=n.size,Ua=e=>!!Ma()(e)||!!e;var Ba=n(60008),Ga=n(49666),qa=n.n(Ga),Va=n(31734),Ka=n.n(Va);class Ha extends Error{constructor(e,t){super(e),Ya(this,"path",t),Ya(this,"expose",!0),Ya(this,"status",400),Error.captureStackTrace&&Error.captureStackTrace(this,Ha)}}const Ya=(e,t,n)=>{Ka()(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})};var Za={type:(e,t,n)=>("function"==typeof n&&(n=n.name),`${e} must be of type ${n}.`),required:e=>`${e} is required.`,match:(e,t,n)=>`${e} must match ${n}.`,length(e,t,n){if("number"==typeof n)return`${e} must have a length of ${n}.`;const{min:i,max:a}=n;return i&&a?`${e} must have a length between ${i} and ${a}.`:a?`${e} must have a maximum length of ${a}.`:i?`${e} must have a minimum length of ${i}.`:void 0},size(e,t,n){if("number"==typeof n)return`${e} must have a size of ${n}.`;const{min:i,max:a}=n;return void 0!==i&&void 0!==a?`${e} must be between ${i} and ${a}.`:void 0!==a?`${e} must be less than ${a}.`:void 0!==i?`${e} must be greater than ${i}.`:void 0},enum(e,t,n){const i=a()(n).call(n),r=i.pop();return`${e} must be either ${i.join(", ")} or ${r}.`},illegal:e=>`${e} is not allowed.`,default:e=>`Validation failed for ${e}.`},za=n(58149),Wa=n.n(za);function $a(e,t,n){var i;"string"!=typeof e?v()(i=ne()(e)).call(i,(t=>n[t]=e[t])):n[e]=t}function Xa(e,t,n){const i=e.split(/\.\$(?=\.|$)/),a=i.shift(),r=Ba.get(t,a);if(!i.length)return n(a,r);if(Be()(r))for(let e=0;e<r.length;e++)Xa(Ja(e,a)+i.join(".$"),t,n)}function Qa(e,t,n,i){const a=Wa()(e);if("array"!==a){if("object"===a)for(const[a,r]of xt()(e)){const e=Ja(a,n),s=Ja(a,i);t(e,s)&&Qa(r,t,e,s)}}else v()(e).call(e,((e,a)=>Qa(e,t,Ja(a,n),Ja("$",i))))}function Ja(e,t){return t?`${t}.${e}`:e}class er{constructor(e,t){this.name=e,this.registry={},this._schema=t,this._type=null,this.messages={}}message(e){"string"==typeof e&&(e={default:e});const t=xt()(e);for(const[e,n]of t)this.messages[e]=n;return this}schema(e){return this._schema.path(this.name,e),this}use(e){var t;return v()(t=ne()(e)).call(t,(t=>{let n=e[t];Be()(n)||(n=[n]);const i=n.shift();this._register(t,n,i)})),this}required(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._register("required",[e])}type(e){return this._type=e,this._register("type",[e])}string(){return this.type(String)}number(){return this.type(Number)}array(){return this.type(Array)}date(){return this.type(Date)}length(e){return this._register("length",[e])}size(e){return this._register("size",[e])}enum(e){return this._register("enum",[e])}match(e){return this._register("match",[e])}each(e){return this._schema.path(Ja("$",this.name),e),this}elements(e){return v()(e).call(e,((e,t)=>{this._schema.path(Ja(t,this.name),e)})),this}properties(e){for(const[t,n]of xt()(e))this._schema.path(Ja(t,this.name),n);return this}path(){return this._schema.path(...arguments)}typecast(e){const t=this._schema;let n=this._type;if(!n)return e;"function"==typeof n&&(n=n.name);const i=t.typecasters[n]||t.typecasters[n.toLowerCase()];if("function"!=typeof i)throw new Error(`Typecasting failed: No typecaster defined for ${n}.`);return i(e)}validate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.name;const i=ne()(this.registry);for(const a of i){const i=this._run(a,e,t,n);if(i)return i}return null}_run(e,t,n,i){if(!this.registry[e])return;const a=this._schema,{args:r,fn:s}=this.registry[e];return(s||a.validators[e])(t,n,...r,i)?void 0:this._error(e,n,r,i)}_register(e,t,n){return this.registry[e]={args:t,fn:n},this}_error(e,t,n,i){const a=this._schema;let r=this.messages[e]||this.messages.default||a.messages[e]||a.messages.default;return"function"==typeof r&&(r=r(i,t,...n)),new Ha(r,i)}}var tr,nr,ir=n(66397),ar=n.n(ir),rr={required:(e,t,n)=>!1===n||null!=e&&""!==e,type:(e,t,n)=>null==e||("function"==typeof n?e.constructor===n:Wa()(e)===n),length(e,t,n){if(null==e)return!0;if("number"==typeof n)return e.length===n;const{min:i,max:a}=n;return!(i&&e.length<i||a&&e.length>a)},size(e,t,n){if(null==e)return!0;if("number"==typeof n)return e===n;const{min:i,max:a}=n;return!(null!=ar()(i)&&e<i||null!=ar()(a)&&e>a)},enum:(e,t,n)=>null==e||Z()(n).call(n,e),match:(e,t,n)=>null==e||n.test(e)};class sr{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.opts=n,this.hooks=[],this.props={},this.messages=k()({},Za),this.validators=k()({},rr),this.typecasters=k()({},qa()),v()(e=ne()(t)).call(e,(e=>this.path(e,t[e])))}path(e,t){const n=e.split("."),i=n.pop(),a=n.join(".");if(a&&this.path(a),"$"===i&&this.path(a).type(Array),t instanceof sr)return t.hook(((t,n)=>this.path(Ja(t,e),n))),this.path(e,t.props);if(t instanceof er)return this.props[e]=t,this.propagate(e,t),t;const r=this.props[e]||new er(e,this);if(this.props[e]=r,this.propagate(e,r),!t)return r;if("string"==typeof t||"function"==typeof t)return r.type(t),r;if(Be()(t))return r.type(Array),1===t.length?r.each(t[0]):r.elements(t),r;const s=ne()(t);let o=!1;for(const e of s)if("function"!=typeof r[e]){r.type(Object),o=!0;break}return v()(s).call(s,(n=>{const i=t[n];if(o)return this.path(Ja(n,e),i);r[n](i)})),r}typecast(e){for(const[t,n]of xt()(this.props))Xa(t,e,((t,i)=>{if(null==i)return;const a=n.typecast(i);a!==i&&Ba.set(e,t,a)}));return this}strip(e){return Qa(e,((t,n)=>!!this.props[n]||(Ba.delete(e,t),!1))),this}enforce(e){const t=[];return Qa(e,((e,n)=>{if(this.props[n])return!0;const i=new Ha(Za.illegal(e),e);return t.push(i),!1})),t}validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=k()(this.opts,t);const n=[];t.typecast&&this.typecast(e),t.strict&&n.push(...this.enforce(e)),!1!==t.strip&&this.strip(e);for(const[t,i]of xt()(this.props))Xa(t,e,((t,a)=>{const r=i.validate(a,e,t);r&&n.push(r)}));return n}assert(e,t){const[n]=this.validate(e,t);if(n)throw n}message(e,t){return $a(e,t,this.messages),this}validator(e,t){return $a(e,t,this.validators),this}typecaster(e,t){return $a(e,t,this.typecasters),this}hook(e){return this.hooks.push(e),this}propagate(e,t){var n;return v()(n=this.hooks).call(n,(n=>n(e,t))),this}}sr.ValidationError=Ha;class or{constructor(e){this.validationMessagesService=e,this.props={},this.customValidations={requiredIfIbanCountry:ja,availableAll:Ua,minAmount:Fa}}parse(e){return xa()(e,((e,t)=>this._parse(t,e))),new sr(this.props,{strip:!1})}_parse(e,t){if("repeat"===e&&wa()(t))return this.props.period={enum:Ta()(t,Oe.ONCE),message:{enum:(e,n)=>this.validationMessagesService.get("period")(e,n,Ta()(t,Oe.ONCE))}},void(this.props[e]={enum:t,message:{enum:(e,n)=>this.validationMessagesService.get("enum")(e,n,t)}});wa()(t)?this.props[e]={enum:t,message:{enum:(e,n)=>this.validationMessagesService.get("enum")(e,n,t)}}:xa()(t,((t,n)=>{n in this.customValidations?this.props[e]={use:{[n]:(e,i)=>this.customValidations[n](e,i,t)},message:{[n]:(e,i)=>this.validationMessagesService.get(n)(e,i,t)}}:this.props[e]={[n]:t,message:{[n]:(e,i)=>this.validationMessagesService.get(n)(e,i,t)}}}))}}(nr=tr||(tr={})).SHORT="short",nr.ADVERB="adverb",nr.NOUN="noun",nr.ADJECTIVE="adjective",tr.SHORT,tr.ADVERB,tr.NOUN;const cr={daily:{short:"day",noun:"day",adverb:"daily",adjective:"daily"},weekly:{short:"w",noun:"week",adverb:"weekly",adjective:"weekly"},biweekly:{short:"2w",noun:"2 weeks",adverb:"biweekly",adjective:"biweekly"},every4weeks:{short:"4w",noun:"4 weeks",adverb:"every 4 weeks",adjective:"4-weekly"},monthly:{short:"mo",noun:"month",adverb:"monthly",adjective:"monthly"},bimonthly:{short:"2mo",noun:"2 months",adverb:"bimonthly",adjective:"bimonthly"},quarterly:{short:"qrt",noun:"quarter",adverb:"quarterly",adjective:"quarterly"},semiannual:{short:"6mo",noun:"6 months",adverb:"semiannually",adjective:"semiannual"},annual:{short:"yr",noun:"year",adverb:"annually",adjective:"annual"}};function lr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tr.ADVERB;const n=cr[e];return n&&n[t]}class ur{constructor(e,t){this.currencyFormatter=e,this.translateServices=t}get(e){var t,n,i,a,r;switch(e){case"enum":return C()(t=this.enum).call(t,this);case"minAmount":return C()(n=this.minAmount).call(n,this);case"required":case"requiredIfIbanCountry":return C()(i=this.required).call(i,this);case"period":return C()(a=this.period).call(a,this);default:return C()(r=this.default).call(r,this)}}enum(e,t,n){return this.translateServices?this.translateServices.intlService.translate("paymentMethodValidationMessages.enum",{enums:n.join(", ")}):`This value must be either ${n.join(", ")}`}period(e,t,n){if(this.translateServices){const e=this.translateServices.subscriptionPeriodLabelsService,t=De()(n).call(n,(t=>e.getLabel(t,tr.ADJECTIVE))).join(", ");return this.translateServices.intlService.translate("paymentMethodValidationMessages.period",{periods:t})}return`The chosen payment method only works with the following frequencies: ${De()(n).call(n,(e=>lr(e,tr.ADJECTIVE))).join(", ")}`}minAmount(e,t,n){if(this.translateServices){const e=this.translateServices.intlService.formatCurrency(n.size,{currency:n.currency});return this.translateServices.intlService.translate("paymentMethodValidationMessages.minAmount",{minAmount:e})}return`This amount must be at least ${this.currencyFormatter.format(n.size,{currency:n.currency})} due to the payment method chosen.`}required(e){return this.translateServices?this.translateServices.intlService.translate("paymentMethodValidationMessages.required"):`${e} is required`}default(e){return this.translateServices?this.translateServices.intlService.translate("paymentMethodValidationMessages.default"):`Validation failed for ${e}`}}class dr{constructor(e){this.intl=e}get all(){return{daily:{short:this.intl.translate("widgetSubscriptionPeriodLabel.daily.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.daily.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.daily.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.daily.adjective")},weekly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.adjective")},biweekly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.adjective")},every4weeks:{short:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.adjective")},monthly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.adjective")},bimonthly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.adjective")},quarterly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.adjective")},semiannual:{short:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.adjective")},annual:{short:this.intl.translate("widgetSubscriptionPeriodLabel.annual.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.annual.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.annual.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.annual.adjective")}}}}class hr{get all(){return cr}}class mr{constructor(e){this.subscriptionPeriodLabelsProvider=e}getLabel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tr.ADVERB;if(!e)return;const n=this.subscriptionPeriodLabelsProvider.all[e];return n&&n[t]}getValueWithLabel(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tr.SHORT;return function(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tr.SHORT,a=arguments.length>3?arguments[3]:void 0;return t?(n=a||lr(t,i),n?`${e}/${n}`:e):e}(e,t,n,this.getLabel(t,n))}}class pr extends ri{constructor(e,t){super(),this.payload={checkoutIsRecurring:e.frequency!==Oe.ONCE?1:0,checkoutCurrency:e.currency,checkoutAmount:e.amount,checkoutPresets:e.amountOptions[e.frequency],elementKey:t.elementKey,elementType:t.elementType,elementReminderKey:t.elementReminderKey}}}class gr extends pr{constructor(e,t,n,i,a){super(e,t),this.merge({checkoutScreen:n,checkoutClickElement:i,clickAHref:null==a?void 0:a.link,clickDOMPath:null==a?void 0:a.path,clickText:null==a?void 0:a.text})}get eventType(){return"checkoutClick"}}class yr extends ri{get eventType(){return"ping"}}var fr;!function(e){e.CHECKOUT="checkout"}(fr||(fr={}));var vr=n(47111),Sr=n.n(vr);function Cr(e,t){if(!e)return;if("test"===t&&e.FUN_SPLIT_TESTING_NAME)return{name:e.FUN_SPLIT_TESTING_NAME,node:e};if("variant"===t&&e.FUN_SPLIT_TESTING_VARIANT_NAME)return{name:e.FUN_SPLIT_TESTING_VARIANT_NAME,node:e};const n=(0,ot.um)(e,`fun-${t}`);if(n)return{name:n,node:e};const i=e.getAttribute("href")||"",a=/#FUN/.test(i),r=/#X/.test(i);if(a||r){const n=(0,ot.Lb)(i);if(n&&n.key&&n[t])return{name:n[t],node:e}}}class br{constructor(e){this.node=e,this.path="",this.purePath=this.createPath(this.node),this.convertPathToString(this.purePath),this.extractDataFromNode(),this.extractSplitTest()}createPath(e){let t=e;const n=[];for(;!(t instanceof HTMLHtmlElement)&&t.parentNode;)n.push(t),t=t.parentNode;return n}convertPathToString(e){var t,n;this.path=Sr()(t=Fe()(n=De()(e).call(e,(e=>{if(e.tagName&&e.nodeName&&"HTML"!==e.tagName){const t=e.classList?a()([]).call(e.classList):[];return e.tagName.toLowerCase()+(t.length?"."+t.join("."):"")}return!1}))).call(n,Boolean)).call(t).join(" ")}extractDataFromNode(){var e;const t=this.findExtractableNode();if(!t)return;const n=t.innerText||t.textContent||t.value;if(this.text=n?Gt()(e=n.replace(/\s+/g," ")).call(e).substr(0,200):void 0,t instanceof HTMLAnchorElement)this.link=t.href;else{let e=t;for(;e;){if(e.href){this.link=e.href;break}e=e.parentNode}}}findExtractableNode(){var e;return qe()(e=this.purePath).call(e,(e=>{var t,n;if(e.nodeType!==Node.ELEMENT_NODE)return!1;const i=e.tagName.toLowerCase();return-1!==nn()(t=["a","button"]).call(t,i)||"input"===i&&-1!==nn()(n=["submit","button"]).call(n,e.type)}))}extractSplitTest(){const e=function(e){if(!function(e){if(!e)return!1;const t=(0,ot.FX)(e,(e=>Boolean(e.FUN_SPLIT_TESTING)));return Boolean(t)}(e))return;const t=function(e){const t=(0,ot.FX)(e,(e=>Boolean(e.FUN_SPLIT_TESTING_NAME||(0,ot.um)(e,"fun-test"))));return Cr(e,"test")||Cr(t,"test")}(e),n=function(e){const t=(0,ot.FX)(e,(e=>Boolean(e.FUN_SPLIT_TESTING_VARIANT_NAME||(0,ot.um)(e,"fun-variant"))));return Cr(e,"variant")||Cr(t,"variant")}(e);return t&&n?{test:t.name,variant:n.name}:void 0}(this.node);e&&(this.test=e.test,this.variant=e.variant)}}const Er=[[0,3,1,7,5,9,8,6,4,2],[7,0,9,2,1,5,4,8,6,3],[4,2,0,6,8,7,1,3,5,9],[1,7,5,0,9,8,3,4,2,6],[6,1,2,3,0,4,5,9,7,8],[3,6,7,4,2,0,9,5,8,1],[5,8,6,9,7,2,0,1,3,4],[8,9,4,5,3,6,2,0,1,7],[9,4,3,8,6,1,7,2,0,5],[2,5,8,1,4,3,6,7,9,0]];class Ar extends pr{constructor(e,t,n){super(e,t),this.merge({customEventType:n.customEventType,customEventData:In()(n.customEventData)})}get eventType(){return ai}}class Nr extends class{constructor(e){this.tags=new(Ee()),this.tracker=e}get companyKey(){return this.tracker.companyKey}get clientId(){return this.tracker.clientId}get livemode(){return this.tracker.livemode}get clientLocale(){return this.tracker.clientLocale}get debug(){return this.tracker.debug}get page(){return this.tracker.page}getTags(){return ti()(this.tags)}customTrack(e){return this.tracker.customTrack(e)}track(e,t){return this.tracker.track(e,t)}ping(e,t){const n=e||new yr;this.tracker.ping(n,t)}initializePointerUsageTracking(){this.tracker.initializePointerUsageTracking()}subscribe(e,t){return this.tracker.subscribe(e,t)}setEventTags(e){v()(e).call(e,(e=>this.tags.add(e)))}removeEventTags(e){var t;v()(t=this.tags).call(t,(t=>{E()(e).call(e,(e=>t.substring(0,e.length)===e))&&this.tags.delete(t)}))}mergeEventTags(e){var t;let n=[];var i;e.payload.eventTags&&(n=a()(i=e.payload.eventTags).call(i)),v()(t=this.tags).call(t,(e=>{-1===nn()(n).call(n,e)&&n.push(e)})),e.payload.eventTags=n}}{constructor(e,t,n,i,r,s,o,c){var l,u,d;super(e),this.tracker=e,this.checkoutConfiguration=t,this.currencyService=n,this.checkoutLocale=i,this.targetWindow=r,this.url=s,this.screenDataFormatter=o,this.checkoutOpenTimestamp=c,this.isTrackingClicks=!1,this.currentScreenDataGetter=null,this.checkoutTrackerDataGetter=null,this.checkoutUIStateGetter=null,this._donationType=null,this.checkoutViewId=`${d=a()(l=ii()).call(l,0,-1)}${function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charAt(n);t=Er[t][i]}return t.toString()}(d)}`,this.clickHandler=C()(u=this.handleClick).call(u,this)}get pageViewId(){var e;return null===(e=this.tracker.page)||void 0===e?void 0:e.pageViewId}initialize(){this.tracker.initializePointerUsageTracking(this.targetWindow),this.trackClicks()}dispose(){this.untrackClicks()}initializePointerUsageTracking(){this.tracker.initializePointerUsageTracking(this.targetWindow)}track(e){this.showcase||(this.addTrackerData(e),this.tracker.track(e,{url:this.url,trackerType:fr.CHECKOUT}))}customTrack(e){if(this.showcase)return;const t=this.checkoutDataSnapshot;if(!t)return;const n={elementKey:this.checkoutConfiguration.element.key,elementReminderKey:this.checkoutConfiguration.element.reminderKey,elementType:this.checkoutConfiguration.element.type};this.track(new Ar(t.payParams,n,{customEventType:e.type,customEventData:e.data}))}ping(e){if(this.showcase)return;const t=e||new yr;this.addTrackerData(t),this.tracker.ping(t,{url:this.url})}trackClicks(){if(this.isTrackingClicks)throw new Error("Already tracking clicks");this.targetWindow.addEventListener("click",this.clickHandler,!0),this.isTrackingClicks=!0}setCurrentScreenDataGetter(e){this.currentScreenDataGetter=e}setCheckoutTrackerDataGetter(e){this.checkoutTrackerDataGetter=e}setCheckoutUIStateGetter(e){this.checkoutUIStateGetter=e}setDonationType(e){this._donationType=e}trackClick(e,t){this.trackClickEvent(t,e)}get showcase(){return this.checkoutConfiguration.infrastructureParams.showcase}get checkoutDataSnapshot(){const e=this.getCheckoutTrackerData();if(!e)return null;const t={[e.donation.frequency]:e.donation.amountOptions||[]};return{payParams:{currency:e.donation.currency,frequency:e.donation.frequency,amount:e.donation.amount||0,amountOptions:t},isTributeActive:e.tribute.isActive}}get donationType(){return this._donationType||this.checkoutConfiguration.defaultFlowType}addTrackerData(e){var t,n;let i,a;e.payload.checkoutCurrency&&(a=this.currencyService.getRate(e.payload.checkoutCurrency)),e.payload.checkoutAmount&&e.payload.checkoutCurrency&&(i=this.currencyService.convert(e.payload.checkoutAmount,e.payload.checkoutCurrency,"USD"));const r=this.getCurrentScreenData();let s,o,c=null;if(r){if(s=r.screenName,c=this.getCheckoutTrackerData(),!c)throw new Error("Checkout tracker data is required");const e=this.getCheckoutUIStateData();if(!e)throw new Error("Checkout UI state data is required");o=In()(this.screenDataFormatter.format(s,r.screenData,c,e,this.checkoutConfiguration))}let l=this.checkoutConfiguration.queryParams.member;l||(l=(null===(t=this.checkoutConfiguration.fundraisingPage)||void 0===t?void 0:t.admin)||"");const u={};this.checkoutConfiguration.queryParams.embedClientId&&(u.embedClientId=this.checkoutConfiguration.queryParams.embedClientId),e.merge({widgetKey:this.checkoutConfiguration.campaign.key,checkoutCompanyKey:this.checkoutConfiguration.campaign.company,checkoutFrequency:null==c?void 0:c.donation.frequency,checkoutLocale:this.checkoutLocale,elementReminderKey:this.checkoutConfiguration.element.reminderKey,elementKey:this.checkoutConfiguration.element.key,elementType:this.checkoutConfiguration.element.type,elementLocale:this.checkoutConfiguration.element.locale,checkoutViewId:this.checkoutViewId,checkoutOpenTime:this.checkoutOpenTimestamp,checkoutLifetime:Jn()()-this.checkoutOpenTimestamp,checkoutScreen:s,checkoutScreenData:o,checkoutInUSDAmount:i,checkoutCurrencyRate:a,checkoutDefaultAmount:(null==c?void 0:c.donation.defaultAmount)||0,splitTestName:this.checkoutConfiguration.splitTest&&this.checkoutConfiguration.splitTest.name||"",splitTestVariant:this.checkoutConfiguration.splitTest&&this.checkoutConfiguration.splitTest.variant||"",elementData:In()(this.checkoutConfiguration.externalConfig.elementTrackingData),fundraisingPageKey:(null===(n=this.checkoutConfiguration.fundraisingPage)||void 0===n?void 0:n.key)||"",fundraisingPageCustomerKey:l,donationType:this.donationType,checkoutType:this.checkoutConfiguration.checkoutType,eventTags:this.getExternalEventTags(),eventComment:u}),this.mergeEventTags(e)}handleClick(e){const t=e.target;if(!t)return;const n=(0,ot.FX)(t,(e=>e&&e.hasAttribute&&e.hasAttribute(Nr.ElementNameDataAttr)));this.trackClickEvent(t,null==n?void 0:n.getAttribute(Nr.ElementNameDataAttr))}trackClickEvent(e,t){var n;const i=this.checkoutDataSnapshot;if(!i)return;const a={elementKey:this.checkoutConfiguration.element.key,elementReminderKey:this.checkoutConfiguration.element.reminderKey,elementType:this.checkoutConfiguration.element.type},r=new br(e),s=(null===(n=this.getCurrentScreenData())||void 0===n?void 0:n.screenName)||"";this.track(new gr(i.payParams,a,s,t||"other",r))}untrackClicks(){this.targetWindow.removeEventListener("click",this.clickHandler),this.isTrackingClicks=!1}getCurrentScreenData(){return this.currentScreenDataGetter?this.currentScreenDataGetter():null}getCheckoutTrackerData(){return this.checkoutTrackerDataGetter?this.checkoutTrackerDataGetter():null}getCheckoutUIStateData(){return this.checkoutUIStateGetter?this.checkoutUIStateGetter():null}getExternalEventTags(){var e;const t=null===(e=this.checkoutConfiguration.externalConfig.queryParams)||void 0===e?void 0:e.eventTags;return t?t.split(","):[]}}Nr.ElementNameDataAttr="data-tracking-element-name";class Pr extends gi{}class xr extends gi{get isTestGroup(){return this.isVariant1TestGroup||this.isVariant2TestGroup}get isVariant1TestGroup(){return this.isActive&&this.isVariant(xi.TEST_1)}get isVariant2TestGroup(){return this.isActive&&this.isVariant(xi.TEST_2)}tryStart(e){var t;Z()(t=xr.INCLUDED_LOCALES).call(t,e.locale)&&(this.isActive||this.start())}}xr.INCLUDED_LOCALES=[z.c0.EN_US,z.c0.EN_GB,z.c0.EN_CA];class kr extends gi{get isTestGroup(){return this.isActive&&this.isVariant(Ti.TEST)}tryStart(e){this.isActive||e.checkoutType===at.MODAL&&e.flowType===et.MONEY&&super.start()}}function wr(e){return function(t){return E()(e).call(e,(e=>e===t))}}var Dr;!function(e){e.CRYPTO_CURRENCY="crypto-currency",e.CRYPTO_WALLET="crypto-wallet"}(Dr||(Dr={}));const Tr=[Dr.CRYPTO_CURRENCY,Dr.CRYPTO_WALLET,un.COMMENT,un.PRIVACY,un.THANK_YOU,un.MAILING_ADDRESS,un.QUESTIONS],Or=[$n.US_BANK_ACCOUNT,$n.US_BANK_ACCOUNT_DONATE_OPTIONS,$n.US_BANK_ACCOUNT_CONFIRMATION,$n.US_BANK_ACCOUNT_VERIFICATION_GUIDE,$n.AU_BECS,$n.CLICK_TO_PAY_SPLASH,$n.CREDIT_CARD,$n.DONATE,$n.DOUBLE,$n.GIFT_AID,$n.PAYMENT_OPTIONS,$n.PAYPAL_CONVERSION,$n.POST_DONATION_UPSELL,$n.SEPA,$n.IDEAL,$n.IDEAL_CONFIRMATION,$n.UK_BACS,$n.UK_BACS_CONFIRMATION,$n.UPSELL,un.QUESTIONS,un.COMMENT,un.MAILING_ADDRESS,un.PRIVACY,un.THANK_YOU,un.REMIND_ME];var _r;!function(e){e.STOCK_BROKERAGE="stock-brokerage",e.STOCK_CO_OWNER="stock-co-owner",e.STOCK_CO_OWNER_SIGNATURE="stock-co-owner-signature",e.STOCK_CONFIRMATION="stock-confirmation",e.STOCK_SECURITIES="stock-securities",e.STOCK_SIGNATURE="stock-signature"}(_r||(_r={}));const Ir=[_r.STOCK_BROKERAGE,_r.STOCK_CO_OWNER,_r.STOCK_CO_OWNER_SIGNATURE,_r.STOCK_CONFIRMATION,_r.STOCK_SECURITIES,_r.STOCK_SIGNATURE,un.COMMENT,un.MAILING_ADDRESS,un.QUESTIONS,un.PRIVACY,un.THANK_YOU,un.REMIND_ME],Rr=wr([...Tr,...Or,...Ir]);class Lr extends class{constructor(e){this._locale=e}get locale(){return this._locale}set locale(e){this._locale=e}changeLocale(e){return this.locale=e,this.locale}set intl(e){this._intl=e}get intl(){if(!this._intl)throw new Error("Intl service is undefined in date formatter");return this._intl}}{format(e){const t={numberingSystem:"latn"};switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:z.nx.SHORT}).type){case z.nx.LONG:t.month="long",t.day="numeric";break;case z.nx.LONG_WITH_YEAR:t.month="long",t.day="numeric",t.year="numeric";break;default:t.month="short",t.day="numeric"}return new Date(e).toLocaleString(this.locale,t)}}var Mr=n(69765),jr=n(70782);class Fr{constructor(e,t){this.baseLocale=e,this.lingui=(0,Mr.E5)({locale:e,messages:{[e]:t||{}},localeData:{[e]:Fr.makeLocaleData(e)}})}static extractLanguageFromLocale(e){const[t]=e.split("-");return t}static makeLocaleData(e){const t=this.extractLanguageFromLocale(e);return{plurals:jr[t]}}get defaultMessages(){return this.lingui._messages[this.baseLocale]}locale(e){if(void 0!==e){const t=Fr.makeLocaleData(e);this.lingui.loadLocaleData(e,t),this.lingui.activate(e)}return this.lingui.locale}t(e,t){const n=this.lingui._(e,t,{formats:{number:{numberingSystem:"latn"}}});return n===e?"":n}extend(e){const t=k()({},this.defaultMessages,e);this.lingui.load(this.locale(),t)}}class Ur{constructor(e,t){this.translationProvider=e,this.translationLoader=t}changeLocale(e){return this.loadTranslation(e).then((t=>{this.translationProvider.locale(e),this.translationProvider.extend(t)}))}translate(e,t){return this.translationProvider.t(e,t)}loadTranslation(e){return this.translationLoader.load(e)}}class Br{constructor(e,t,n){this.locale=e,this.widgetLocalizationConfig=t,this.companyLocalizationConfig=n}getDataLanguage(){var e;const t=(0,jn.dI)(this.locale);return-1!==nn()(e=this.widgetLocalizationConfig.supportedLanguages).call(e,t)?t:(0,jn.dI)(this.widgetLocalizationConfig.defaultLocale)}getUILocale(){var e,t;const n=this.locale,i=this.widgetLocalizationConfig.useCompanyInterfaceLocales,a=-1!==nn()(e=this.companyLocalizationConfig.interfaceLocales).call(e,n),r=-1!==nn()(t=this.widgetLocalizationConfig.supportedLanguages).call(t,(0,jn.dI)(n));return i&&!a||!i&&!r?this.widgetLocalizationConfig.defaultLocale:n}}function Gr(e,t,n,i){return(Number(e)||0).toLocaleString(i||"en-US",{style:"decimal",currency:"USD",minimumFractionDigits:t||0,maximumFractionDigits:n||0,numberingSystem:"latn"})}class qr extends class{constructor(e){this._locale=e}get locale(){return this._locale}set locale(e){this._locale=e}changeLocale(e){return this.locale=e,this.locale}}{constructor(e){super(e),this.formatNumber=Gr}format(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{minimumFractionDigits:0,maximumFractionDigits:0};return this.formatNumber(e,t.minimumFractionDigits,t.maximumFractionDigits,this.locale)}}class Vr extends class{load(e){const t=this.getTranslationFilename(e);return this.loadFile(t)}getTranslationFilename(e){return e.replace("-","_")}}{loadFile(e){return(0,d.mG)(this,void 0,void 0,(function*(){return(yield n(72909)(`./${e}.json`)).default}))}}const Kr=["common.screenAriaLabel","common.paymentNotAuthorizedError","confirmCloseDialog.question","confirmCloseDialog.instructions","paymentLoader.text","sharing.label","sharing.ariaLabel","tributeBadge.tooltipLabel","mailingAddressScreen.onBehalfOfSubtitle","privacyScreen.alert.message","privacyScreen.donateAnonymously.label","privacyScreen.donateAnonymously.helpAriaLabel","privacyScreen.donateAsOrganization.label","privacyScreen.donateAsOrganization.input.helpAriaLabel","privacyScreen.donateAsOrganization.input.tooltipLabel","privacyScreen.donateAsOrganization.input.error.required","privacyScreen.donateAsOrganization.input.error.minLength","thankYouScreen.description.withTribute.fiat.once","thankYouScreen.description.withoutTribute.fiat.once","thankYouScreen.description.withTribute.fiat.recurring","thankYouScreen.description.withoutTribute.fiat.recurring","thankYouScreen.descriptionNew.withTribute.fiat.once","thankYouScreen.descriptionNew.withoutTribute.fiat.once","thankYouScreen.descriptionNew.withoutTribute.fiat.upsell","thankYouScreen.descriptionNew.withTribute.fiat.recurring","thankYouScreen.descriptionNew.withoutTribute.fiat.recurring","thankYouScreen.descriptionNew.withoutTribute.fiat.upsell","thankYouScreen.callToAction.full","thankYouScreen.callToAction.parts.message","thankYouScreen.share.emailSubject","thankYouScreen.makeAnotherTribute.title","thankYouScreen.makeAnotherTribute.button","thankYouScreen.makeAnotherTribute.buttonNew","clickToPayScreen.clickBelow","creditCardScreen.description","creditCardScreen.payButtonLabel.annual","creditCardScreen.payButtonLabel.continue","creditCardScreen.payButtonLabel.once","creditCardScreen.payButtonLabel.daily","creditCardScreen.payButtonLabel.weekly","creditCardScreen.payButtonLabel.biweekly","creditCardScreen.payButtonLabel.every4weeks","creditCardScreen.payButtonLabel.monthly","creditCardScreen.payButtonLabel.bimonthly","creditCardScreen.payButtonLabel.quarterly","creditCardScreen.payButtonLabel.semiannual","donateForm.donationCurrency","donateForm.title","donateForm.frequencyAriaLabel","donateForm.donationCurrency","donateForm.donationAmountControlAriaLabel","donateForm.donationAmountField.label","donateForm.donationAmountField.hint.average","donateForm.donationAmountField.error.required","donateForm.donationAmountField.error.min","donateForm.designation.error.required","donateForm.tribute.label.dedication","donateForm.tribute.tooltipLabel","donateForm.donateButton.once","donateForm.donateButton.daily","donateForm.donateButton.weekly","donateForm.donateButton.biweekly","donateForm.donateButton.every4weeks","donateForm.donateButton.monthly","donateForm.donateButton.bimonthly","donateForm.donateButton.quarterly","donateForm.donateButton.semiannual","donateForm.donateButton.annual","doubleDonationScreen.description.desktop","doubleDonationScreen.description.mobile","doubleDonationScreen.tooltipLabel","doubleDonationScreen.nameMatch","doubleDonationScreen.message","doubleDonationScreen.matchedCompanyBlock.name","doubleDonationScreen.smallDonationAmountExperiment.name","doubleDonationScreen.button.donate.once","doubleDonationScreen.button.donate.recurring","idealScreen.description","idealConfirmationScreen.nextStepOverview","idealConfirmationScreen.returnLabel","paymentMethodScreen.title","paymentMethodScreen.transactionCostsInfo","paymentMethodScreen.donateNow","paymentMethodScreen.applePayDonateButton","paymentMethodScreen.applePayDonateButtonAriaLabel","paymentMethodScreen.paypal.errors.unavailable","paymentMethodScreen.creditCardIsUnavailableInfo.part-1","paymentMethodScreen.creditCardIsUnavailableInfo.part-2","paypalConversionScreen.description","postDonationUpsellScreen.amount.another","postDonationUpsellScreen.title","postDonationUpsellScreen.titleNew","postDonationUpsellScreen.screenTitle","postDonationUpsellScreen.description","postDonationUpsellScreen.error.minAmount","upsellScreen.questionShort","upsellScreen.questionShortEvery4Weeks","upsellScreen.description","upsellScreen.descriptionEvery4Weeks","upsellScreen.button.donate4Weeks","upsellScreen.button.donateMonthly","usBankAccountScreen.locationRestrictions.desktop","usBankAccountScreen.locationRestrictions.mobile","usBankAccountConfirmationScreen.button","usBankAccountGuideScreen.descriptionNew.descriptorCode"];var Hr=n(54615);const Yr={base:{color:"#222832",fontWeight:400,fontFamily:"'IBM Plex Sans', sans-serif",fontSize:"16px",lineHeight:"24px",fontSmoothing:"antialiased",":focus":{color:"#222832"},"::placeholder":{color:"#697484"},":focus::placeholder":{color:"#697484"}},invalid:{color:"#dA2243",":focus":{color:"#dA2243"},"::placeholder":{color:"#697484"},":focus::placeholder":{color:"#697484"}}},Zr={focus:"focused",empty:"empty",invalid:"invalid"},zr={fonts:[{family:"IBM Plex Sans",src:`url(${Hr}) format('woff2')`,weight:"400",style:"normal"}]};var Wr=n(5681),$r=n.n(Wr);const Xr=/#([\da-z_-]{1,25})(\?|&|$)/i,Qr=e=>{var t,n,i;return"string"==typeof(null===(t=e.navigator)||void 0===t?void 0:t.userAgent)&&!!(null===(i=null===(n=e.navigator)||void 0===n?void 0:n.userAgent)||void 0===i?void 0:i.match("CriOS"))},Jr=/^X[\dA-Z]{7}/,es=new RegExp("\\/-\\/(N[\\dA-Z]{7})");var ts,ns;new RegExp(`${es.source}(?!\\/join)`),new RegExp(`${es.source}\\/join`),function(e){e.type="type",e.recurring="recurring",e.amount="amount",e.modifyAmount="modifyAmount",e.designationId="designationId",e.fundraiser="fundraiser",e.modifyDesignation="modifyDesignation",e.firstName="firstName",e.lastName="lastName",e.email="email",e.fundraiseupLivemode="fundraiseupLivemode"}(ts||(ts={})),function(e){e.fundraiser="fundraiser",e.element="element"}(ns||(ns={}));let is=!1;class as{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;this.keysKeeper=e,this._disabled=!1,this.originalQueryStringAndHash="",this.window=t}get disabled(){return this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e)}checkUrl(){if(this.disabled)return;if(!this.window.location.hash)return;if(!this.keysKeeper.exists("WIDGET",this.window.location.hash))return;is=!1;const e=this.keysKeeper.getOriginalWidgetKey(this.window.location.hash),t=this.window.location.href.replace(this.window.location.hash,"#"+e);this.window.history.replaceState("",this.window.document.title,t)}setUrl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.disabled)return;if(!this.keysKeeper.exists("WIDGET",e)&&!this.isModalKey(e))return;const a=this.getQueryString({keyOrHash:e,hrefParams:t,queryString:this.window.location.search,hash:this.window.location.hash,fundraisingPageKey:n}),r=this.cleanHash(this.window.location.hash);this.originalQueryStringAndHash=this.cleanQueryString(a,t,i)+r;const s=this.window.location.origin+this.normalizePathname(this.window.location.pathname)+a+r;this.window.history.replaceState("",this.window.document.title,s),is=!1}back(){Qr(this.window)||this.window.history.go(-2),H()((()=>{const e=(0,ot.O5)(this.window.location.search,!1).form;if(this.keysKeeper.exists("WIDGET",e)||this.isModalKey(e))return is?void this.window.history.back():this.clearUrl()}),150)}clearUrl(){if(this.disabled)return;const e=(0,ot.O5)(this.window.location.search,!1).form;if(!this.keysKeeper.exists("WIDGET",e)&&!this.isModalKey(e))return;const t=this.window.location.origin+this.normalizePathname(this.window.location.pathname)+this.originalQueryStringAndHash;this.window.history.replaceState("",this.window.document.title,t),is=!0}isModalKey(e){const t=[it.P2P_BUTTON,it.P2P_LINK];return E()(t).call(t,(t=>this.keysKeeper.checkElementType(t,e)))}getQueryString(e){var t,n;let{keyOrHash:i,hrefParams:a,hash:r,queryString:s,fundraisingPageKey:o}=e;const c=(0,ot.O5)(a,!0),l={form:i},u=(0,ot.O5)(r,!1),d=(0,ot.O5)(s,!1),h=function(e){const t=Xr.exec(e);return t&&t[1]?t[1]:""}(r)||d.form||"",m=0!==h.length&&h.toLowerCase()!==i.toLowerCase();return o&&(l.fundraiser=o),v()(t=ne()(u)).call(t,(e=>{m&&e in l||(l[e]=u[e])})),v()(n=ne()(d)).call(n,(e=>{m&&e in l||(l[e]=d[e])})),k()(l,c),l.form=i,l.element&&Jr.test(l.element)&&delete l.element,"?"+(0,ot.f0)(l,!1)}cleanHash(e){const t=e.split("&",1)[0];return this.keysKeeper.exists("WIDGET",t)||"#"===t||-1!==nn()(t).call(t,"=")?"":t}cleanQueryString(e,t,n){var i,a;const r=(0,ot.O5)(t,!1),s=(0,ot.O5)(e,!1);var o;delete s.form,v()(i=ne()(ts)).call(i,(e=>delete s[e])),v()(a=ne()(ns)).call(a,(e=>delete s[e])),n||v()(o=ne()(r)).call(o,(e=>delete s[e]));const c=(0,ot.f0)(s,!1);return""===c?"":"?"+c}normalizePathname(e){return $r()(e).call(e,"//")?a()(e).call(e,1):e}}function rs(e){return new(V())((t=>{H()(t,e)}))}class ss{static forKey(e){return new ss(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.key=e,this.params=t,this.customParams=n}toString(){var e,t;const n=Qt()(e=[]).call(e,this.params,this.customParams);return Fe()(t=["#"+this.key,De()(n).call(n,(e=>{let[t,n]=e;return t+"="+encodeURIComponent(n)})).join("&")]).call(t,Boolean).join("&")}addRecurring(e){return e&&this.params.push([ts.recurring,e]),this}addAmount(e){return e&&this.params.push([ts.amount,e.toString()]),this}addModifyAmount(e){return!1!==e&&"no"!==e||this.params.push([ts.modifyAmount,"no"]),this}addModifyDesignation(e){return!1!==e&&"no"!==e||this.params.push([ts.modifyDesignation,"no"]),this}addDesignation(e){return"no"===e?this.params.push(["designation",e]):e&&this.params.push([ts.designationId,e]),this}addFirstName(e){return e&&this.params.push([ts.firstName,e]),this}addLastName(e){return e&&this.params.push([ts.lastName,e]),this}addEmail(e){return e&&this.params.push([ts.email,e]),this}addFundraiseupLivemode(e){return!1!==e&&"no"!==e||this.params.push([ts.fundraiseupLivemode,"no"]),this}addCustomQueryParams(e){if(!e)return this;for(const[t,n]of xt()(e))n&&this.customParams.push([t,n]);return this}}class os extends class{constructor(e){var t;this.window=e,this.navigationHandlers=new(Ee()),this.isLoop=!1,this.historyStateStack=[],this.historyApi=this.window.history,this._handleNavigation=C()(t=this.handleNavigation).call(t,this)}initialize(){var e;this.historyStateStack=[];const t=(null===(e=this.historyApi.state)||void 0===e?void 0:e.state)||this.historyApi.state;return"initial"!==t&&this.setInitialNavigationState(t),this.window.addEventListener("popstate",this._handleNavigation),this}dispose(){this.historyStateStack.length&&(this.historyApi.go(-this.historyStateStack.length),this.historyStateStack=[]),this.window.removeEventListener("popstate",this._handleNavigation)}onNavigation(e){this.navigationHandlers.add(e)}activateLoop(){this.isLoop||(this.isLoop=!0,this.setNavigationState("loop",{replace:!0}))}deactivateLoop(){this.isLoop&&(this.isLoop=!1,this.setNavigationState("initial",{replace:!0}))}callNavigationHandlers(){var e;v()(e=this.navigationHandlers).call(e,(e=>{e()}))}handleNavigationInitialState(){this.historyApi.length>2?this.historyApi.back():this.setNavigationState("initial")}handleNavigation(e){var t;const n=(null===(t=e.state)||void 0===t?void 0:t.state)||e.state,i=null===n||""===n,a="initial"===n;this.historyStateStack.pop(),this.isLoop&&(a||i)&&this.setNavigationState("loop"),this.isLoop||!a&&!i?this.callNavigationHandlers():this.handleNavigationInitialState()}setNavigationState(e,t){(null==t?void 0:t.replace)?this.historyApi.replaceState({state:e},""):(this.historyApi.pushState({state:e},""),this.historyStateStack.push(e))}setInitialNavigationState(e){const t="loop"===e;this.setNavigationState("initial",{replace:t})}}{handleNavigationInitialState(){this.callNavigationHandlers()}}var cs;!function(e){e.CHECKOUT_INTENT="checkoutIntent",e.TRIBUTE_SELECTED="tributeSelected",e.EMAIL_LOG="emailLog"}(cs||(cs={}));class ls{constructor(e,t,n,i,a,r){this.globalWindow=e,this.keysKeeper=t,this.checkoutConfiguration=n,this.queryParams=i,this.launcherParams=a,this.isOpenedFromUrl=r}initialize(){this.setUrl(),this.clearUrl(),this.flowNavigationRouter.initialize()}dispose(){return(0,d.mG)(this,void 0,void 0,(function*(){this.flowNavigationRouter.dispose(),yield rs(150),this.urlRouter.clearUrl()}))}onNavigation(e){this.flowNavigationRouter.onNavigation(e)}activateNavigationLoop(){this.flowNavigationRouter.activateLoop()}deactivateNavigationLoop(){this.flowNavigationRouter.deactivateLoop()}get urlRouter(){return this._urlRouter||(this._urlRouter=new as(this.keysKeeper,this.globalWindow)),this._urlRouter}get flowNavigationRouter(){return this._flowNavigationRouter||(this._flowNavigationRouter=new os(this.globalWindow)),this._flowNavigationRouter}clearUrl(){var e;const t=(0,ot.O5)(this.globalWindow.location.search,!1),n={},i=Me()(cs);v()(e=ne()(t)).call(e,(e=>{Z()(i).call(i,e)||(n[e]=t[e])}));const a=(0,ot.f0)(n,!1),r=`${this.globalWindow.location.origin}${this.globalWindow.location.pathname}${a?`?${a}`:""}`;this.globalWindow.history.replaceState("",this.globalWindow.document.title,r)}setUrl(){var e,t,n;this.urlRouter.disabled=!!this.checkoutConfiguration.showcase;const i=ss.forKey("").addAmount(this.queryParams.amount).addDesignation(this.queryParams.designationId).addModifyDesignation(this.queryParams.modifyDesignation).addRecurring(this.queryParams.recurring).addModifyAmount(this.queryParams.modifyAmount).addFirstName(this.queryParams.firstName).addLastName(this.queryParams.lastName).addEmail(this.queryParams.email).addFundraiseupLivemode(this.queryParams.fundraiseupLivemode).addCustomQueryParams(this.checkoutConfiguration.externalConfig.queryParams);this.urlRouter.checkUrl(),this.urlRouter.setUrl(this.checkoutConfiguration.campaign.customHash||this.checkoutConfiguration.campaign.key,a()(e=i.toString()).call(e,1),null!==(n=null===(t=this.checkoutConfiguration.fundraisingPage)||void 0===t?void 0:t.key)&&void 0!==n?n:"",this.isOpenedFromUrl)}}const us=[$n.CREDIT_CARD,$n.DONATE,$n.DOUBLE,$n.GIFT_AID,$n.PAYMENT_OPTIONS,$n.POST_DONATION_UPSELL,$n.UK_BACS,$n.UPSELL,un.COMMENT,un.MAILING_ADDRESS,un.PRIVACY,un.THANK_YOU,un.REMIND_ME,Dr.CRYPTO_CURRENCY,_r.STOCK_BROKERAGE,_r.STOCK_SECURITIES,_r.STOCK_SIGNATURE,_r.STOCK_CO_OWNER_SIGNATURE,_r.STOCK_CONFIRMATION];class ds{format(e,t,n,i,a){return function(e,t,n,i,a){if(r=e,!E()(us).call(us,(e=>e===r)))return{};var r;switch(e){case $n.DONATE:return function(e,t,n,i){var a,r,s,o,c;return{isFiatEnabled:!0,isCryptoEnabled:e.enabledFlows.crypto,isStockEnabled:e.enabledFlows.stock,frequency:{value:e.donation.frequency,options:[e.leftButtonFrequency,e.rightButtonFrequency],editable:e.donation.canModifyFrequency},amountOptions:{selected:Z()(a=e.donation.amountOptions).call(a,null!==(r=e.donation.amount)&&void 0!==r?r:0),values:e.donation.amountOptions,shown:e.donation.amountOptions.length>0},amount:{filled:!!e.donation.amount,value:null!==(s=e.donation.amount)&&void 0!==s?s:0,editable:e.donation.canModifyAmount},currency:{value:e.donation.currency,editable:e.donation.canSelectCurrency},tribute:{filled:e.tribute.isFilled,type:e.tribute.show?e.tribute.labelType:null,shown:e.tribute.show},comment:{shown:e.comment.isEnabled,filled:!!e.comment.content},goal:{value:e.designation.goalKey,editable:e.designation.isEditable,shown:e.designation.show},askPage:{shown:i.getAskPageConfig().show},fundraisingPage:{shown:Boolean((null===(o=i.fundraisingPage)||void 0===o?void 0:o.key)&&"fundraiser"===n.askPageActiveTab)},hint:t.donation.currentHint&&{amount:t.donation.currentHint.amount,description:t.donation.currentHint.description,amountUsd:t.donation.currentHint.amountUsd}||null,hintOptions:(null===(c=t.donation.hintOptions)||void 0===c?void 0:De()(c).call(c,(e=>({amount:e.amount,description:e.description,amountUsd:e.amountUsd,default:e.default}))))||null,hintVariantName:t.donation.hintVariantName||null,aiEnabled:i.campaign.config.enableAI}}(t,n,i,a);case $n.UPSELL:return function(e){var t,n;return{amount:{value:e.upsell.fromAmount},currency:{value:e.currency},smallAmount:{shown:null!==e.lowMonthlyAmount,value:null!==(t=e.lowMonthlyAmount)&&void 0!==t?t:0},bigAmount:{value:null!==(n=e.highMonthlyAmount)&&void 0!==n?n:0,frequency:e.targetFrequency}}}(t);case $n.PAYMENT_OPTIONS:return function(e,t,n){var i,a;const r=Fe()(i=e.availableOptions).call(i,(t=>e.buttonOptions[t].show));return{coverFees:{checked:e.isFeeCovered,fees:e.processingFee,total:e.total,currency:e.currency},frequency:e.frequency,paymentMethods:r,askPage:{shown:n.getAskPageConfig().show},fundraisingPage:{shown:Boolean((null===(a=n.fundraisingPage)||void 0===a?void 0:a.key)&&"fundraiser"===t.askPageActiveTab)},card:{number:{filled:e.cardFilledFields.cardNumber},expiry:{filled:e.cardFilledFields.cardExpiry},cvc:{filled:e.cardFilledFields.cardCvc}}}}(t,i,a);case $n.GIFT_AID:return function(e){return{shown:!0,textarea:e.legalTextOverflowed}}(t);case $n.CREDIT_CARD:return function(e){return{number:{filled:e.filledFields.cardNumber},expiry:{filled:e.filledFields.cardExpiry},cvc:{filled:e.filledFields.cardCvc}}}(t);case $n.UK_BACS:return function(e){return{accountNumber:{filled:!!e.accountNumber},sortCode:{filled:!!e.sortCode}}}(t);case $n.DOUBLE:return function(e){var t;return{upsell:{currency:e.currency,currentAmount:e.total,matchingFromAmount:e.minimumMatchedAmount,matchingPromisedAmount:e.matchingPromisedAmount,matchingRatio:e.matchingRatio,proposedAmount:e.proposedAmount,proposedAmountBeforeFeeCovered:e.proposedAmountBeforeFeeCovered,show:e.showDTDUpsellExperiment&&e.showDTDUpsell},employer:{filled:!!e.employer.name,filledFromList:E()(t=e.companies).call(t,(t=>{let{company_name:n}=t;return n===e.employer.name}))}}}(t);case $n.POST_DONATION_UPSELL:return function(e){var t,n,i;return{amount:{value:null!==(t=e.amount)&&void 0!==t?t:0},minAmount:{value:e.recurringMinAmount},total:{value:null!==(n=e.amount)&&void 0!==n?n:0},currency:{value:e.currency},period:{value:e.period},amountInUSD:{value:null!==(i=e.amountInUSD)&&void 0!==i?i:0}}}(t);case un.COMMENT:return function(e){return{comment:{filled:!!e.comment}}}(t);case un.PRIVACY:return function(e,t,n){var i;return{firstName:{filled:!!e.firstName},lastName:{filled:!!e.lastName},email:{filled:!!e.email,validated:!1,valid:null},phoneNumber:{shown:e.showPhone,required:e.phoneRequired,filled:!!e.phone},anonymous:{shown:e.showAnonymous,filled:e.anonymousChecked},onBehalfOf:{shown:e.onBehalfOf.isEnabled,filled:!!e.onBehalfOf.companyName},terms:{shown:e.termsAndConditions.isEnabled,checked:e.termsAndConditions.isAccepted},subscription:{shown:e.mailingListSubscription.show,checked:e.mailingListSubscription.show&&e.mailingListSubscription.checked},askPage:{shown:n.getAskPageConfig().show},fundraisingPage:{shown:Boolean((null===(i=n.fundraisingPage)||void 0===i?void 0:i.key)&&"fundraiser"===t.askPageActiveTab)},brokerageAccountNumberFilled:e.brokerageAccountNumber.isEnabled?!!e.brokerageAccountNumber.accountNumber:void 0}}(t,i,a);case un.MAILING_ADDRESS:return function(e){return{mailingAddressRequired:e.isRequired,city:{filled:!!e.city},country:{filled:!!e.countryCode,value:e.countryCode},line1:{filled:!!e.line1},line2:{filled:!!e.line2},postal:{filled:!!e.postal},region:{filled:!!e.region,value:e.region}}}(t);case un.THANK_YOU:return function(e){return{amount:{value:e.total},currency:{value:e.currency},email:{shown:e.sharing.showEmail},facebook:{shown:e.sharing.showFacebook},linkedin:{shown:e.sharing.showLinkedin},twitter:{shown:e.sharing.showTwitter}}}(t);case un.REMIND_ME:return function(e){return{email:{filled:!!e.email.value},terms:{shown:e.isTermsAndConditionsEnabled,checked:e.termsAndConditions.isAccepted}}}(t);case Dr.CRYPTO_CURRENCY:return function(e,t,n){var i;return{isFiatEnabled:e.enabledFlows.money,isCryptoEnabled:!0,isStockEnabled:e.enabledFlows.stock,tribute:{filled:e.tribute.isFilled,type:e.tribute.show?e.tribute.labelType:null,shown:e.tribute.show},comment:{shown:e.comment.isEnabled,filled:!!e.comment.content},goal:{value:e.designation.goalKey,editable:e.designation.isEditable,shown:e.designation.show},askPage:{shown:n.getAskPageConfig().show},fundraisingPage:{shown:Boolean((null===(i=n.fundraisingPage)||void 0===i?void 0:i.key)&&"fundraiser"===t.askPageActiveTab)},cryptocurrency:e.currencyCode}}(t,i,a);case _r.STOCK_BROKERAGE:return function(e,t,n){var i;return{isFiatEnabled:e.enabledFlows.money,isCryptoEnabled:e.enabledFlows.crypto,isStockEnabled:!0,tribute:{filled:e.tribute.isFilled,type:e.tribute.show?e.tribute.labelType:null,shown:e.tribute.show},comment:{shown:e.comment.isEnabled,filled:!!e.comment.content},goal:{value:e.designation.goalKey,editable:e.designation.isEditable,shown:e.designation.show},askPage:{shown:n.getAskPageConfig().show},fundraisingPage:{shown:Boolean((null===(i=n.fundraisingPage)||void 0===i?void 0:i.key)&&"fundraiser"===t.askPageActiveTab)},brokerage:e.broker.name}}(t,i,a);case _r.STOCK_SECURITIES:return function(e){var t;return{selectedSecurities:De()(t=e.selectedSecurities).call(t,(e=>({ticker:e.ticker,quantity:e.quantity,price:e.price,stocksAvailable:e.stocksAvailable})))}}(t);case _r.STOCK_SIGNATURE:return function(e){return{signatureFilled:!!e.signature}}(t);case _r.STOCK_CO_OWNER_SIGNATURE:return function(e){return{signatureFilled:!!e.signature,emailFilled:!!e.email,firstNameFilled:!!e.firstName,lastNameFilled:!!e.lastName,fullNameFilled:!!e.fullName}}(t);case _r.STOCK_CONFIRMATION:return function(e){var t;return{brokerage:e.broker.name,coOwner:{filled:!!e.coOwner.fullName,fullName:e.coOwner.fullName,email:e.coOwner.email},owner:{filled:!!e.owner.fullName,fullName:e.owner.fullName,phone:e.owner.phone,email:e.owner.email},securities:De()(t=e.securities).call(t,(e=>({ticker:e.ticker,quantity:e.quantity}))),total:e.total,accountNumber:{filled:!!e.accountNumber,value:e.accountNumber}}}(t);default:throw new ae(e,`Unknown screen name "${e}"`)}}(e,t,n,i,a)}}var hs=n(42614),ms=n.n(hs);class ps{constructor(e){let{distributionId:t,name:n,variants:i,sentry:a}=e;this.variants=new($t()),this.distributionId=t,this.name=n,this.sentry=a,v()(i).call(i,(e=>{this.variants.set(e.name,{name:e.name,weight:e.weight})})),this.variantSelectors=this.getDistributedSelectors()}get currentVariantName(){return this._currentVariantName}get previousVariantName(){return this._previousVariantName}initCurrentVariantName(){var e,t;const n=this.getSelection(),i=[];v()(e=this.variantSelectors).call(e,((e,t)=>{i.push([t,e])})),this.currentVariantName=null===(t=qe()(i).call(i,(e=>{let[,[t,i]]=e;return n>=t&&n<i})))||void 0===t?void 0:t[0]}setVariant(e){this.variants.has(e)?this.currentVariantName=e:this.sentry.captureException(`5 ${this.name}`)}set currentVariantName(e){this._previousVariantName=this._currentVariantName,this._currentVariantName=e}getSelection(){const e=this.getMaxDistributionValue();return Number(function(e){let t,n,i,a,r,s,o,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(t=3&e.length,n=e.length-t,i=l,r=3432918353,s=461845907,c=0;c<n;)o=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,o=(65535&o)*r+(((o>>>16)*r&65535)<<16)&4294967295,o=o<<15|o>>>17,o=(65535&o)*s+(((o>>>16)*s&65535)<<16)&4294967295,i^=o,i=i<<13|i>>>19,a=5*(65535&i)+((5*(i>>>16)&65535)<<16)&4294967295,i=27492+(65535&a)+((58964+(a>>>16)&65535)<<16);switch(o=0,t){case 3:o^=(255&e.charCodeAt(c+2))<<16;break;case 2:o^=(255&e.charCodeAt(c+1))<<8;break;case 1:o^=255&e.charCodeAt(c),o=(65535&o)*r+(((o>>>16)*r&65535)<<16)&4294967295,o=o<<15|o>>>17,o=(65535&o)*s+(((o>>>16)*s&65535)<<16)&4294967295,i^=o}return i^=e.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295,i^=i>>>16,i>>>0}(`${this.distributionId}:${this.name}`)%e)}getDistributedSelectors(){var e;let t=0;const n=new($t());return this.assertVariantsWithWeight(this.variants),v()(e=this.variants).call(e,((e,i)=>{let{weight:a}=e;const r=this.getWeightSum(),s=this.getMaxDistributionValue()/r;n.set(i,[t,t+s*a]),t+=s*a})),n}getWeightSum(){var e;let t=0;return this.assertVariantsWithWeight(this.variants),v()(e=this.variants).call(e,(e=>{let{weight:n}=e;return t+=n})),t}getMaxDistributionValue(){return 100*this.variants.size}assertVariantsWithWeight(e){var t;if(!pi()(t=[...ms()(e).call(e)]).call(t,(e=>{let[,{weight:t}]=e;return void 0!==t})))throw new Error("Every variant should have weight")}}class gs{constructor(e){this.experiments=new($t());const{experimentsSettings:t,tracker:n,funStorage:i,companyKey:a,widgetKey:r,user:s,parentCompanyKey:o,infrastructureParams:c,sentry:l,allowExperiments:u,distributionId:d}=e;if(this.experimentsSettings=t,this.tracker=n,this.funStorage=i,this.companyKey=a,this.parentCompanyKey=o,this.widgetKey=r,this.user=s,this.infrastructureParams=c,this.sentry=l,this.allowExperiments=u,this.distributionId=d,!this.distributionId)throw new Error("ExperimentController: Distribution ID is required")}register(e,t){var n;if(this.experiments.has(e))return;const i=qe()(n=this.experimentsSettings).call(n,(t=>t.name===e));if(!i)return void this.sentry.captureException(`8 "${e}"`);const a=new ps({distributionId:this.distributionId,name:i.name,variants:i.variants,sentry:this.sentry}),r=new t({settings:i,companyKey:this.companyKey,parentCompanyKey:this.parentCompanyKey,tracker:this.tracker,funStorage:this.funStorage,user:this.user,widgetKey:this.widgetKey,infrastructureParams:this.infrastructureParams,sentry:this.sentry,distribution:a,allowExperiments:this.allowExperiments});this.experiments.set(e,r)}get(e){if(!this.experiments.has(e)){const t=`9 "${e}"`;throw this.sentry.captureException(t),new Error(t)}return this.experiments.get(e)}has(e){return this.experiments.has(e)}}const ys={experimentId:fi[yi.X.MOBILE_FIRST_PAGES_EXPERIMENT],name:yi.X.MOBILE_FIRST_PAGES_EXPERIMENT,enabled:!1,scope:vi.CAMPAIGN_PAGES,variants:[{name:Si.CONTROL,weight:33},{name:Si.TEST_1,weight:33},{name:Si.TEST_2,weight:33},{name:Si.TEST_3,weight:1}]},fs={experimentId:fi[yi.X.CAMPAIGN_PAGE_TEST_EXPERIMENT],name:yi.X.CAMPAIGN_PAGE_TEST_EXPERIMENT,enabled:!1,scope:vi.CAMPAIGN_PAGES,variants:[{name:Di.CONTROL,weight:1},{name:Di.TEST,weight:1}]},vs={experimentId:fi[yi.X.FLOATING_LABELS_CAMPAIGN_PAGES_EXPERIMENT],name:yi.X.FLOATING_LABELS_CAMPAIGN_PAGES_EXPERIMENT,enabled:!1,scope:vi.CAMPAIGN_PAGES,variants:[{name:ki.CONTROL,weight:1},{name:ki.TEST,weight:1}]},Ss={experimentId:fi[yi.X.ML_POST_DONATION_UPSELL_CAMPAIGN_PAGES_EXPERIMENT],name:yi.X.ML_POST_DONATION_UPSELL_CAMPAIGN_PAGES_EXPERIMENT,enabled:!1,scope:vi.CAMPAIGN_PAGES,variants:[{name:"control",weight:1},{name:"test",weight:1}]},Cs={experimentId:fi[yi.X.ML_DEFAULT_AMOUNT_CAMPAIGN_PAGES_EXPERIMENT],name:yi.X.ML_DEFAULT_AMOUNT_CAMPAIGN_PAGES_EXPERIMENT,enabled:!1,scope:vi.CAMPAIGN_PAGES,variants:[{name:Ki.CONTROL,weight:1},{name:Ki.TEST,weight:1}]},bs={experimentId:fi[yi.X.PAGES_ASK_VIDEO_VS_IMAGE_EXPERIMENT],name:yi.X.PAGES_ASK_VIDEO_VS_IMAGE_EXPERIMENT,enabled:!1,scope:vi.CAMPAIGN_PAGES,variants:[{name:qi.CONTROL,weight:1},{name:qi.TEST,weight:1}]},Es={experimentId:fi[yi.X.CAMPAIGN_PAGES_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT],name:yi.X.CAMPAIGN_PAGES_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT,enabled:!1,scope:vi.CAMPAIGN_PAGES,variants:[{name:Yi.CONTROL,weight:1},{name:Yi.TEST,weight:1}]},As={experimentId:fi[yi.X.ML_FREQUENCY_DATA_COLLECT_CAMPAIGN_PAGES_EXPERIMENT],name:yi.X.ML_FREQUENCY_DATA_COLLECT_CAMPAIGN_PAGES_EXPERIMENT,enabled:!1,scope:vi.CAMPAIGN_PAGES,variants:[{name:zi.CONTROL,weight:0},{name:zi.TEST_1,weight:1},{name:zi.TEST_2,weight:1}]},Ns={experimentId:fi[yi.X.ML_SMART_COVERING_FEE_CAMPAIGN_PAGES_EXPERIMENT],name:yi.X.ML_SMART_COVERING_FEE_CAMPAIGN_PAGES_EXPERIMENT,enabled:!1,scope:vi.CAMPAIGN_PAGES,variants:[{name:Ji.CONTROL,weight:1},{name:Ji.TEST,weight:1}]};const Ps={experimentId:fi[yi.X.DUMMY_EXPERIMENT],name:yi.X.DUMMY_EXPERIMENT,enabled:!1,scope:vi.EMBED,variants:[{name:Ci.CONTROL,weight:1},{name:Ci.TEST,weight:1}]},xs={experimentId:fi[yi.X.UPSELL_CURTAIN_EXPERIMENT],name:yi.X.UPSELL_CURTAIN_EXPERIMENT,enabled:!1,scope:vi.EMBED,variants:[{name:bi.CONTROL,weight:33},{name:bi.TEST_1,weight:33},{name:bi.TEST_2,weight:33},{name:bi.TEST_3,weight:1}]},ks={experimentId:fi[yi.X.UPSELL_SCREEN_V_3_EXPERIMENT],name:yi.X.UPSELL_SCREEN_V_3_EXPERIMENT,enabled:!1,scope:vi.EMBED,variants:[{name:Ni.CONTROL,weight:1},{name:Ni.TEST,weight:1}]},ws={experimentId:fi[yi.X.RADICAL_SCREENS_ORDER_CHANGE_EXPERIMENT],name:yi.X.RADICAL_SCREENS_ORDER_CHANGE_EXPERIMENT,enabled:!1,scope:vi.EMBED,variants:[{name:Ti.CONTROL,weight:1},{name:Ti.TEST,weight:1}]},Ds={experimentId:fi[yi.X.FLOATING_LABELS_CHECKOUT_EXPERIMENT],name:yi.X.FLOATING_LABELS_CHECKOUT_EXPERIMENT,enabled:!1,scope:vi.EMBED,variants:[{name:xi.CONTROL,weight:1},{name:xi.TEST_1,weight:1},{name:xi.TEST_2,weight:1}]},Ts={experimentId:fi[yi.X.ML_POST_DONATION_UPSELL_CHECKOUT_EXPERIMENT],name:yi.X.ML_POST_DONATION_UPSELL_CHECKOUT_EXPERIMENT,enabled:!1,scope:vi.EMBED,variants:[{name:Ri.CONTROL,weight:1},{name:Ri.TEST,weight:1}]},Os={experimentId:fi[yi.X.ML_DEFAULT_AMOUNT_CHECKOUT_EXPERIMENT],name:yi.X.ML_DEFAULT_AMOUNT_CHECKOUT_EXPERIMENT,enabled:!1,scope:vi.EMBED,variants:[{name:Gi.CONTROL,weight:1},{name:Gi.TEST,weight:1}]},_s={experimentId:fi[yi.X.CHECKOUT_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT],name:yi.X.CHECKOUT_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT,enabled:!1,scope:vi.EMBED,variants:[{name:Hi.CONTROL,weight:1},{name:Hi.TEST,weight:1}]},Is={experimentId:fi[yi.X.ML_FREQUENCY_DATA_COLLECT_CHECKOUT_EXPERIMENT],name:yi.X.ML_FREQUENCY_DATA_COLLECT_CHECKOUT_EXPERIMENT,enabled:!1,scope:vi.EMBED,variants:[{name:Zi.CONTROL,weight:0},{name:Zi.TEST_1,weight:1},{name:Zi.TEST_2,weight:1}]},Rs={experimentId:fi[yi.X.LESS_PAYMENT_OPTIONS_EXPERIMENT],name:yi.X.LESS_PAYMENT_OPTIONS_EXPERIMENT,enabled:!1,scope:vi.EMBED,variants:[{name:Wi.CONTROL,weight:1},{name:Wi.TEST_1,weight:1},{name:Wi.TEST_2,weight:1},{name:Wi.TEST_3,weight:1},{name:Wi.TEST_4,weight:1}]},Ls={experimentId:fi[yi.X.ML_SMART_COVERING_FEE_CHECKOUT_EXPERIMENT],name:yi.X.ML_SMART_COVERING_FEE_CHECKOUT_EXPERIMENT,enabled:!1,scope:vi.EMBED,variants:[{name:Qi.CONTROL,weight:1},{name:Qi.TEST,weight:1}]};var Ms=function(e){var t;return De()(t=[Ps,xs,ks,Ds,ws,Ts,Os,_s,Is,Rs,Ls]).call(t,(t=>{const n=qe()(e).call(e,(e=>e.experimentId===t.experimentId));return n?{experimentId:n.experimentId,enabledWidgets:n.enabledWidgets,disabledWidgets:n.disabledWidgets,name:n.name,enabled:n.enabled,variants:n.variants,disabledAccounts:n.disabledAccounts,enabledAccounts:n.enabledAccounts}:t}))};class js extends Ae{constructor(e,t,n,i,a,r,s,o,c){super(),this.embedTracker=e,this.debug=t,this.keysKeeper=n,this.checkoutViewEventEmitter=i,this.targetWindow=a,this.globalWindow=r,this.params=s,this.servicesFactoryMap=o,this.sentryInstance=c;const l=this.createCoreInstances();this.flowManager=l.flowManager,this.intl=l.intl,this.trackerCheckout=l.trackerCheckout,this.experiments=l.experiments,this.currencyService=l.currencyService,this.checkoutConfiguration=l.checkoutConfiguration,this.checkoutAPIBridge=l.checkoutAPIBridge,this.checkoutRouter=l.checkoutRouter,this.logger=l.logger,this.userInteraction=l.userInteraction,this.currencyFilter=l.currencyFilter,this.checkoutCurrencyFormatter=l.checkoutCurrencyFormatter}setLocale(e){return(0,d.mG)(this,void 0,void 0,(function*(){yield this.intl.setLocale(e||this.intl.locale)}))}initializePublicJsApi(){}initializePageGuardManager(){}initializeCookieConsent(){}initializeUserSession(){}initializeLiveSessionScript(){}initializeRouter(){this.checkoutConfiguration.infrastructureParams.showcase||this.checkoutRouter.initialize()}initializeTracker(){this.trackerCheckout.initialize()}initializeExperiments(){this.initializeMlFrequencyDataCollectCheckoutExperiment(),this.experiments.register(yi.X.UPSELL_CURTAIN_EXPERIMENT,ta),this.experiments.register(yi.X.RADICAL_SCREENS_ORDER_CHANGE_EXPERIMENT,kr),this.experiments.get(yi.X.RADICAL_SCREENS_ORDER_CHANGE_EXPERIMENT).tryStart({checkoutType:this.checkoutConfiguration.checkoutType,flowType:this.checkoutConfiguration.defaultFlowType}),this.initializeFloatingLabelsExperiment()}initializeMlFrequencyDataCollectCheckoutExperiment(){this.experiments.register(yi.X.ML_FREQUENCY_DATA_COLLECT_CHECKOUT_EXPERIMENT,ea),this.experiments.get(yi.X.ML_FREQUENCY_DATA_COLLECT_CHECKOUT_EXPERIMENT).tryStart(this.checkoutConfiguration)}initializeFloatingLabelsExperiment(){this.experiments.register(yi.X.FLOATING_LABELS_CHECKOUT_EXPERIMENT,xr),this.experiments.get(yi.X.FLOATING_LABELS_CHECKOUT_EXPERIMENT).tryStart({locale:this.intl.locale})}initializeCurrencyService(){return(0,d.mG)(this,void 0,void 0,(function*(){yield function(e,t,n){return(0,y.mG)(this,void 0,void 0,(function*(){e.loadFiat(n),Ut(t)&&(yield e.loadCrypto())}))}(this.currencyService,this.checkoutConfiguration,this.intl)}))}initializeCurrencyFilter(){return(0,d.mG)(this,void 0,void 0,(function*(){yield function(e,t,i){return(0,y.mG)(this,void 0,void 0,(function*(){if(function(){try{Intl.NumberFormat("fr-FR",{style:"currency",currency:"VND",currencyDisplay:"narrowSymbol",minimumFractionDigits:0,maximumFractionDigits:0}).format(8e3)}catch(e){return!1}return!0}())Ut(i)&&(yield e.loadCrypto());else{const e=yield function(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield n.e(661).then(n.bind(n,56168));return{formatCurrency:e.currencyFilter,formatSymbol:(e,t)=>t===Nt.PREFIX?e:"",getCurrencyFormat:e.getCurrencyFormat,loadCrypto:()=>V().resolve()}}))}();t.replaceCurrencyFilter(e)}}))}(this.currencyFilter,this.checkoutCurrencyFormatter,this.checkoutConfiguration)}))}subscribeOnUserInteraction(){return this.userInteraction.subscribeOnUserInteraction((()=>{this.trackerCheckout.ping()}))}subscribeOnHistoryInteraction(){this.checkoutRouter.onNavigation((()=>{const e=this.flowManager.getCurrentFlow();e.isCurrentScreenFirst()||e.isCurrentScreenLast()?this.checkoutViewEventEmitter.emit("should-hide",{}):this.flowManager.checkoutService.canGoBack&&e.prev()})),this.flowManager.onScreenChanged((()=>{const e=this.flowManager.getCurrentFlow();e.isCurrentScreenFirst()||e.isCurrentScreenLast()?this.checkoutRouter.deactivateNavigationLoop():this.checkoutRouter.activateNavigationLoop()}))}startFlow(e){return(0,d.mG)(this,void 0,void 0,(function*(){const t=this.experiments.get(yi.X.RADICAL_SCREENS_ORDER_CHANGE_EXPERIMENT),n=e||function(e,t,n,i){var a;const r=e.externalConfig;return(null===(a=r.checkoutData)||void 0===a?void 0:a.screen)&&n(r.checkoutData.screen)?r.checkoutData.screen:function(e){var t,n,i,a,r,s;const o=e.campaign.config,c=e.externalConfig,l=o.tribute.show,u=null===(n=null===(t=c.checkoutData)||void 0===t?void 0:t.tribute)||void 0===n?void 0:n.inHonorOf,d=null===(a=null===(i=c.checkoutData)||void 0===i?void 0:i.tribute)||void 0===a?void 0:a.type,h=o.showComment,m=!1!==(null===(r=c.checkoutData)||void 0===r?void 0:r.modifyAmount),p=!1!==(null===(s=c.checkoutData)||void 0===s?void 0:s.modifyDesignation),g=o.frequencies,y=o.displayGoal!==ht.WITHOUT&&o.goals.length>1,f=[it.DONATION_FORM,it.SIMPLE_FORM,it.BUTTON_GROUP,it.IMPACT_SLIDER],v=e.element.type;if(!v)return!1;const S=v===it.DONATION_FORM,C=m&&!Z()(f).call(f,v),b=p&&!S,E=ra(g);return!((S?(!u||!d)&&(u||d):l)||h||b&&y||C||!S&&E)}(e)&&function(e,t,n){var i,a,r;let s=null===(i=e.checkoutData)||void 0===i?void 0:i.recurring;const o=!ra(t.frequencies);!s&&o&&(s=Qe.getDefaultFrequencyWithOverride(t.frequencies,null));const c=(null===(a=e.checkoutData)||void 0===a?void 0:a.amount)||0,l=(null===(r=e.checkoutData)||void 0===r?void 0:r.currency)||t.defaultCurrency;if(!s||!c||!l)return!1;const u=t.frequencies[s].minAmount,d=aa.convertMinAmount(n,u||0,t.defaultCurrency,l),h=c.toString().length>8;return!(c<d||h)}(r,e.campaign.config,t)?i.alternativeInitialScreen:void 0}(this.checkoutConfiguration,this.currencyService,Rr,{alternativeInitialScreen:t.isTestGroup?un.PRIVACY:$n.PAYMENT_OPTIONS});yield this.flowManager.setInitialScreen(n).startDefaultFlow()}))}createCoreInstances(){var e,t;const n=function(e){const t=function(e){const t=e.customFields;if(!t)return e;for(const n of t)e[n.name]=n.value;return _()(e,"customFields")}(M(e));return k()({},R()(t,T()))}(this.params.externalConfig.queryParams||{}),i=ln.format(this.params.externalConfig.queryParams||{}),a=(null===(e=this.params.externalConfig.launcher)||void 0===e?void 0:e.elementType)===it.DIRECT_LINK,r={livemode:this.params.livemode,env:this.params.env,isMobile:this.params.isMobile,showcase:this.params.showcase,isDevelopmentMode:Wn(),OS:this.params.browserData.os.name||"",browser:this.params.browserData.browser.name||"",isInAppBrowser:this.params.browserData.isInAppBrowser,isSSLEnabled:"https:"===window.location.protocol},s=new At(this.params.resolvedConfig,this.params.embedCompanies,this.params.externalConfig,i,r,this.params.integrations,n,{cdnUrl:c},{checkoutType:at.MODAL},this.globalWindow,this.params.infrastructureQueryParams,this.params.test),l=new ls(this.globalWindow,this.keysKeeper,s,i,n,a),u=function(e,t,n){const i=function(e,t){var n;return k()(k()({},e),ke()(De()(n=xt()(t)).call(n,(e=>{let[n]=e;var i;return[n,Number(null!==(i=t[n])&&void 0!==i?i:1)]}))))}(e,t.cryptoCurrencies),a=new Ft;return new Mt(a,i,n)}(this.params.currencyRates,s,this.sentryInstance),d=new Yn(u),h=new Pn(new Ft),m=new xn(Bn.DEFAULT_LOCALE,h),p=function(e,t,n){const i=new Br(e,{defaultLocale:t.campaign.config.localization.defaultLocale,useCompanyInterfaceLocales:t.campaign.config.localization.useCompanyInterfaceLocales,supportedLanguages:[...t.campaign.config.localization.supportedLanguages]},{interfaceLocales:[...t.company.localization.interfaceLocales]}).getUILocale();return function(e){let{dateFormatter:t,currencyFormatter:n,numberFormatter:i,availableLocales:a=[Bn.DEFAULT_LOCALE],translationLoader:r,locale:s=Bn.DEFAULT_LOCALE,phrases:o,company:c="",donateToPayTokens:l=[]}=e;const u=new Fr(s,o),d=new Ur(u,r);return new Bn(d,t,n,i,c,l,{locale:s,availableLocales:a})}({dateFormatter:new Lr(Bn.DEFAULT_LOCALE),currencyFormatter:n,numberFormatter:new qr(Bn.DEFAULT_LOCALE),availableLocales:z.dI,translationLoader:new Vr,locale:i,company:t.campaign.company,donateToPayTokens:Kr})}(this.params.localeCode,s,m),y=new ds,f=new Nr(this.embedTracker,s,u,p.locale,this.targetWindow,this.params.trackingUrls.checkout,y,this.params.checkoutOpenTimestamp),v=f.checkoutViewId,S=Vn(),C=(b={sentry:this.sentryInstance,requestService:S,createFundraiseupAddressProvider:(e,t)=>new la(e,S,t,v),baseURL:o,locale:p.locale},new Sn(b.createFundraiseupAddressProvider,b.sentry,b.requestService,{locale:b.locale,baseURL:b.baseURL,fundraiseupAddressProviderHeaders:b.fundraiseupAddressProviderHeaders}));var b;const E=new G(new B(function(){const e=Mn(Dn.OBJECT),t=new ma(U),n=new da(e,t,window.FUN_DISABLE_NEW_COOKIES),i=new ha(e,t,window.FUN_DISABLE_NEW_COOKIES);return new ga(n,i,window.FUN_DISABLE_NEW_COOKIES)}(),{env:this.params.env,allowWrite:!0})),A=s.company,N=this.params.livemode?tt.LIVE:tt.TEST,P=Ce({publicKey:this.params.paymentMethods.stripePublicKey[N],targetWindow:this.targetWindow,locale:p.locale,stripeAccount:A.stripeAccount,showcase:this.params.showcase},this.sentryInstance),x=Ce({publicKey:this.params.paymentMethods.stripePublicKey[N],targetWindow:this.globalWindow,locale:p.locale,stripeAccount:A.stripeAccount,showcase:this.params.showcase},this.sentryInstance),w=function(e,t){const n=ne()(Dn);if(!qe()(n).call(n,(e=>Dn[e]===t)))throw new Error(`10 ${t}`);return new kn(e,Mn(t))}(wn.EXPERIMENTS,Dn.OBJECT),D=new gs({companyKey:A.key,parentCompanyKey:A.parentKey,widgetKey:s.campaign.key,tracker:f,experimentsSettings:[...(O=this.params.experimentsConfig.experiments,De()(I=[fs,ys,vs,Ss,Cs,bs,Es,As,Ns]).call(I,(e=>{const t=qe()(O).call(O,(t=>t.experimentId===e.experimentId));return t?{experimentId:t.experimentId,enabledWidgets:t.enabledWidgets,disabledWidgets:t.disabledWidgets,name:t.name,enabled:t.enabled,variants:t.variants,disabledAccounts:t.disabledAccounts,enabledAccounts:t.enabledAccounts}:e}))),...Ms(this.params.experimentsConfig.experiments)],user:s.user,funStorage:w,infrastructureParams:s.infrastructureParams,sentry:this.sentryInstance,allowExperiments:this.params.allowExperiments,distributionId:f.clientId});var O,I;D.register(yi.X.DUMMY_EXPERIMENT,Pr),D.get(yi.X.DUMMY_EXPERIMENT).start();const L=new(g()),j=new Te(s),F=new hi({window:window,tracker:f,enabledByDefault:!0}),q=Vn(),V=function(e){return function(e){const t=e||new hr;return new mr(t)}(new dr(e))}(p),K=function(e,t,n){const i=new ur(e,{intlService:t,subscriptionPeriodLabelsService:n}),a=new or(i);return new Na(Ea,a)}(m,p,V),H=new Ca(ba),Y=null!==(t=this.params.mlCheckoutDefaultParamsService)&&void 0!==t?t:null;return{flowManager:new fa(L,s,p,f,this.debug,u,d,this.targetWindow,this.globalWindow,this.sentryInstance,this.params.paymentMethods,P,x,E,C,j,D,this.servicesFactoryMap,F,q,V,K,H,Y,{stripe:{elementsOptions:zr,elementStyles:Yr,elementClasses:Zr},screenSet:{creditCard:$n.CREDIT_CARD,ukBacs:$n.UK_BACS,paymentOptions:$n.PAYMENT_OPTIONS}}),intl:p,trackerCheckout:f,experiments:D,currencyService:u,checkoutConfiguration:s,checkoutAPIBridge:j,checkoutRouter:l,logger:F,userInteraction:new Zn(this.targetWindow),currencyFilter:h,checkoutCurrencyFormatter:m}}}var Fs=n(52322),Us=n(17029),Bs=n(74512),Gs=n(39647),qs=n(77627);class Vs extends m.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){if(!this.context)throw new Error("SentryService is not provided");this.context.captureException(e,{extra:{componentStack:t.componentStack}})}render(){return this.state.hasError?(0,Fs.jsx)("h1",{children:this.props.fallback||"something went wrong"}):this.props.children}}Vs.contextType=qs.E;var Ks,Hs=n(86010),Ys=n(3726);!function(e){e.CLICK_SHOWCASE="click-showcase"}(Ks||(Ks={}));var Zs=n(8708),zs=n(10958),Ws=n(35818),$s=n(83093),Xs=n(67846);const Qs=["button","input","select","textarea","iframe","object","embed","a","[tabindex]","[href]","[contenteditable]"].join(", ");function Js(e){const{rootElRef:t,disabled:n,trapStartRef:i,trapStopRef:r}=e,[s,o]=(0,m.useState)(),c=(0,m.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!i.current)return;if(!r.current)return;if(!t.current)return;const n=t.current.querySelectorAll(Qs);let s=a()([]).call(n);s=Fe()(s).call(s,(e=>e!==i.current&&e!==r.current)),e&&(s=Sr()(s).call(s)),s.length&&s[0].focus()}),[t,i,r]),l=(0,m.useCallback)((e=>{n||i.current&&r.current&&(e.target===i.current&&c(s!==r.current),e.target===r.current&&c(s===i.current))}),[c,s,n,i,r]),u=(0,m.useCallback)((e=>{n||o(e.target)}),[n]);return{trapStartRef:i,trapStopRef:r,handleFocus:l,handleBlur:u}}var eo=n(38535),to=n(64736),no=n(50970);const io=e=>{const{tab:t,setActiveTab:n}=e,i=(0,no.Y)(),a=(0,Xs.q)();return(0,Fs.jsx)("div",{className:a("campaign-tabs-holder"),role:"tablist",children:(0,Fs.jsxs)("div",{className:"campaign-tabs",children:[(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)("campaign-tab",{active:"fundraiser"===t}),onClick:()=>n("fundraiser"),"data-qa":"p2p-component-button","data-tracking-element-name":"switchToFundraisingPageTab",role:"tab","aria-selected":"fundraiser"===t,children:i.translate("campaign.campaignTabs.fundraiser")}),(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)("campaign-tab",{active:"cause"===t}),onClick:()=>n("cause"),"data-qa":"ask-component-button","data-tracking-element-name":"switchToAskPageTab",role:"tab","aria-selected":"cause"===t,children:i.translate("campaign.campaignTabs.cause")})]})})},ao=e=>{var t;const n=(0,Zs.S)(),i=(0,Xs.q)();return(0,Fs.jsx)("div",{className:(0,Hs.Z)(i("campaign-links-wrap"),e.className),children:(0,Fs.jsx)("div",{className:i("campaign-links"),children:De()(t=e.links).call(t,((e,t)=>(0,Fs.jsxs)(m.Fragment,{children:[!!t&&!n&&(0,Fs.jsx)("span",{className:(0,Hs.Z)("text-gray-60 px-1-5",n?"link-2":"link-3"),"aria-hidden":"true",children:""}),(0,Fs.jsx)("a",{href:e.url,className:i("campaign-link"),target:"_blank",rel:"noreferrer","data-tracking-element-name":"askPageLink","data-qa":"ask-link",children:e.label})]},t)))})})};var ro=(0,m.memo)(ao);const so=e=>{const t=(0,Zs.S)(),n=(0,Xs.q)(),i=!!e.links.length;return(0,Fs.jsxs)(Fs.Fragment,{children:[(e.title||e.description)&&(0,Fs.jsxs)("div",{className:"min-h-0","data-qa":"ask-component",children:[!e.hideTitle&&e.title&&(0,Fs.jsx)("h2",{className:n("campaign-title"),"data-qa":"ask-title",dangerouslySetInnerHTML:{__html:e.title},dir:"auto"}),e.showText&&e.description&&(0,Fs.jsx)("p",{"data-qa":"ask-message",className:(0,Hs.Z)(n("campaign-text"),{"mt-0":!e.title,"campaign-text-sm":i&&e.title,"campaign-text-md":i&&!e.title||!i&&e.title,"campaign-text-lg":!i&&!e.title}),dangerouslySetInnerHTML:{__html:e.description},dir:"auto"})]}),!t&&i&&(0,Fs.jsx)(ro,{links:e.links})]})};class oo{static calculateProgressData(e){const t=oo.round(e.currentAmount/e.targetAmount),n=e.increaseAmount?oo.round(e.increaseAmount/e.targetAmount):0,i=e.increaseAmount?oo.applyMinIncreasePercent(n):0,a=e.unlimitedProgress?t:oo.limitMaxPercent(t),r=e.unlimitedProgress?i:Math.min(i,oo.MAX_PROGRESS-a),s=t+n,o=e.currentAmount+(e.increaseAmount||0);return{progressPercent:a,progressIncreasePercent:r,totalProgressPercent:e.unlimitedProgress?s:Math.min(s,oo.MAX_PROGRESS),totalAmount:o,isDone:s>=oo.MAX_PROGRESS}}static round(e){return Math.round(1e3*e)/10}static limitMaxPercent(e){return Math.min(e,oo.MAX_PROGRESS)}static applyMinIncreasePercent(e){return Math.max(e,oo.MIN_INCREASE_PERCENT)}}oo.MAX_PROGRESS=100,oo.MIN_INCREASE_PERCENT=4;var co=n(68972);const lo=e=>{const{fundraiser:t,userAmount:n}=e,i=(0,no.Y)(),a=(0,co.S)(),r=(0,$s.r)(),s=t.goalAmount||1,o=oo.calculateProgressData({currentAmount:t.donationsAmount||0,targetAmount:s,increaseAmount:n}),c=o.progressPercent,l=!!n,u=o.isDone,d=r&&l?o.progressIncreasePercent:null,h=function(e,t,n){return(t?100-t-e:100)*(n?1:-1)}(o.progressPercent,d,a),m={transform:`translate3d(${h}%, 0, 0)`},p={width:`${c}%`,borderLeft:a&&c>0&&c<100?"1px solid #fff":void 0,borderRight:!a&&c>0&&c<100?"1px solid #fff":void 0};return(0,Fs.jsxs)("div",{className:e.className,children:[(0,Fs.jsx)("p",{className:"subtitle-4 text-truncate","data-qa":"fundraiser-display-name",children:t.name}),(0,Fs.jsx)("div",{className:"my-1",children:(0,Fs.jsxs)("div",{className:"campaign-meter",children:[(0,Fs.jsx)("div",{className:(0,Hs.Z)("campaign-meter-progress-increase",{"campaign-meter-done":u}),"data-testid":"progress-increase",style:m}),(0,Fs.jsx)("div",{className:(0,Hs.Z)("campaign-meter-progress",{"campaign-meter-hidden":!r,"campaign-meter-done":u}),"data-testid":"progress",style:p,children:(c>20||!l)&&(0,Fs.jsxs)("div",{className:(0,Hs.Z)("campaign-meter-percent",{"campaign-meter-percent-right":c<20}),"data-qa":"raised-percent",children:[c,"%"]})})]})}),(0,Fs.jsxs)("div",{className:"body-3 d-flex justify-between",children:[(0,Fs.jsx)("div",{className:"pe-1","data-qa":"fundraiser-raised-amount",children:i.translate("campaign.campaignMeter.raisedAmount",{amount:i.formatCurrency(t.donationsAmount||0,{currency:t.currency||"USD"})})}),(0,Fs.jsx)("div",{className:"ps-1 text-right","data-qa":"fundraiser-goal-amount",children:i.translate("campaign.campaignMeter.goalAmount",{amount:i.formatCurrency(t.goalAmount||0,{currency:t.currency||"USD"})})})]})]})},uo=(0,m.memo)(lo);function ho(){const e=(0,m.useRef)();return void 0===e.current&&(e.current=ii()),e.current}const mo=e=>{const t=ho();return(0,Fs.jsxs)("svg",{className:(0,Hs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:"17",viewBox:"0 0 23 17",width:"23",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsx)("clipPath",{id:`a-${t}`,children:(0,Fs.jsx)("path",{d:"m0 0h23v17h-23z"})}),(0,Fs.jsxs)("g",{clipPath:`url(#a-${t})`,clipRule:"evenodd",fillRule:"evenodd",children:[(0,Fs.jsx)("path",{d:"m22.2969 0c-.8672 1.46655-3.7617 6.01807-8.2266 9.52246-5.39647 4.23534-13.499988 5.99994-13.499988 5.99994s5.046878-2.8235 6.499998-7.99994c1.10547-3.93921-1.07226-6.51587-2.17578-7.52246z",fill:"#fff"}),(0,Fs.jsx)("path",{d:"m7.55191 7.65746c.77276-2.75336.03501-4.90001-.89849-6.3473-.34341-.532424-.71273-.96995-1.0419-1.31016h-1.49731c.01863.0139417.04001.0301894.06389.0487302.10229.0794108.25003.2005208.42446.3622868.34964.324253.80182.807553 1.2105 1.441163.81179 1.25859 1.45612 3.11195.77605 5.53506-.69276 2.46832-2.24912 4.39336-3.65535 5.71146-.70079.6569-1.35754 1.1566-1.83782 1.4913-.239927.1673-.435221.2929-.569177.3759-.06696.0415-.11854.0724-.152646.0924l-.037771.022-.008553.0049-.001621.0009.000718.0012.350605.9231c-.000919-.0033-.009786-.0417-.106988-.4881l.106988.4881h.00157l.005114-.0011.018933-.0043.071831-.0163c.062651-.0144.154403-.0359.272607-.0647.2364-.0576.57873-.1442 1.0058-.2614.85387-.2343 2.04806-.5911 3.41269-1.0815 2.72174-.9783 6.15406-2.5 8.91316-4.66543 2.7453-2.15464 4.9007-4.69229 6.3676-6.68516.7343-.9977 1.2984-1.86198 1.6796-2.478191.1907-.308179.3358-.554524.4336-.7247323.0055-.0094298.0107-.0186262.0159-.0275867h-1.1613c-.043.0708235-.0892.146313-.1386.226197-.3693.597029-.9185 1.438623-1.6346 2.411523-1.4341 1.9483-3.5286 4.41065-6.1796 6.49131-2.6371 2.06977-5.95479 3.54807-8.63399 4.51097-.75169.2702-1.45055.4989-2.06666.688.18093-.1557.36719-.3223.55648-.4997 1.48056-1.3878 3.17421-3.4627 3.93428-6.17084z",fill:"#c7cdd6"})]})]})},po=(0,m.memo)(mo),go=window.devicePixelRatio>1?"128x128":"64x64",yo=e=>{const{fundraiser:t}=e,n=(0,Zs.S)(),i=(0,co.S)(),a=(0,m.useMemo)((()=>{var e;const n=null===(e=t.image)||void 0===e?void 0:e.uuid;return n?`https://ucarecdn.com/${n}/-/preview/${go}/-/format/auto/`:null}),[t]),r=(0,m.useMemo)((()=>({backgroundImage:a?`url("${a}")`:void 0})),[a]);return(0,Fs.jsxs)("div",{"data-qa":"p2p-component",children:[(0,Fs.jsxs)("div",{className:(0,Hs.Z)("campaign-quote-bubble",n?"mb-6":"mb-10"),children:[(0,Fs.jsx)("p",{className:"text-line-clamp-3","data-qa":"fundraiser-message",children:t.message}),(0,Fs.jsx)(po,{className:(0,Hs.Z)("campaign-quote-bubble-edge",{"icon-flip-horizontal":i}),ariaHidden:!0})]}),(0,Fs.jsxs)("div",{className:"d-flex items-start",children:[a&&(0,Fs.jsx)("div",{className:"campaign-fundraiser-photo shrink-0 mt-1 me-4",style:r,"data-qa":"fundraiser-photo","data-src":a}),(0,Fs.jsx)(uo,{className:"grow-1",fundraiser:t,userAmount:e.userAmount})]})]})},fo=(0,m.createContext)(!1),vo=(0,m.createContext)(null);function So(){const e=(0,m.useContext)(vo);if(!e)throw new Error("currency service is not provided");return e}var Co=n(18875);const bo=(0,m.createContext)(null);function Eo(){const e=(0,m.useContext)(bo);if(!e)throw new Error("FlowManager is not provided");return e}function Ao(e){const t=Eo(),[n,i]=(0,m.useState)((()=>t.getCurrentFlow().getScreen(e))),a=(0,Co.t)();return(0,m.useEffect)((()=>{let n=t.getCurrentFlow();const r=t.onScreenChanged((()=>{a.current&&i(n.getScreen(e))})),s=t.onFlowChanged((()=>{const i=t.getCurrentFlow();i.checkHasScreen(e)&&(n=i)}));return()=>{s(),r()}}),[t,e,a]),n}function No(e){const t=Ao(e);return{controller:t,state:function(e){const[t,n]=(0,m.useState)((()=>e.getScreenData()));return(0,m.useEffect)((()=>{const t=()=>n(e.getScreenData());return t(),e.onUpdate(t),()=>e.removeUpdateListener(t)}),[e]),t}(t)}}function Po(){const e=Eo(),[t,n]=(0,m.useState)(e.checkoutService);return(0,m.useEffect)((()=>e.onFlowChanged((()=>{n(e.checkoutService)}))),[e]),t}function xo(){const e=Po(),[t,n]=(0,m.useState)((()=>e.getState()));return(0,m.useEffect)((()=>(n(e.getState()),e.onStateUpdate((()=>{n(e.getState())})))),[e]),t}function ko(){const e=Po(),[t,n]=(0,m.useState)((()=>e.checkoutUIState));return(0,m.useEffect)((()=>(n((t=>{const n=e.checkoutUIState;return e.checkoutUIState.askPageActiveTab=t.askPageActiveTab,n})),e.onStateUpdate((()=>{n(e.checkoutUIState)})))),[e]),t}const wo=e=>window.matchMedia(`(min-width: ${e}px)`),Do={sm:536,lg:916};function To(e){return function(e){const t=(0,m.useRef)(wo(e)),[n,i]=(0,m.useState)(wo(e).matches);return(0,m.useEffect)((()=>{const e=t.current,n=e=>{i(e.matches)};return e.addListener(n),()=>e.removeListener(n)}),[]),n}(Do[e])}const Oo=window.devicePixelRatio>1,_o=()=>{const e=(0,Xs.q)(),t=So(),n=Po(),i=ko(),a=function(){const e=Eo(),[t,n]=(0,m.useState)((()=>e.getCurrentFlow().getCurrentScreen().name));return(0,m.useEffect)((()=>e.onScreenChanged((()=>{n(e.getCurrentFlow().getCurrentScreen().name)}))),[e]),t}(),r=xo(),s=(0,Bs.C)(),o=(0,m.useCallback)((e=>{i.askPageActiveTab=e,n.syncUpdateCheckoutState()}),[n,i]),c=(0,m.useMemo)((()=>s.getAskPageConfig(Oo)),[s]),l=(0,Zs.S)(),u=To("lg"),d=s.fundraisingPage,h=!!l&&i.isMobileScreenWithoutAskTitle(a),p=!l||i.isMobileScreenWithAskText(a),g=p||!h,y=!h&&c.title||p&&c.text,f=a===$n.DONATE||a===Dr.CRYPTO_CURRENCY||a===_r.STOCK_BROKERAGE,v=!!d&&c.show&&f,S=!d||"cause"===i.askPageActiveTab,C=d&&"fundraiser"===i.askPageActiveTab;(0,m.useEffect)((()=>{d&&c.show&&!f&&o("fundraiser")}),[c.show,d,o,f]);const b=(0,m.useMemo)((()=>d&&d.currency?t.convert(r.donation.amount||0,r.donation.currency,d.currency):0),[r.donation.amount,r.donation.currency,t,d]),E=(0,m.useRef)(null),A=(0,m.useRef)(null);!function(e,t){const n=(0,Gs.R)(),i=(0,Zs.S)(),a=(0,m.useContext)(fo),r=(0,m.useCallback)((()=>{if(!i||a)return;const t=e.current;if(!t)throw new Error("scrollRef was not passed");const r=window.pageYOffset||n.pageYOffset;t.offsetTop>r||t.scrollIntoView(!0)}),[e,n,i,a]);(0,m.useEffect)(r,[t,r])}(g?E:A,a);const[N,P]=(0,m.useState)(!0),[x,k]=(0,m.useState)(!1),w=(0,m.useRef)(null),D=Eo(),T=(0,m.useCallback)((e=>{const t=e.getCurrentFlow().getCurrentScreen().name;P(e.checkoutService.checkoutUIState.isScreenWithoutAskOverlay(t))}),[]);(0,m.useEffect)((()=>(T(D),D.onScreenChanged((()=>{T(D)})))),[D,T]);const O={backgroundImage:`url('${c.mainImage}')`},_=(0,to.r)(w);return(0,Fs.jsxs)("div",{className:(0,Hs.Z)(e("campaign"),{"p-rel":!N&&!l}),onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),ref:A,"data-qa":"campaign-info-section",children:[g&&(0,Fs.jsxs)("div",{className:e("campaign-image-holder"),children:[(0,Fs.jsx)("div",{className:e("campaign-image"),style:O,"data-qa":"ask-image","data-testid":"campaign-preview"}),v&&(0,Fs.jsx)(io,{tab:i.askPageActiveTab,setActiveTab:o})]}),(0,Fs.jsx)("div",{className:e("campaign-header"),"data-qa":"ask-company-name",children:c.logoImage?(0,Fs.jsx)("img",{src:c.logoImage,alt:c.companyName,className:e("campaign-header-logo"),"data-testid":"campaign-logo"}):(0,Fs.jsx)("p",{className:e("campaign-header-name"),dir:"auto",title:c.companyName,"data-testid":"campaign-name",children:c.companyName})}),g&&(0,Fs.jsxs)("div",{ref:E,className:(0,Hs.Z)(e("campaign-body"),{"p-5":l&&(y||"fundraiser"===i.askPageActiveTab),"justify-end":"fundraiser"===i.askPageActiveTab&&!l}),role:d?"tabpanel":"",children:[S&&(0,Fs.jsx)(so,{title:c.title,description:c.text,links:c.links,hideTitle:h,showText:p}),C&&(0,Fs.jsx)(yo,{fundraiser:d,userAmount:b})]}),(0,Fs.jsx)(Ys.Z,{classNames:"fade",nodeRef:w,in:!N&&!x&&!l&&u,addEndListener:_,mountOnEnter:!0,unmountOnExit:!0,children:(0,Fs.jsx)("div",{ref:w,className:"campaign-faded-overlay"})})]})},Io=[h.C9.UNITED_STATES,h.C9.CANADA,h.C9.MEXICO,h.C9.AUSTRALIA];var Ro;function Lo(){return Lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Lo.apply(this,arguments)}var Mo=function(e,t){return m.createElement("svg",Lo({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),Ro||(Ro=m.createElement("polyline",{points:"9 18 15 12 9 6"})))},jo=(0,m.forwardRef)(Mo),Fo=(0,m.memo)(jo),Uo=n(97758);const Bo=["click"],Go=e=>{const t=(0,Zs.S)(),n=(0,co.S)(),i=(0,Xs.q)(),[a,r]=(0,m.useState)(!1),s=(0,m.useRef)(null),o=(0,m.useRef)(null);return(0,Fs.jsxs)("li",{className:(0,Hs.Z)(i("faq-link-item"),e.className),"data-qa":e.qa,children:[(0,Fs.jsxs)("button",{ref:o,type:"button",className:(0,Hs.Z)(i("faq-link"),{"font-weight-600":a&&t}),onClick:()=>r(!a),children:[t&&(0,Fs.jsx)("span",{className:"icon-slot icon-slot-14 me-0-5 shrink-0",children:(0,Fs.jsx)("span",{className:"p-abs centered font-size-14",children:(0,Fs.jsx)(Fo,{className:(0,Hs.Z)("icon d-block faq-link-icon",{"icon-rotate-90":!n&&a,"icon-rotate-180":n&&!a,"icon-rotate-270":n&&a})})})}),(0,Fs.jsx)("span",{className:"faq-link-title",children:e.title})]}),t?(0,Fs.jsx)(Ys.Z,{nodeRef:s,in:a,timeout:200,classNames:"fade",mountOnEnter:!0,unmountOnExit:!0,children:(0,Fs.jsx)("div",{ref:s,className:"body-3 py-2 ps-4 shrink-0","data-qa":e.qa?`${e.qa}-popover`:"",children:e.children})}):(0,Fs.jsxs)(Uo.N,{triggerRef:o,trigger:Bo,maxWidth:"312px",dataQa:e.qa?`${e.qa}-popover`:"",children:[(0,Fs.jsx)("p",{className:"subtitle-5",children:e.title}),(0,Fs.jsx)("div",{className:"body-3 mt-1",children:e.children})]})]})},qo=(0,m.memo)(Go),Vo=e=>{const t=(0,no.Y)(),n=(0,Zs.S)(),i=(0,Xs.q)(),a=Po(),r=(0,Bs.C)(),s=r.campaign.config.frequencies,o=r.company,c=To("lg"),l=(0,m.useMemo)((()=>a.type===et.MONEY),[a]),u=(0,m.useMemo)((()=>a.type===et.STOCK),[a.type]),d=(0,m.useMemo)((()=>a.type===et.CRYPTO),[a.type]),h=(p=o.country,g=o.nonProfit,Z()(Io).call(Io,p)&&g);var p,g;const y=l&&!Qe.isOnetimeOnly(s)&&o.donorPortal.canCancelSubscription;return(0,Fs.jsxs)("ul",{className:i("faq-links"),children:[(0,Fs.jsxs)(qo,{title:t.translate("faq.isDonationSecure.title"),qa:"is-donation-secure",children:[(0,Fs.jsxs)("p",{className:"faq-link-text",children:[l&&t.translate("faq.isDonationSecure.message.fiat.part-1"),u&&t.translate("faq.isDonationSecure.message.stock.part-1"),d&&t.translate("faq.isDonationSecure.message.crypto.part-1")]}),(0,Fs.jsxs)("p",{className:"faq-link-text mt-1",children:[l&&t.translate("faq.isDonationSecure.message.fiat.part-2"),u&&t.translate("faq.isDonationSecure.message.stock.part-2"),d&&t.translate("faq.isDonationSecure.message.crypto.part-2")]}),l&&(0,Fs.jsx)("p",{className:"faq-link-text mt-1",children:t.translate("faq.isDonationSecure.message.fiat.part-3")})]}),h&&(0,Fs.jsxs)(Fs.Fragment,{children:[e.showAskPage&&!n&&c&&(0,Fs.jsx)("li",{className:"body-4 text-white opacity-80 mx-3","aria-hidden":"true",children:""}),(0,Fs.jsxs)(qo,{title:t.translate("faq.isTaxDeductible.title"),qa:"is-tax-deductible",children:[(0,Fs.jsxs)("p",{className:"faq-link-text",children:[l&&t.translate("faq.isTaxDeductible.message.fiat.part-1"),u&&t.translate("faq.isTaxDeductible.message.stock.part-1"),d&&t.translate("faq.isTaxDeductible.message.crypto.part-1")]}),(0,Fs.jsxs)("p",{className:"faq-link-text mt-1",children:[l&&t.translate("faq.isTaxDeductible.message.fiat.part-2"),u&&t.translate("faq.isTaxDeductible.message.stock.part-2"),d&&t.translate("faq.isTaxDeductible.message.crypto.part-2")]}),u&&(0,Fs.jsx)("p",{className:"faq-link-text mt-1",children:t.translate("faq.isTaxDeductible.message.stock.part-3")}),d&&(0,Fs.jsx)("p",{className:"faq-link-text mt-1",children:t.translate("faq.isTaxDeductible.message.crypto.part-3")})]})]}),y&&(0,Fs.jsxs)(Fs.Fragment,{children:[e.showAskPage&&!n&&c&&(0,Fs.jsx)("li",{className:"body-4 text-white opacity-80 mx-3","aria-hidden":"true",children:""}),(0,Fs.jsx)(qo,{title:t.translate("faq.cancelRecurringDonation.title"),qa:"cancel-recurring-donation",children:(0,Fs.jsx)("p",{className:"faq-link-text",children:t.translate("faq.cancelRecurringDonation.message")})})]})]})},Ko=(0,m.memo)(Vo);var Ho;!function(e){e[e.BACKWARD=1]="BACKWARD",e[e.FORWARD=2]="FORWARD"}(Ho||(Ho={}));var Yo=n(2649);const Zo=e=>{const t=(0,Xs.q)();return(0,Fs.jsx)("div",{className:(0,Hs.Z)(t("flow"),e.className),children:e.children})},zo=(0,m.forwardRef)((function(e,t){const{children:n,hide:i,className:a}=e,r=(0,Xs.q)();return(0,Fs.jsx)("div",{className:(0,Hs.Z)(r("flow-slide"),a,{"flow-slide-hidden":i}),ref:t,children:n})})),Wo=e=>{const{alwaysMount:t,show:n,Screen:i,screenDirection:a,currentScreen:r,animationDisabled:s,onScreenEntered:o}=e,c=(0,m.useRef)(null),[l,u]=(0,m.useState)(!n),d=!n&&l,h=function(e){const t=(0,Bs.C)(),n=xo();return i=ko(),a=n.tribute,!(r={isShowcase:t.infrastructureParams.showcase,currentScreen:e}).isShowcase&&!i.isScreenWithoutTributeBadge(r.currentScreen)&&a.isEnabled&&a.isActive&&!!a.name;var i,a,r}(r),p=(0,m.useCallback)((()=>{u(!1)}),[]),g=(0,m.useCallback)((()=>{o()}),[o]),y=(0,m.useCallback)((()=>{u(!0)}),[]),f=(0,to.r)(c);return(0,Fs.jsx)(Ys.Z,{in:n,classNames:a,addEndListener:f,onEnter:p,onEntered:g,onExited:y,nodeRef:c,mountOnEnter:!t,unmountOnExit:!t,children:e=>(0,Fs.jsx)(zo,{ref:c,hide:d,className:s?"no-animation":"",children:(0,Fs.jsx)(m.Suspense,{fallback:(0,Fs.jsx)("span",{}),children:(0,Fs.jsx)(i,{transitionEntered:"entered"===e,showBadge:h})})})})};var $o;!function(e){e[e.MAX_LENGTH=500]="MAX_LENGTH"}($o||($o={}));var Xo=n(69062);function Qo(e){const t=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,m.useRef)(null),n=(0,Xo.w)(),i=(0,eo.g)();return(0,m.useEffect)((()=>{if(i)return;if(!e||!n)return;if(!t.current)throw new Error("ref is not provided");const a=H()((()=>{var e,n;null===(e=t.current)||void 0===e||e.setAttribute("tabindex","0"),null===(n=t.current)||void 0===n||n.focus({preventScroll:!0})}),50);return()=>window.clearTimeout(a)}),[t,e,n,i]),t}(e.autoFocus);return(0,Fs.jsx)("div",{className:"sr-only",role:e.role,"aria-live":"polite",ref:t,children:e.children})}var Jo=n(99486),ec=n(2230);const tc=(0,m.forwardRef)((function(e,t){return(0,Fs.jsx)("div",{ref:t,className:(0,Hs.Z)("body",e.className),children:e.children})}));var nc,ic;function ac(){return ac=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ac.apply(this,arguments)}var rc,sc=function(e,t){return m.createElement("svg",ac({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),nc||(nc=m.createElement("line",{x1:19,y1:12,x2:5,y2:12})),ic||(ic=m.createElement("polyline",{points:"12 19 5 12 12 5"})))},oc=(0,m.forwardRef)(sc),cc=(0,m.memo)(oc);function lc(){return lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lc.apply(this,arguments)}var uc=function(e,t){return m.createElement("svg",lc({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),rc||(rc=m.createElement("polyline",{points:"15 18 9 12 15 6"})))},dc=(0,m.forwardRef)(uc),hc=(0,m.memo)(dc),mc=n(82621);const pc=e=>{const t=(0,no.Y)(),n=(0,co.S)(),{isVariant2TestGroup:i}=(0,mc.X)();return(0,Fs.jsx)(Fs.Fragment,{children:i?(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)("btn-icon back-btn",e.className),"aria-label":t.translate("common.backButton"),disabled:e.disabled,onClick:e.onClick,"data-qa":"back-checkout","data-tracking-element-name":"backButton",children:(0,Fs.jsx)(hc,{className:(0,Hs.Z)("icon-stroke icon-stroke-2 d-block",{"icon-flip-horizontal":n}),"aria-hidden":"true","data-testid":"back-icon"})}):(0,Fs.jsx)(Fs.Fragment,{children:"header"===e.type?(0,Fs.jsx)("button",{className:(0,Hs.Z)("header-back-btn",e.className),type:"button","aria-label":t.translate("common.backButton"),onClick:e.onClick,"data-qa":"back-checkout",disabled:e.disabled,"data-tracking-element-name":"backButton",children:(0,Fs.jsx)(hc,{className:(0,Hs.Z)("icon-stroke icon-stroke-2 d-block",{"icon-flip-horizontal":n}),"aria-hidden":"true","data-testid":"back-icon"})}):(0,Fs.jsxs)("button",{type:"button",className:(0,Hs.Z)("btn-link link-1 d-flex items-center justify-center",e.className),onClick:e.onClick,disabled:e.disabled,"data-qa":"back-checkout","data-tracking-element-name":"backButton",children:[(0,Fs.jsx)("span",{className:"icon-slot icon-slot-14 shrink-0 me-1","aria-hidden":"true",children:(0,Fs.jsx)("span",{className:"p-abs centered font-size-14",children:(0,Fs.jsx)(cc,{className:(0,Hs.Z)("icon-stroke d-block",{"icon-flip-horizontal":n}),"data-testid":"back-icon"})})}),(0,Fs.jsx)("span",{className:"text-truncate",children:t.translate("common.backButton")}),(0,Fs.jsx)("span",{className:"icon-slot icon-slot-14 shrink-0 ms-1"})]})})})},gc=(0,m.memo)(pc),yc=e=>{const t=(0,Zs.S)(),n=(0,Xs.q)(),{isVariant2TestGroup:i}=(0,mc.X)(),a=Eo(),[r,s]=(0,m.useState)((()=>a.getCurrentFlow())),[o,c]=(0,m.useState)(r.isLocked),[l,u]=(0,m.useState)((()=>a.checkoutService.canGoBack)),[d,h]=(0,m.useState)((()=>r.canGoBack)),p=(0,Yo.Y)();(0,m.useEffect)((()=>{p&&(u(a.checkoutService.canGoBack),h(a.getCurrentFlow().canGoBack))}),[a,p]),(0,m.useEffect)((()=>{const e=r.on(sa.LOCKED,(()=>{c(!0)})),t=r.on(sa.UNLOCKED,(()=>{c(!1)}));return()=>{e(),t()}}),[r]),(0,m.useEffect)((()=>a.onFlowChanged((()=>{s(a.getCurrentFlow())}))),[a]);const g=(0,m.useCallback)((()=>{d&&l&&r.prev()}),[r,d,l]),y=t&&(e.forceShowBackButton||l);return(0,Fs.jsx)("div",{className:(0,Hs.Z)(n("footer"),e.className),children:(0,Fs.jsxs)("div",{className:"fixed-container p-rel",children:[e.children,y&&!i&&(0,Fs.jsx)("div",{className:(0,Hs.Z)("d-flex justify-center",{"mt-6":e.children}),children:(0,Fs.jsx)(gc,{className:(0,Hs.Z)(e.backButtonClass),onClick:e.backButtonClickHandler||g,type:"footer",disabled:o})})]})})};var fc,vc=n(71549);function Sc(){return Sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sc.apply(this,arguments)}var Cc=function(e,t){return m.createElement("svg",Sc({fill:"none",height:18,viewBox:"0 0 18 18",width:18,xmlns:"http://www.w3.org/2000/svg",ref:t},e),fc||(fc=m.createElement("path",{d:"m9 14.1538c11.106-6.11746 4.1743-13.12046 0-8.83311-4.17433-4.2874-11.106 2.7156 0 8.83311z",fill:"currentColor"})))},bc=(0,m.forwardRef)(Cc),Ec=(0,m.memo)(bc);const Ac=["hover"],Nc=["click"],Pc=["bottom"],xc=["bottom-end"],kc=e=>{const t=(0,no.Y)(),n=(0,co.S)(),i=(0,Zs.S)(),a=(0,Xs.q)(),{isVariant2TestGroup:r}=(0,mc.X)(),s=(0,Bs.C)(),o=(0,m.useRef)(null),c=s.campaign.config.tribute.showAddress||s.campaign.config.tribute.showEmail,l=(0,m.useRef)(null);return(0,Fs.jsx)(Fs.Fragment,{children:r?(0,Fs.jsx)("div",{className:a("tribute-badge-wrapper"),children:(0,Fs.jsx)("div",{className:"fixed-container",children:(0,Fs.jsxs)("div",{ref:o,className:(0,Hs.Z)(a("tribute-badge-experiment"),"label-4-5"),"data-qa":"tribute-badge","data-tracking-element-name":"tributeBadge",children:[(0,Fs.jsx)("span",{className:"icon-slot icon-slot-20 shrink-0 me-2","aria-hidden":"true",children:(0,Fs.jsx)("span",{className:"p-abs centered font-size-20 text-fuchsia-80",children:(0,Fs.jsx)(Ec,{className:"icon-fill d-block"})})}),(0,Fs.jsxs)("p",{className:(0,Hs.Z)("grow-1",i?"text-ellipsis":"text-line-clamp-2 "),children:[t.translate("tributeBadge.label"),(0,Fs.jsx)("span",{className:"label-3-5 text-break-word ms-1",children:e.name})]}),c&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("div",{className:"icon-slot icon-slot-18 shrink-0 ms-2",children:(0,Fs.jsx)("button",{ref:l,type:"button",className:"tribute-badge-help btn-icon p-abs centered font-size-18","aria-label":t.translate("tributeBadge.helpAriaLabel"),children:(0,Fs.jsx)(vc.Z,{className:(0,Hs.Z)("icon-stroke d-block",{"icon-flip-horizontal":n}),"aria-hidden":"true"})})}),(0,Fs.jsx)(Uo.N,{triggerRef:l,trigger:Nc,placement:n?"left":"right",fallbackPlacements:xc,maxWidth:"220px",children:t.translate("tributeBadge.tooltipLabel")})]})]})})}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("p",{ref:o,className:(0,Hs.Z)(a("tribute-badge"),{"cursor-pointer":c}),"data-qa":"tribute-badge","data-tracking-element-name":"tributeBadge",children:[(0,Fs.jsxs)("span",{className:"body-2 d-flex",children:[(0,Fs.jsx)("span",{className:"icon-slot icon-slot-18 shrink-0 me-1","aria-hidden":"true",children:(0,Fs.jsx)("span",{className:"p-abs centered font-size-18 text-red-60",children:(0,Fs.jsx)(Ec,{className:"icon-fill d-block"})})}),(0,Fs.jsx)("span",{className:"text-truncate me-1",children:t.translate("tributeBadge.label")})]}),(0,Fs.jsx)("span",{className:(0,Hs.Z)("label-2",i?"text-ellipsis":"text-truncate"),dir:"auto",children:e.name})]}),c&&(0,Fs.jsx)(Uo.N,{triggerRef:o,trigger:i?Nc:Ac,placement:n?"left-start":"right-start",fallbackPlacements:Pc,maxWidth:"var(--fixed-container-width-desktop)",children:t.translate("tributeBadge.tooltipLabel")})]})})},wc=window.devicePixelRatio>1,Dc=e=>{const t=(0,Zs.S)(),n=(0,Xs.q)(),{isVariant2TestGroup:i}=(0,mc.X)(),a=Eo(),[r,s]=(0,m.useState)((()=>a.getCurrentFlow())),[o,c]=(0,m.useState)(r.isLocked),[l,u]=(0,m.useState)((()=>a.checkoutService.canGoBack)),[d,h]=(0,m.useState)((()=>r.canGoBack)),p=(0,Yo.Y)(),g=(0,Bs.C)(),y=g.getAskPageConfig(wc),f=xo(),v=y.show||!!g.fundraisingPage,S=y.show?y.logoImage:y.fallbackCompanyLogo;(0,m.useEffect)((()=>{p&&(u(a.checkoutService.canGoBack),h(a.getCurrentFlow().canGoBack))}),[a,p]),(0,m.useEffect)((()=>{const e=r.on(sa.LOCKED,(()=>{c(!0)})),t=r.on(sa.UNLOCKED,(()=>{c(!1)}));return()=>{e(),t()}}),[r,e]),(0,m.useEffect)((()=>a.onFlowChanged((()=>{const e=a.getCurrentFlow();s(e)}))),[a]);const C=(0,m.useCallback)((()=>{d&&l&&r.prev()}),[r,d,l]),b=e.title||e.children||e.forceShowBackButton||l;return(0,Fs.jsx)(Fs.Fragment,{children:i?(0,Fs.jsxs)(Fs.Fragment,{children:[t&&!v&&(0,Fs.jsx)("div",{className:"header-company",children:S?(0,Fs.jsx)("img",{src:S,alt:y.companyName,className:"header-company-logo",height:"32","data-qa":"campaign-logo-image"}):(0,Fs.jsx)("p",{className:"header-company-name",title:y.companyName,children:y.companyName})}),e.showBadge&&(0,Fs.jsx)(kc,{name:f.tribute.name}),b&&(0,Fs.jsx)("div",{className:(0,Hs.Z)(n("header-experiment"),{"header-fullwidth":e.titleFullWidth},e.className),"data-qa":"header-block",children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)(n("header-main-experiment"),"fixed-container d-flex items-center",{"justify-center text-center":e.titleCentered}),children:[(e.forceShowBackButton||l)&&(0,Fs.jsx)(gc,{type:"header",className:"me-4",disabled:o,onClick:e.backButtonClickHandler||C}),e.title?(0,Fs.jsx)("h2",{className:(0,Hs.Z)("subtitle-3-5",t?"text-ellipsis":"text-line-clamp-2"),"data-testid":e.titleTestId,"data-qa":e.titleQa,children:e.title}):e.children]})})]}):(0,Fs.jsxs)(Fs.Fragment,{children:[e.showBadge&&(0,Fs.jsx)(kc,{name:f.tribute.name}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)(n("header"),e.className),"data-qa":"header-block",children:[!t&&!e.titleFullWidth&&(0,Fs.jsx)("div",{className:"header-aside",children:(0,Fs.jsx)("div",{className:"icon-slot icon-slot-24",children:(0,Fs.jsx)("div",{className:"p-abs centered",children:(e.forceShowBackButton||l)&&(0,Fs.jsx)(gc,{type:"header",disabled:o,onClick:e.backButtonClickHandler||C})})})}),t&&!v&&(0,Fs.jsx)("div",{className:"header-company",children:S?(0,Fs.jsx)("img",{src:S,alt:y.companyName,className:"header-company-logo",height:"32","data-qa":"campaign-logo-image"}):(0,Fs.jsx)("p",{className:"header-company-name",title:y.companyName,children:y.companyName})}),(e.children||e.title)&&(0,Fs.jsx)("div",{className:(0,Hs.Z)(n("header-main"),{"header-main-full":!t&&e.titleFullWidth}),children:e.title?(0,Fs.jsx)("h2",{className:(0,Hs.Z)("title-2",t?"text-ellipsis":"text-line-clamp-2"),"data-testid":e.titleTestId,"data-qa":e.titleQa,children:e.title}):e.children}),!t&&!e.titleFullWidth&&(0,Fs.jsx)("div",{className:"header-aside",children:(0,Fs.jsx)("div",{className:"icon-slot icon-slot-24"})})]})]})})},Tc={minHeight:"200px"},Oc=e=>{const{showBadge:t}=e,{state:n,controller:i}=No(un.COMMENT),a=(0,no.Y)(),r=(0,Zs.S)(),s=ho(),{isVariant2TestGroup:o}=(0,mc.X)(),c=(0,m.useRef)(null);(0,ec.w)({ref:c,autoFocus:!0,mode:Jo.E.ALL});const l=(0,m.useCallback)((e=>{e.preventDefault(),i.submitComment()}),[i]),u=(0,m.useCallback)((e=>{i.setComment(e.target.value)}),[i]);return(0,Fs.jsxs)("form",{"data-testid":"comment-form",onSubmit:l,className:"flow-screen","data-qa":"active-screen-comment",children:[(0,Fs.jsx)(Qo,{role:"status",autoFocus:r,children:a.translate("common.screenAriaLabel",{screenTitle:`${a.translate("commentScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:a.translate("commentScreen.title"),showBadge:t}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"pt-8":!r&&!o,"pb-10":!r}),children:(0,Fs.jsx)("div",{className:(0,Hs.Z)("fixed-container",{"grow-1 d-flex flex-column":!r}),children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)({"grow-1 d-flex flex-column":!r}),children:[(0,Fs.jsx)("label",{htmlFor:`comment-${s}`,className:"sr-only",children:a.translate("commentScreen.textareaPlaceholder")}),(0,Fs.jsx)("textarea",{ref:c,id:`comment-${s}`,className:(0,Hs.Z)("form-control",{"form-control-experiment":o,"grow-1":!r}),style:Tc,onChange:u,value:n.comment,placeholder:a.translate("commentScreen.textareaPlaceholder"),"data-qa":"comment","data-testid":"comment-input",maxLength:$o.MAX_LENGTH})]})})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsx)("button",{type:"submit",className:"btn btn-primary","data-qa":"save-comment","data-tracking-element-name":"nextButton",children:a.translate("commentScreen.button")})})]})};var _c=n(74502);const Ic=e=>{const{size:t,minSize:n,className:i}=e,a={width:`${t}px`,height:`${t}px`,lineHeight:n&&`${n}px`};return(0,Fs.jsx)("div",{className:(0,_c.Z)("opacity-0",i),style:a,"aria-hidden":"true",children:""})},Rc=(0,m.memo)(Ic);function Lc(e,t,n){switch(n){case Oe.ONCE:return e.translate("creditCardScreen.payButtonLabel.once",{amount:t});case Oe.DAILY:return e.translate("creditCardScreen.payButtonLabel.daily",{amount:t});case Oe.WEEKLY:return e.translate("creditCardScreen.payButtonLabel.weekly",{amount:t});case Oe.BIWEEKLY:return e.translate("creditCardScreen.payButtonLabel.biweekly",{amount:t});case Oe.EVERY_4_WEEKS:return e.translate("creditCardScreen.payButtonLabel.every4weeks",{amount:t});case Oe.MONTHLY:return e.translate("creditCardScreen.payButtonLabel.monthly",{amount:t});case Oe.BIMONTHLY:return e.translate("creditCardScreen.payButtonLabel.bimonthly",{amount:t});case Oe.QUARTERLY:return e.translate("creditCardScreen.payButtonLabel.quarterly",{amount:t});case Oe.SEMIANNUAL:return e.translate("creditCardScreen.payButtonLabel.semiannual",{amount:t});case Oe.ANNUAL:return e.translate("creditCardScreen.payButtonLabel.annual",{amount:t});default:throw new Error(`Unknown frequency "${n}"`)}}function Mc(e,t){switch(t){case Oe.ONCE:return e.translate("donateForm.giveOnce");case Oe.DAILY:return e.translate("donateForm.daily");case Oe.WEEKLY:return e.translate("donateForm.weekly");case Oe.EVERY_4_WEEKS:return e.translate("donateForm.every4weeks");case Oe.BIWEEKLY:return e.translate("donateForm.biweekly");case Oe.MONTHLY:return e.translate("donateForm.monthly");case Oe.BIMONTHLY:return e.translate("donateForm.bimonthly");case Oe.QUARTERLY:return e.translate("donateForm.quarterly");case Oe.SEMIANNUAL:return e.translate("donateForm.semiannual");case Oe.ANNUAL:return e.translate("donateForm.annual");default:throw new ae(t)}}var jc=n(99117),Fc=n(95423);const Uc=e=>(0,Fs.jsxs)("div",{className:(0,Hs.Z)({"alert-danger p-3 mb-3":e.isMobileView}),role:e.role,"data-testid":e.dataTestId,children:[e.tooltipTitle&&(0,Fs.jsx)("p",{className:"subtitle-5 text-red-80 text-ellipsis","data-qa":e.dataQa+"-error-title",dangerouslySetInnerHTML:{__html:e.tooltipTitle}}),e.tooltipMessage&&(0,Fs.jsx)("p",{className:"body-3 text-color text-ellipsis mt-1","data-qa":e.dataQa+"-error-message",dangerouslySetInnerHTML:{__html:e.tooltipMessage}})]}),Bc=(0,m.memo)(Uc),Gc=e=>{var t,n;return(0,Fs.jsxs)("svg",{className:"d-block icon icon-spin",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("path",{d:"M9 16.5C13.1421 16.5 16.5 13.1421 16.5 9C16.5 4.85786 13.1421 1.5 9 1.5C4.85786 1.5 1.5 4.85786 1.5 9C1.5 13.1421 4.85786 16.5 9 16.5Z",stroke:"#515151",strokeOpacity:"0.2",strokeWidth:null!==(t=e.iconStrokeWidth)&&void 0!==t?t:2.5,strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M16.5 9C16.5 13.1421 13.1421 16.5 9 16.5",stroke:"#4C85DB",strokeWidth:null!==(n=e.iconStrokeWidth)&&void 0!==n?n:2.5,strokeLinecap:"round",strokeLinejoin:"round"})]})},qc=(0,m.memo)(Gc),Vc=e=>{var t;return(0,Fs.jsx)("span",{className:(0,Hs.Z)(e.className),style:e.style,children:(0,Fs.jsx)("span",{className:`p-abs centered font-size-${e.size}`,children:null!==(t=e.children)&&void 0!==t?t:(0,Fs.jsx)(qc,{iconStrokeWidth:e.iconStrokeWidth})})})},Kc=(0,m.memo)(Vc);var Hc;function Yc(){return Yc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yc.apply(this,arguments)}var Zc,zc=function(e,t){return m.createElement("svg",Yc({fill:"none",height:28,viewBox:"0 0 28 28",width:28,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Hc||(Hc=m.createElement("g",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3},m.createElement("path",{d:"m21 7-14 14"}),m.createElement("path",{d:"m7 7 14 14"}))))},Wc=(0,m.forwardRef)(zc),$c=(0,m.memo)(Wc);function Xc(){return Xc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xc.apply(this,arguments)}var Qc=function(e,t){return m.createElement("svg",Xc({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),Zc||(Zc=m.createElement("path",{d:"M23.3332 7L10.4998 19.8333L4.6665 14",stroke:"white",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"})))},Jc=(0,m.forwardRef)(Qc),el=(0,m.memo)(Jc);const tl=e=>{var t;const n=(0,no.Y)(),i=(0,Zs.S)(),a=(0,m.useRef)(null),r=(0,m.useRef)(null),s=(0,m.useRef)(null),o="idle"===e.processingState,c="pending"===e.processingState,l="success"===e.processingState,u="error"===e.processingState,d=!o&&!u||e.disabled,h=u&&(!!e.tooltipTitle||!!e.tooltipMessage),[p,g]=(0,m.useState)(u),[y,f]=(0,m.useState)(h);!function(e){const{animate:t,progressRef:n}=e,i=(0,co.S)();(0,m.useLayoutEffect)((()=>{if(!n.current)throw new Error("progressRef was not passed");const e=n.current;if(!t)return void(n.current.style.transform=i?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)");let a=500;e.style.transform=i?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)";let r=((t,n)=>{const s=performance.now(),o=t=>{const c=t-s;c>250&&(a=250+c,n=a),(t=>{e.style.transform=i?"translate3d("+Math.round(100-t/(a/100))+"%, 0, 0)":"translate3d(-"+Math.round(100-t/(a/100))+"%, 0, 0)"})(c),c<n&&(r=window.requestAnimationFrame(o))};return window.requestAnimationFrame(o)})(0,a);return()=>window.cancelAnimationFrame(r)}),[n,t,i])}({progressRef:s,animate:"pending"===e.processingState});const v=(0,Fc.i)((()=>{g(!1),f(!1)})),S=()=>{p&&g(!1),y&&f(!1)};return function(e){const{document:t}=(0,Gs.R)();(0,m.useEffect)((()=>{const n=()=>{e()};return t.addEventListener("stripeElementEvent",n),t.addEventListener("click",n),()=>{t.removeEventListener("click",n),t.removeEventListener("stripeElementEvent",n)}}),[t,e])}(S),function(e){const{document:t}=(0,Gs.R)();(0,m.useEffect)((()=>{const n=t=>{"Tab"===t.key&&e()};return t.addEventListener("keydown",n),()=>{t.removeEventListener("keydown",n)}}),[t,e])}(S),(0,m.useEffect)((()=>{g(u),f(h)}),[u,h]),(0,m.useEffect)((()=>{p?v.set([],bt):v.clear()}),[p,v]),(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:c&&n.translate("payButton.processing")}),(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:l&&n.translate("payButton.done")}),i?(0,Fs.jsx)(Ys.Z,{nodeRef:a,in:y,timeout:200,classNames:"fade",mountOnEnter:!0,unmountOnExit:!0,children:(0,Fs.jsx)(Bc,{tooltipTitle:e.tooltipTitle,tooltipMessage:e.tooltipMessage,dataQa:e.dataQa,isMobileView:i,role:y?"alert":"none",dataTestId:"tooltip-mobile-error-alert"})}):(0,Fs.jsx)(jc.K,{triggerRef:r,show:y,maxWidth:"var(--fixed-container-width-desktop)",role:y?"alert":"none",children:(0,Fs.jsx)(Bc,{tooltipTitle:e.tooltipTitle,tooltipMessage:e.tooltipMessage,dataQa:e.dataQa,isMobileView:i,dataTestId:"tooltip-desktop-error-alert"})}),(0,Fs.jsx)("button",{ref:r,className:(0,Hs.Z)("link"===e.buttonType?"btn-link p-rel max-w-100":"btn",{"btn-payment":"link"!==e.buttonType&&!e.testMode,"btn-testmode":"link"!==e.buttonType&&e.testMode},e.className,{"w-100":"link"===e.buttonType&&!o,processing:c,"processing done":l,"processing error":p}),type:null!==(t=e.type)&&void 0!==t?t:"button",disabled:d,"aria-disabled":d,"aria-busy":c,"data-qa":e.dataQa,"data-tracking-element-name":e.trackingElement,"data-testid":e.dataTestId,onClick:e.onClick,children:"link"===e.buttonType?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("span",{className:(0,Hs.Z)("text-truncate",{invisible:c||l||p}),"data-testid":"link-children-container",children:e.children}),(c||l)&&(0,Fs.jsxs)("span",{className:"p-abs centered max-w-100 d-flex justify-center",children:[(0,Fs.jsx)(Kc,{size:18,className:"icon-slot icon-slot-18 shrink-0 me-1"}),(0,Fs.jsx)("span",{className:"text-truncate",children:n.translate("payButton.processingShort")})]}),p&&(0,Fs.jsx)("span",{className:"p-abs centered text-truncate text-red-80 max-w-100",children:n.translate("payButton.error")}),(0,Fs.jsx)("span",{ref:s})]}):(0,Fs.jsxs)(Fs.Fragment,{children:[e.children,(0,Fs.jsx)("span",{ref:s,className:"animated-progress"}),(0,Fs.jsxs)("span",{className:"done-mark",children:[p&&(0,Fs.jsx)($c,{"data-testid":"pay-button-error-icon"}),l&&(0,Fs.jsx)(el,{"data-testid":"pay-button-success-icon"})]})]})})]})},nl=(0,m.memo)(tl);var il;function al(){return al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},al.apply(this,arguments)}var rl=function(e,t){return m.createElement("svg",al({width:14,height:10,viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),il||(il=m.createElement("path",{d:"M12.3333 1L5 8.33333L1.66667 5",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))},sl=(0,m.forwardRef)(rl),ol=(0,m.memo)(sl);const cl=e=>(0,Fs.jsxs)("div",{ref:e.innerRef,className:(0,_c.Z)("ui-checkbox",{"ui-checkbox-disabled":e.disabled,"has-error":e.error},e.className),children:[(0,Fs.jsxs)("label",{className:(0,_c.Z)("ui-checkbox-label",e.customLabelClasses),children:[(0,Fs.jsxs)("span",{className:(0,_c.Z)("ui-checkbox-control",e.customControlClasses),children:[(0,Fs.jsx)("input",{type:"checkbox",disabled:e.disabled,checked:e.checked,value:e.checkboxValue,"data-qa":e.qa,"data-tracking-element-name":e.trackingElement,"data-testid":e.dataTestId,onChange:()=>{e.disabled||e.onChange(!e.checked)}}),(0,Fs.jsx)("span",{className:"ui-checkbox-icon",children:e.checked&&(0,Fs.jsx)(ol,{})})]}),e.children&&(0,Fs.jsx)("span",{className:"ui-checkbox-text",children:e.children})]}),e.hint&&(0,Fs.jsx)("div",{className:"ui-checkbox-hint",children:e.hint})]}),ll=["click"],ul=["top","top-end"],dl=e=>{const t=(0,no.Y)(),n=(0,co.S)(),i=(0,m.useRef)(null);return(0,Fs.jsxs)("div",{className:(0,Hs.Z)("d-flex",e.className),children:[(0,Fs.jsx)(cl,{checked:e.anonymousChecked,disabled:e.locked,onChange:e.onToggle,qa:"anonymously-checkbox",trackingElement:"anonymousCheckbox",dataTestId:e.dataTestId,children:(0,Fs.jsx)("span",{className:"text-truncate",children:t.translate("privacyScreen.donateAnonymously.label")})}),(0,Fs.jsx)("div",{className:"shrink-0 icon-slot icon-slot-18 ms-2",children:(0,Fs.jsx)("button",{type:"button",ref:i,className:"btn-icon p-abs centered text-gray-60 font-size-18",disabled:e.locked,"aria-label":t.translate("privacyScreen.donateAnonymously.helpAriaLabel"),children:(0,Fs.jsx)(vc.Z,{className:(0,Hs.Z)("icon-stroke d-block",{"icon-flip-horizontal":n}),"aria-hidden":"true"})})}),!e.locked&&(0,Fs.jsx)(Uo.N,{triggerRef:i,trigger:ll,placement:n?"left-start":"right-start",fallbackPlacements:ul,children:t.translate("privacyScreen.donateAnonymously.tooltipLabel")})]})},hl=(0,m.memo)(dl),ml=e=>{const t=(0,no.Y)(),n=ho(),i=(0,m.useRef)(null);return(0,ec.w)({ref:i,autoFocus:e.autoFocus,mode:Jo.E.DESKTOP}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("p-rel",e.className),children:[(0,Fs.jsx)("label",{htmlFor:`account-${n}`,className:"sr-only",children:t.translate("privacyScreen.brokerageAccountNumber.label")}),(0,Fs.jsx)("input",{ref:i,type:"text",id:`account-${n}`,name:"brokerageAccountNumber",className:(0,Hs.Z)("form-control text-sans-serif",{"has-error":!e.validation.brokerageAccountNumber.isValid}),placeholder:t.translate("privacyScreen.brokerageAccountNumber.placeholder"),value:e.brokerageAccountNumber.accountNumber,disabled:e.locked,onChange:t=>e.onChange(t.target.value),"data-qa":"personal-brokerage-account-number","data-testid":e.dataTestId}),e.validation.brokerageAccountNumber.fields.accountNumber.errors.required&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:t.translate("privacyScreen.brokerageAccountNumber.error.required")})]})},pl=(0,m.memo)(ml);var gl=n(775);const yl=e=>{var t,n,{label:i,labelOptional:a,labelSrOnly:r,labelFloating:s,id:o,className:c,value:l,formGroupClass:u,formLabelClass:d,dataQa:h,dataTestId:p,options:g=[],groupedOptions:f,children:v,autoFocus:S,hasCustomValue:C,customPlaceholder:b,error:E}=e,A=(0,y._T)(e,["label","labelOptional","labelSrOnly","labelFloating","id","className","value","formGroupClass","formLabelClass","dataQa","dataTestId","options","groupedOptions","children","autoFocus","hasCustomValue","customPlaceholder","error"]);const N=(0,m.useRef)(null),P=""===(null===(n=null==g?void 0:g[0])||void 0===n?void 0:n.value);return(0,ec.w)({ref:N,autoFocus:S,mode:Jo.E.DESKTOP}),(0,Fs.jsxs)(gl.E,{htmlFor:o,label:i,labelOptional:a,labelSrOnly:r,labelFloating:s,formGroupClass:u,formLabelClass:(0,_c.Z)(d,{"has-error":E}),formControlValue:l,children:[(0,Fs.jsxs)("select",k()({id:o,ref:N,className:(0,_c.Z)("form-control",c,{"has-label-floating":s,"has-error":E}),value:l,"data-qa":h,"data-testid":p},A,{children:[!P&&(0,Fs.jsx)("option",{value:"",disabled:!0}),g&&De()(g).call(g,(e=>{let{value:t,label:n}=e;return(0,Fs.jsx)("option",{value:t,children:n},t)})),f&&De()(t=xt()(f)).call(t,(e=>{let[t,n]=e;return(0,Fs.jsx)("optgroup",{label:t,children:De()(n).call(n,(e=>{let{value:t,label:n}=e;return(0,Fs.jsx)("option",{value:t,children:n},t)}))},t)}))]})),(C||!s&&b)&&(0,Fs.jsx)("span",{className:(0,_c.Z)("custom-select-cover-label p-abs bottom-left bottom-right text-truncate pointer-events-none z-index-4",{"text-gray-60":!l,"has-label-floating":s}),children:l||b}),v]})},fl=(0,n(43151).U)(yl),vl=e=>{var t;const n=(0,no.Y)(),i=ho(),{isTestGroup:a}=(0,mc.X)(),r=De()(t=e.customerTitle.list).call(t,(e=>({value:e,label:e})));return(0,Fs.jsxs)("div",{className:(0,Hs.Z)("p-rel",e.className),style:e.style,children:[(0,Fs.jsx)(fl,{id:`title-${i}`,label:n.translate("privacyScreen.customerTitle.label"),labelSrOnly:e.labelSrOnly,labelFloating:e.labelFloating,formGroupClass:"p-abs top-left bottom-right",value:e.customerTitle.title,options:r,customPlaceholder:n.translate("privacyScreen.customerTitle.placeholder"),autoFocus:e.autoFocus,disabled:e.locked,error:!e.validation.customerTitle.isValid,dataTestId:e.dataTestId,onChange:t=>e.onChange(t.target.value),children:e.validation.customerTitle.fields.title.errors.required&&(0,Fs.jsx)("span",{role:"alert",className:"sr-only",children:n.translate("privacyScreen.customerTitle.error.required")})}),(0,Fs.jsx)("span",{className:(0,Hs.Z)("invisible form-control custom-select",{"has-label-floating":a}),"aria-hidden":"true",children:n.translate("privacyScreen.customerTitle.placeholder")})]})},Sl=(0,m.memo)(vl);var Cl;!function(e){e[e.NAME_MIN_LENGTH=1]="NAME_MIN_LENGTH",e[e.NAME_MAX_LENGTH=100]="NAME_MAX_LENGTH",e[e.EMAIL_MAX_LENGTH=320]="EMAIL_MAX_LENGTH",e[e.ON_BEHALF_OF_MAX_LENGTH=60]="ON_BEHALF_OF_MAX_LENGTH"}(Cl||(Cl={}));var bl=n(49561);const El=["click"],Al=["top-end"],Nl={width:"40px",height:"42px"},Pl=e=>{const t=(0,no.Y)(),n=(0,co.S)(),i=(0,Zs.S)(),{isTestGroup:a}=(0,mc.X)(),r=(0,m.useRef)(null);return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("button",{type:"button",ref:r,className:(0,Hs.Z)("btn-icon p-abs centered-right z-index-5",a?"me-4":"me-3"),disabled:e.isDisabled,"aria-label":t.translate("privacyScreen.emailInput.helpAriaLabel"),"data-testid":"privacy-email-consent-tooltip-trigger",children:[(0,Fs.jsx)("span",{className:"p-abs centered border-radius-8",style:Nl}),(0,Fs.jsx)("span",{className:"text-gray-60 font-size-18","aria-hidden":"true","data-qa":"privacy-email-consent-tooltip-trigger",children:(0,Fs.jsx)(vc.Z,{className:(0,Hs.Z)("icon-stroke d-block",{"icon-flip-horizontal":n})})})]}),!e.isDisabled&&(0,Fs.jsx)(Uo.N,{triggerRef:r,trigger:El,placement:n?"left-start":"right-start",fallbackPlacements:Al,maxWidth:i?"var(--fixed-container-width-desktop)":"232px",dataQa:"privacy-email-consent-tooltip",children:t.translate("privacyScreen.emailInput.tooltipLabel")})]})},xl=e=>{const t=(0,no.Y)(),n=ho();return(0,Fs.jsxs)(bl.u,{id:`personal-email-${n}`,type:"email",label:t.translate("privacyScreen.emailInput.label"),labelSrOnly:e.labelSrOnly,labelFloating:e.labelFloating,className:(0,Hs.Z)({"pe-10":e.emailConsent.isEnabled}),formGroupClass:e.className,formLabelClass:(0,Hs.Z)({"pe-6":e.emailConsent.isEnabled}),placeholder:t.translate("privacyScreen.emailInput.placeholder"),value:e.email,maxLength:Cl.EMAIL_MAX_LENGTH,inputMode:"email",autoComplete:"email",name:"email",error:!e.validation.donorEmail.fields.email.isValid,disabled:e.locked,onChange:t=>e.onChange(t.target.value),dataQa:"personal-email",dataTestId:e.dataTestId,children:[!e.validation.donorEmail.fields.email.isValid&&(0,Fs.jsxs)("span",{role:"alert",className:"sr-only",children:[e.validation.donorEmail.fields.email.errors.required&&t.translate("privacyScreen.emailInput.error.required"),!e.validation.donorEmail.fields.email.errors.required&&e.validation.donorEmail.fields.email.errors.email&&t.translate("privacyScreen.emailInput.error.invalid")]}),e.emailConsent.isEnabled&&(0,Fs.jsx)(Pl,{isDisabled:e.locked})]})},kl=(0,m.memo)(xl),wl=e=>{const t=(0,no.Y)(),n=ho();return(0,Fs.jsx)(bl.u,{id:`personal-first-name-${n}`,label:t.translate("privacyScreen.firstNameInput.label"),labelSrOnly:e.labelSrOnly,labelFloating:e.labelFloating,formGroupClass:e.className,placeholder:t.translate("privacyScreen.firstNameInput.placeholder"),value:e.firstName,maxLength:Cl.NAME_MAX_LENGTH,autoComplete:"given-name",name:"firstName",disabled:e.locked,error:!e.validation.donorName.fields.firstName.isValid,onChange:t=>e.onChange(t.target.value),dataQa:"personal-first-name",dataTestId:e.dataTestId,children:!e.validation.donorName.fields.firstName.isValid&&(0,Fs.jsxs)("span",{role:"alert",className:"sr-only",children:[e.validation.donorName.fields.firstName.errors.required&&t.translate("privacyScreen.firstNameInput.error.required"),!e.validation.donorName.fields.firstName.errors.required&&e.validation.donorName.fields.firstName.errors.minLength&&t.translate("privacyScreen.firstNameInput.error.minLength")]})})},Dl=(0,m.memo)(wl),Tl=e=>{const t=(0,no.Y)(),n=ho();return(0,Fs.jsx)(bl.u,{id:`personal-last-name-${n}`,label:t.translate("privacyScreen.lastNameInput.label"),labelSrOnly:e.labelSrOnly,labelFloating:e.labelFloating,formGroupClass:e.className,placeholder:t.translate("privacyScreen.lastNameInput.placeholder"),value:e.lastName,maxLength:Cl.NAME_MAX_LENGTH,autoComplete:"family-name",name:"lastName",disabled:e.locked,error:!e.validation.donorName.fields.lastName.isValid,onChange:t=>e.onChange(t.target.value),dataQa:"personal-last-name",dataTestId:e.dataTestId,children:!e.validation.donorName.fields.lastName.isValid&&(0,Fs.jsxs)("span",{role:"alert",className:"sr-only",children:[e.validation.donorName.fields.lastName.errors.required&&t.translate("privacyScreen.lastNameInput.error.required"),!e.validation.donorName.fields.lastName.errors.required&&e.validation.donorName.fields.lastName.errors.minLength&&t.translate("privacyScreen.lastNameInput.error.minLength")]})})},Ol=(0,m.memo)(Tl),_l=e=>{var t,n,i;const a=(0,no.Y)(),r=(0,co.S)(),s=ho(),{isTestGroup:o}=(0,mc.X)(),[c,l]=(0,m.useState)(!1),u=(0,m.useRef)(null);return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("div",{className:(0,Hs.Z)("d-flex",e.className),children:[(0,Fs.jsx)(cl,{checked:e.onBehalfOf.isActive,disabled:e.locked,qa:"behalf-company-button",trackingElement:"showBehalfOfInput",dataTestId:e.dataTestIdCheckbox,onChange:()=>{e.onToggleOnBehalfOf(),l(!0)},children:(0,Fs.jsx)("span",{className:"text-truncate",children:a.translate("privacyScreen.donateAsOrganization.label")})}),(0,Fs.jsx)("div",{className:"shrink-0 icon-slot icon-slot-18 ms-2",children:(0,Fs.jsx)("button",{type:"button",ref:u,className:"btn-icon p-abs centered text-gray-60 font-size-18",disabled:e.locked,"aria-label":a.translate("privacyScreen.donateAsOrganization.input.helpAriaLabel"),children:(0,Fs.jsx)(vc.Z,{className:(0,Hs.Z)("icon-stroke d-block",{"icon-flip-horizontal":r}),"aria-hidden":"true"})})}),!e.locked&&(0,Fs.jsx)(Uo.N,{triggerRef:u,trigger:["click"],placement:r?"left-start":"right-start",fallbackPlacements:["top","top-end"],maxWidth:"232px",children:a.translate("privacyScreen.donateAsOrganization.input.tooltipLabel")})]}),e.onBehalfOf.isActive&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(Rc,{size:8,minSize:o?4:2}),(0,Fs.jsxs)(bl.u,{id:`on-behalf-${s}`,label:a.translate("privacyScreen.donateAsOrganization.input.label"),labelSrOnly:e.labelSrOnly,labelFloating:e.labelFloating,autoFocus:e.onBehalfOf.isActive&&c,autoFocusMode:Jo.E.ALL,formGroupClass:"shrink-0",placeholder:a.translate("privacyScreen.donateAsOrganization.input.placeholder"),value:null!==(t=e.onBehalfOf.companyName)&&void 0!==t?t:"",maxLength:Cl.ON_BEHALF_OF_MAX_LENGTH,autoComplete:"new-password",disabled:e.locked,error:!e.validation.onBehalfOf.isValid,dataQa:"behalf-company-field",dataTestId:e.dataTestIdInput,onChange:t=>e.onChangeCompanyName(t.target.value),children:[e.validation.onBehalfOf.fields.onBehalfOf.errors.required&&(0,Fs.jsx)("span",{role:"alert",className:"sr-only",children:a.translate("privacyScreen.donateAsOrganization.input.error.required")}),!(null===(n=e.validation.onBehalfOf)||void 0===n?void 0:n.fields.onBehalfOf.errors.required)&&(null===(i=e.validation.onBehalfOf)||void 0===i?void 0:i.fields.onBehalfOf.errors.minLength)&&(0,Fs.jsx)("span",{role:"alert",className:"sr-only",children:a.translate("privacyScreen.donateAsOrganization.input.error.minLength")})]})]})]})},Il=(0,m.memo)(_l),Rl=e=>{var t;const n=(0,no.Y)();Wn()&&!/<\/?[a-z][\s\S]*>/i.test(n.translate(e.token))&&console.warn('Use "intl.translate" for translations without HTML');const i=null!==(t=e.as)&&void 0!==t?t:"span";return(0,Fs.jsx)(i,{style:e.style,className:e.className,dangerouslySetInnerHTML:{__html:n.translate(e.token,e.params)},role:e.role,"data-qa":e.qa})},Ll=(0,m.memo)(Rl),Ml=e=>{const t=(0,Zs.S)();return(0,Fs.jsx)(cl,{className:e.className,checked:e.mailingListSubscription.checked,disabled:e.locked,onChange:e.onToggle,qa:"mailing-list-checkbox",trackingElement:"subscriptionCheckbox",dataTestId:e.dataTestId,children:(0,Fs.jsx)("span",{className:(0,Hs.Z)({"text-truncate":!t}),dir:"auto",children:e.mailingListSubscription.text?(0,Fs.jsx)("span",{dangerouslySetInnerHTML:{__html:e.mailingListSubscription.text},"data-qa":"mailing-list-text"}):(0,Fs.jsx)(Ll,{token:"privacyScreen.subscription.label"})})})},jl=(0,m.memo)(Ml),Fl=e=>{var t;const n=(0,Zs.S)(),i=(0,no.Y)();return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(cl,{className:e.className,checked:null!==(t=e.termsAndConditions.isAccepted)&&void 0!==t&&t,error:!e.validation.isAccepted.isValid,disabled:e.locked,onChange:e.onToggle,qa:"accept-terms-checkbox",trackingElement:"termsChecked",dataTestId:e.dataTestId,children:(0,Fs.jsx)("span",{className:(0,Hs.Z)({"text-line-clamp-2":!n}),dir:"auto","data-qa":"accept-terms-text",children:e.termsAndConditions.text?(0,Fs.jsx)("span",{dangerouslySetInnerHTML:{__html:e.termsAndConditions.text},"data-qa":"accept-terms-link"}):(0,Fs.jsx)(Ll,{token:"privacyScreen.terms.label"})})}),e.validation.isAccepted.fields.isAccepted.errors.required&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:i.translate("privacyScreen.terms.error.required")})]})},Ul=(0,m.memo)(Fl);function Bl(e,t){const[n,i]=(0,m.useState)(!1);return(0,m.useEffect)((()=>{if(!t)return;i(!0);const e=H()((()=>{i(!1)}),400);return()=>clearTimeout(e)}),[e,t]),n}const Gl=(0,m.lazy)((()=>Promise.all([n.e(21),n.e(359)]).then(n.bind(n,66359)))),ql={minWidth:"100px",maxWidth:"170px",width:"auto"},Vl=e=>{const{showBadge:t}=e,{controller:n,state:i}=No(un.PRIVACY),a=(0,Zs.S)(),r=(0,no.Y)(),{isTestGroup:s,isVariant1TestGroup:o,isVariant2TestGroup:c}=(0,mc.X)(),l=Bl(i.shakeKey,0!==i.shakeKey),u=i.onBehalfOf.isEnabled||i.showAnonymous||i.mailingListSubscription.show||i.termsAndConditions.isEnabled,d=(0,m.useCallback)((e=>{e.preventDefault(),n.leave()}),[n]),h=(0,m.useCallback)((e=>n.changeBrokerageAccountNumber(e)),[n]),p=(0,m.useCallback)((e=>n.changeCustomerTitle(e)),[n]),g=(0,m.useCallback)((e=>n.changeFirstName(e)),[n]),y=(0,m.useCallback)((e=>n.changeLastName(e)),[n]),f=(0,m.useCallback)((e=>n.changeEmail(e)),[n]),v=(0,m.useCallback)((e=>n.changePhone(e)),[n]),S=(0,m.useCallback)((e=>n.changePlainPhone(e)),[n]),C=(0,m.useCallback)((e=>n.changeCountryCode(e)),[n]),b=(0,m.useCallback)((e=>n.changeCompanyName(e)),[n]),E=(0,m.useCallback)((()=>n.toggleOnBehalfOf()),[n]),A=(0,m.useCallback)((()=>n.toggleAnonymousChecked()),[n]),N=(0,m.useCallback)((()=>n.toggleSubscriptionChecked()),[n]),P=(0,m.useCallback)((()=>n.toggleTermsAndConditionsAccepted()),[n]);return(0,Fs.jsxs)("form",{onSubmit:d,className:"flow-screen","data-qa":"active-screen-privacy","data-testid":"form",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite","data-testid":"status",children:r.translate("common.screenAriaLabel",{screenTitle:`${r.translate("privacyScreen.title")}`})}),(0,Fs.jsxs)(Dc,{showBadge:t,children:[!c&&i.isApplePayAlertVisible&&a&&(0,Fs.jsx)("div",{className:"fixed-container mb-5",children:(0,Fs.jsxs)("div",{className:"py-2 px-3 border border-gray-20 bg-blue-10 border-radius-6 text-center",role:"status",children:[(0,Fs.jsx)("p",{className:"subtitle-5 text-ellipsis",children:r.translate("privacyScreen.alert.title")}),(0,Fs.jsx)("p",{className:"body-3 text-ellipsis mt-0-5",children:r.translate("privacyScreen.alert.message")})]})}),(0,Fs.jsx)("h2",{className:(0,Hs.Z)(c?"subtitle-3-5":"title-2",a?"text-ellipsis":"text-line-clamp-2"),"data-testid":"title",children:r.translate("privacyScreen.title")}),c&&i.isApplePayAlertVisible&&a&&(0,Fs.jsx)("div",{className:"fixed-container mt-6 mb-4",children:(0,Fs.jsxs)("div",{className:"py-2 px-3 border border-gray-20 bg-blue-10 border-radius-6",role:"status",children:[(0,Fs.jsx)("p",{className:"subtitle-5 text-ellipsis",children:r.translate("privacyScreen.alert.title")}),(0,Fs.jsx)("p",{className:"body-3 text-ellipsis mt-0-5",children:r.translate("privacyScreen.alert.message")})]})})]}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body d-flex flex-column",{"pt-6 pb-2":!a&&!s,"pt-5":!a&&o,"animation-shake":l}),children:(0,Fs.jsxs)("div",{className:"fixed-container grow-1 min-h-0 d-flex flex-column","aria-label":r.translate("privacyScreen.fieldsetAriaLabel"),children:[i.brokerageAccountNumber.isEnabled&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(pl,{brokerageAccountNumber:i.brokerageAccountNumber,autoFocus:i.autoFocus.brokerageAccountNumber,locked:i.locked,validation:i.validation,dataTestId:"privacy-brokerage-account-number",onChange:h}),(0,Fs.jsx)(Rc,{size:12,className:"shrink-0"})]}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("shrink-0",{"group-stacked-vertical":s}),children:[(0,Fs.jsxs)("div",{className:(0,Hs.Z)("group-stacked-vertical",{"group-stacked-item":s}),"data-testid":"privacy-personal-information-container",children:[(0,Fs.jsxs)("div",{className:(0,Hs.Z)("group-stacked-item",{"group-stacked-horizontal":i.customerTitle.isEnabled}),children:[i.customerTitle.isEnabled&&(0,Fs.jsx)(Sl,{labelFloating:!0,className:"group-stacked-item shrink-0",style:ql,labelSrOnly:!0,customerTitle:i.customerTitle,locked:i.locked,validation:i.validation,autoFocus:i.autoFocus.customerTitle,dataTestId:"privacy-customer-title-select",onChange:p}),(0,Fs.jsx)(Dl,{labelFloating:!0,className:(0,Hs.Z)({"group-stacked-item":i.customerTitle.isEnabled}),labelSrOnly:!0,firstName:i.firstName,autoFocus:i.autoFocus.firstName,locked:i.locked,validation:i.validation,dataTestId:"privacy-first-name-input",onChange:g})]}),(0,Fs.jsx)(Ol,{labelFloating:!0,className:"group-stacked-item",labelSrOnly:!0,lastName:i.lastName,locked:i.locked,validation:i.validation,dataTestId:"privacy-last-name-input",onChange:y})]}),!s&&(0,Fs.jsx)(Rc,{size:12}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)({"group-stacked-vertical":i.showPhone,"group-stacked-item":s}),children:[(0,Fs.jsx)(kl,{labelFloating:!0,className:(0,Hs.Z)({"group-stacked-item":i.showPhone}),labelSrOnly:!0,email:i.email,emailConsent:i.emailConsent,locked:i.locked,validation:i.validation,dataTestId:"privacy-email-input",onChange:f}),i.showPhone&&(0,Fs.jsx)(m.Suspense,{fallback:(0,Fs.jsx)("span",{"data-testid":"privacy-phone-input-fallback"}),children:(0,Fs.jsx)(Gl,{labelFloating:!0,className:(0,Hs.Z)({"group-stacked-item":i.showPhone}),labelSrOnly:!0,phone:i.phone,phoneRequired:i.phoneRequired,userCountryCode:i.userCountryCode,showPhoneLegalText:i.showPhoneLegalText,phoneLegalText:i.phoneLegalText,locked:i.locked,validation:i.validation,dataTestId:"privacy-phone-input",onChange:v,onChangeCountryCode:C,onChangePlain:S})})]})]}),u&&(s?(0,Fs.jsx)(Rc,{size:16,minSize:8}):(0,Fs.jsx)(Rc,{size:12,className:"shrink-0"})),i.onBehalfOf.isEnabled&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(Il,{labelFloating:!0,className:"shrink-0",labelSrOnly:!0,onBehalfOf:i.onBehalfOf,locked:i.locked,validation:i.validation,dataTestIdCheckbox:"privacy-on-behalf-on-checkbox",dataTestIdInput:"privacy-on-behalf-on-input",onToggleOnBehalfOf:E,onChangeCompanyName:b}),s&&i.onBehalfOf.isActive?(0,Fs.jsx)(Rc,{size:16,minSize:8}):(0,Fs.jsx)(Rc,{size:8,minSize:s?4:2})]}),i.showAnonymous&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(hl,{className:"shrink-0",anonymousChecked:i.anonymousChecked,locked:i.locked,dataTestId:"privacy-anonymous-checkbox",onToggle:A}),(0,Fs.jsx)(Rc,{size:8,minSize:s?4:2})]}),i.mailingListSubscription.show&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(jl,{className:"shrink-0",mailingListSubscription:i.mailingListSubscription,locked:i.locked,dataTestId:"privacy-subscription-checkbox",onToggle:N}),(0,Fs.jsx)(Rc,{size:8,minSize:s?4:2})]}),i.termsAndConditions.isEnabled&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(Ul,{className:"shrink-0",termsAndConditions:i.termsAndConditions,locked:i.locked,validation:i.validation,dataTestId:"privacy-terms-checkbox",onToggle:P}),s?(0,Fs.jsx)(Rc,{size:16,minSize:8}):(0,Fs.jsx)(Rc,{size:8,minSize:2})]})]})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary",processingState:i.processingState,onClick:d,tooltipTitle:i.serverErrors.email?r.translate("privacyScreen.emailValidationError.title"):i.payErrorMessage||r.translate("common.errorOccurredText"),tooltipMessage:i.additionalPayErrorMessage||(i.serverErrors.email?r.translate("privacyScreen.emailValidationError.message"):""),dataQa:"privacy-continue",trackingElement:i.isPaymentScreen?"payButton":"nextButton",dataTestId:"pay-button",children:i.isPaymentScreen?Lc(r,i.donation.formattedAmount,i.donation.frequency):r.translate("privacyScreen.button")})})]})};var Kl=n(28316),Hl=n(26584);const Yl=e=>{const[t,n]=(0,m.useState)(!1),[i,a]=(0,m.useState)(!1),[r,s]=(0,m.useState)(!1),[o,c]=(0,m.useState)(!1),l=(0,m.useRef)(null),u=t||i||r||o,d=(0,m.useCallback)((()=>{if(!l.current)return;const e=l.current.clientWidth<l.current.scrollWidth,t=l.current.clientHeight<l.current.scrollHeight,i=Math.ceil(l.current.offsetWidth+l.current.scrollLeft),r=Math.ceil(l.current.offsetHeight+l.current.scrollTop),o=0===l.current.scrollTop,u=i>=l.current.scrollWidth,d=r>=l.current.scrollHeight,h=0===l.current.scrollLeft;n(t&&!o),a(e&&!u),s(t&&!d),c(e&&!h)}),[l]);return(0,m.useEffect)((()=>{if(!l.current)throw new Error("ScrollContainerRef is undefined");const e=(t=d,new ResizeObserver((e=>De()(e).call(e,t))));var t;return null==e||e.observe(l.current),()=>null==e?void 0:e.disconnect()}),[l,d]),(0,Fs.jsx)("div",{className:(0,Hs.Z)({"scroll-wrap":u},e.className),children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("scroll-container",e.scrollContainerClass),ref:l,onScroll:()=>{d()},children:[e.children,u&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("span",{className:(0,Hs.Z)("shadow-top",{"is-active":t})}),(0,Fs.jsx)("span",{className:(0,Hs.Z)("shadow-right",{"is-active":i})}),(0,Fs.jsx)("span",{className:(0,Hs.Z)("shadow-bottom",{"is-active":r})}),(0,Fs.jsx)("span",{className:(0,Hs.Z)("shadow-left",{"is-active":o})})]})]})})},Zl=(0,m.memo)(Yl);var zl;!function(e){e.CHECKBOX="checkbox",e.MULTIOPTION="multioption",e.RADIO="radio",e.DROPDOWN="dropdown",e.LINE="line",e.MULTILINE="multiline"}(zl||(zl={}));const Wl=e=>e.type===zl.CHECKBOX,$l=e=>e.type===zl.DROPDOWN,Xl=e=>e.type===zl.MULTILINE,Ql=e=>e.type===zl.RADIO,Jl=e=>e.type===zl.LINE,eu=e=>e.type===zl.MULTIOPTION,tu=e=>{const{className:t,question:n,questionText:i,answer:a,required:r,hasError:s,type:o,onChange:c}=e,l=(0,no.Y)(),u=(0,m.useCallback)((()=>{c(!a)}),[c,a]);return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)(cl,{className:t,checked:a,error:s,onChange:u,qa:"question-"+o,children:[(0,Fs.jsx)("span",{dangerouslySetInnerHTML:{__html:n},dir:"auto"}),!r&&(0,Fs.jsxs)("span",{className:"text-gray-60",children:[" (",l.translate("common.optional"),")"]})]}),s&&(0,Fs.jsx)("div",{className:"sr-only",role:"alert",children:l.translate("questionsScreen.error.required",{question:i})})]})},nu=(0,m.memo)(tu),iu=e=>{const{className:t,question:n,questionText:i,answer:a,options:r,required:s,hasError:o,type:c,onChange:l}=e,u=(0,no.Y)(),d=ho(),h=(0,m.useCallback)((e=>{l(e.target.value)}),[l]),p=De()(r).call(r,(e=>({value:e,label:e})));return(0,Fs.jsx)(yl,{id:`dropdown-${d}`,label:(0,Fs.jsx)("span",{className:"text-break-word",dir:"auto",dangerouslySetInnerHTML:{__html:n}}),labelOptional:s?"":u.translate("common.optional"),options:p,formGroupClass:t,error:o,value:a,onChange:h,dataQa:"question-"+c,children:o&&(0,Fs.jsx)("div",{className:"sr-only",role:"alert",children:u.translate("questionsScreen.error.required",{question:i})})})},au=(0,m.memo)(iu);var ru;!function(e){e[e.ANSWER_MAX_LENGTH=500]="ANSWER_MAX_LENGTH"}(ru||(ru={}));const su=e=>{const{className:t,question:n,questionText:i,answer:a,required:r,hasError:s,type:o,onChange:c}=e,l=(0,no.Y)(),u=ho(),{isVariant2TestGroup:d}=(0,mc.X)();return(0,Fs.jsxs)("div",{className:t,children:[(0,Fs.jsxs)("label",{htmlFor:`multiline-${u}`,className:"label-3 max-w-100",children:[(0,Fs.jsx)("span",{className:"text-break-word",dir:"auto",dangerouslySetInnerHTML:{__html:n}}),!r&&(0,Fs.jsxs)("span",{className:"text-gray-60",children:[" (",l.translate("common.optional"),")"]})]}),(0,Fs.jsx)("textarea",{id:`multiline-${u}`,className:(0,Hs.Z)("form-control mt-3",{"form-control-experiment":d,"has-error":s}),rows:7,value:a,maxLength:ru.ANSWER_MAX_LENGTH,onChange:e=>{c(e.target.value)},"data-qa":"question-"+o}),s&&(0,Fs.jsx)("div",{className:"sr-only",role:"alert",children:l.translate("questionsScreen.error.required",{question:i})})]})},ou=(0,m.memo)(su),cu=e=>{var t;const{onChange:n}=e,i=Z()(t=e.checkedValues).call(t,e.checkboxValue),a=(0,m.useCallback)((()=>{if(e.disabled)return;const t=!i,a=new(Ee())([...e.checkedValues]);t?a.add(e.checkboxValue):a.delete(e.checkboxValue),n([...a])}),[n,i,e.disabled,e.checkedValues,e.checkboxValue]);return(0,Fs.jsx)(cl,{innerRef:e.innerRef,className:e.className,customLabelClasses:e.customLabelClasses,checkboxValue:e.checkboxValue,checked:i,disabled:e.disabled,error:e.error,hint:e.hint,onChange:a,qa:e.qa,children:e.children})},lu=e=>{const{className:t,question:n,questionText:i,answer:a,options:r,required:s,hasError:o,type:c,onChange:l}=e,u=(0,no.Y)(),d=(0,m.useCallback)((e=>{l(e)}),[l]);return(0,Fs.jsxs)("div",{className:t,children:[(0,Fs.jsxs)("p",{className:"label-3",children:[(0,Fs.jsx)("span",{className:"text-break-word",dir:"auto",dangerouslySetInnerHTML:{__html:n}}),!s&&(0,Fs.jsxs)("span",{className:"text-gray-60",children:[" (",u.translate("common.optional"),")"]})]}),De()(r).call(r,((e,t)=>(0,Fs.jsx)(cu,{className:t?"mt-2":"mt-3",checkedValues:a,checkboxValue:e,error:o,onChange:d,qa:"question-"+c,children:e},`${e}-${t}`))),o&&(0,Fs.jsx)("div",{className:"sr-only",role:"alert",children:u.translate("questionsScreen.error.required",{question:i})})]})},uu=(0,m.memo)(lu);var du=n(25703);const hu=e=>{const{className:t,question:n,questionText:i,answer:a,required:r,hasError:s,type:o,onChange:c}=e,l=(0,no.Y)(),u=ho();return(0,Fs.jsx)(du.u,{id:`oneline-${u}`,error:s,formGroupClass:t,label:(0,Fs.jsx)("span",{className:"text-break-word",dir:"auto",dangerouslySetInnerHTML:{__html:n}}),labelOptional:r?"":l.translate("common.optional"),value:a,maxLength:ru.ANSWER_MAX_LENGTH,onChange:e=>{c(e.target.value)},dataQa:"question-"+o,children:s&&(0,Fs.jsx)("div",{className:"sr-only",role:"alert",children:l.translate("questionsScreen.error.required",{question:i})})})},mu=(0,m.memo)(hu),pu=e=>{const{onChange:t}=e;return(0,Fs.jsxs)("div",{className:(0,_c.Z)(["ui-radio",{"ui-radio-disabled":e.disabled,"has-error":e.error},e.className]),children:[(0,Fs.jsxs)("label",{className:(0,_c.Z)(["ui-radio-label",e.customLabelClasses]),children:[(0,Fs.jsxs)("span",{className:"ui-radio-control",children:[(0,Fs.jsx)("input",{type:"radio",name:e.radioName,value:e.radioValue,checked:e.checked,disabled:e.disabled,onChange:()=>{e.disabled||t(e.radioValue)},"data-qa":e.qa,"data-tracking-element-name":e.trackingElement}),(0,Fs.jsx)("span",{className:"ui-radio-icon"})]}),e.children&&(0,Fs.jsx)("span",{className:"ui-radio-text",children:e.children})]}),e.hint&&(0,Fs.jsx)("div",{className:"ui-radio-hint",children:e.hint})]})},gu=e=>{const{className:t,id:n,question:i,questionText:a,answer:r,options:s,required:o,hasError:c,type:l,onChange:u}=e,d=(0,no.Y)();return(0,Fs.jsxs)("div",{className:t,children:[(0,Fs.jsxs)("p",{className:"label-3",children:[(0,Fs.jsx)("span",{className:"text-break-word",dir:"auto",dangerouslySetInnerHTML:{__html:i}}),!o&&(0,Fs.jsxs)("span",{className:"text-gray-60",children:[" (",d.translate("common.optional"),")"]})]}),De()(s).call(s,((e,t)=>(0,Fs.jsx)(pu,{className:t?"mt-2":"mt-3",checked:e===r,radioValue:e,radioName:n,error:c,onChange:u,qa:"question-"+l,children:e},`${e}-${t}`))),c&&(0,Fs.jsx)("div",{className:"sr-only",role:"alert",children:d.translate("questionsScreen.error.required",{question:a})})]})},yu=(0,m.memo)(gu),fu=e=>{var t;const{controller:n}=No(un.QUESTIONS),i=(0,qs.T)(),a=(0,m.useCallback)((t=>{n.answerQuestion(e.id,t)}),[n,e.id]),r=Bl(e.shakeKey,e.hasError),s=(0,m.useMemo)((()=>e.question.replace(/(<([^>]+)>)/gi,"")),[e.question]);return Z()(t=Me()(zl)).call(t,e.type)?(0,Fs.jsxs)("div",{className:"py-5 p-rel",children:[Wl(e)&&(0,Fs.jsx)(nu,{id:e.id,answer:e.answer,options:e.options,question:e.question,questionText:s,required:e.required,hasError:e.hasError,onChange:a,className:(0,Hs.Z)({"animation-shake":r}),type:e.type}),$l(e)&&(0,Fs.jsx)(au,{id:e.id,answer:e.answer,options:e.options,question:e.question,questionText:s,required:e.required,hasError:e.hasError,onChange:a,className:(0,Hs.Z)({"animation-shake":r}),type:e.type}),Xl(e)&&(0,Fs.jsx)(ou,{id:e.id,answer:e.answer,options:e.options,question:e.question,questionText:s,required:e.required,hasError:e.hasError,onChange:a,className:(0,Hs.Z)({"animation-shake":r}),type:e.type}),eu(e)&&(0,Fs.jsx)(uu,{id:e.id,answer:e.answer,options:e.options,question:e.question,questionText:s,required:e.required,hasError:e.hasError,onChange:a,className:(0,Hs.Z)({"animation-shake":r}),type:e.type}),Jl(e)&&(0,Fs.jsx)(mu,{id:e.id,answer:e.answer,options:e.options,question:e.question,questionText:s,required:e.required,hasError:e.hasError,onChange:a,className:(0,Hs.Z)({"animation-shake":r}),type:e.type}),Ql(e)&&(0,Fs.jsx)(yu,{id:e.id,answer:e.answer,options:e.options,question:e.question,questionText:s,required:e.required,hasError:e.hasError,onChange:a,className:(0,Hs.Z)({"animation-shake":r}),type:e.type}),!e.isLastOnPage&&(0,Fs.jsx)("hr",{className:"p-abs bottom-left w-100"})]}):(i.captureException(new Error(`Unknown type of question: "${e.type}"`)),null)},vu=(0,m.memo)(fu),Su={borderTop:"0"},Cu=e=>{const{showBadge:t}=e,{state:n,controller:i}=No(un.QUESTIONS),r=(0,no.Y)(),s=(0,m.useRef)(null),o=(0,m.useRef)(null),[c,l]=(0,m.useState)("next"),u=(0,Zs.S)(),d=(0,Xs.q)(),{isVariant2TestGroup:h}=(0,mc.X)(),p=(0,m.useCallback)((e=>{e.preventDefault(),(0,Kl.flushSync)((()=>{l("next")})),i.leave()}),[i]),g=(0,m.useCallback)((()=>{(0,Kl.flushSync)((()=>{l("previous")})),i.back()}),[i]),y=(0,m.useMemo)((()=>{var e;return n.isMeasuring?n.questions:Fe()(e=n.questions).call(e,(e=>{let{page:t}=e;return t===n.page}))}),[n.isMeasuring,n.page,n.questions]);(0,m.useEffect)((()=>{if(!n.isMeasuring)return;if(!s.current)throw new Error("bodyRef was not provided");if(!o.current)throw new Error("questionsContainerRef was not provided");const e=a()([]).call(o.current.children),t=s.current.getBoundingClientRect(),r=h?0:12,c=u?463:t.height-r;H()((()=>i.completeMeasurement(function(e){const{height:t,children:n}=e,i=new($t());let a=1,r=0;const s=De()(n).call(n,(e=>e.offsetHeight));return v()(s).call(s,((e,n)=>{r+e>t&&n>0&&(a+=1,r=0),r+=e,i.set(n,a)})),i}({height:c,children:e}))))}),[n.isMeasuring,u,i,o,h]);const f=(0,m.useCallback)((e=>m.cloneElement(e,{classNames:c})),[c]),S={minHeight:u?"200px":void 0};return(0,Fs.jsxs)("form",{onSubmit:p,className:"flow-screen",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:r.translate("common.screenAriaLabel",{screenTitle:`${r.translate("questionsScreen.title")}`})}),(0,Fs.jsx)(Dc,{backButtonClickHandler:g,forceShowBackButton:i.showBackButton.header,title:r.translate("questionsScreen.title"),showBadge:t}),(0,Fs.jsx)(tc,{ref:s,className:(0,Hs.Z)({"mt-minus-1":u&&h}),children:(0,Fs.jsx)(Hl.Z,{childFactory:f,children:(()=>{const e=(0,m.createRef)();return(0,Fs.jsx)(Ys.Z,{classNames:c,nodeRef:e,addEndListener:t=>{(0,to.q)(e,t)},mountOnEnter:!0,unmountOnExit:!0,children:(0,Fs.jsx)("div",{ref:e,className:d("flow-slide"),style:Su,children:(0,Fs.jsx)(Zl,{className:(0,Hs.Z)(u?"grow-1":"h-100"),scrollContainerClass:(0,Hs.Z)("px-body",u?"my-minus-4":"h-100",{"pt-8":!u&&!h}),children:(0,Fs.jsx)("div",{ref:o,className:(0,Hs.Z)("fixed-container",{"opacity-0":n.isMeasuring,"my-minus-5":!u}),style:S,children:De()(y).call(y,((e,t)=>(0,Fs.jsx)(vu,{id:e.key,type:e.type,answer:e.answer,options:e.options,question:e.question,required:e.required,hasError:!!n.questionErrors[e.key],shakeKey:n.shakeKey,isLastOnPage:!n.isMeasuring&&t===y.length-1},e.key)))})})})},u||n.isShowcase?null:n.page)})()})}),(0,Fs.jsx)(yc,{className:(0,Hs.Z)({"pt-7":!u}),backButtonClickHandler:g,forceShowBackButton:i.showBackButton.footer,children:(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary",processingState:"idle",dataQa:"questions-button",trackingElement:"nextButton",children:r.translate("questionsScreen.button")})})]})},bu=(0,m.memo)(Cu),Eu=(0,m.createContext)(null);function Au(){const e=(0,m.useContext)(Eu);if(!e)throw new Error("View event emitter was not provided");return e}const Nu=e=>{const t=ho();return(0,Fs.jsxs)("svg",{className:e.className,"aria-hidden":e.ariaHidden&&!0,fill:"none",height:"80",width:"80",viewBox:"0 0 80 80",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","data-qa":"thank-you-check-icon",children:[(0,Fs.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"32.9524",width:"45.2002",x:"18",y:"28.1953",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"4"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:"1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0148437 0 0 0 0 0.7125 0 0 0 0 0.458807 0 0 0 0.49 0"}),(0,Fs.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_39095_138013"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_39095_138013",mode:"normal",result:"shape"})]}),(0,Fs.jsxs)("linearGradient",{id:`b-${t}`,gradientUnits:"userSpaceOnUse",x1:"-53.886",x2:"80.829",y1:"103.206",y2:"-145.499",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#00c07b"}),(0,Fs.jsx)("stop",{offset:".121752",stopColor:"#00c07b"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#00c07b",stopOpacity:"0"})]}),(0,Fs.jsx)("rect",{fill:`url(#b-${t})`,height:"80",rx:"40",width:"80"}),(0,Fs.jsx)("g",{filter:`url(#a-${t})`,children:(0,Fs.jsx)("path",{d:"m23 40.7191 12.4235 11.4286 22.7765-20.9524",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6"})})]})},Pu=(0,m.memo)(Nu),xu=()=>{const{controller:e}=No(un.THANK_YOU),t=(0,no.Y)(),n=(0,Zs.S)(),i=Au();return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("div",{className:"fixed-container d-flex flex-column grow-1",children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("grow-1 d-flex flex-column",{"justify-center":!n}),children:[(0,Fs.jsx)(Pu,{className:"d-block mx-auto",ariaHidden:!0}),(0,Fs.jsx)("h2",{className:(0,Hs.Z)("title-1 text-center mt-8",n?"text-ellipsis":"text-line-clamp-2"),children:t.translate("thankYouScreen.thankYou")}),(0,Fs.jsx)("p",{className:(0,Hs.Z)("text-center mt-3",n?"text-ellipsis":"text-line-clamp-6"),"data-qa":"sharing-disable-thank-you-text",dangerouslySetInnerHTML:{__html:e.descriptionSharing}})]})}),(0,Fs.jsx)(yc,{className:(0,Hs.Z)("pt-8",{"pb-10":n}),children:(0,Fs.jsx)("div",{className:"d-flex justify-center",children:(0,Fs.jsx)("button",{type:"button",className:"btn-link text-truncate",onClick:()=>{i.emit("should-hide",{})},"data-qa":"close","data-tracking-element-name":"closeButton",children:t.translate("thankYouScreen.closeButtonLabel")})})})]})},ku=(0,m.memo)(xu);var wu,Du;function Tu(){return Tu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Tu.apply(this,arguments)}var Ou,_u,Iu,Ru=function(e,t){return m.createElement("svg",Tu({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),wu||(wu=m.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"})),Du||(Du=m.createElement("polyline",{points:"22,6 12,13 2,6"})))},Lu=(0,m.forwardRef)(Ru),Mu=(0,m.memo)(Lu);function ju(){return ju=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ju.apply(this,arguments)}!function(e){e.FACEBOOK="Facebook",e.TWITTER="Twitter",e.LINKEDIN="Linkedin",e.EMAIL="Email",e.LINK="Link"}(Ou||(Ou={})),function(e){e.PAGE="page_thankyou",e.MODAL="modal_thankyou",e.HEADER="top_sharing_button"}(_u||(_u={}));var Fu,Uu=function(e,t){return m.createElement("svg",ju({fill:"none",height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Iu||(Iu=m.createElement("path",{d:"m24 12c0-6.6288-5.3712-12-12-12s-12 5.3712-12 12c0 5.6256 3.8736 10.3488 9.1008 11.6448v-7.9776h-2.4768v-3.6672h2.4768v-1.5792c0-4.0848 1.848-5.976 5.856-5.976.7584 0 2.0736.1488 2.6064.2976v3.3216c-.2832-.0288-.7728-.0432-1.3872-.0432-1.968 0-2.7264.744-2.7264 2.6832v1.296h3.9216l-.672 3.6672h-3.2448v8.2464c5.9424-.72 10.5456-5.7792 10.5456-11.9136z",fill:"currentColor"})))},Bu=(0,m.forwardRef)(Uu),Gu=(0,m.memo)(Bu);function qu(){return qu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qu.apply(this,arguments)}var Vu,Ku=function(e,t){return m.createElement("svg",qu({fill:"none",height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Fu||(Fu=m.createElement("g",{clipRule:"evenodd",fillRule:"evenodd"},m.createElement("path",{d:"m2.66641 23.9977h18.66489c1.4726 0 2.6664-1.1938 2.6664-2.6664v-18.66489c0-1.47262-1.1938-2.66641-2.6664-2.66641h-18.66489c-1.47262 0-2.66641 1.19379-2.66641 2.66641v18.66489c0 1.4726 1.19379 2.6664 2.66641 2.6664z",fill:"currentColor"}),m.createElement("path",{d:"m20.6642 20.6647h-3.5611v-6.0654c0-1.663-.6319-2.5923-1.9481-2.5923-1.4319 0-2.18.9671-2.18 2.5923v6.0654h-3.43196v-11.55446h3.43196v1.55636s1.0319-1.90937 3.4838-1.90937c2.4508 0 4.2054 1.49657 4.2054 4.59187zm-15.21543-13.06743c-1.16899 0-2.11625-.95469-2.11625-2.13213s.94726-2.13213 2.11625-2.13213c1.16898 0 2.11568.95469 2.11568 2.13213s-.9467 2.13213-2.11568 2.13213zm-1.7721 13.06743h3.57861v-11.55446h-3.57861z",fill:"#fff"}))))},Hu=(0,m.forwardRef)(Ku),Yu=(0,m.memo)(Hu);function Zu(){return Zu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zu.apply(this,arguments)}var zu=function(e,t){return m.createElement("svg",Zu({fill:"none",height:20,viewBox:"0 0 20 20",width:20,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Vu||(Vu=m.createElement("path",{d:"m11.5952 8.6895 6.2104-7.21904h-1.4717l-5.3924 6.26819-4.30696-6.26819h-4.96755l6.51294 9.47864-6.51294 7.5703h1.47174l5.69457-6.6195 4.5484 6.6195h4.9676l-6.7544-9.8299zm-2.01572 2.3431-.6599-.9439-5.25056-7.51034h2.26051l4.23727 6.06111.6599.94386 5.5079 7.87847h-2.2605l-4.49462-6.4289z",fill:"currentColor"})))},Wu=(0,m.forwardRef)(zu),$u=(0,m.memo)(Wu);const Xu=e=>{const{as:t,label:n,onClick:i,icon:a,trackingElement:r}=e,s=t;return(0,Fs.jsx)(s,{href:"a"===e.as?e.href:void 0,type:"button"===e.as?e.type:void 0,target:"a"===e.as?e.target:void 0,className:"mediasharing-btn btn btn-default mx-1","aria-label":n,onClick:()=>null==i?void 0:i(),"data-tracking-element-name":r,children:a})},Qu={color:"#0866ff"},Ju={color:"#007ebb"},ed=e=>{const t=(0,no.Y)(),n=(0,eo.g)(),{state:i,controller:a}=No(un.THANK_YOU);return(0,Fs.jsx)("div",{className:(0,Hs.Z)("text-center",e.className),role:"group","aria-label":t.translate("sharing.ariaLabel"),children:(0,Fs.jsxs)("div",{className:"d-flex justify-center item-center",children:[i.sharing.showFacebook&&(0,Fs.jsx)(Xu,{as:"button",label:t.translate("sharing.facebook"),icon:(0,Fs.jsx)(Gu,{className:"icon-fill shrink-0 font-size-20",style:Qu,"aria-hidden":"true"}),onClick:()=>a.share(Ou.FACEBOOK,_u.MODAL),trackingElement:"shareOnFacebook"}),i.sharing.showLinkedin&&(0,Fs.jsx)(Xu,{as:"button",label:t.translate("sharing.linkedin"),icon:(0,Fs.jsx)(Yu,{className:"icon-fill shrink-0 font-size-20",style:Ju,"aria-hidden":"true"}),onClick:()=>a.share(Ou.LINKEDIN,_u.MODAL),trackingElement:"shareOnLinkedin"}),i.sharing.showTwitter&&(0,Fs.jsx)(Xu,{as:"button",label:t.translate("sharing.twitter"),icon:(0,Fs.jsx)($u,{className:"icon-fill shrink-0 font-size-20 text-black","aria-hidden":"true"}),onClick:()=>a.share(Ou.TWITTER,_u.MODAL),trackingElement:"shareOnTwitter"}),i.sharing.showEmail&&(0,Fs.jsx)(Xu,{as:"a",target:"_blank",label:t.translate("sharing.email"),icon:(0,Fs.jsx)(Mu,{className:"icon-stroke shrink-0 font-size-20 text-black","aria-hidden":"true"}),href:n?void 0:a.getSharingLink(Ou.EMAIL),trackingElement:"shareOnEmail"})]})})},td=(0,m.memo)(ed),nd=()=>{const e=(0,no.Y)(),t=(0,Zs.S)(),{controller:n}=No(un.THANK_YOU),i=Au();return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("div",{className:"fixed-container d-flex flex-column grow-1",children:[(0,Fs.jsxs)("div",{className:(0,Hs.Z)("grow-1 d-flex flex-column",{"justify-center":!t}),children:[(0,Fs.jsx)(Pu,{className:"d-block mx-auto",ariaHidden:!0}),(0,Fs.jsx)("h2",{className:(0,Hs.Z)("title-1 text-center mt-8",t?"text-ellipsis":"text-line-clamp-2"),children:e.translate("thankYouScreen.thankYou")}),(0,Fs.jsx)("p",{className:(0,Hs.Z)("text-center mt-3",t?"text-ellipsis":"text-line-clamp-6"),dangerouslySetInnerHTML:{__html:n.descriptionSharing},"data-qa":"thank-you-header-label"})]}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("shrink-0",{"mt-12 mb-4":t,"mb-5":!t}),children:[(0,Fs.jsx)("p",{className:(0,Hs.Z)("subtitle-4 text-center",t?"text-ellipsis":"text-line-clamp-2"),children:e.translate("sharing.label")}),(0,Fs.jsx)(td,{className:"mt-4"})]})]}),(0,Fs.jsx)(yc,{className:(0,Hs.Z)("pt-8",{"pb-10":t}),children:(0,Fs.jsx)("div",{className:"d-flex justify-center",children:(0,Fs.jsx)("button",{type:"button",className:"btn-link text-truncate",onClick:()=>{i.emit("should-hide",{})},"data-qa":"close","data-tracking-element-name":"closeButton",children:e.translate("thankYouScreen.closeButtonLabel")})})})]})},id=(0,m.memo)(nd),ad=e=>{var t,n;const i=ho();return(0,Fs.jsxs)("svg",{className:(0,Hs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:null!==(t=e.height)&&void 0!==t?t:48,viewBox:"0 0 48 48",width:null!==(n=e.width)&&void 0!==n?n:48,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsxs)("filter",{id:`a-${i}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"52.4762",width:"45",x:"1.5",y:"-9.47619",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feMorphology",{in:"SourceAlpha",operator:"erode",radius:"14.4762",result:"effect1_innerShadow_8986_17764"}),(0,Fs.jsx)("feOffset",{dy:"-14.4762"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:"12.0635"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 0.439937 0 0 0 0 0.429167 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_8986_17764"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-9.65079"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:"4.8254"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.941667 0 0 0 0 0.0293161 0 0 0 0 0.0117708 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"effect1_innerShadow_8986_17764",mode:"normal",result:"effect2_innerShadow_8986_17764"})]}),(0,Fs.jsxs)("filter",{id:`b-${i}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"14",width:"14",x:"29.5",y:"26",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dx:"-1",dy:"-1"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:"1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.843137 0 0 0 0 0 0 0 0 0 0.14902 0 0 0 0.75 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_8986_17764"})]}),(0,Fs.jsxs)("linearGradient",{id:`c-${i}`,children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#ef5350"}),(0,Fs.jsx)("stop",{offset:".766418",stopColor:"#f00703"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#d90400"})]}),(0,Fs.jsx)("linearGradient",{id:`d-${i}`,gradientUnits:"userSpaceOnUse",x1:"13.5",x2:"26",xlinkHref:`#c-${i}`,y1:"9",y2:"40"}),(0,Fs.jsxs)("radialGradient",{id:`e-${i}`,cx:"0",cy:"0",gradientTransform:"matrix(8.99996281 14.49996639 -14.49996639 8.99996281 32.5 30)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#fff"}),(0,Fs.jsx)("stop",{offset:".674662",stopColor:"#e7e7e7"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#c4c4c4"})]}),(0,Fs.jsx)("linearGradient",{id:`f-${i}`,gradientUnits:"userSpaceOnUse",x1:"33.9667",x2:"38.7609",xlinkHref:`#c-${i}`,y1:"28.3684",y2:"38.4087"}),(0,Fs.jsx)("g",{filter:`url(#a-${i})`,children:(0,Fs.jsx)("path",{d:"m24 43c41.6475-22.8943 15.6537-49.10252 0-33.05744-15.65373-16.04526-41.6475 10.16294 0 33.05744z",fill:`url(#d-${i})`})}),(0,Fs.jsx)("circle",{cx:"37",cy:"33.5",fill:`url(#e-${i})`,r:"9.5"}),(0,Fs.jsx)("g",{filter:`url(#b-${i})`,children:(0,Fs.jsx)("path",{d:"m38.5 28.5c0-.8284-.6716-1.5-1.5-1.5s-1.5.6716-1.5 1.5v3.5h-3.5c-.8284 0-1.5.6716-1.5 1.5s.6716 1.5 1.5 1.5h3.5v3.5c0 .8284.6716 1.5 1.5 1.5s1.5-.6716 1.5-1.5v-3.5h3.5c.8284 0 1.5-.6716 1.5-1.5s-.6716-1.5-1.5-1.5h-3.5z",fill:`url(#f-${i})`})})]})},rd=(0,m.memo)(ad),sd=e=>{let{className:t}=e;const{controller:n}=No(un.THANK_YOU),i=(0,Zs.S)(),a=Au();return(0,Fs.jsxs)("button",{type:"button",className:(0,Hs.Z)("btn btn-default h-auto d-flex items-center text-start text-wrap-normal px-6 py-4",t),onClick:()=>{a.emit("should-hide",{shouldReopen:!0,tributeSelected:!0})},"data-qa":"tribute-make-another","data-tracking-element-name":"makeAnotherTribute",children:[(0,Fs.jsx)(rd,{className:"shrink-0 me-5",width:32,height:32,ariaHidden:!0}),(0,Fs.jsx)("span",{className:(0,Hs.Z)("body-1 grow-1",i?"text-ellipsis":"text-line-clamp-2"),children:n.makeAnotherTributeButton})]})},od=(0,m.memo)(sd);function cd(){const e=(0,m.useRef)();return void 0===e.current&&(e.current=ii()),e.current}const ld=e=>{var t,n;const i=cd();return(0,Fs.jsxs)("svg",{className:e.className,"aria-hidden":e.ariaHidden&&!0,fill:"none",height:null!==(t=e.height)&&void 0!==t?t:48,viewBox:"0 0 48 48",width:null!==(n=e.width)&&void 0!==n?n:48,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsxs)("linearGradient",{id:`a-${i}`,children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#afd9ff"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#afd9ff",stopOpacity:"0"})]}),(0,Fs.jsx)("linearGradient",{id:`b-${i}`,gradientUnits:"userSpaceOnUse",x1:"50.5",x2:"31.9257",xlinkHref:`#a-${i}`,y1:"32",y2:"6.87716"}),(0,Fs.jsxs)("linearGradient",{id:`c-${i}`,gradientUnits:"userSpaceOnUse",x1:"16",x2:"20",y1:"39.5",y2:"40.5",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#8fbcff"}),(0,Fs.jsx)("stop",{offset:".208333",stopColor:"#8fbcff",stopOpacity:".813559"}),(0,Fs.jsx)("stop",{offset:".234375",stopColor:"#8fbcff",stopOpacity:"0"})]}),(0,Fs.jsxs)("linearGradient",{id:`d-${i}`,gradientUnits:"userSpaceOnUse",x1:"67.2852",x2:"2.79451",y1:"17.1454",y2:"39.9202",children:[(0,Fs.jsx)("stop",{offset:".442708",stopColor:"#fff",stopOpacity:"0"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#fff"})]}),(0,Fs.jsx)("linearGradient",{id:`e-${i}`,gradientUnits:"userSpaceOnUse",x1:"25.5",x2:"40",xlinkHref:`#a-${i}`,y1:"20.5",y2:"27"}),(0,Fs.jsx)("path",{d:"m4.88359 25.1745h.00002l.05609-.0474h.00001l.03057-.0259c3.24586-2.7466 4.28803-3.6284 39.39632-18.14832l-33.4844 25.29342c-4.27204 1.4893-7.23131 1.0342-8.7118-.4983-.40047-.6047-.53429-1.5383-.16141-2.6895.37824-1.1677 1.27292-2.5289 2.8746-3.884z",fill:"#8fbcff",stroke:`url(#b-${i})`}),(0,Fs.jsx)("path",{d:"m47.7789 5.00045-36.6327 27.66835 3.9702 10.7136 2.3144-11.4342z",fill:"#5a9bfc"}),(0,Fs.jsx)("path",{d:"m24.7306 34.3642-8.8354 7.6768 1.9178-9.4742z",fill:"#2169d6",stroke:`url(#c-${i})`}),(0,Fs.jsx)("path",{d:"m17.9212 32.183 29.061-25.80479c-.2055.91261-.5316 2.26188-1.0254 4.07169-1.0305 3.7768-2.791 9.5588-5.7082 17.5634-2.6186 7.1853-6.5442 10.3049-10.3618 11.2275-3.8293.9254-7.6707-.3285-10.191-2.1484-.9843-1.0568-1.4305-2.3209-1.6277-3.3432-.0993-.5145-.134-.9608-.144-1.2765-.0036-.1154-.0039-.213-.0029-.2897z",fill:"#6ca7ff"}),(0,Fs.jsx)("path",{d:"m17.9212 32.183 29.061-25.80479c-.2055.91261-.5316 2.26188-1.0254 4.07169-1.0305 3.7768-2.791 9.5588-5.7082 17.5634-2.6186 7.1853-6.5442 10.3049-10.3618 11.2275-3.8293.9254-7.6707-.3285-10.191-2.1484-.9843-1.0568-1.4305-2.3209-1.6277-3.3432-.0993-.5145-.134-.9608-.144-1.2765-.0036-.1154-.0039-.213-.0029-.2897z",fill:`url(#d-${i})`,fillOpacity:".4"}),(0,Fs.jsx)("path",{d:"m17.9212 32.183 29.061-25.80479c-.2055.91261-.5316 2.26188-1.0254 4.07169-1.0305 3.7768-2.791 9.5588-5.7082 17.5634-2.6186 7.1853-6.5442 10.3049-10.3618 11.2275-3.8293.9254-7.6707-.3285-10.191-2.1484-.9843-1.0568-1.4305-2.3209-1.6277-3.3432-.0993-.5145-.134-.9608-.144-1.2765-.0036-.1154-.0039-.213-.0029-.2897z",stroke:`url(#e-${i})`})]})},ud=(0,m.memo)(ld),dd=()=>{const{state:e,controller:t}=No(un.THANK_YOU),n=(0,Zs.S)();return(0,Fs.jsxs)("a",{href:e.tributeDonorPortalLink,className:"btn btn-default h-auto d-flex items-center text-start text-wrap-normal px-6 py-4",target:"_blank",rel:"noreferrer","data-qa":"tribute-send-card","data-tracking-element-name":"completeDedication",children:[(0,Fs.jsx)(ud,{className:"shrink-0 me-5",width:32,height:32,ariaHidden:!0}),(0,Fs.jsx)("span",{className:(0,Hs.Z)("body-1 grow-1",n?"text-ellipsis":"text-line-clamp-2"),children:t.sendCardButton})]})},hd=(0,m.memo)(dd),md=()=>{const{controller:e}=No(un.THANK_YOU),t=(0,no.Y)(),n=(0,Zs.S)(),i=Au();return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("div",{className:"fixed-container d-flex flex-column grow-1",children:[(0,Fs.jsxs)("div",{className:(0,Hs.Z)("grow-1 d-flex flex-column",{"justify-center":!n}),children:[(0,Fs.jsx)(Pu,{className:"d-block mx-auto",ariaHidden:!0}),(0,Fs.jsx)("h2",{className:(0,Hs.Z)("title-1 text-center mt-8",n?"text-ellipsis":"text-line-clamp-2"),children:t.translate("thankYouScreen.thankYou")}),(0,Fs.jsx)("p",{className:(0,Hs.Z)("text-center mt-3",n?"text-ellipsis":"text-line-clamp-6"),dangerouslySetInnerHTML:{__html:e.descriptionTribute}})]}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("shrink-0",{"mt-12":n,"mt-8":!n}),children:[(0,Fs.jsx)(hd,{}),(0,Fs.jsx)(od,{className:"mt-3"})]})]}),(0,Fs.jsx)(yc,{className:(0,Hs.Z)("pt-8",{"pb-10":n}),children:(0,Fs.jsx)("div",{className:"d-flex justify-center",children:(0,Fs.jsx)("button",{type:"button",className:"btn-link text-truncate",onClick:()=>{i.emit("should-hide",{})},"data-qa":"close","data-tracking-element-name":"closeButton",children:t.translate("thankYouScreen.closeButtonLabel")})})})]})},pd={Sharing:id,Tribute:(0,m.memo)(md),Default:ku},gd=e=>{const{state:t}=No(un.THANK_YOU),n=(0,Zs.S)(),i=pd[t.variant],a=(0,Bs.C)().getAskPageConfig().show;return(0,Fs.jsxs)("div",{className:"flow-screen","data-qa":"active-screen-thank-you",children:[n&&!a&&(0,Fs.jsx)(Dc,{}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",n?"pt-16":"pt-8"),children:(0,Fs.jsx)(i,{})})]})},yd=(0,m.memo)(gd),fd=e=>{const{className:t,prevContent:n,content:i,disabled:a,onAddComment:r,onHighlight:s}=e,o=(0,no.Y)(),[c,l]=(0,m.useState)(!1);return(0,m.useEffect)((()=>{if(n===i||!i)return void l(!1);s(),l(!0);const e=H()((()=>{l(!1)}),400);return()=>{window.clearTimeout(e)}}),[i,n,s]),(0,Fs.jsx)("div",{className:t,children:(0,Fs.jsxs)("button",{type:"button",className:(0,Hs.Z)("comment-btn body-3",{"is-highlighted":c}),dir:"auto",disabled:a,onClick:()=>r(),"data-qa":"comment-link","data-tracking-element-name":"navigateToComment",children:[(0,Fs.jsx)("span",{className:"comment-highlight"}),i?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("span",{className:"comment-btn-title",children:o.translate("donateForm.comment.commentAdded")}),(0,Fs.jsx)("span",{className:"comment-btn-link",title:i,dir:"auto",children:i})]}):(0,Fs.jsx)(Fs.Fragment,{children:(0,Fs.jsx)("span",{className:"comment-btn-link",children:o.translate("donateForm.comment.label")})})]})})},vd=(0,m.memo)(fd);var Sd=n(59687),Cd=n(91551);class bd{constructor(e){let{digits:t,withoutFraction:n,getCurrencyFormat:i,locale:a,donationType:r,setZeroOnBlur:s}=e;this.digits=t,this.withoutFraction=n,this.locale=a,this.donationType=r,this.getCurrencyFormat=i,this.setZeroOnBlur=s,this.groupSeparator=this.getCurrencyFormat().groupSeparator,this.decimalSeparator=this.getCurrencyFormat().decimalSeparator}get alternativeDecimalSeparator(){return"."===this.decimalSeparator?",":"."}parseAmountOrNull(e){return Ht()(e)?null:e}formatValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=null===e?"":Gr(e/Math.pow(10,this.digits),t,this.digits,this.locale);return this.removeFractionZeroes(n,t)}convertStringToNumber(e,t){const n=this.toJsFloatFormat(e),i=this.parsePrice(n,t);return Math.round(Vt()(i)*Math.pow(10,this.digits))}handleKeyDown(e,t,n){if(!(this.withoutFraction?bd.DIGITS_REG_EXP:bd.DIGITS_WITH_DOT_COMMA_REG_EXP).test(e.key)&&e.key&&1===e.key.length&&!e.ctrlKey&&!e.metaKey)return e.preventDefault();const i=t.value;if(Z()(i).call(i,this.decimalSeparator)&&(","===e.key||"."===e.key))return e.preventDefault();const a=i.split(this.decimalSeparator),r=a[0],s=r?r.length:0,o=a[1];if((o?o.length:0)>=this.digits&&e.key&&1===e.key.length&&t.selectionStart&&t.selectionStart===t.selectionEnd&&t.selectionStart>s&&!e.ctrlKey&&!e.metaKey)return e.preventDefault();n()}handlePaste(e,t){e.preventDefault(),t((e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||window.clipboardData).getData("text"))}handleChange(e,t,n,i,a){let r=e.target.value;if(t){const e=this.getCommaPosition(n,r);-1!==e&&(r=r.substring(0,e)+this.decimalSeparator+r.substring(e+1))}const s=new RegExp(`\\${this.decimalSeparator}$`);(r.match(s)||n.match(s)&&!Z()(r).call(r,this.decimalSeparator))&&i(r);const o=new RegExp(`[${this.decimalSeparator}][0-9]{0,${this.digits}}$`),c="0"===r[r.length-1]&&e.target.selectionStart===r.length,l="0"===n[n.length-1]&&n.length>r.length&&n.length===Number(e.target.selectionStart)+1;r.match(o)&&(c||l)&&i(r),a(r)}handleBlur(e,t){this.setZeroOnBlur&&""===e.target.value&&(e.target.value="0"),t(e)}getInputMode(){return this.withoutFraction?"numeric":"decimal"}calculateInitialCursorPosition(e,t){var n;const i=a()(e).call(e,0,t),r=Fe()(n=[...i]).call(n,(e=>e===this.groupSeparator)).length;return i.length-r}calculateFormattedCursorPosition(e,t){let n=0,i=0;for(;i<t&&n<e.length;)e[n]!==this.groupSeparator&&i++,n++;return n}limitCryptoAmount(e){const t=e.split("."),n=t[0];if(n.length>bd.CRYPTO_MAXIMUM_INTEGER_LENGTH&&(e=e.replace(/^([0-9]*)/,a()(n).call(n,0,bd.CRYPTO_MAXIMUM_INTEGER_LENGTH))),Z()(e).call(e,".")){const n=t[1];n.length>bd.CRYPTO_MAXIMUM_FRACTION_LENGTH&&(e=e.replace(/[.]([0-9]*)/,a()(n).call(n,0,bd.CRYPTO_MAXIMUM_FRACTION_LENGTH)))}return e}parsePrice(e,t){let n=e||"";if(n=n.replace(/[^\d.]/g,""),this.donationType===et.MONEY){const e=(0,Cd.OQ)(t);n=a()(n).call(n,0,e+2)}return this.donationType===et.CRYPTO&&(n=this.limitCryptoAmount(n)),Vt()(n).toFixed(this.withoutFraction?0:this.digits)}getCommaPosition(e,t){const n=e.length>=t.length?e:t,i=e.length>=t.length?t:e,a=n.split("");for(const e in a)if(a[e]===this.alternativeDecimalSeparator&&a[e]!==i.charAt(Number(e)))return Number(e);return-1}toJsFloatFormat(e){return e.replace(new RegExp(`\\${this.groupSeparator}`,"g"),"").replace(new RegExp(`\\${this.decimalSeparator}`,"g"),".")}removeFractionZeroes(e,t){const n=new RegExp(`\\${this.decimalSeparator}0+$`);return 0!==t?e.replace(n,""):e}}bd.DIGITS_WITH_DOT_COMMA_REG_EXP=/[0-9.,]/,bd.DIGITS_REG_EXP=/[0-9]/,bd.CRYPTO_MAXIMUM_FRACTION_LENGTH=8,bd.CRYPTO_MAXIMUM_INTEGER_LENGTH=9;const Ed=(0,m.forwardRef)((function(e,t){const{className:n,placeholder:i,disabled:a,onChange:r,onFocus:s,onBlur:o,onClick:c,trackingElement:l,qa:u,currency:d}=e,[h,p]=(0,m.useState)(!1),[g,y]=(0,m.useState)(null),f=(0,no.Y)(),v=function(e){let{withoutFraction:t,digits:n,donationType:i,intl:a}=e;return(0,m.useMemo)((()=>new bd({withoutFraction:t,getCurrencyFormat:()=>a.getCurrencyFormat(),locale:a.locale,digits:n,donationType:i})),[n,i,a,t])}({withoutFraction:e.withoutFraction,digits:e.digits,intl:f,donationType:e.donationType}),S=(0,m.useMemo)((()=>v.alternativeDecimalSeparator),[v]),C=(0,m.useMemo)((()=>v.getInputMode()),[v]),b=(0,m.useRef)(null),E=(0,m.useCallback)((t=>v.formatValue(t,h?0:e.digits)),[v,h,e.digits]),[A,N]=(0,m.useState)(E(e.value)),[P,x]=(0,m.useState)(d),k=(0,m.useRef)(!1),w=(0,m.useCallback)(((e,t)=>v.convertStringToNumber(e,t)),[v]);(0,m.useEffect)((()=>{w(A,P)!==e.value&&(x(d),N(E(e.value)))}),[e.value,E,w,A,d,P]),(0,m.useEffect)((()=>{if(null===b.current||null===g)return;const e=v.calculateFormattedCursorPosition(A,g);b.current.selectionStart=e,b.current.selectionEnd=e}),[g,A,v]);const D=(0,m.useCallback)((e=>{const t=w(e,d);r(v.parseAmountOrNull(t))}),[w,r,v,d]),T=()=>{b.current.focus()};return(0,m.useImperativeHandle)(t,(()=>({focus:T}))),(0,Fs.jsx)("input",{ref:b,className:n,autoComplete:"off",value:A,onChange:e=>{h||p(!0),v.handleChange(e,k.current,A,N,(t=>{var n;const i=v.calculateInitialCursorPosition(t,null!==(n=e.target.selectionStart)&&void 0!==n?n:0);y(i),D(t)}))},onPaste:e=>{v.handlePaste(e,(e=>{D(e)}))},onKeyDown:e=>{v.handleKeyDown(e,b.current,(()=>{k.current=e.key===S}))},onFocus:()=>{s&&s()},onBlur:e=>{o&&v.handleBlur(e,(()=>{o()}))},onClick:()=>{c&&c()},disabled:a,inputMode:C,placeholder:i,"data-qa":null!=u?u:"amount","data-tracking-element-name":l,"data-testid":"price-input"})})),Ad=(0,m.memo)(Ed),Nd=(0,m.forwardRef)(((e,t)=>{const[n,i]=(0,m.useState)(!1),{onAmountChange:a,onAmountInputBlur:r,onAmountInputFocus:s,currencyService:o,withoutFraction:c=!0,qaActiveAttribute:l,qaDisabledAttribute:u,trackingElement:d,placeholder:h,donationType:p,isCustomAmount:g,resizable:y,className:f,canModifyAmount:v,showCurrencySymbol:S,useSpaceAfterCurrencySymbol:C,showDisabledInput:b,disabled:E,currency:A,currencyCodeNode:N,canSelectCurrency:P,amount:x,customCurrencySection:k}=e,w=(0,no.Y)(),D=(0,Xs.q)(),T=(0,m.useCallback)((e=>{a(e)}),[a]),O=(0,m.useCallback)((()=>{r&&r(),i(!1)}),[r]),_=(0,m.useCallback)((()=>{s&&s(),i(!0)}),[s]),I=/\s/.test(w.formatCurrency(null!=x?x:0,{currency:A,display:"short"})),R=C&&I,L=o.getDigits(A),M=Gr((x||0)/Math.pow(10,L),0,2),j=n?w.translate("donateForm.donationAmountField.placeholder.empty"):w.translate("donateForm.donationAmountField.placeholder.default");return(0,Fs.jsxs)("div",{className:(0,Hs.Z)(f,{"text-color":p===et.CRYPTO,"text-white":b,focus:n,disabled:!v}),"aria-label":w.translate("donateForm.donationAmountControlAriaLabel"),children:[S&&o.getSymbol(A)&&(0,Fs.jsxs)("div",{className:(0,Hs.Z)("shrink-0 self-center text-sans-serif",{"label-3 text-gray-80 me-1":!y&&!g}),"aria-hidden":"true","data-qa":"currency-symbol",children:[o.getSymbol(A),R&&(0,Fs.jsx)(Fs.Fragment,{children:""})]}),(0,Fs.jsxs)("label",{className:(0,Hs.Z)("grow-1",{"p-rel":y}),children:[(0,Fs.jsxs)("span",{className:"sr-only",children:[w.translate("donateForm.donationAmountField.label")," ",A]}),y&&(0,Fs.jsx)("span",{className:"price-control invisible","aria-hidden":"true","data-qa":l+"-value",children:M}),v?(0,Fs.jsx)(Ad,{ref:t,className:(0,Hs.Z)(D("price-control"),{"p-abs top-left bottom-right":y,"font-size-16":!n&&null===x,disabled:E}),digits:o.getDigits(A),value:x,onChange:T,onBlur:O,onFocus:_,withoutFraction:c,pattern:"[\\d,.]*",placeholder:"string"==typeof h?h:j,disabled:b||E,qa:l,trackingElement:d,donationType:p,currency:A}):(0,Fs.jsx)("span",{className:D("price-control"),"data-qa":u,children:w.formatCurrency(x||0,{currency:A,display:"floatcents",withoutPrefix:!0})})]}),k?N:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("shrink-0 d-flex items-center p-rel self-center",{"currency-select":P,"ps-2 pe-1-5 py-2":P&&!g,"px-2-5 py-2":!P&&!g,"ps-2 pe-1-5 py-1":P&&g,"px-2 py-1":!P&&g}),children:[(0,Fs.jsxs)("div",{className:"currency-select-label p-rel d-flex items-center z-index-2","aria-hidden":"true",children:[(0,Fs.jsx)("span",{"data-qa":"selected-currency",children:A}),P&&(0,Fs.jsx)("span",{className:"currency-select-arrow icon-slot icon-slot-16","aria-hidden":"true",children:(0,Fs.jsx)("span",{className:"p-abs centered font-size-16",children:(0,Fs.jsx)(Sd.Z,{className:"d-block icon-stroke"})})})]}),N,(0,Fs.jsx)("div",{className:"p-abs top-left bottom-right focus-next"})]})]})}));Nd.displayName="_CurrencyInputSection";const Pd=(0,m.memo)(Nd),xd={verticalAlign:"-0.25em",marginLeft:"2px"},kd=e=>{let{goal:t,className:n,isRtl:i,disabled:a}=e;var r;const s=null!==(r=null==t?void 0:t.name)&&void 0!==r?r:"",o=Gt()(s).call(s).split(" "),c=On()(o).call(o,0,o.length-1).join(" "),l=o[o.length-1];return(0,Fs.jsxs)("span",{className:(0,Hs.Z)("goal-label text-decor text-break-word",n,{"pointer-events-none":a}),"aria-hidden":"true",dir:i?"rtl":"ltr","data-qa":"selected-goal",children:[c,c&&" ",(0,Fs.jsxs)("span",{className:"text-nowrap",children:[l,(0,Fs.jsx)(Sd.Z,{className:"d-inline icon-stroke",style:xd})]})]})},wd=(0,m.memo)(kd),Dd=(0,m.createContext)(null);function Td(){const e=(0,m.useContext)(Dd);if(!e)throw new Error("Tracker is not provided");return e}const Od={opacity:1e-4},_d=e=>{var t;const{goal:n,goals:i,goalKey:a,isEditable:r,disabled:s,changeGoal:o,hasError:c,isDesignationNew:l,labelFloating:u}=e,d=(0,no.Y)(),h=Td(),m=(0,Zs.S)(),p=ho(),g=(0,co.S)(),y=e=>{o(e.target.value),h.trackClick("goalSelector",e.target)},{isTestGroup:f}=(0,mc.X)(),v=De()(i).call(i,(e=>({value:e.key,label:e.name})));return(0,Fs.jsx)(Fs.Fragment,{children:l?(0,Fs.jsxs)(fl,{labelFloating:u,labelSrOnly:!0,id:`designation-${p}`,label:d.translate("donateForm.designation.label"),error:c,formGroupClass:(0,Hs.Z)(e.className,{"animation-shake":e.shake}),className:(0,Hs.Z)({"font-size-14 line-height-20":!f}),value:null!=a?a:"",disabled:s,onChange:y,dataQa:"goal-selector","data-tracking-element-name":"goalSelect",options:v,children:[!n&&!f&&(0,Fs.jsx)("span",{className:"custom-select-cover-label p-abs bottom-left bottom-right text-truncate pointer-events-none text-gray-60 font-size-14 line-height-20 z-index-4",children:d.translate("donateForm.designation.placeholder")}),c&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:d.translate("donateForm.designation.error.required")})]}):(0,Fs.jsx)("div",{className:(0,Hs.Z)("d-flex",e.className),children:(0,Fs.jsx)("div",{className:"p-rel body-3","data-qa":"goal-component",children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)(m?"text-ellipsis":"text-line-clamp-2"),children:[(0,Fs.jsx)("label",{htmlFor:`designation-${p}`,className:(0,Hs.Z)("d-inline me-1 text-nowrap body-3"),children:d.translate("donateForm.designation.label")}),r?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("select",{id:`designation-${p}`,className:"form-control form-control-goal cursor-pointer p-abs top-left bottom-right z-index-2",style:Od,value:null!=a?a:"",disabled:s,onChange:y,"data-qa":"goal-selector","data-tracking-element-name":"goalSelect",children:De()(i).call(i,(e=>(0,Fs.jsx)("option",{value:e.key,children:e.name},e.key)))}),(0,Fs.jsx)(wd,{goal:n,className:"body-3",isRtl:g,disabled:s}),(0,Fs.jsx)("div",{className:"p-abs top-left bottom-right border-radius-2 focus-next"})]}):(0,Fs.jsx)("span",{className:"body-3","data-qa":"selected-goal",children:null!==(t=null==n?void 0:n.name)&&void 0!==t?t:""})]})})})})},Id=(0,m.memo)(_d);var Rd,Ld;function Md(){return Md=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Md.apply(this,arguments)}var jd=function(e,t){return m.createElement("svg",Md({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),Rd||(Rd=m.createElement("line",{x1:18,y1:6,x2:6,y2:18})),Ld||(Ld=m.createElement("line",{x1:6,y1:6,x2:18,y2:18})))},Fd=(0,m.forwardRef)(jd),Ud=(0,m.memo)(Fd),Bd=n(88874);const Gd={background:"rgba(255, 255, 255, 0.9)"},qd=["click"],Vd=["top-end"],Kd=(0,m.forwardRef)(((e,t)=>{const{onChange:n,onSelect:i,onBlur:a,onClear:r,onFocus:s,options:o,value:c,className:l,inputClasses:u,loading:d,placeholder:h,showArrow:p,showIcons:g,showInputPrefix:y=!0,label:f,labelOptional:v,labelFloating:S,disabled:C,qa:b,hint:E,allowClear:A,trackingElement:N,displayName:P,SelectedIconToRender:x,ListItemToRender:k,selectedOption:w,hasError:D,maxLength:T,filterRegex:O}=e,_=(0,no.Y)(),I=(0,co.S)(),R=(0,Zs.S)(),[L,M]=(0,m.useState)(!1),[j,F]=(0,m.useState)(!1),[U,B]=(0,m.useState)(null),G=L&&!!o.length,q=(0,m.useRef)(null),V=(0,m.useRef)(null),K=(0,m.useRef)(null),H=(0,m.useRef)(null),Y=(0,m.useRef)(null),Z=e=>{const t=i(e);F(!1),t||z()},z=()=>{if(M(!1),!V.current)throw new Error("inputRef was not provided");V.current.blur(),a&&a()},W=ho(),$=()=>{if(!V.current)throw new Error("inputRef was not provided");V.current.focus()};(0,m.useImperativeHandle)(t,(()=>({focus:$})));const X=void 0!==P?P:c,Q=(null==c?void 0:c.length)>0;return(0,Fs.jsxs)("div",{ref:q,className:(0,Hs.Z)("search-select",l),children:[(0,Fs.jsx)(bl.u,{labelFloating:S,id:`search-select-${W}`,label:f,labelSrOnly:!0,labelOptional:v?_.translate("common.optional"):"",customPrefix:y&&g&&x&&(0,Fs.jsx)(x,{option:w,value:c,options:o,disabled:C}),setRef:V,dataTestId:"search-input",placeholder:h,error:D,className:(0,Hs.Z)("search-select-input",u,{"search-select-input-active":G,"search-select-input-offset-left":g&&y,"search-select-input-offset-right":A,"search-select-input-with-arrow":p}),formLabelClass:(0,Hs.Z)({"pe-6":A}),value:X,autoComplete:"new-password",onChange:e=>{return t=e.target.value,void(n&&n((i=t,void 0===O?i:Fe()(a=i.split("")).call(a,(e=>O.test(e))).join(""))));var t,i,a},onFocus:()=>{M(!0),s&&s()},onBlur:()=>!j&&z(),onKeyDown:e=>{if(void 0!==O&&!O.test(e.key))return void e.preventDefault();if(!G)return;const{currentOptionIdx:t,needSelectOption:n,closeDropdown:i}=(0,Bd.n)(e,U,o.length);i?z():n&&null!==t?Z(o[t].id):null!==t&&B(t)},disabled:C,dataTrackingElementName:N,dataQa:b,maxLength:T,children:(!!E||A)&&(0,Fs.jsxs)("div",{className:"p-abs centered-right d-flex items-center me-4",children:[!!E&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("button",{ref:H,type:"button",className:"btn-icon btn-icon-round font-size-18 text-gray-40 shrink-0 ms-1-5",disabled:C,"aria-label":_.translate("common.helpAriaLabel"),children:(0,Fs.jsx)(vc.Z,{className:(0,Hs.Z)("icon-stroke d-block",{"icon-flip-horizontal":I}),"aria-hidden":"true"})}),!C&&(0,Fs.jsx)(Uo.N,{triggerRef:H,trigger:qd,placement:I?"left-start":"right-start",fallbackPlacements:Vd,maxWidth:R?"var(--fixed-container-width-desktop)":"232px",children:E})]}),(0,Fs.jsx)(Ys.Z,{classNames:"search-select-clear-appear",nodeRef:Y,in:Q,timeout:100,mountOnEnter:!0,unmountOnExit:!0,children:(0,Fs.jsx)("button",{ref:Y,type:"button",className:"btn-icon font-size-18 text-gray-60 shrink-0 ms-1-5",disabled:C,"aria-label":_.translate("common.clearButtonAriaLabel"),onClick:r,children:(0,Fs.jsx)(Ud,{className:"icon-stroke icon-stroke-2 d-block","aria-hidden":"true"})})})]})}),G&&(0,Fs.jsxs)("div",{className:"search-select-dropdown",ref:K,role:"menu","data-testid":"menu",children:[d&&(0,Fs.jsx)(Kc,{size:24,className:"p-abs top-left bottom-right z-index-2",style:Gd}),De()(o).call(o,((e,t)=>(0,Fs.jsx)("div",{className:(0,Hs.Z)("search-select-option",{"search-select-option-with-icon":g,"search-select-option-highlighted":t===U}),role:"menuitem","data-testid":"menuitem",onMouseDown:()=>F(!0),onClick:()=>Z(e.id),onMouseMove:()=>B(t),"data-qa":b+"-item","data-tracking-element-name":N,children:k?(0,Fs.jsx)(k,{option:e,showIcons:!0}):(0,Fs.jsx)("div",{children:e.value})},e.id)))]})]})}));Kd.displayName="_SearchManualSelect";const Hd=(0,m.memo)(Kd),Yd=(0,m.forwardRef)(((e,t)=>{const{onSelect:n,options:i,selectedOption:a,className:r,labelOptional:s,placeholder:o,shouldSearchById:c,displayName:l,clearOnFocus:u,onChange:d,isDynamicOptions:h,showArrow:p=!0,showInputPrefix:g=!0,showIcons:y,SelectedIconToRender:f,ListItemToRender:v,disabled:S,hasError:C,trackingElement:b,qa:E,filterRegex:A,onBlur:N}=e,[P,x]=(0,m.useState)((null==a?void 0:a.id)||""),[k,w]=(0,m.useState)(l),D=void 0!==l;(0,m.useEffect)((()=>{(null==a?void 0:a.id)&&x(null==a?void 0:a.id),D&&w(l)}),[l,D,a]);const T=(0,m.useCallback)((e=>(n(e),!1)),[n]),O=(0,m.useCallback)((e=>{x(e),d&&d(e),D&&w(e)}),[D,d]),_=(0,m.useMemo)((()=>{if(!i.length)return[];if(h)return i;const e=qe()(i).call(i,(e=>{let{id:t}=e;return t===(null==a?void 0:a.id)}));if(P===(null==e?void 0:e.id))return[...i];const t=P.toLowerCase();return c?Fe()(i).call(i,(e=>{var n,i;let{id:a,value:r}=e;return Z()(n=r.toLowerCase()).call(n,t)||Z()(i=a.toLowerCase()).call(i,t)})):Fe()(i).call(i,(e=>{var n;let{value:i}=e;return Z()(n=i.toLowerCase()).call(n,t)}))}),[i,h,P,c,a]),I=(0,m.useCallback)((()=>{(null==a?void 0:a.id)?x(a.id):x(""),D&&w(l),null==N||N()}),[l,D,a,N]),R=(0,m.useCallback)((()=>{u&&D&&w("")}),[u,D]);return(0,Fs.jsx)(Hd,{ref:t,options:_,value:P,onChange:O,onSelect:T,onBlur:I,onFocus:R,className:r,placeholder:o,labelOptional:s,displayName:k,isDynamicOptions:h,showArrow:p,showInputPrefix:g,showIcons:y,SelectedIconToRender:f,ListItemToRender:v,selectedOption:a,disabled:S,hasError:C,trackingElement:b,qa:E,filterRegex:A})}));Yd.displayName="_SearchFilterSelect";const Zd=(0,m.memo)(Yd),zd=e=>{const{inHonorOfMaxLength:t,className:n,isActive:i,sharingEnabled:a,labelType:r,name:s,disabled:o,labelFloating:c,isFloatingLabelTestGroup:l,onToggleTribute:u,onChangeTributeName:d}=e,p=(0,no.Y)(),g=(0,eo.g)(),y=(0,co.S)(),f=(0,Zs.S)(),v=ho(),S=(0,m.useRef)(null),[C,b]=(0,m.useState)(!1),E=i&&!g&&C,A=[y?"right":"left","top"],N=(0,Bs.C)(),P=t=>{b(t),e.onInputFocusChange&&e.onInputFocusChange(t)};return(0,Fs.jsxs)("div",{className:n,children:[(0,Fs.jsx)(cl,{className:"body-3",customLabelClasses:"line-height-20",checked:null!=i&&i,onChange:()=>{u()},qa:"tribute-give-checkbox",trackingElement:"tributeCheckbox",disabled:o,children:(0,Fs.jsx)("span",{className:"text-truncate body-3","data-qa":"tribute-label",children:{[h.h2.IN_HONOR_MEMORY]:N.allowLegacyTributeLabel?p.translate("donateForm.tribute.label.inHonorMemory"):p.translate("donateForm.tribute.label.dedication"),[h.h2.DEDICATION]:p.translate("donateForm.tribute.label.dedication")}[r]})}),i&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(bl.u,{labelFloating:c,formGroupClass:f?"mt-3":"mt-2",id:`tribute-${v}`,labelSrOnly:!0,setRef:S,label:p.translate("donateForm.tribute.inputPlaceholder"),autoFocus:i,autoFocusMode:Jo.E.ALL,className:(0,Hs.Z)(l?"":"line-height-20 "+(f?"font-size-16":"font-size-14")),placeholder:p.translate("donateForm.tribute.inputPlaceholder"),value:null!=s?s:"",maxLength:t,disabled:o,onFocus:()=>P(!0),onBlur:()=>P(!1),onChange:e=>d(e.target.value),dataQa:"tribute-name"}),a&&(0,Fs.jsx)(Fs.Fragment,{children:f?(0,Fs.jsx)("p",{className:"body-3 text-ellipsis mt-1-5","data-qa":"tribute-hint",children:p.translate("donateForm.tribute.tooltipLabel")}):(0,Fs.jsx)(jc.K,{triggerRef:S,show:E,placement:y?"left":"right",fallbackPlacements:A,dataQa:"tribute-hint",maxWidth:"232px",children:p.translate("donateForm.tribute.tooltipLabel")})})]})]})},Wd=(0,m.memo)(zd);var $d,Xd;function Qd(){return Qd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qd.apply(this,arguments)}var Jd=function(e,t){return m.createElement("svg",Qd({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),$d||($d=m.createElement("circle",{cx:11,cy:11,r:8})),Xd||(Xd=m.createElement("line",{x1:21,y1:21,x2:16.65,y2:16.65})))},eh=(0,m.forwardRef)(Jd),th=(0,m.memo)(eh);const nh=(0,m.forwardRef)(((e,t)=>{if(void 0!==e.options){var n;const i=qe()(n=e.options).call(n,(t=>{let{id:n,value:i}=t;return n===e.name||i===e.name}));let a="";return i&&(a="1INCH"===i.id?"oneinch":i.id.toLowerCase()),a?(0,Fs.jsx)("span",{ref:t,className:`crypto-icon crypto-icon-${a}`,style:e.style}):(0,Fs.jsx)(th,{className:"icon-stroke text-gray-60"})}const i="1INCH"===e.name?"oneinch":e.name.toLowerCase();return(0,Fs.jsx)("span",{ref:t,className:`crypto-icon crypto-icon-${i}`,style:e.style})}));nh.displayName="RawCryptoIcon";const ih=(0,m.memo)(nh),ah=e=>(0,Fs.jsxs)(Fs.Fragment,{children:[e.showIcons&&(0,Fs.jsx)("div",{className:"search-select-option-icon","aria-hidden":"true",children:(0,Fs.jsx)(ih,{name:e.option.id})}),(0,Fs.jsx)("span",{children:e.option.value})]}),rh=e=>(0,Fs.jsx)("div",{className:"search-select-input-icon","aria-hidden":"true",children:(0,Fs.jsx)(ih,{name:e.value,options:e.options})}),sh=(0,m.memo)(rh);var oh;function ch(){return ch=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ch.apply(this,arguments)}var lh=function(e,t){return m.createElement("svg",ch({fill:"none",height:28,viewBox:"0 0 28 28",width:28,xmlns:"http://www.w3.org/2000/svg",ref:t},e),oh||(oh=m.createElement("path",{clipRule:"evenodd",d:"m2 14c0-6.62742 5.37258-12 12-12 6.6274 0 12 5.37258 12 12 0 6.6274-5.3726 12-12 12-6.62742 0-12-5.3726-12-12zm12-14c-7.73199 0-14 6.26801-14 14 0 7.732 6.26801 14 14 14 7.732 0 14-6.268 14-14 0-7.73199-6.268-14-14-14zm-4.10223 5.74899c-.14294-.53346-.69128-.85004-1.22475-.7071-.53346.14294-.85005.69128-.7071 1.22474l.87766 3.27549c-1.42369 1.64968-2.03436 3.95478-1.42697 6.22158s2.2888 3.9578 4.34659 4.6746l.8777 3.2758c.143.5335.6913.85 1.2248.7071s.85-.6913.7071-1.2247l-.6378-2.3802c.6039.0055 1.2181-.0698 1.8287-.2334.3343-.0896.6565-.2027.965-.3371l.5933 2.214c.1429.5335.6913.8501 1.2247.7071.5335-.1429.8501-.6913.7071-1.2247l-.7558-2.8206c.8423-.7407 1.4859-1.6767 1.8788-2.7157.1953-.5166-.0651-1.0937-.5817-1.2891-.5166-.1953-1.0937.0651-1.2891.5817-.3369.8912-.9339 1.6736-1.7219 2.232-.452.3203-.9684.5679-1.538.7206-.8223.2203-1.649.214-2.417.0207-1.6417-.4133-3.01255-1.6788-3.48064-3.4257-.4681-1.747.08637-3.5283 1.30144-4.7071.5685-.55143 1.2813-.97021 2.1035-1.19054.5697-.15263 1.1407-.19634 1.6923-.14497.9617.08956 1.8698.46873 2.6072 1.07201.4275.3497 1.0575.2867 1.4072-.1408.3497-.42746.2867-1.05748-.1408-1.40719-.8597-.70339-1.885-1.19215-2.9848-1.41247l-.7557-2.82032c-.1429-.53347-.6913-.85005-1.2248-.70711-.5334.14294-.85.69128-.7071 1.22475l.5932 2.21369c-.3345.03787-.67.10099-1.0043.19056-.6106.1636-1.1801.40556-1.7004.71221z",fill:"currentColor",fillRule:"evenodd"})))},uh=(0,m.forwardRef)(lh),dh=(0,m.memo)(uh);var hh;function mh(){return mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mh.apply(this,arguments)}var ph=function(e,t){return m.createElement("svg",mh({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),hh||(hh=m.createElement("polyline",{points:"20 6 9 17 4 12"})))},gh=(0,m.forwardRef)(ph),yh=(0,m.memo)(gh),fh=n(41498),vh=n.n(fh),Sh=n(43028),Ch=n.n(Sh);const bh=["bottom-end"],Eh=["click"],Ah=()=>{const e=(0,Zs.S)(),t=(0,no.Y)(),n=(0,Xs.q)(),{isVariant2TestGroup:i}=(0,mc.X)(),r=(0,m.useRef)(null),{countdown:s,isActive:o}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const n=(0,m.useRef)(Jn()()+e),i=(0,m.useRef)(null),[a,r]=(0,m.useState)(e),[s,o]=(0,m.useState)(!0),c=(0,Yo.Y)(),l=(0,m.useCallback)((()=>{i.current&&(clearInterval(i.current),o(!1))}),[i]),u=(0,m.useCallback)((()=>{const e=n.current-Jn()();r(e)}),[n]);return(0,m.useEffect)((()=>{if(c)return o(!0),u(),i.current=Ch()(u,t),l}),[u,c,t,l]),(0,m.useEffect)((()=>{a<t&&l()}),[t,l,a]),{countdown:a,isActive:s}}(9e5),[c,l]=(0,m.useMemo)((()=>function(e){var t;const n=new Date(e),[,i,r]=a()(t=n.toISOString()).call(t,11,-5).split(":");return[i,r]}(s)),[s]),u=s<6e4;return(0,Fs.jsx)(Fs.Fragment,{children:o&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("button",{type:"button",ref:r,className:(0,Hs.Z)({[n("crypto-timer")]:!i,"crypto-timer-experiment":i,"crypto-timer-danger":u}),"aria-label":t.translate("cryptoWalletScreen.cryptoTimer.ariaLabel",{minutes:c,seconds:l}),children:[c,":",l]}),(0,Fs.jsx)(Uo.N,{triggerRef:r,trigger:Eh,placement:e?"bottom-end":"right-start",fallbackPlacements:bh,maxWidth:"232px",children:t.translate("cryptoWalletScreen.cryptoTimer.tooltipLabel")})]})})},Nh=(0,m.memo)(Ah),Ph={src:"",height:40,width:40,excavate:!0},xh={width:"168px",height:"168px"},kh={[Dr.CRYPTO_CURRENCY]:()=>{const{state:e,controller:t}=No(Dr.CRYPTO_CURRENCY),n=(0,no.Y)(),i=(0,Zs.S)(),a=(0,co.S)(),r=(0,eo.g)(),{isTestGroup:s,isVariant2TestGroup:o}=(0,mc.X)(),c=(0,m.useRef)(null),l=(0,m.useRef)(null);(0,ec.w)({ref:c,autoFocus:!0,mode:Jo.E.DESKTOP});const u=(0,Bs.C)(),d=Bl(e.designationShakeKey,0!==e.designationShakeKey),h=So(),[p,g]=(0,m.useState)(!1),[y,f]=(0,m.useState)(!1),[v,S]=(0,m.useState)(!1),C=(0,m.useMemo)((()=>p||y||v),[p,y,v]),b=(0,m.useMemo)((()=>p||y),[p,y]),E=(0,m.useMemo)((()=>{var t;return De()(t=e.currencies).call(t,(e=>{let{name:t,code:n}=e;return{id:n,value:t}}))}),[e.currencies]),A=(0,m.useMemo)((()=>({id:e.currencyCode,value:e.currencyName})),[e.currencyCode,e.currencyName]),N=(0,m.useCallback)((e=>{t.changeCryptoCurrency(e)}),[t]),P=(0,m.useCallback)((e=>{t.changeAmount(e)}),[t]),x=(0,m.useCallback)((()=>{t.validateAmount(),g(!r&&e.errors.amount.min),f(!r&&e.errors.amount.max),S(!r&&e.errors.amount.required)}),[t,r,e.errors.amount.min,e.errors.amount.max,e.errors.amount.required]);(0,m.useEffect)((()=>{l.current&&(g(!r&&e.errors.amount.min),f(!r&&e.errors.amount.max),S(!r&&e.errors.amount.required))}),[l,r,e.errors.amount.min,e.errors.amount.max,e.errors.amount.required]);const k=(0,m.useCallback)((()=>t.toggleTribute()),[t]),w=(0,m.useCallback)((e=>{t.changeTributeName(e)}),[t]),D=(0,m.useMemo)((()=>r?[]:t.getAllowedGoals(e.designation.goals,e.frequency)),[t,e.designation.goals,e.frequency,r]),T=(0,m.useMemo)((()=>t.getGoalByKey(e.designation.goalKey)),[t,e.designation.goalKey]),O=(0,m.useCallback)((e=>t.changeGoal(e)),[t]),_=(0,m.useCallback)((()=>t.savePrevComment()),[t]),I=(0,m.useCallback)((()=>t.addComment()),[t]),[R,L]=(0,m.useState)(!1),M=(0,Fc.i)((e=>L(e))),j=!u.preselectDesignation;return(0,Fs.jsxs)("form",{onSubmit:n=>{if(n.preventDefault(),!e.livemode)return M.set([!0]),void M.set([!1],3e3);t.leave()},className:"flow-screen",children:[(0,Fs.jsx)(Qo,{role:"status",autoFocus:i,children:n.translate("common.screenAriaLabel",{screenTitle:`${n.translate("cryptoCurrencyScreen.title")}`})}),o?(0,Fs.jsx)(Dc,{titleFullWidth:!0,children:(0,Fs.jsx)("h2",{className:"title-1 text-truncate","data-qa":"crypto-donation-header",children:n.translate("cryptoCurrencyScreen.title")})}):(0,Fs.jsx)(Dc,{className:"border-bottom-0",titleFullWidth:!0,children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("d-flex items-center justify-center",i?"pt-3 pb-2":"pt-6 pb-4"),children:[(0,Fs.jsx)("div",{className:"shrink-0 font-size-28 text-green-80 me-2","aria-hidden":"true",children:(0,Fs.jsx)(dh,{className:"icon-fill d-block"})}),(0,Fs.jsx)("h2",{className:"title-1 text-truncate","data-qa":"crypto-donation-header",children:n.translate("cryptoCurrencyScreen.title")})]})}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"pb-8":!i}),children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("fixed-container",{"grow-1 d-flex flex-column":!i}),children:[(0,Fs.jsx)(Zd,{className:"search-select-crypto",placeholder:e.currencyName||n.translate("cryptoCurrencyScreen.selectCurrency.placeholder"),selectedOption:A,options:E,onSelect:N,displayName:e.currencyName,shouldSearchById:!0,clearOnFocus:!0,showIcons:!0,SelectedIconToRender:sh,ListItemToRender:ah,disabled:e.locked,qa:"currency"}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("mt-3",{"animation-shake":C}),children:[(0,Fs.jsx)("div",{ref:l,children:(0,Fs.jsx)(Pd,{ref:c,className:(0,Hs.Z)("group-price-control",{"group-price-control-experiment":o,"has-error":C,disabled:e.locked}),currency:e.currencyCode,amount:e.amount,canModifyAmount:!0,withoutFraction:!1,disabled:e.locked,currencyService:h,donationType:et.CRYPTO,onAmountChange:P,onAmountInputBlur:x})}),(0,Fs.jsx)("p",{className:"body-3 text-sans-serif d-flex items-center text-gray-60 mt-2",children:e.amount?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("span",{className:"text-truncate",children:["",n.formatCurrency(e.amountInDefaultFiat,{currency:e.defaultFiatCurrency})]}),(0,Fs.jsx)("span",{className:"shrink-0 ms-1",children:e.defaultFiatCurrency})]}):(0,Fs.jsx)("span",{children:""})})]}),v&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:n.translate("donateForm.donationAmountField.error.crypto.required")}),(0,Fs.jsxs)(jc.K,{triggerRef:l,show:b,maxWidth:"var(--fixed-container-width-desktop)",placement:i?"top":a?"left-start":"right-start",fallbackPlacements:i?[]:["top"],role:b?"alert":"none",dataQa:"min-amount-popover",children:[p&&(0,Fs.jsx)(Ll,{as:"span",token:"donateForm.donationAmountField.error.crypto.min",params:{amount:n.formatCurrency(e.minAmount,{currency:"USD",display:"round"})}}),y&&(0,Fs.jsx)(Ll,{as:"span",token:"donateForm.donationAmountField.error.crypto.max",params:{amount:n.formatCurrency(e.maxAmount,{currency:"USD",display:"round"})}})]}),t.shouldShowDesignation()&&j&&(0,Fs.jsx)(Id,{className:"mt-5",goal:T,goals:D,shake:d,hasError:e.errors.designation.required,disabled:e.locked,changeGoal:O,goalKey:e.designation.goalKey,isEditable:e.designation.isEditable,isDesignationNew:j}),e.tribute.show&&(0,Fs.jsx)(Wd,{labelFloating:!0,isFloatingLabelTestGroup:s,className:"mt-5",inHonorOfMaxLength:e.tribute.inHonorOfMaxLength,isActive:e.tribute.isActive,sharingEnabled:e.tribute.sharingEnabled,labelType:e.tribute.labelType,name:e.tribute.name,disabled:e.locked,onToggleTribute:k,onChangeTributeName:w}),t.shouldShowDesignation()&&!j&&(0,Fs.jsx)(Id,{className:(0,Hs.Z)({"mt-auto":!i&&e.tribute.show,"mt-5":!i&&!e.tribute.show,"mt-6":i}),goal:T,goals:D,shake:d,disabled:e.locked,hasError:e.errors.designation.required,changeGoal:O,goalKey:e.designation.goalKey,isEditable:e.designation.isEditable}),e.comment.isEnabled&&(0,Fs.jsx)(vd,{className:(0,Hs.Z)({"mt-5":!t.shouldShowDesignation()&&!e.tribute.show||i&&!(t.shouldShowDesignation()&&!j),"mt-3":t.shouldShowDesignation()&&!j,"mt-auto":!i&&(t.shouldShowDesignation()&&j||e.tribute.show&&!t.shouldShowDesignation())}),prevContent:e.comment.prevContent,content:e.comment.content,disabled:e.locked,onAddComment:I,onHighlight:_})]})}),(0,Fs.jsx)(yc,{children:e.isCryptoAccountConnected?(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary",processingState:e.processingState,tooltipMessage:e.errors.payment.message,tooltipTitle:e.errors.payment.title,disabled:R,testMode:R,dataQa:"donate-button",trackingElement:"payButton",children:R?n.translate("cryptoCurrencyScreen.testModeButton"):n.translate("cryptoCurrencyScreen.button")}):(0,Fs.jsx)("p",{className:"label-2 text-center text-red-80 text-ellipsis",dangerouslySetInnerHTML:{__html:n.translate("cryptoCurrencyScreen.connectionInfo")}})})]})},[Dr.CRYPTO_WALLET]:e=>{const{showBadge:t}=e,{state:n}=No(Dr.CRYPTO_WALLET),i=(0,Zs.S)(),a=(0,no.Y)(),r=(0,Xs.q)(),s=(0,Gs.R)(),{isVariant2TestGroup:o}=(0,mc.X)(),[c,l]=(0,m.useState)(!1),u=(0,Fc.i)((e=>l(e))),d=n.protocol?` (${n.protocol}) `:" ",h=`${n.networkName}${d}`,p=(0,m.useRef)(null),[g,y]=(0,m.useState)({});return(0,m.useEffect)((()=>{var e,t;if(p.current){const n=1.5,i=getComputedStyle(p.current),a=/-?\d+/g,r=null===(e=i.backgroundPosition.match(a))||void 0===e?void 0:De()(e).call(e,(e=>en()(e)*n+"px")).join(" "),s=null===(t=i.backgroundSize.match(a))||void 0===t?void 0:De()(t).call(t,(e=>en()(e)*n+"px")).join(" "),o=en()(i.width)*n+"px",c=en()(i.height)*n+"px";y({backgroundPosition:r,backgroundSize:s,width:o,height:c,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",flexShrink:0})}}),[p]),(0,Fs.jsxs)("div",{className:"flow-screen",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenAriaLabel",{screenTitle:`${a.translate("cryptoWalletScreen.title")}`})}),o?(0,Fs.jsxs)(Dc,{showBadge:t,children:[(0,Fs.jsx)("h2",{className:(0,Hs.Z)("subtitle-3-5 grow-1",i?"text-ellipsis":"text-line-clamp-2"),children:a.translate("cryptoWalletScreen.title")}),(0,Fs.jsx)(Nh,{})]}):(0,Fs.jsx)(Dc,{showBadge:t,children:(0,Fs.jsxs)("div",{className:r("crypto-timer-holder"),children:[(0,Fs.jsx)("h2",{className:(0,Hs.Z)("title-2",i?"text-ellipsis":"text-line-clamp-2"),children:a.translate("cryptoWalletScreen.title")}),(0,Fs.jsx)(Nh,{})]})}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"pt-6":!i&&!o,"pb-6":!i,"mt-minus-1":i&&o}),children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsx)("p",{className:(0,Hs.Z)({"text-center":!o},i?"text-ellipsis":"text-line-clamp-4"),role:"status","data-qa":"crypto-wallet-screen",children:a.translate("cryptoWalletScreen.description")}),(0,Fs.jsxs)("p",{className:(0,Hs.Z)({"text-center":!o},"text-ellipsis mt-5"),role:"status",children:[(0,Fs.jsx)("span",{className:"subtitle-1 d-inline-block text-sans-serif",children:n.formattedAmount}),(0,Fs.jsx)("span",{className:"subtitle-2 d-inline-block ms-1-5",children:n.currencyCode})]}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("p-rel d-flex items-center justify-center bg-white border border-gray-20 border-radius-base mt-2",{"mx-auto":!o}),style:xh,"aria-hidden":"true",children:[(0,Fs.jsx)(vh(),{value:n.walletAddress,renderAs:"svg",size:122,level:"H",imageSettings:Ph}),(0,Fs.jsx)(ih,{ref:p,name:n.currencyCode,style:g})]}),(0,Fs.jsxs)("button",{type:"button",className:"btn btn-default d-flex items-baseline text-left px-0 mt-8","aria-label":a.translate("cryptoWalletScreen.copyButtonAriaLabel"),disabled:c,onClick:()=>{if(u.set([!0]),u.set([!1],2e3),navigator.clipboard)navigator.clipboard.writeText(n.walletAddress);else{const e=s.document.createElement("textarea");e.value=n.walletAddress,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",s.document.body.appendChild(e),e.select(),s.document.execCommand("copy"),s.document.body.removeChild(e)}},children:[(0,Fs.jsx)("span",{className:"btn-copy-address label-3 grow-1 text-nowrap ps-3 pe-2 overflow-x-auto","aria-hidden":"true",children:n.walletAddress}),(0,Fs.jsxs)("span",{className:(0,Hs.Z)("btn-copy-text caption-1 shrink-0 d-flex items-center p-rel pe-3",c?"text-green-80":"text-primary"),children:[c&&(0,Fs.jsx)("span",{className:"shrink-0 icon-slot icon-slot-18 me-1","aria-hidden":"true",children:(0,Fs.jsx)("span",{className:"p-abs centered font-size-18 text-green-80",children:(0,Fs.jsx)(yh,{className:"icon-stroke icon-stroke-2 d-block"})})}),(0,Fs.jsx)("span",{className:"p-rel","aria-live":c?"polite":"off",children:c?a.translate("cryptoWalletScreen.copyButtonCopied"):a.translate("cryptoWalletScreen.copyButton")})]})]}),(0,Fs.jsxs)("p",{className:(0,Hs.Z)("body-4 mt-2 text-truncate",{"text-center":!o}),dir:"ltr",children:[(0,Fs.jsx)("span",{className:"font-weight-500",children:h}),a.translate("cryptoWalletScreen.network")]})]})}),(0,Fs.jsx)(yc,{className:(0,Hs.Z)({"pt-8":i}),children:(0,Fs.jsx)("p",{className:(0,Hs.Z)("body-3",i?"text-ellipsis":"text-line-clamp-2",{"text-center":!o}),role:"status",children:a.translate("cryptoWalletScreen.message")})})]})},[un.COMMENT]:Oc,[un.PRIVACY]:Vl,[un.THANK_YOU]:yd,[un.QUESTIONS]:bu};class wh{constructor(e){this.intl=e}get default(){return{state:this.intl.translate("mailingAddressScreen.addressForm.state"),postcode:this.intl.translate("mailingAddressScreen.addressForm.postcode")}}get[h.C9.UNITED_KINGDOM](){return{state:this.intl.translate("mailingAddressScreen.addressForm.GB.state"),postcode:this.intl.translate("mailingAddressScreen.addressForm.GB.postcode")}}get[h.C9.CANADA](){return{state:this.intl.translate("mailingAddressScreen.addressForm.CA.state"),postcode:this.intl.translate("mailingAddressScreen.addressForm.CA.postcode")}}get[h.C9.IRELAND](){return{state:this.intl.translate("mailingAddressScreen.addressForm.IE.state"),postcode:this.intl.translate("mailingAddressScreen.addressForm.IE.postcode")}}get[h.C9.DENMARK](){return{state:this.intl.translate("mailingAddressScreen.addressForm.DK.state"),postcode:this.intl.translate("mailingAddressScreen.addressForm.DK.postcode")}}}class Dh{get default(){return{state:"State",postcode:"Zip code"}}get[h.C9.UNITED_KINGDOM](){return k()(k()({},this.default),{state:"County",postcode:"Postcode"})}get[h.C9.CANADA](){return k()(k()({},this.default),{state:"Province",postcode:"Postal code"})}get[h.C9.IRELAND](){return k()(k()({},this.default),{state:"Province",postcode:"Eircode"})}get[h.C9.DENMARK](){return k()(k()({},this.default),{state:"Region",postcode:"Postcode"})}}const Th=[h.C9.UNITED_KINGDOM,h.C9.CANADA,h.C9.IRELAND,h.C9.DENMARK];class Oh{constructor(e){this.addressLabelsProvider=e}get default(){return this.addressLabelsProvider.default}getByCountry(e){if(t=e,E()(Th).call(Th,(e=>t===e)))switch(e){case h.C9.UNITED_KINGDOM:return this.addressLabelsProvider[h.C9.UNITED_KINGDOM];case h.C9.CANADA:return this.addressLabelsProvider[h.C9.CANADA];case h.C9.IRELAND:return this.addressLabelsProvider[h.C9.IRELAND];case h.C9.DENMARK:return this.addressLabelsProvider[h.C9.DENMARK];default:throw new Error(`Unhandled custom country case: ${e}`)}var t;return this.default}}const _h=(0,m.forwardRef)(((e,t)=>{const{onChange:n,onSearch:i,onSelect:a,onClear:r,value:s,options:o,className:c,inputClasses:l,loading:u,placeholder:d,label:h,labelOptional:p,disabled:g,debounce:y=500,allowClear:f,hint:v,hasError:S,qa:C,trackingElement:b,maxLength:E,selectedOption:A,showInputPrefix:N,ListItemToRender:P,SelectedIconToRender:x,showIcons:k,labelFloating:w}=e,{set:D,clear:T}=(0,Fc.i)((e=>{i(e)})),O=(0,m.useCallback)((e=>{n(e),T(),D([e],y)}),[n,D,T,y]);return(0,Fs.jsx)(Hd,{ref:t,options:o,value:s,onChange:O,onSelect:a,className:c,inputClasses:l,placeholder:d,label:h,labelOptional:p,disabled:g,loading:u,hint:v,allowClear:f,onClear:r,selectedOption:A,qa:C,hasError:S,showInputPrefix:N,trackingElement:b,ListItemToRender:P,SelectedIconToRender:x,showIcons:k,maxLength:E,labelFloating:w})}));_h.displayName="_Autocomplete";const Ih=(0,m.memo)(_h),Rh=e=>{var t;let{labelFloating:n,className:i}=e;const a=(0,no.Y)(),{state:r,controller:s}=No(un.MAILING_ADDRESS),o=ho(),c=a.translate("mailingAddressScreen.addressForm.country"),l=De()(t=r.countries).call(t,(e=>{let{countryCode:t,countryName:n}=e;return{value:t,label:n}}));return(0,Fs.jsx)(fl,{labelFloating:n,labelSrOnly:!0,label:c,id:`country-${o}`,formGroupClass:i,value:r.countryCode,disabled:r.locked,error:!r.validation.fields.countryCode.isValid,dataQa:"country-selector",onChange:e=>s.changeSelectedCountry(e.target.value),options:l,children:!r.validation.fields.countryCode.isValid&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:s.getAriaErrorMessage(c)})})},Lh=(0,m.memo)(Rh),Mh=e=>{const{label:t,labelFloating:n,className:i}=e,{state:a,controller:r}=No(un.MAILING_ADDRESS),s=r.getStates(a.countryCode),o=ho(),c=Be()(s)?De()(s).call(s,(e=>{let{code:t,name:n}=e;return{value:t,label:n}})):[],l={};if(s&&!Be()(s))for(const[e,t]of xt()(s))l[e]=De()(t).call(t,(e=>{let{code:t,name:n}=e;return{value:t,label:n}}));return(0,Fs.jsx)(Fs.Fragment,{children:s?(0,Fs.jsx)(fl,{labelFloating:n,labelSrOnly:!0,label:t,id:`select-region-${o}`,formGroupClass:i,value:a.region,hasCustomValue:Boolean(a.region),customPlaceholder:t,options:c,groupedOptions:l,disabled:a.locked,error:!a.validation.fields.region.isValid,onChange:e=>r.changeRegion(e.target.value),dataQa:"state-selector",children:!a.validation.fields.region.isValid&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:r.getAriaErrorMessage(t)})}):(0,Fs.jsx)(bl.u,{labelFloating:n,labelSrOnly:!0,label:t,id:`input-region-${o}`,formGroupClass:i,value:a.region,placeholder:t,autoComplete:"address-level1",disabled:"idle"!==a.processingState||a.locked,error:!a.validation.fields.region.isValid,onChange:e=>r.changeRegion(e.target.value),dataQa:"state-field"})})},jh=(0,m.memo)(Mh),Fh=e=>{const{showBadge:t}=e,{state:n,controller:i}=No(un.MAILING_ADDRESS),a=(0,no.Y)(),r=(0,Zs.S)(),s=(0,eo.g)(),o=ho(),{isTestGroup:c,isVariant2TestGroup:l}=(0,mc.X)(),u=(0,m.useCallback)((e=>{e.preventDefault(),i.leave()}),[i]),d=(0,m.useMemo)((()=>function(e){return function(e){const t=e||new Dh;return new Oh(t)}(new wh(e))}(a)),[a]),h=(0,m.useMemo)((()=>d.getByCountry(n.countryCode)),[d,n.countryCode]),p=Bl(n.shakeKey,0!==n.shakeKey),g=i.isOnBehalfOf?a.translate("mailingAddressScreen.onBehalfOfTitle"):a.translate("mailingAddressScreen.title"),y=n.isAlternativeLabels?a.translate("mailingAddressScreen.addressForm.zipFirst.line1"):a.translate("mailingAddressScreen.addressForm.line1"),f=n.isAlternativeLabels?a.translate("mailingAddressScreen.addressForm.zipFirst.line2"):a.translate("mailingAddressScreen.addressForm.line2"),v=(0,m.useCallback)((e=>{s||i.search(e)}),[i,s]),S=(0,m.useCallback)((e=>i.changeLine1(e)),[i]),C=(0,m.useCallback)((e=>i.changeLine2(e.target.value)),[i]),b=(0,m.useCallback)((e=>i.changePostalCode(e)),[i]),E=(0,m.useCallback)((e=>i.changePostalCode(e.target.value)),[i]),A=(0,m.useCallback)((e=>i.changeCity(e.target.value)),[i]),N=(0,m.useCallback)(((e,t)=>{const n=i.getPlaceById(e),a=i.shouldFindSubplaces(n);return a?i.retrieveSubplaces(n,t):i.retrieveDetails(n),a}),[i]),P=(0,m.useCallback)((e=>N(e,"line1")),[N]),x=(0,m.useCallback)((e=>N(e,"postal")),[N]),k=(0,m.useMemo)((()=>{var e;return De()(e=n.places).call(e,(e=>{let{description:t,innerId:n}=e;return{id:n,value:t}}))}),[n.places]),w=(0,m.useRef)(null),D=(0,m.useRef)(null);return(0,ec.w)({ref:n.isLayoutPostalCodeFirst?D:w,autoFocus:!0,mode:Jo.E.DESKTOP}),(0,Fs.jsxs)("form",{className:"flow-screen",onSubmit:u,"data-qa":"active-screen-mailing-address",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenAriaLabel",{screenTitle:g})}),(0,Fs.jsx)(Dc,{title:g,showBadge:t}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"py-8":!r&&!l,"mt-minus-1":r&&l&&i.isOnBehalfOf,"animation-shake":p}),children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[i.isOnBehalfOf&&(0,Fs.jsx)("p",{className:(0,Hs.Z)("mb-5",r?"text-ellipsis":"text-line-clamp-3",{"text-center":!l}),children:a.translate("mailingAddressScreen.onBehalfOfSubtitle")}),(0,Fs.jsxs)("div",{role:"group","aria-label":a.translate("mailingAddressScreen.addressGroupAriaLabel"),children:[n.isLayoutPostalCodeFirst&&(0,Fs.jsxs)("div",{className:"mb-4",children:[(0,Fs.jsx)(Ih,{labelFloating:!0,ref:D,inputClasses:"text-sans-serif",options:k,value:n.postal,onChange:b,onSelect:x,onSearch:v,hasError:!n.validation.fields.postal.isValid,placeholder:h.postcode,label:h.postcode,disabled:n.locked,loading:n.isLoadingPlaces,qa:"post-code",maxLength:pn.ZIP}),!n.validation.fields.postal.isValid&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:a.translate("mailingAddressScreen.addressForm.error.valid",{field:h.postcode.toLowerCase()})})]}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)({"group-stacked-vertical":c}),children:[(0,Fs.jsxs)("div",{className:(0,Hs.Z)("group-stacked-vertical",{"group-stacked-item":c}),children:[(0,Fs.jsx)(Ih,{labelFloating:!0,label:y,ref:w,className:"group-stacked-item",value:n.line1,placeholder:y,options:k,maxLength:pn.STREET,loading:n.isLoadingPlaces,disabled:n.locked,hasError:!n.validation.fields.line1.isValid,onChange:S,onSelect:P,onSearch:v,qa:"street"}),!n.validation.fields.line1.isValid&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:i.getAriaErrorMessage(y)}),(0,Fs.jsx)(bl.u,{labelFloating:!0,labelSrOnly:!0,id:`address-line2-${o}`,formGroupClass:"group-stacked-item",value:n.line2,onChange:C,error:!n.validation.fields.line2.isValid,disabled:n.locked,autoComplete:"address-line2",label:f,placeholder:f,dataQa:"apartment-field",maxLength:pn.APARTMENT,children:!n.validation.fields.line2.isValid&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:i.getAriaErrorMessage(f)})})]}),(0,Fs.jsx)(bl.u,{labelFloating:!0,labelSrOnly:!0,label:a.translate("mailingAddressScreen.addressForm.city"),id:`city-${o}`,formGroupClass:c?"group-stacked-item":"mt-4",value:n.city,placeholder:a.translate("mailingAddressScreen.addressForm.city"),autoComplete:"address-level2",maxLength:pn.CITY,disabled:n.locked,error:!n.validation.fields.city.isValid,onChange:A,dataQa:"city",children:!n.validation.fields.city.isValid&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:i.getAriaErrorMessage(f)})})]}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("mt-4",{"group-stacked-vertical":c}),children:[!n.isLayoutPostalCodeFirst&&(0,Fs.jsxs)("div",{className:c?"group-stacked-horizontal group-stacked-item":"d-flex",children:[n.isRegionEnabled&&(0,Fs.jsx)(jh,{label:h.state,labelFloating:!0,className:(0,Hs.Z)("w-50 me-1",{"group-stacked-item":c})}),(0,Fs.jsx)(bl.u,{labelFloating:!0,labelSrOnly:!0,id:`postal-${o}`,className:"text-sans-serif",formGroupClass:(0,Hs.Z)(n.isRegionEnabled?"w-50 ms-1":"w-100",{"group-stacked-item":c}),value:n.postal,onChange:E,error:!n.validation.fields.postal.isValid,disabled:n.locked,autoComplete:"postal-code",label:h.postcode,placeholder:h.postcode,dataQa:"zip-code",maxLength:pn.ZIP,children:!n.validation.fields.postal.isValid&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:i.getAriaErrorMessage(f)})})]}),(0,Fs.jsx)(Lh,{labelFloating:!0,className:c?"group-stacked-item":"mt-4"})]})]})]})}),(0,Fs.jsxs)(yc,{children:[(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary",processingState:n.processingState,tooltipMessage:n.additionalPayErrorMessage,tooltipTitle:n.hasServerValidationError?a.translate("mailingAddressScreen.validationError.title"):n.payErrorMessage||a.translate("common.errorOccurredText"),dataQa:"mailing-continue",trackingElement:n.isPaymentScreen&&n.isRequired?"payButton":"nextButton",dataTestId:"mailing-continue-button",children:n.isPaymentScreen&&n.isRequired?Lc(a,n.formattedAmount,n.frequency):a.translate("mailingAddressScreen.button.continue")}),!n.isRequired&&(0,Fs.jsx)("div",{className:"d-flex justify-center mt-5",children:(0,Fs.jsx)("button",{type:"button",className:"btn-link text-truncate",disabled:n.locked,onClick:()=>i.skip(),"data-qa":"skip-button","data-tracking-element-name":"skipButton","data-testid":"mailing-skip-button",children:a.translate("mailingAddressScreen.button.skip")})})]})]})},Uh=e=>{let{disabled:t,onClose:n,onSave:i,processingState:a,serverErrors:r}=e;const s=(0,no.Y)();return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary",disabled:t,onClick:i,trackingElement:"remindMeLaterConfirmButton",processingState:a,tooltipTitle:r.email?s.translate("remindMeScreen.validationError.title"):s.translate("common.errorOccurredText"),tooltipMessage:r.email?s.translate("remindMeScreen.validationError.message"):"",dataQa:"remind-me-later-confirm-button",children:s.translate("remindMeScreen.button.confirm")}),(0,Fs.jsx)("button",{type:"button",className:"btn btn-default mt-2",disabled:t,onClick:n,"data-tracking-element-name":"remindMeLaterCloseButton","data-qa":"remind-me-later-no-thanks-button",children:s.translate("remindMeScreen.button.close")})]})},Bh=(0,m.memo)(Uh),Gh=e=>{let{onTermsAcceptionChange:t,checked:n,isValid:i,className:a,locked:r,text:s}=e;const o=(0,no.Y)(),c=(0,Zs.S)();return(0,Fs.jsx)(cl,{className:a,checked:n,error:!i,disabled:r,onChange:t,qa:"remind-me-later-accept-terms-checkbox",children:(0,Fs.jsx)("span",{className:(0,Hs.Z)({"text-line-clamp-2":!c}),dir:"auto",children:void 0===s||""===s?o.translate("remindMeScreen.termsText"):(0,Fs.jsx)("span",{dangerouslySetInnerHTML:{__html:s}})})})},qh=e=>{const t=ho();return(0,Fs.jsxs)("svg",{className:e.className,"aria-hidden":!!e.ariaHidden||void 0,height:e.height||24,width:e.width||22,fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsxs)("radialGradient",{id:`a-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(2.74225404 11.29096326 -11.5614986 2.80795938 12 10.9506)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#4cadf4"}),(0,Fs.jsx)("stop",{offset:".816847",stopColor:"#44b8f0"}),(0,Fs.jsx)("stop",{offset:".861287",stopColor:"#409ff2"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#1f6fef"})]}),(0,Fs.jsxs)("radialGradient",{id:`b-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(-2.81274751 -9.14752313 9.64618176 -2.96607873 12 11.4004)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:".561045",stopColor:"#4dd0f0",stopOpacity:"0"}),(0,Fs.jsx)("stop",{offset:".868337",stopColor:"#4dd0f0",stopOpacity:".754177"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#4dd0f0",stopOpacity:"0"})]}),(0,Fs.jsxs)("radialGradient",{id:`c-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(-4.76432055 -9.71917643 20.58418864 -10.09032748 13.0442 14.6319)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:".0102742",stopColor:"#4c9ef6"}),(0,Fs.jsx)("stop",{offset:".885024",stopColor:"#4b9ef6",stopOpacity:"0"})]}),(0,Fs.jsxs)("radialGradient",{id:`d-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(3.31321384 4.86948528 -10.57415853 7.19469231 8.68678 7.00844)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:".173971",stopColor:"#4bcdf0"}),(0,Fs.jsx)("stop",{offset:".885024",stopColor:"#4ccef1",stopOpacity:"0"})]}),(0,Fs.jsxs)("linearGradient",{id:`e-${t}`,gradientUnits:"userSpaceOnUse",x1:"11.9996",x2:"13.77",y1:"6.09863",y2:"23.2126",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#fff"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),(0,Fs.jsxs)("radialGradient",{id:`f-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(0 6.71448 -11.4928 0 11.9996 11.1869)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#fff",stopOpacity:"0"}),(0,Fs.jsx)("stop",{offset:".91",stopColor:"#fff"})]}),(0,Fs.jsx)("circle",{cx:"12",cy:"11.8779",fill:`url(#a-${t})`,r:"11"}),(0,Fs.jsx)("circle",{cx:"12",cy:"11.8779",fill:`url(#b-${t})`,fillOpacity:".3",r:"11"}),(0,Fs.jsx)("circle",{cx:"12",cy:"11.8779",fill:`url(#c-${t})`,r:"11"}),(0,Fs.jsx)("circle",{cx:"12",cy:"11.8779",fill:`url(#d-${t})`,fillOpacity:".8",r:"11"}),(0,Fs.jsx)("path",{d:"m11.2885 8.33683.7111.71934.7112-.71934c2.0415-2.06503 4.4425-1.26364 5.1381.30145.3554.79955.3807 1.98542-.4866 3.44802-.8318 1.4027-2.4787 3.034-5.3627 4.6715-2.88397-1.6375-4.53087-3.2689-5.36268-4.6716-.8673-1.4626-.84197-2.64841-.48661-3.44797.69559-1.56507 3.09662-2.36647 5.13819-.3014z",stroke:"#fff",strokeWidth:"2"}),(0,Fs.jsx)("path",{d:"m11.9996 17.9014c13.1081-7.111 4.9269-15.25119 0-10.26762-4.92684-4.98363-13.10811 3.15662 0 10.26762z",fill:"#6bb1d4",fillOpacity:".6"}),(0,Fs.jsx)("path",{d:"m11.9996 17.9014c13.1081-7.111 4.9269-15.25119 0-10.26762-4.92684-4.98363-13.10811 3.15662 0 10.26762z",fill:`url(#e-${t})`,fillOpacity:".8"}),(0,Fs.jsx)("path",{d:"m11.9996 17.9014c13.1081-7.111 4.9269-15.25119 0-10.26762-4.92684-4.98363-13.10811 3.15662 0 10.26762z",fill:`url(#f-${t})`}),(0,Fs.jsx)("path",{d:"m11.644 7.98531.3556.35967.3556-.35967c2.2525-2.27841 5.0915-1.48313 5.9506.4499.4334.97502.4199 2.33219-.5134 3.90609-.9147 1.5424-2.71 3.2801-5.7928 4.9898-3.08277-1.7097-4.8781-3.4474-5.79275-4.9898-.93333-1.574-.94679-2.93111-.51345-3.90614.85913-1.93302 3.69816-2.72829 5.9506-.44985z",stroke:"#3398f1"})]})},Vh=(0,m.memo)(qh),Kh=e=>{const t=ho();return(0,Fs.jsxs)("svg",{className:e.className,"aria-hidden":!!e.ariaHidden||void 0,height:e.height||46,width:e.width||41,viewBox:"0 0 41 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"38",width:"40.3477",x:"0",y:"7",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dx:"-1",dy:"-1"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.722448 0 0 0 0 0.424883 0 0 0 0 0.0858854 0 0 0 0.59 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_35866_79093"})]}),(0,Fs.jsxs)("radialGradient",{id:`b-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(4.80000386 4.99999715 -4.99583475 4.79600795 18.6719 3.5)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:".394249",stopColor:"#f3c352"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#d97922"})]}),(0,Fs.jsxs)("linearGradient",{id:`c-${t}`,children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#fff"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),(0,Fs.jsx)("linearGradient",{id:`d-${t}`,gradientUnits:"userSpaceOnUse",x1:"17.6719",x2:"19.9748",xlinkHref:`#c-${t}`,y1:"2.66667",y2:"5.77561"}),(0,Fs.jsxs)("linearGradient",{id:`e-${t}`,gradientUnits:"userSpaceOnUse",x1:"1.17334",x2:"41.6738",y1:"34",y2:"34",children:[(0,Fs.jsx)("stop",{offset:".135247",stopColor:"#f3c352"}),(0,Fs.jsx)("stop",{offset:".249813",stopColor:"#ffd87c"}),(0,Fs.jsx)("stop",{offset:".409209",stopColor:"#f3c352"}),(0,Fs.jsx)("stop",{offset:".752403",stopColor:"#c57429"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#bf7c19"})]}),(0,Fs.jsxs)("linearGradient",{id:`f-${t}`,gradientUnits:"userSpaceOnUse",x1:"40.6738",x2:"32.1738",y1:"28.5",y2:"31.5",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#f3c352"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#f3c352",stopOpacity:"0"})]}),(0,Fs.jsx)("linearGradient",{id:`g-${t}`,gradientUnits:"userSpaceOnUse",x1:"4.67334",x2:"28.1733",xlinkHref:`#c-${t}`,y1:"20.5",y2:"40.5"}),(0,Fs.jsx)("path",{d:"m17.1719 5c0-1.933 1.567-3.5 3.5-3.5s3.5 1.567 3.5 3.5v5.5h-7z",fill:`url(#b-${t})`,stroke:`url(#d-${t})`}),(0,Fs.jsxs)("g",{filter:`url(#a-${t})`,children:[(0,Fs.jsx)("path",{d:"m20.6737 8c-8.8365 0-14.99999 7.1634-14.99999 16l-1 9.4441c0 1.9793-2.03499 3.6492-2.72998 5.5025l-.75 2c-.735473 1.9613.71437 4.0534 2.80899 4.0534h33.34198c2.0946 0 3.5445-2.0921 2.809-4.0534l-.75-2c-.695-1.8533-2.73-3.5232-2.73-5.5025l-1-9.4441c0-8.8366-6.1634-16-15-16z",fill:`url(#e-${t})`}),(0,Fs.jsx)("path",{d:"m20.6737 8c-8.8365 0-14.99999 7.1634-14.99999 16l-1 9.4441c0 1.9793-2.03499 3.6492-2.72998 5.5025l-.75 2c-.735473 1.9613.71437 4.0534 2.80899 4.0534h33.34198c2.0946 0 3.5445-2.0921 2.809-4.0534l-.75-2c-.695-1.8533-2.73-3.5232-2.73-5.5025l-1-9.4441c0-8.8366-6.1634-16-15-16z",fill:`url(#f-${t})`,fillOpacity:".8"})]}),(0,Fs.jsx)("path",{d:"m5.92232 24.0263.00139-.0131v-.0132c0-8.7202 6.07229-15.75 14.74999-15.75s14.75 7.0298 14.75 15.75v.0132l.0014.0131.9986 9.4313c.0046 1.0662.5526 2.0299 1.1461 2.9233.1312.1975.2644.3913.3959.5828.4816.7012.9414 1.3706 1.2039 2.0707l.75 2c.6742 1.7978-.6548 3.7156-2.5749 3.7156h-33.34198c-1.92007 0-3.249092-1.9178-2.57491-3.7156l.75-2c.26254-.7001.72236-1.3696 1.20396-2.0707.1315-.1915.26463-.3853.39581-.5828.59354-.8934 1.14152-1.8571 1.1461-2.9234z",stroke:`url(#g-${t})`,strokeOpacity:".6",strokeWidth:".5"})]})},Hh=(0,m.memo)(Kh),Yh=e=>{const t=ho();return(0,Fs.jsxs)("svg",{className:e.className,"aria-hidden":!!e.ariaHidden||void 0,height:e.height||80,width:e.width||80,fill:"none",viewBox:"0 0 80 80",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"67",width:"81",x:"-.972656",y:"30",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feMorphology",{in:"SourceAlpha",operator:"dilate",radius:"3",result:"effect1_dropShadow_35224_19304"}),(0,Fs.jsx)("feOffset",{dy:"4"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,Fs.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_35224_19304"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_35224_19304",mode:"normal",result:"shape"})]}),(0,Fs.jsxs)("filter",{id:`b-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"52.8696",width:"72.2329",x:"8.26211",y:"35.5863",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dx:"-.695652",dy:"-.695652"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:".57971"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,Fs.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_35224_19304"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_35224_19304",mode:"normal",result:"shape"})]}),(0,Fs.jsxs)("filter",{id:`c-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"52.8696",width:"72.2329",x:"-.432518",y:"35.5863",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dx:".695652",dy:"-.695652"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:".57971"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,Fs.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_35224_19304"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_35224_19304",mode:"normal",result:"shape"})]}),(0,Fs.jsxs)("filter",{id:`d-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"29.7837",width:"82.3188",x:"-1.13208",y:"58.664",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-.695652"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:".57971"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,Fs.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_35224_19304"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_35224_19304",mode:"normal",result:"shape"})]}),(0,Fs.jsxs)("linearGradient",{id:`e-${t}`,gradientUnits:"userSpaceOnUse",x1:"40.0273",x2:"40.0273",y1:"44.5256",y2:"88.0038",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#2c3440"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#2c2d31"})]}),(0,Fs.jsxs)("radialGradient",{id:`f-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(0 -24 33.5 0 39.5273 57)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#eba837"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#915b00",stopOpacity:"0"})]}),(0,Fs.jsxs)("linearGradient",{id:`g-${t}`,children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#151518"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#313b48"})]}),(0,Fs.jsx)("linearGradient",{id:`h-${t}`,gradientUnits:"userSpaceOnUse",x1:"62",x2:"62",xlinkHref:`#g-${t}`,y1:"88",y2:"51"}),(0,Fs.jsxs)("linearGradient",{id:`i-${t}`,children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#cf8413"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#2d3541",stopOpacity:"0"})]}),(0,Fs.jsx)("radialGradient",{id:`j-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(27.50001912 27.50001912 -27.50001912 27.50001912 49.5352 60)",gradientUnits:"userSpaceOnUse",r:"1",xlinkHref:`#i-${t}`}),(0,Fs.jsxs)("radialGradient",{id:`k-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(20.50001554 20.50001554 -20.50001554 20.50001554 52.5273 57)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#f1bf51"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#cd8131",stopOpacity:"0"})]}),(0,Fs.jsx)("linearGradient",{id:`l-${t}`,gradientUnits:"userSpaceOnUse",x1:"18.0625",x2:"18.0625",xlinkHref:`#g-${t}`,y1:"88",y2:"51"}),(0,Fs.jsx)("radialGradient",{id:`m-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(-27.50001912 27.50001912 -27.50001912 -27.50001912 30.5273 60)",gradientUnits:"userSpaceOnUse",r:"1",xlinkHref:`#i-${t}`}),(0,Fs.jsxs)("radialGradient",{id:`n-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(-17.4999736 17.4999736 -17.4999736 -17.4999736 23.5273 55)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#fff"}),(0,Fs.jsx)("stop",{offset:".0001",stopColor:"#ffe24b"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),(0,Fs.jsxs)("radialGradient",{id:`o-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(0 24.5 -24.5 0 40.0273 61.5)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#e4a946"}),(0,Fs.jsx)("stop",{offset:".542849",stopColor:"#b37c20",stopOpacity:".7"}),(0,Fs.jsx)("stop",{offset:"1",stopOpacity:"0"})]}),(0,Fs.jsxs)("linearGradient",{id:`p-${t}`,gradientUnits:"userSpaceOnUse",x1:"40.0273",x2:"40.0273",y1:"60.5",y2:"86.5",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#ffd267"}),(0,Fs.jsx)("stop",{offset:"1",stopOpacity:"0"})]}),(0,Fs.jsxs)("linearGradient",{id:`q-${t}`,gradientUnits:"userSpaceOnUse",x1:"65.0273",x2:"65.0273",y1:"80",y2:"51",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#222832"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#31373f",stopOpacity:"0"})]}),(0,Fs.jsx)("clipPath",{id:`r-${t}`,children:(0,Fs.jsx)("rect",{height:"80",rx:"2",width:"80"})}),(0,Fs.jsx)("clipPath",{id:`s-${t}`,children:(0,Fs.jsx)("rect",{height:"80",rx:"1.3913",width:"80",x:".027344"})}),(0,Fs.jsx)("g",{clipPath:`url(#r-${t})`,children:(0,Fs.jsxs)("g",{clipPath:`url(#s-${t})`,children:[(0,Fs.jsx)("path",{d:"m.027344 37.4531h80v50.5507h-80z",fill:`url(#e-${t})`}),(0,Fs.jsx)("path",{d:"m.0273438 37.4531h79.9999562l-36.7516-26.4186c-1.9409-1.39512-4.5558-1.39513-6.4967 0z",fill:"#2c3440"}),(0,Fs.jsx)("path",{d:"m6.48047 37.4591h67.09683l-30.3001-21.7809c-1.9409-1.3952-4.5558-1.3952-6.4967 0z",fill:"#222832"}),(0,Fs.jsxs)("g",{filter:`url(#a-${t})`,children:[(0,Fs.jsx)("rect",{fill:"#4a4a4d",height:"53",rx:"1.15942",width:"67",x:"6.02734",y:"33"}),(0,Fs.jsx)("rect",{fill:`url(#f-${t})`,fillOpacity:".3",height:"53",rx:"1.15942",width:"67",x:"6.02734",y:"33"})]}),(0,Fs.jsxs)("g",{filter:`url(#b-${t})`,children:[(0,Fs.jsx)("path",{d:"m80.0312 37.4414-69.913 50.5507h69.913z",fill:`url(#h-${t})`}),(0,Fs.jsx)("path",{d:"m80.0312 37.4414-69.913 50.5507h69.913z",fill:`url(#j-${t})`,fillOpacity:".3"}),(0,Fs.jsx)("path",{d:"m79.7812 87.7421v-49.8114l-68.8906 49.8114z",stroke:`url(#k-${t})`,strokeOpacity:".5",strokeWidth:".5"})]}),(0,Fs.jsxs)("g",{filter:`url(#c-${t})`,children:[(0,Fs.jsx)("path",{d:"m.03125 37.4414 69.91305 50.5507h-69.91305z",fill:`url(#l-${t})`}),(0,Fs.jsx)("path",{d:"m.03125 37.4414 69.91305 50.5507h-69.91305z",fill:`url(#m-${t})`,fillOpacity:".3"}),(0,Fs.jsx)("path",{d:"m.28125 87.7421v-49.8114l68.89065 49.8114z",stroke:`url(#n-${t})`,strokeOpacity:".5",strokeWidth:".5"})]}),(0,Fs.jsxs)("g",{filter:`url(#d-${t})`,children:[(0,Fs.jsx)("path",{d:"m.0273438 87.9839h79.9999562l-36.7516-26.4186c-1.9409-1.3952-4.5558-1.3952-6.4967 0z",fill:"#1e2736"}),(0,Fs.jsx)("path",{d:"m.0273438 87.9839h79.9999562l-36.7516-26.4186c-1.9409-1.3952-4.5558-1.3952-6.4967 0z",fill:`url(#o-${t})`,fillOpacity:".3"}),(0,Fs.jsx)("path",{d:"m36.9249 61.7683-36.121461 25.9656h78.447861l-36.1215-25.9656c-1.8537-1.3325-4.3512-1.3325-6.2049 0z",stroke:`url(#p-${t})`,strokeWidth:".5"})]}),(0,Fs.jsx)("path",{d:"m.027344 51h80v29h-80z",fill:`url(#q-${t})`})]})})]})},Zh=(0,m.memo)(Yh),zh=e=>{const t=ho();return(0,Fs.jsxs)("svg",{className:e.className,"aria-hidden":!!e.ariaHidden||void 0,height:e.height||61,width:e.width||60,viewBox:"0 0 60 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"62",width:"62",x:"0",y:"1",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_35868_79127",stdDeviation:"4.5"})]}),(0,Fs.jsx)("clipPath",{id:`b-${t}`,children:(0,Fs.jsx)("path",{d:"m0 0h60v61h-60z"})}),(0,Fs.jsx)("g",{clipPath:`url(#b-${t})`,children:(0,Fs.jsx)("g",{filter:`url(#a-${t})`,children:(0,Fs.jsx)("path",{d:"m26.6492 13.8261c0-2.1131 1.7248-3.8261 3.8524-3.8261 2.1277 0 3.8525 1.713 3.8525 3.8261v3.3681c6.3974 1.7208 10.5959 7.6973 10.5959 14.8058l.9631 9.0335c0 1.1458.718-1.6428 1.4332-.6092.4665.6741.9319 1.3466 1.1961 2.0464l.7223 1.913c.7084 1.876 5.2393 9.6163 3.2219 9.6163l-15.3115-5.7391c-.4673 3.2448-2.962 3.8261-6.3584 3.8261s-6.5212-.5813-6.9886-3.8261l-14.19963 5.2608c-2.01735 0 1.40523-7.262 2.11353-9.138l.7224-1.913c.2642-.6998.7296-1.3723 1.1961-2.0464.7152-1.0336 1.4331 1.755 1.4331.6092l.9632-9.0335c0-7.1072 4.1969-13.0828 10.5924-14.8049z",fill:"#252525",fillOpacity:".7"})})})]})},Wh=(0,m.memo)(zh),$h=e=>{const t=ho();return(0,Fs.jsxs)("svg",{className:e.className,"aria-hidden":!!e.ariaHidden||void 0,height:e.height||14,width:e.width||14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsxs)("radialGradient",{id:`a-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(-2.50005399 6.4999748 -9.01804898 -3.46856872 7 7)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#f3c352"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#e38937"})]}),(0,Fs.jsxs)("radialGradient",{id:`b-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(-1.99995166 7.00001393 -7.00001393 -1.99995166 5.5 14)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:".0899711",stopColor:"#f3c352",stopOpacity:"0"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#b25b0a"})]}),(0,Fs.jsxs)("linearGradient",{id:`c-${t}`,gradientUnits:"userSpaceOnUse",x1:"4.5",x2:"9.5",y1:"19.5",y2:"8",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#ffeab4"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#eaaf6a",stopOpacity:"0"})]}),(0,Fs.jsx)("circle",{cx:"7",cy:"7",fill:`url(#a-${t})`,r:"7"}),(0,Fs.jsx)("circle",{cx:"7",cy:"7",fill:`url(#b-${t})`,fillOpacity:".7",r:"7"}),(0,Fs.jsx)("circle",{cx:"7",cy:"7",r:"6.75",stroke:`url(#c-${t})`,strokeOpacity:".6",strokeWidth:".5"})]})},Xh=(0,m.memo)($h),Qh={maxWidth:"260px"};var Jh=n(34158);const em={isEmpty:!0,error:null,isFocused:!1,isReady:!1};function tm(){const[e,t]=(0,m.useState)(em);return{stripeElementState:e,setStripeElementState:t}}const nm=e=>{const t=ho();return(0,Fs.jsxs)("div",{className:(0,Hs.Z)("check-image",e.className),"aria-hidden":"true",children:[(0,Fs.jsxs)("svg",{className:"d-block",width:266,height:104,viewBox:"0 0 266 104",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fs.jsx)("rect",{width:"266",height:"104",rx:"4",fill:"#F5FAFF"}),(0,Fs.jsx)("rect",{width:"266",height:"104",rx:"4",fill:`url(#${t}-paint0_linear_12221_26907)`}),(0,Fs.jsx)("rect",{x:"4.5",y:"4.5",width:"257",height:"95",rx:"0.5",stroke:`url(#${t}-paint1_linear_12221_26907)`}),(0,Fs.jsx)("path",{d:"M213.213 36.3C213.513 40.8 213.813 45.2 214.113 49.7C214.313 51.9 214.513 54.1 214.513 56.2C214.513 56.6 214.513 57.5 214.213 57.2C212.813 55.8 212.013 53 211.313 51.2C210.413 49.1 209.913 47 210.013 44.6C210.113 41 212.713 37.4 216.513 36.4C218.513 35.9 220.013 37 220.113 39C220.313 41.2 218.713 43.5 217.313 45.1C217.013 45.5 210.613 51.6 213.013 52.3C214.613 52.7 217.113 51.6 218.313 50.7C219.113 50.1 218.613 50.4 218.513 51.2C218.313 52.4 218.913 57.7 221.013 56.7C222.613 55.9 225.513 51.3 223.413 49.7C222.713 49.2 222.013 49.5 221.413 49.9C220.213 50.7 220.313 51.6 221.213 52.6C222.413 53.8 224.313 55.1 226.013 54C228.413 52.5 229.813 49.8 230.413 47.2C231.013 44.9 229.213 48 229.013 48.7C228.813 49.3 228.613 50.2 228.913 50.8C229.713 52.3 232.213 48.8 232.513 48.4C233.013 47.7 233.513 46.8 233.913 46.1C234.113 45.7 234.813 44.8 234.413 44.9C233.313 45.4 232.813 47.4 232.713 48.4C232.613 49.2 232.213 50.8 233.013 51.5C234.813 52.9 237.313 47.7 237.813 46.7C238.013 46.4 238.313 45.7 238.413 45.3C238.513 45 238.313 44.8 238.113 45.1C237.513 46 236.213 49.7 238.213 50C239.113 50.1 239.613 49.3 240.013 48.7C241.813 46.3 243.013 43.5 244.413 41C246.013 38.2 247.513 35.2 249.913 33",stroke:"#A6C2DD",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Fs.jsx)("path",{d:"M20 14.5H48C50.2 14.5 52 16.3 52 18.5C52 20.7 50.2 22.5 48 22.5H20C17.8 22.5 16 20.7 16 18.5C16 16.3 17.8 14.5 20 14.5Z",fill:"#A4CDF3",fillOpacity:"0.5"}),(0,Fs.jsx)("path",{d:"M59 14.5H68C70.2 14.5 72 16.3 72 18.5C72 20.7 70.2 22.5 68 22.5H59C56.8 22.5 55 20.7 55 18.5C55 16.3 56.8 14.5 59 14.5Z",fill:"#A4CDF3",fillOpacity:"0.5"}),(0,Fs.jsx)("path",{d:"M19 32.5H118C119.7 32.5 121 33.8 121 35.5C121 37.2 119.7 38.5 118 38.5H19C17.3 38.5 16 37.2 16 35.5C16 33.8 17.3 32.5 19 32.5Z",fill:"#A4CDF3",fillOpacity:"0.5"}),(0,Fs.jsx)("path",{d:"M227 16.5H247C248.7 16.5 250 17.8 250 19.5C250 21.2 248.7 22.5 247 22.5H227C225.3 22.5 224 21.2 224 19.5C224 17.8 225.3 16.5 227 16.5Z",fill:"#A4CDF3",fillOpacity:"0.5"}),(0,Fs.jsx)("path",{d:"M19 42.5H100C101.7 42.5 103 43.8 103 45.5C103 47.2 101.7 48.5 100 48.5H19C17.3 48.5 16 47.2 16 45.5C16 43.8 17.3 42.5 19 42.5Z",fill:"#A4CDF3",fillOpacity:"0.5"}),(0,Fs.jsxs)("defs",{children:[(0,Fs.jsxs)("linearGradient",{id:`${t}-paint0_linear_12221_26907`,x1:"38.3423",y1:"21.9516",x2:"46.3388",y2:"103.855",gradientUnits:"userSpaceOnUse",children:[(0,Fs.jsx)("stop",{stopColor:"#F2F9FF",stopOpacity:"0.5"}),(0,Fs.jsx)("stop",{offset:"0.629481",stopColor:"#D1E1F0",stopOpacity:"0.5"})]}),(0,Fs.jsxs)("linearGradient",{id:`${t}-paint1_linear_12221_26907`,x1:"43.314",y1:"64.3826",x2:"226.883",y2:"215.125",gradientUnits:"userSpaceOnUse",children:[(0,Fs.jsx)("stop",{stopColor:"#CDE3FA"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#9CBBDA"})]})]})]}),(0,Fs.jsx)("div",{className:"check-image-numbers",dir:"ltr",children:e.children})]})},im={boxShadow:"0 0 0 4px rgba(51, 113, 230, 0.5)"};var am,rm;function sm(){return sm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sm.apply(this,arguments)}var om=function(e,t){return m.createElement("svg",sm({fill:"none",height:20,viewBox:"0 0 20 20",width:20,xmlns:"http://www.w3.org/2000/svg",ref:t},e),am||(am=m.createElement("path",{d:"m19.9993 19.9993h-9.9395-10.0598v-10.09897-9.90033h9.92582 10.07348v9.99837z",fill:"#fff"})),rm||(rm=m.createElement("path",{d:"m19.9997 19.9993v-3.1691h-2.413l-1.2425-1.3738-1.2483 1.3738h-7.95463v-6.4018h-2.56724l3.18486-7.20759h3.07111l1.0967 2.4692v-2.4692h3.8019l.6601 1.86072.6647-1.86072h2.9469v-3.22081h-19.99932344v19.9993zm-2.0058-3.9704h2.0064l-2.6541-2.8143 2.6541-2.7823h-1.9744l-1.6392 1.7908-1.6235-1.7908h-2.0071l2.6385 2.7986-2.6385 2.7986h1.9509l1.647-1.8071zm.4692-2.8123 1.5372 1.6352v-3.2568zm-8.94479 1.5169v-.8712h3.15809v-1.2634h-3.15809v-.8712h3.23779v-1.2954h-4.76519v5.5972h4.76519v-1.2953h-3.23779zm8.97029-5.11355h1.5111v-5.59721h-2.3509l-1.2555 3.48616-1.2471-3.48616h-2.3907v5.59721h1.511v-3.91752l1.4392 3.91752h1.3431l1.4392-3.92602v3.92602zm-7.452 0h1.7189l-2.4705-5.59721h-1.9673l-2.47051 5.59721h1.67903l.46404-1.11957h2.57444zm-.9994-2.37509h-1.51951l.76011-1.83066z",fill:"#0072bb"})))},cm=(0,m.forwardRef)(om),lm=(0,m.memo)(cm);const um=e=>{const t=cd();return(0,Fs.jsxs)("svg",{className:e.className,"aria-hidden":e.ariaHidden&&!0,style:e.style,fill:"none",height:"20",viewBox:"0 0 32 20",width:"32",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsxs)("linearGradient",{id:`a-${t}`,gradientUnits:"userSpaceOnUse",x1:"17.8499",x2:"16.1859",y1:"10.3256",y2:"7.72024",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#f89f20"}),(0,Fs.jsx)("stop",{offset:".2502",stopColor:"#f79a20"}),(0,Fs.jsx)("stop",{offset:".5331",stopColor:"#f68d20"}),(0,Fs.jsx)("stop",{offset:".6196",stopColor:"#f58720"}),(0,Fs.jsx)("stop",{offset:".7232",stopColor:"#f48120"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#f37521"})]}),(0,Fs.jsxs)("linearGradient",{id:`b-${t}`,gradientUnits:"userSpaceOnUse",x1:"17.5872",x2:"15.1552",y1:"10.2905",y2:"5.53707",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#f58720"}),(0,Fs.jsx)("stop",{offset:".3587",stopColor:"#e16f27"}),(0,Fs.jsx)("stop",{offset:".703",stopColor:"#d4602c"}),(0,Fs.jsx)("stop",{offset:".9816",stopColor:"#d05b2e"})]}),(0,Fs.jsx)("clipPath",{id:`c-${t}`,children:(0,Fs.jsx)("path",{d:"m0 0h32v20h-32z"})}),(0,Fs.jsxs)("g",{clipPath:`url(#c-${t})`,children:[(0,Fs.jsx)("path",{d:"m0 0h32v20h-31.99118735z",fill:"#fff"}),(0,Fs.jsx)("path",{d:"m32 12s-8.4766 5.523-24 8h24z",fill:"#f48120"}),(0,Fs.jsxs)("g",{fill:"#231f20",children:[(0,Fs.jsx)("path",{d:"m2.98959 6.12354h-1.28964v4.51886h1.28964c.6817 0 1.175-.164 1.61036-.5176.51768-.42748.82134-1.06834.82134-1.73358-.00792-1.33903-1.00183-2.26768-2.4317-2.26768zm1.03536 3.40121c-.27927.24635-.63232.36159-1.20793.36159h-.2378v-2.99024h.23841c.56708 0 .9122.09878 1.20793.36158.30427.27134.48476.69025.48476 1.12561-.00061.43537-.18171.87073-.48537 1.14146z"}),(0,Fs.jsx)("path",{d:"m6.70373 6.12354h-.87927v4.51886h.87927z"}),(0,Fs.jsx)("path",{d:"m8.85551 7.85664c-.52561-.19695-.68171-.32866-.68171-.56707 0-.28781.27927-.50122.65732-.50122.26281 0 .48476.10671.70671.36951l.46036-.6c-.37804-.32866-.82987-.50122-1.33109-.50122-.79695 0-1.41281.55854-1.41281 1.29817 0 .62439.28781.94451 1.10915 1.24085.34512.12318.51768.20549.60793.25488.17256.11525.2628.27927.2628.4683 0 .36951-.2878.64085-.68171.64085-.4189 0-.75609-.21342-.96097-.6l-.56708.55061c.40244.6.89574.8628 1.56098.8628.91219 0 1.56101-.6079 1.56101-1.48719.0158-.7311-.28845-1.05976-1.29089-1.42927z"}),(0,Fs.jsx)("path",{d:"m10.4329 8.391c0 1.3311 1.0433 2.3579 2.3823 2.3579.378 0 .7067-.0738 1.1006-.2628v-1.03534c-.3531.35304-.6653.49268-1.0598.49268-.8872 0-1.5201-.64086-1.5201-1.56098 0-.87073.6488-1.55305 1.4787-1.55305.4189 0 .7396.14818 1.1006.50915v-1.03537c-.386-.19695-.7067-.27926-1.0848-.27926-1.3213.00061-2.3975 1.05244-2.3975 2.36707z"}),(0,Fs.jsx)("path",{d:"m20.9165 9.16317-1.208-3.03963h-.9609l1.914 4.63356h.4768l1.947-4.63356h-.9531z"}),(0,Fs.jsx)("path",{d:"m23.4878 10.6424h2.4976v-.76399h-1.6183v-1.21585h1.5609v-.76463h-1.5609v-1.00183h1.6183v-.77256h-2.4976z"}),(0,Fs.jsx)("path",{d:"m29.4768 7.46245c0-.84635-.5836-1.3311-1.6019-1.3311h-1.3061v4.51885h.8793v-1.8158h.1153l1.2158 1.8158h1.0848l-1.4214-1.90605c.6647-.13963 1.0342-.59146 1.0342-1.2817zm-1.7744.74756h-.2549v-1.37196h.2713c.5507 0 .8464.22988.8464.67379 0 .45182-.2957.69817-.8628.69817z"})]}),(0,Fs.jsx)("path",{d:"m16.6195 10.8063c1.3295 0 2.4073-1.07776 2.4073-2.40728 0-1.32953-1.0778-2.40732-2.4073-2.40732s-2.4073 1.07779-2.4073 2.40732c0 1.32952 1.0778 2.40728 2.4073 2.40728z",fill:`url(#a-${t})`}),(0,Fs.jsx)("path",{d:"m16.6195 10.8063c1.3295 0 2.4073-1.07776 2.4073-2.40728 0-1.32953-1.0778-2.40732-2.4073-2.40732s-2.4073 1.07779-2.4073 2.40732c0 1.32952 1.0778 2.40728 2.4073 2.40728z",fill:`url(#b-${t})`,opacity:".65"}),(0,Fs.jsx)("path",{d:"m30.036 6.29553c0-.08231-.0573-.12317-.1482-.12317h-.1317v.39452h.0988v-.1561l.1152.1561h.1153l-.1317-.16403c.0494-.00854.0823-.05.0823-.10732zm-.1647.05732h-.0164v-.10671h.0164c.0494 0 .0738.01647.0738.04939 0 .04086-.0244.05732-.0738.05732z",fill:"#231f20"}),(0,Fs.jsx)("path",{d:"m29.9042 6.02441c-.189 0-.3451.1561-.3451.34513 0 .18902.1561.34512.3451.34512s.3451-.1561.3451-.34512c0-.18903-.1561-.34513-.3451-.34513zm0 .63293c-.1482 0-.2793-.12317-.2793-.2878 0-.1561.1232-.28781.2793-.28781.1482 0 .2713.13171.2713.28781 0 .15609-.1231.2878-.2713.2878z",fill:"#231f20"})]})]})},dm=(0,m.memo)(um);var hm;function mm(){return mm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mm.apply(this,arguments)}var pm,gm,ym,fm=function(e,t){return m.createElement("svg",mm({fill:"none",height:30,viewBox:"0 0 30 30",width:30,xmlns:"http://www.w3.org/2000/svg",ref:t},e),hm||(hm=m.createElement("path",{clipRule:"evenodd",d:"m29.7537 14.4247-7.1878-8.01292c-.1516-.23755-.4257-.3962-.7385-.3962-.477 0-.8638.36888-.8638.8241 0 .23985.1075.45578.279.60642l6.5116 7.5311-6.4393 7.3881h-.7021-2.0796l6.0854-6.7553c.0039-.0042.0075-.0084.0112-.0125l.0013.0004c.1695-.1777.245-.3854.241-.5902.004-.2046-.0715-.4123-.241-.59l-.0013.0003c-.0037-.0042-.0073-.0083-.0112-.0124l-7.2667-7.98077c-.0016-.00186-.0033-.00373-.005-.00559-.1504-.24171-.4269-.40366-.7428-.40366h-5.1036c-.477 0-.8638.36888-.8638.8241 0 .13814.0198.28176.0989.38281l6.7634 7.81591-5.7643 6.5977c-.0343.0327-.531.708-1.4044.708h-6.88429c-.93625 0-1.71265-.697-1.71265-1.623v-11.43698c0-.806.7764-1.63383 1.73381-1.63383h4.28291c.50488 0 .86381-.32894.86381-.81061s-.35893-.83968-.86381-.83968l-4.32488.01635c-2.04882 0-3.4252 1.6121-3.4252 3.25098v11.45377c0 1.7647 1.63066 3.2677 3.4252 3.2677h6.8824c.3471 0 .6646-.0485.9505-.1262.0408-.0111.0811-.0228.1205-.035.9489-.2934 1.5216-.8962 1.6325-1.0239l6.4872-7.2129c.3069-.3321.3477-.8138.0051-1.1731l-.0013.0003c-.0038-.0042-.0073-.0083-.0111-.0124l-6.1364-6.75531h2.1306.7021l6.4127 7.35751-6.7481 7.7659c-.0022.0023.0019.009.0115.0194-.0631.1144-.099.2446-.099.3828 0 .4551.3868.8241.8637.8241h5.1036c.3161 0 .5923-.1622.743-.4038.0016-.0018.0032-.0037.0048-.0055l7.2668-7.9807c.0038-.0042.0074-.0084.0112-.0125l.0012.0004c.3425-.3594.3018-.8411-.005-1.1732z",fill:"currentColor",fillRule:"evenodd"})))},vm=(0,m.forwardRef)(fm),Sm=(0,m.memo)(vm);function Cm(){return Cm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cm.apply(this,arguments)}var bm,Em=function(e,t){return m.createElement("svg",Cm({fill:"none",height:18,viewBox:"0 0 29 18",width:29,xmlns:"http://www.w3.org/2000/svg",ref:t},e),pm||(pm=m.createElement("path",{d:"m18.4206 1.92188h-7.8415v14.14942h7.8415z",fill:"#ff5f00"})),gm||(gm=m.createElement("path",{d:"m11.0763 9.00073c-.0011-1.36247.3066-2.70733.8996-3.93281s1.4558-2.29946 2.5233-3.14067c-1.3221-1.043223-2.9098-1.691941-4.58169-1.8720122-1.6719-.1800708-3.36052.1157692-4.87287.8537092-1.51236.737943-2.78744 1.888213-3.67951 3.319343-.892063 1.43113-1.36513 3.08538-1.36513 4.77369 0 1.68832.473067 3.34252 1.36513 4.77372.89207 1.4311 2.16715 2.5814 3.67951 3.3193 1.51235.738 3.20097 1.0338 4.87287.8537 1.67189-.18 3.25959-.8288 4.58169-1.872-1.0678-.8415-1.9309-1.9158-2.5239-3.1418-.593-1.2259-.9004-2.5713-.899-3.93417z",fill:"#eb001b"})),ym||(ym=m.createElement("path",{d:"m29.0005 9.00037c-.0001 1.68843-.4732 3.34283-1.3655 4.77393-.8922 1.4312-2.1675 2.5815-3.68 3.3193s-3.2013 1.0335-4.8733.8532c-1.672-.1804-3.2597-.8294-4.5817-1.873 1.067-.8419 1.9296-1.9162 2.5228-3.1417.5932-1.2256.9014-2.5704.9014-3.93298 0-1.3626-.3082-2.7074-.9014-3.93295s-1.4558-2.29983-2.5228-3.14179c1.3221-1.043676 2.9101-1.692739 4.5823-1.8729748 1.6722-.1802362 3.3612.1156298 4.8738.8537688 1.5127.738136 2.7879 1.888756 3.6799 3.320306.8921 1.43154 1.3649 3.08624 1.3645 4.77489z",fill:"#f79e1b"})))},Am=(0,m.forwardRef)(Em),Nm=(0,m.memo)(Am);function Pm(){return Pm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pm.apply(this,arguments)}var xm,km=function(e,t){return m.createElement("svg",Pm({fill:"none",height:14,viewBox:"0 0 40 14",width:40,xmlns:"http://www.w3.org/2000/svg",ref:t},e),bm||(bm=m.createElement("g",{clipRule:"evenodd",fill:"currentColor",fillRule:"evenodd"},m.createElement("path",{d:"m16.2606.904853-1.9849 12.198647h3.1757l1.9851-12.198647zm-4.6569 0-3.02786 8.390147-.35816-1.8067.00026.00059-.07893-.40493c-.36644-.78974-1.21514-2.29072-2.81772-3.57168-.47379-.37863-.95139-.70176-1.41309-.97778l2.75183 10.569h3.30885l5.05282-12.198647zm12.3943 3.386597c0-1.37917 3.0929-1.20196 4.4519-.45307l.4532-2.61995s-1.3986-.531907-2.8565-.531907c-1.5761 0-5.3186.689247-5.3186 4.038287 0 3.15185 4.3926 3.19102 4.3926 4.84578 0 1.65481-3.9397 1.35901-5.2399.31519l-.4725 2.73842s1.418.6893 3.5851.6893c2.1669 0 5.4369-1.1226 5.4369-4.17627 0-3.17156-4.4322-3.46695-4.4322-4.84578zm12.9593-3.386597h-2.5533c-1.1791 0-1.4662.909097-1.4662.909097l-4.736 11.28955h3.3101l.6622-1.8118h4.0373l.3725 1.8118h2.916zm-3.8681 7.883527 1.6689-4.56503.9387 4.56503z"}),m.createElement("path",{d:"m7.19308 2.05346s-.13145-1.100945-1.53482-1.100945h-5.098539l-.059721.206905s2.45077.4996 4.80197 2.37134c2.2469 1.78893 2.97988 4.01891 2.97988 4.01891z"}))))},wm=(0,m.forwardRef)(km),Dm=(0,m.memo)(wm);function Tm(){return Tm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Tm.apply(this,arguments)}var Om,_m,Im=function(e,t){return m.createElement("svg",Tm({fill:"none",height:48,viewBox:"0 0 49 48",width:48,xmlns:"http://www.w3.org/2000/svg",ref:t},e),xm||(xm=m.createElement("g",{stroke:"#619fff",strokeWidth:2},m.createElement("path",{d:"m8 8h5.2274c.4551 0 .8528.30725.9676.74758l5.0249 19.26212c.4595 1.7613 2.0502 2.9903 3.8705 2.9903h19.9096"}),m.createElement("path",{d:"m3 18h8"}),m.createElement("path",{d:"m6 28h7"}),m.createElement("path",{d:"m0 23.0002h12"}),m.createElement("path",{d:"m19 25.9998h23.3132c.4138 0 .7848-.2548.9333-.641l4.2308-11c.2519-.655-.2316-1.359-.9333-1.359h-25.544"}),m.createElement("circle",{cx:25.5,cy:37.5,r:2.5}),m.createElement("circle",{cx:37.5,cy:37.5,r:2.5}))))},Rm=(0,m.forwardRef)(Im),Lm=(0,m.memo)(Rm);function Mm(){return Mm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mm.apply(this,arguments)}var jm,Fm=function(e,t){return m.createElement("svg",Mm({fill:"none",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Om||(Om=m.createElement("g",{stroke:"#619fff",strokeWidth:2},m.createElement("path",{d:"m20 34h-12c-1.10457 0-2-.8954-2-2v-20c0-1.1046.89543-2 2-2h32c1.1046 0 2 .8954 2 2v20c0 1.1046-.8954 2-2 2"}),m.createElement("path",{d:"m6 16h36"}),m.createElement("path",{d:"m23 36.9999v-8.9999c0-.5523.4477-1 1-1h12c.5523 0 1 .4477 1 1v8.9999c0 .5523-.4477 1-1 1h-12c-.5523 0-1-.4477-1-1z"}),m.createElement("path",{d:"m25 27v-4c0-1.1046.8954-2 2-2h6c1.1046 0 2 .8954 2 2v4"}))),_m||(_m=m.createElement("g",{fill:"#619fff"},m.createElement("path",{d:"m29 34.5c0 .5523.4477 1 1 1s1-.4477 1-1zm2 0v-3.3774h-2v3.3774z"}),m.createElement("circle",{cx:30,cy:32,r:2}),m.createElement("circle",{cx:10,cy:13,r:1}),m.createElement("circle",{cx:13,cy:13,r:1}),m.createElement("circle",{cx:16,cy:13,r:1}))))},Um=(0,m.forwardRef)(Fm),Bm=(0,m.memo)(Um);function Gm(){return Gm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Gm.apply(this,arguments)}var qm=function(e,t){return m.createElement("svg",Gm({fill:"none",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg",ref:t},e),jm||(jm=m.createElement("g",{stroke:"#619fff",strokeLinejoin:"round",strokeWidth:2},m.createElement("path",{d:"m24 44s16-8 16-20v-14l-16-6-16 6v14c0 12 16 20 16 20z"}),m.createElement("path",{d:"m32.9981 24.0005c0 7.2-9.0001 12-9.0001 12s-9-4.8-9-12v-8.4l9-3.6 7.0773 2.7689"}),m.createElement("path",{d:"m35 15.9995-11 11.0005-5-5.0005"}))))},Vm=(0,m.forwardRef)(qm),Km=(0,m.memo)(Vm);const Hm={visa:"visa",mastercard:"mastercard",amex:"amex",discover:"discover",diners:"diners",jcb:"jcb",unionpay:"unionpay",unknown:"unknown"},Ym=()=>{const{stripeElementState:e,setStripeElementState:t}=tm(),{stripeElementState:n,setStripeElementState:i}=tm(),{stripeElementState:a,setStripeElementState:r}=tm();return{stripeElementsCardState:{cardNumber:e,cardExpiry:n,cardCvc:a},setStripeElementsCardState:(0,m.useCallback)(((e,n)=>{switch(e){case"cardNumber":t(n);break;case"cardExpiry":i(n);break;case"cardCvc":r(n)}}),[t,r,i])}};var Zm,zm;function Wm(){return Wm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wm.apply(this,arguments)}var $m=function(e,t){return m.createElement("svg",Wm({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),Zm||(Zm=m.createElement("rect",{x:9,y:9,width:13,height:13,rx:2,ry:2})),zm||(zm=m.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})))},Xm=(0,m.forwardRef)($m),Qm=(0,m.memo)(Xm);const Jm=e=>{const t=(0,no.Y)(),n=(0,Zs.S)(),i=(0,m.useRef)(null),r=(0,Gs.R)();return(0,Fs.jsxs)(Fs.Fragment,{children:[e.isBottomPlacement?(0,Fs.jsx)("div",{className:"ui-tooltip-stripes ui-tooltip-stripes-left"}):(0,Fs.jsx)("div",{className:"ui-tooltip-stripes ui-tooltip-stripes-top"}),(0,Fs.jsx)("p",{className:"text-gray-80 mt-1",children:t.translate("creditCardScreen.cardForm.testModeTooltip.instructions")}),(0,Fs.jsxs)("div",{className:"d-flex items-center mt-1",children:[(0,Fs.jsxs)("p",{ref:i,className:"label-4 text-sans-serif text-select-all","data-qa":"testmode-tooltip-card-number",children:["4242",(0,Fs.jsx)("span",{className:"text-transparent",children:"."}),"4242",(0,Fs.jsx)("span",{className:"text-transparent",children:"."}),"4242",(0,Fs.jsx)("span",{className:"text-transparent",children:"."}),"4242"]}),!n&&(0,Fs.jsx)("button",{type:"button",className:"btn-icon text-gray-40 ms-1-5",disabled:e.locked,"aria-label":t.translate("creditCardScreen.cardForm.testModeTooltip.copyAriaLabel"),onClick:()=>{var e;if(!i.current)throw new Error("Number ref is not defined");null===(e=r.getSelection())||void 0===e||e.selectAllChildren(i.current);try{r.document.execCommand("copy"),H()((()=>{var e;null===(e=r.getSelection())||void 0===e||e.removeAllRanges()}),2e3)}catch(e){}},children:(0,Fs.jsx)(Qm,{className:"icon-stroke icon-stroke-2 d-block","aria-hidden":"true"})})]}),(0,Fs.jsxs)("div",{className:"d-flex flex-wrap items-center mt-0-5 mx-minus-2",children:[(0,Fs.jsxs)("p",{className:"my-0-5 mx-2",children:[(0,Fs.jsx)("span",{className:"text-gray-80 me-1",children:t.translate("creditCardScreen.cardForm.testModeTooltip.expireDate")}),(0,Fs.jsxs)("b",{className:"label-4 text-sans-serif text-select-all","data-qa":"testmode-tooltip-expire",children:["04/",(()=>{var e;const t=(new Date).getFullYear()+2;return a()(e=t.toString()).call(e,-2)})()]})]}),(0,Fs.jsxs)("p",{className:"my-0-5 mx-2",children:[(0,Fs.jsx)("span",{className:"text-gray-80 me-1",children:t.translate("creditCardScreen.cardForm.testModeTooltip.cvc")}),(0,Fs.jsx)("b",{className:"label-4 text-sans-serif text-select-all","data-qa":"testmode-tooltip-cvc",children:"000"})]})]})]})},ep=(0,m.memo)(Jm),tp=["click"],np=["top-end"],ip={width:"40px",height:"42px"},ap=e=>{const{transitionEntered:t,showBadge:i}=e,{state:a,controller:r}=No($n.CREDIT_CARD),s=(0,no.Y)(),o=(0,co.S)(),c=To("lg"),l=ho(),u=(0,Zs.S)(),h=(0,Jh.V)(),p=(0,eo.g)(),[g,y]=(0,m.useState)(),f=Bl(a.shakeKey,0!==a.shakeKey),v=(0,m.useRef)(null),S=(0,m.useRef)(null),C=(0,m.useRef)(null),b=(0,m.useRef)(null),E=(0,m.useRef)(null),{isTestGroup:A,isVariant2TestGroup:N}=(0,mc.X)(),{stripeElementsCardState:P,setStripeElementsCardState:x}=Ym(),[w,D]=(0,m.useState)(!1),[T,O]=(0,m.useState)("unknown"),_=(0,m.useRef)(!1),I=(0,Gs.R)();return(0,m.useEffect)((()=>{(0,d.mG)(void 0,void 0,void 0,(function*(){if(p)return;if(!S.current||!C.current||!b.current)throw new Error("Card containers are not provided");const{stripeElements:e}=yield r.initiateCreditCard({source:"card",onCardElementReady:e=>{x(e,(e=>k()(k()({},e),{isReady:!0})))},cardCvcContainer:b.current,cardExpiryContainer:C.current,cardNumberContainer:S.current,cardNumberOptions:{placeholder:A?"0000 0000 0000 0000":void 0,showIcon:!A&&void 0},cardCvcOptions:{placeholder:A?"123":void 0},stripeElementStyleOverride:A?k()(k()({},Yr),{base:k()(k()({},Yr.base),{"::placeholder":{color:"transparent"}}),invalid:k()(k()({},Yr.invalid),{color:"#222832",":focus":{color:"#222832"},"::placeholder":{color:"transparent"}})}):void 0});y(e)}))}),[r,p,A,x]),(0,m.useEffect)((()=>{if(!P.cardNumber.isReady||!g||!t||_.current)return;const e=g.getElement("cardNumber"),n=g.getElement("cardExpiry"),i=g.getElement("cardCvc");if(!e||!n||!i){if(p)return;throw new Error("Card elements are not initialized")}const a={cardNumber:!1,cardExpiry:!1,cardCvc:!1},s={cardNumber:e,cardExpiry:n,cardCvc:i};function o(e){var t;if(r.changeFieldFilled(e.elementType,e.complete),"cardNumber"===e.elementType&&(e.error?O("unknown-error"):O(Hm[e.brand]||"unknown")),x(e.elementType,(t=>{var n;return k()(k()({},t),{isEmpty:e.empty,error:(null===(n=e.error)||void 0===n?void 0:n.message)||null})})),!e.complete)return void(a[e.elementType]=!1);a[e.elementType]=!0;const[n]=qe()(t=xt()(a)).call(t,(e=>{let[,t]=e;return!t}))||[];n&&s[n].focus()}const c=e=>{D(!0),_.current?I.document.dispatchEvent(new Event("stripeElementEvent")):_.current=!0};return e.on("focus",c),n.on("focus",c),i.on("focus",c),h||e.focus(),e.on("change",o),n.on("change",o),i.on("change",o),()=>{e.off("change",o),n.off("change",o),i.off("change",o),e.off("focus",c),n.off("focus",c),i.off("focus",c)}}),[r,I.document,p,x,g,P.cardNumber.isReady,t,h]),(0,Fs.jsxs)("form",{onSubmit:e=>(0,d.mG)(void 0,void 0,void 0,(function*(){e.preventDefault(),yield r.leave()})),className:"flow-screen","data-qa":"active-screen-credit-card",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:s.translate("common.screenAriaLabel",{screenTitle:`${s.translate("creditCardScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:s.translate("creditCardScreen.title"),showBadge:i}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"justify-center":u&&!N,"py-8":!N&&!u,"mt-minus-1":u&&N}),children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsx)(Ll,{as:"p",className:(0,Hs.Z)({"text-center":!N},u?"text-ellipsis":"text-line-clamp-5"),role:"status",token:"creditCardScreen.description"}),(0,Fs.jsxs)("div",{ref:v,className:(0,Hs.Z)("group-stacked-vertical",N?"group-shadow-experiment":"group-shadow",{"animation-shake":f,"mt-5":u,"mt-7":!u&&N,"mt-8":!u&&!N}),role:"group","aria-label":s.translate("creditCardScreen.cardForm.ariaLabel"),children:[(0,Fs.jsxs)(gl.E,{htmlFor:`card-number-${l}`,label:s.translate("creditCardScreen.cardForm.numberInput.label"),labelSrOnly:!A,labelFloating:A,formGroupClass:(0,Hs.Z)("group-stacked-item",{"pointer-events-none":a.locked}),formLabelClass:(0,Hs.Z)({"has-value":!P.cardNumber.isEmpty,"has-error":null!==P.cardNumber.error}),children:[(0,Fs.jsx)("div",{ref:S,id:`card-number-${l}`,className:(0,Hs.Z)("StripeElement",{"has-label-floating":A})}),A&&(0,Fs.jsx)("img",{className:"p-abs centered-right me-2-5 z-index-5 pointer-events-none",src:n(95197)(`./card-${T}.png`),width:30,height:20,alt:""}),P.cardNumber.error&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:P.cardNumber.error})]}),(0,Fs.jsxs)("div",{className:"group-stacked-item group-stacked-horizontal",children:[(0,Fs.jsxs)(gl.E,{htmlFor:`expiration-${l}`,label:s.translate("creditCardScreen.cardForm.expirationDate.label"),labelSrOnly:!A,labelFloating:A,formGroupClass:(0,Hs.Z)("group-stacked-item",{"pointer-events-none":a.locked}),formLabelClass:(0,Hs.Z)({"has-value":!P.cardExpiry.isEmpty,"has-error":null!==P.cardExpiry.error}),children:[(0,Fs.jsx)("div",{ref:C,id:`expiration-${l}`,className:(0,Hs.Z)("StripeElement",{"has-label-floating":A})}),P.cardExpiry.error&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:P.cardExpiry.error})]}),(0,Fs.jsxs)(gl.E,{htmlFor:`cvc-${l}`,label:s.translate("creditCardScreen.cardForm.cvcCode.label"),labelSrOnly:!A,labelFloating:A,formGroupClass:(0,Hs.Z)("group-stacked-item",{"pointer-events-none":a.locked}),formLabelClass:(0,Hs.Z)({"has-value":!P.cardCvc.isEmpty,"has-error":null!==P.cardCvc.error}),children:[(0,Fs.jsx)("div",{ref:b,id:`cvc-${l}`,className:(0,Hs.Z)("StripeElement",{"has-label-floating":A})}),P.cardCvc.error&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:P.cardCvc.error}),(0,Fs.jsxs)("button",{type:"button",className:(0,Hs.Z)("btn-icon p-abs centered-right z-index-5",A?"me-4":"me-3"),ref:E,disabled:a.locked,"aria-label":s.translate("creditCardScreen.cardForm.cvcCode.helpAriaLabel"),onClick:()=>D(!1),children:[(0,Fs.jsx)("span",{className:"p-abs centered border-radius-8",style:ip}),(0,Fs.jsx)("span",{className:"text-gray-60 font-size-18","aria-hidden":"true",children:(0,Fs.jsx)(vc.Z,{className:(0,Hs.Z)("icon-stroke d-block",{"icon-flip-horizontal":o})})})]}),!a.locked&&t&&!w&&(0,Fs.jsx)(Uo.N,{triggerRef:E,trigger:tp,placement:o?"left-start":"right-start",fallbackPlacements:np,maxWidth:u?"var(--fixed-container-width-desktop)":void 0,children:s.translate("creditCardScreen.cardForm.cvcCode.tooltipLabel")})]})]})]}),t&&(0,Fs.jsx)(jc.K,{triggerRef:v,placement:c?o?"left":"right":u?"top-start":"bottom-start",show:a.showTestModeTooltipInfo,children:(0,Fs.jsx)(ep,{isBottomPlacement:!c,locked:a.locked})})]})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary",processingState:a.processingState,tooltipMessage:r.errorMessage,tooltipTitle:a.payErrorTitle||s.translate("creditCardScreen.cardError.title"),dataQa:"card-continue",trackingElement:"payButton",children:a.isPaymentScreen?Lc(s,a.formattedAmount,a.frequency):s.translate("creditCardScreen.payButtonLabel.continue")})})]})},rp=(0,m.memo)(ap);var sp,op=n(3358),cp=n(17236);function lp(){return lp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lp.apply(this,arguments)}var up=function(e,t){return m.createElement("svg",lp({fill:"none",height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",ref:t},e),sp||(sp=m.createElement("path",{d:"m13 4.5625-6.875 6.875-3.125-3.125",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})))},dp=(0,m.forwardRef)(up),hp=(0,m.memo)(dp);const mp=e=>{const{hint:t,currency:n,disabled:i,onSelect:a}=e,r=(0,no.Y)(),s=(0,Xs.q)(),{isVariant2TestGroup:o}=(0,mc.X)(),c=(0,m.useMemo)((()=>t.default),[t.default]);return(0,Fs.jsxs)("div",{className:(0,Hs.Z)("amount-hint",{"amount-hint-checked":c}),children:[(0,Fs.jsx)("input",{type:"radio",id:`${t.id}-hint`,className:"amount-hint-radio",value:t.id,title:r.formatCurrency(t.amount,{currency:n,display:"short"})+", "+t.description,name:"hintOptions",checked:c,disabled:i,"data-qa":"suggested-amount-hint-button",onChange:()=>a(t)}),(0,Fs.jsxs)("label",{htmlFor:`${t.id}-hint`,className:(0,Hs.Z)(s("amount-hint-label"),{"amount-hint-label-experiment":o}),"data-qa":"suggested-amount-hint-label",children:[(0,Fs.jsxs)("span",{className:"label-2 d-flex p-rel z-index-2",children:[(0,Fs.jsx)("span",{className:"text-truncate me-2",children:r.formatCurrency(t.amount,{currency:n,display:"short"})}),(0,Fs.jsx)("span",{className:"icon-slot icon-slot-16 shrink-0 ms-auto","aria-hidden":"true",children:c&&(0,Fs.jsx)("span",{className:"p-abs centered font-size-16 text-primary",children:(0,Fs.jsx)(hp,{className:"icon-stroke d-block"})})})]}),(0,Fs.jsx)("span",{className:"p-rel text-truncate z-index-2",children:t.description})]})]})},pp=(0,m.memo)(mp),gp=e=>{const{disabled:t,onShowCustomAmount:n}=e,i=(0,no.Y)(),a=(0,Xs.q)();return(0,Fs.jsx)("button",{type:"button",className:a("custom-amount-btn"),disabled:t,onClick:()=>n(),"data-qa":"suggested-amount-custom-button",children:i.translate("donateForm.amountHint.customAmount")})},yp=(0,m.memo)(gp),fp=e=>{const{currency:t,disabled:n,onChange:i,list:a}=e,r=(0,no.Y)(),s=So(),o=ho();return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("label",{className:"sr-only",htmlFor:`currency-${o}`,children:[r.translate("donateForm.donationCurrency")," ",t]}),(0,Fs.jsx)("select",{className:"currency-select-control text-noselect",value:t,onChange:e=>{i(e.target.value)},"data-qa":"currency-selector","data-tracking-element-name":"changeCurrency",id:`currency-${o}`,disabled:n,children:De()(a).call(a,((e,t)=>(0,Fs.jsx)("optgroup",{children:De()(e).call(e,((e,t)=>(0,Fs.jsxs)("option",{value:e,children:[e,"  ",s.getName(e)]},t)))},t)))})]})},vp=(0,m.memo)(fp),Sp=e=>{const{controller:t}=No($n.DONATE),n=(0,eo.g)(),i=(0,co.S)(),a=(0,Zs.S)(),r=(0,no.Y)(),s=So(),{isVariant2TestGroup:o}=(0,mc.X)(),c=(0,m.useRef)(null),l=(0,m.useRef)(null);(0,ec.w)({ref:l,autoFocus:e.donation.canModifyAmount,mode:Jo.E.DESKTOP});const u=(e=>{const t=(0,Bs.C)();return(0,m.useMemo)((()=>t.company.allowCentsForCharges?e>0:null!==t.queryParams.amount&&!Rt()(t.queryParams.amount)),[t,e])})(s.getDigits(e.donation.currency)),[d,h]=(0,m.useState)(!1),[p,g]=(0,m.useState)(!1),y=(0,m.useCallback)((e=>{t.changeAmount(e)}),[t]),f=(0,m.useCallback)((e=>{t.changeCurrency(e),t.validateAmount()}),[t]),v=(0,m.useMemo)((()=>[e.guessedCurrenciesList,e.allCurrenciesList]),[e.allCurrenciesList,e.guessedCurrenciesList]),S=(0,m.useMemo)((()=>(0,Fs.jsx)(vp,{currency:e.donation.currency,disabled:e.disabled,onChange:f,list:v})),[v,f,e.donation.currency,e.disabled]),C=(0,m.useCallback)((()=>{t.validateAmount(),g(!n&&e.errors.amount.min)}),[t,n,e.errors.amount.min,g]);return(0,m.useEffect)((()=>{c.current&&(g(!n&&e.errors.amount.min),h(!a&&t.shouldShowAverageDonationHintTooltip))}),[e.errors.amount.min,n,c,t.shouldShowAverageDonationHintTooltip,a,g]),(0,Fs.jsxs)("div",{className:e.className,style:e.style,ref:c,children:[(0,Fs.jsx)(Pd,{ref:l,className:(0,Hs.Z)("group-price-control",{"group-price-control-experiment":o,"group-price-control-custom-amount":e.isCustomAmount,"has-error":e.showError}),showCurrencySymbol:!0,useSpaceAfterCurrencySymbol:e.useSpaceAfterCurrencySymbol,currency:e.donation.currency,amount:e.donation.amount,canModifyAmount:e.donation.canModifyAmount,withoutFraction:!u,canSelectCurrency:e.donation.canModifyAmount&&e.donation.canSelectCurrency,currencyCodeNode:e.donation.canModifyAmount&&e.donation.canSelectCurrency&&S,currencyService:s,qaActiveAttribute:"amount",qaDisabledAttribute:"disabled-amount",trackingElement:"amountInput",onAmountChange:y,onAmountInputBlur:C,donationType:e.flowType,placeholder:e.placeholder,disabled:e.disabled}),e.showError&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:r.translate("donateForm.donationAmountField.error.required")}),!e.disabled&&(0,Fs.jsx)(jc.K,{triggerRef:c,show:p&&!!e.animationEnded,customClass:"w-auto",maxWidth:"var(--fixed-container-width-desktop)",placement:a?"top":i?"left":"right",fallbackPlacements:a?[]:["top"],role:p?"alert":"none",dataQa:"min-amount-popover",children:(0,Fs.jsx)(Ll,{as:"span",token:"donateForm.donationAmountField.error.min",params:{amount:r.formatCurrency(e.donation.minAmount,{currency:e.donation.currency,display:"round"})}})}),!e.disabled&&(0,Fs.jsx)(jc.K,{triggerRef:c,show:!!l.current&&d,maxWidth:"229px",placement:i?"left":"right",fallbackPlacements:a?[]:["left"],role:d?"alert":"none",children:(0,Fs.jsx)(Ll,{as:"span",token:"donateForm.donationAmountField.hint.average",params:{amount:r.formatCurrency(t.amountAverageDonationHint,{currency:e.donation.currency,display:"round"})}})})]})},Cp=(0,m.memo)(Sp),bp={marginLeft:"-1px",marginRight:"-1px",marginBottom:"-1px"},Ep=e=>{const{controller:t}=No($n.DONATE),n=(0,m.useCallback)((e=>{t.changeCurrentHint(e)}),[t]),i=(0,m.useMemo)((()=>e.donation.hintOptions),[e.donation.hintOptions]),a=(0,m.useCallback)((()=>{const e=null==i?void 0:qe()(i).call(i,(e=>e.default));e&&(t.changeAmount(e.amount),t.validateAmount())}),[t,i]);return(0,Fs.jsxs)("div",{className:(0,Hs.Z)("border border-gray-20 border-radius-base",e.className,{"animation-shake":e.shake}),children:[i&&De()(i).call(i,((t,i)=>(0,Fs.jsx)(pp,{hint:t,currency:e.donation.currency,disabled:e.disabled,onSelect:n},i))),e.showFrequencyCustomAmountInput?(0,Fs.jsx)(Cp,{donation:e.donation,errors:e.errors,tribute:e.tribute,guessedCurrenciesList:e.guessedCurrenciesList,allCurrenciesList:e.allCurrenciesList,showError:e.showError,flowType:e.flowType,useSpaceAfterCurrencySymbol:!0,isCustomAmount:!0,placeholder:"",style:bp,disabled:e.disabled,animationEnded:e.animationEnded}):(0,Fs.jsx)(yp,{disabled:e.disabled,onShowCustomAmount:a})]})},Ap=(0,m.memo)(Ep);var Np=n(54383),Pp=n.n(Np);const xp={background:"#FFFAE8",border:"1px solid #E2D29A"},kp=e=>{var t;const{controller:n}=No($n.DONATE),i=(0,no.Y)(),a=(0,Zs.S)(),r=(0,Xs.q)(),{isVariant2TestGroup:s}=(0,mc.X)();return(0,Fs.jsxs)("div",{className:(0,Hs.Z)(e.className,{"animation-shake":e.shake}),children:[a&&n.shouldShowAverageDonationHint&&(0,Fs.jsx)("div",{className:"mb-3 body-3 py-2 px-4 border-radius-8 text-ellipsis",style:xp,children:(0,Fs.jsx)(Ll,{as:"span",token:"donateForm.donationAmountField.hint.average",params:{amount:i.formatCurrency(n.amountAverageDonationHint,{currency:e.donation.currency,display:"round"})}})}),e.donation.canModifyAmount&&(0,Fs.jsx)("div",{className:"amount-options","aria-label":i.translate("donateForm.suggestionAriaLabel"),children:De()(t=e.donation.amountOptions).call(t,((t,a)=>(0,Fs.jsxs)("div",{className:"amount-option","data-qa":"suggested-amount-button",children:[(0,Fs.jsx)("input",{type:"radio",id:`${t}-option`,className:"amount-option-radio",title:i.formatCurrency(t,{currency:e.donation.currency,display:"shortlabel"}),name:"amountOptions",value:t,checked:t===e.donation.amount,disabled:e.disabled,"aria-label":i.translate("donateForm.suggestionAmountAriaLabel",{amount:i.formatCurrency(t,{currency:e.donation.currency,display:"shortlabel"})}),onChange:e=>(e=>{n.changeAmount(e),n.validateAmount()})(Pp()(e.target.value)),"data-tracking-element-name":"suggestionButton"}),(0,Fs.jsx)("label",{htmlFor:`${t}-option`,className:(0,Hs.Z)(r("amount-option-label"),{"amount-option-label-experiment":s}),"aria-hidden":"true",children:(0,Fs.jsx)("span",{className:"text-truncate",children:i.formatCurrency(t,{currency:e.donation.currency,display:"shortlabel"})})})]},a)))}),(0,Fs.jsx)(Cp,{donation:e.donation,errors:e.errors,tribute:e.tribute,guessedCurrenciesList:e.guessedCurrenciesList,allCurrenciesList:e.allCurrenciesList,showError:e.showError,flowType:e.flowType,disabled:e.disabled,className:(0,Hs.Z)({"mt-2-5":e.donation.canModifyAmount}),animationEnded:e.animationEnded})]})},wp=(0,m.memo)(kp),Dp=()=>(0,Fs.jsx)(Ec,{className:"d-block text-fuchsia-80",width:16,height:16}),Tp=(0,m.memo)(Dp),Op=e=>{const{index:t,onAnimationEnd:n}=e,i=(0,m.useRef)(null),[a,r]=(0,m.useState)(!1);(0,m.useEffect)((()=>{r(!0)}),[]);const s=(0,m.useCallback)((()=>{n(t)}),[t,n]);return(0,Fs.jsx)("span",{className:"heart p-abs",children:(0,Fs.jsx)(Ys.Z,{classNames:"heart-y-move",in:a,timeout:2500,nodeRef:i,onEntered:s,children:(0,Fs.jsx)("span",{ref:i,className:"heart-holder",children:(0,Fs.jsx)("span",{className:"heart-x-move",children:(0,Fs.jsx)(Tp,{})})})})})},_p=(0,m.memo)(Op),Ip=e=>{const{heartTrigger:t}=e,[n,i]=(0,m.useState)([]);(0,m.useEffect)((()=>{null!==t&&i((e=>{const t=(e[e.length-1]||0)+1,n=[...e,t];return n.length===e.length?e:n}))}),[t]);const a=(0,m.useCallback)((e=>{i((t=>Fe()(t).call(t,(t=>t!==e))))}),[]);return(0,Fs.jsx)("span",{className:"heart-list",children:De()(n).call(n,(e=>(0,Fs.jsx)(_p,{index:e,onAnimationEnd:a},e)))})},Rp=(0,m.memo)(Ip),Lp=e=>{const{state:t,controller:n}=No($n.DONATE),i=(0,no.Y)(),a=(0,Xs.q)(),{isVariant2TestGroup:r}=(0,mc.X)(),[s,o]=(0,m.useState)(null),c=e=>{n.validateAmount(),n.changeFrequency(e),e===t.rightButtonFrequency&&o((s||0)+1)},l=(0,m.useMemo)((()=>t.donation.frequency===t.rightButtonFrequency),[t.donation.frequency,t.rightButtonFrequency]);return(0,Fs.jsx)(Fs.Fragment,{children:r?(0,Fs.jsxs)("div",{className:(0,Hs.Z)("frequency",e.className),"aria-label":i.translate("donateForm.frequencyAriaLabel"),children:[(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)("frequency-btn",{"frequency-btn-selected":t.donation.frequency===t.leftButtonFrequency}),"aria-current":t.donation.frequency===t.leftButtonFrequency,disabled:e.disabled,onClick:()=>c(t.leftButtonFrequency),"data-qa":"less-frequent-button","data-tracking-element-name":"onceRepeat",children:(0,Fs.jsx)("span",{className:"text-truncate","data-testid":"left-button-label",children:t.leftButtonLabel})}),(0,Fs.jsxs)("button",{type:"button",className:(0,Hs.Z)("frequency-btn",{"frequency-btn-selected":l}),"aria-current":l,disabled:e.disabled,onClick:()=>c(t.rightButtonFrequency),"data-qa":"more-frequent-button","data-tracking-element-name":"monthlyPlan",children:[(0,Fs.jsxs)("span",{className:"p-rel shrink-0 me-1","aria-hidden":"true",children:[(0,Fs.jsx)(Tp,{}),(0,Fs.jsx)("span",{className:"p-abs top-left z-index-1",children:(0,Fs.jsx)(Rp,{heartTrigger:s})})]}),(0,Fs.jsx)("span",{className:"text-truncate","data-testid":"right-button-label",children:t.rightButtonLabel})]})]}):(0,Fs.jsxs)("div",{className:(0,Hs.Z)("btn-tabs d-flex items-center",e.className),"aria-label":i.translate("donateForm.frequencyAriaLabel"),children:[(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)(a("btn-tab"),{active:t.donation.frequency===t.leftButtonFrequency}),"aria-current":t.donation.frequency===t.leftButtonFrequency,disabled:e.disabled,onClick:()=>c(t.leftButtonFrequency),"data-qa":"less-frequent-button","data-tracking-element-name":"onceRepeat",children:(0,Fs.jsx)("span",{className:"text-truncate","data-testid":"left-button-label",children:t.leftButtonLabel})}),(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)(a("btn-tab"),{active:l}),"aria-current":t.donation.frequency===t.rightButtonFrequency,disabled:e.disabled,onClick:()=>c(t.rightButtonFrequency),"data-qa":"more-frequent-button","data-tracking-element-name":"monthlyPlan",children:(0,Fs.jsxs)("span",{className:"d-flex items-center justify-center",children:[(0,Fs.jsxs)("span",{className:"p-rel shrink-0 me-1","aria-hidden":"true",children:[(0,Fs.jsx)(Tp,{}),(0,Fs.jsx)("span",{className:"p-abs top-left z-index-1",children:(0,Fs.jsx)(Rp,{heartTrigger:s})})]}),(0,Fs.jsx)("span",{className:"text-truncate","data-testid":"right-button-label",children:t.rightButtonLabel})]})}),(0,Fs.jsx)("div",{className:"btn-tabs-frame p-abs top-left bottom-right"})]})})},Mp=(0,m.memo)(Lp);var jp=n(28249);const Fp=e=>{const{amount:t,currency:n,trackingElement:i,className:a,onClick:r}=e,s=(0,no.Y)();return(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)("btn btn-default",a),"data-tracking-element-name":i,"data-qa":"keep-one-time-button","data-testid":"keep-one-time-button",onClick:r,children:s.translate("upsellScreen.button.keepOneTime",{amount:s.formatCurrency(t,{currency:n,display:"floatcents"})})})},Up=(0,m.memo)(Fp),Bp=e=>{const{questionText:t,descriptionText:n}=e,i=(0,Zs.S)();return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("p",{className:(0,Hs.Z)("text-center",i?"text-ellipsis":"text-line-clamp-6"),role:"status",dangerouslySetInnerHTML:{__html:t},"data-testid":"upsell-question"}),n&&(0,Fs.jsx)("p",{className:(0,Hs.Z)("text-center mt-3",i?"text-ellipsis":"text-line-clamp-4"),role:"status",dangerouslySetInnerHTML:{__html:n},"data-testid":"upsell-description"})]})},Gp=(0,m.memo)(Bp),qp=e=>{const t=ho();return(0,Fs.jsxs)("svg",{className:(0,Hs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:"73",viewBox:"0 0 72 73",width:"72",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","data-qa":"gift-box-icon",children:[(0,Fs.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"72.3115",width:"71.1349",x:"0",y:"0",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dx:"6",dy:"2"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.591667 0 0 0 0 0.175035 0 0 0 0 0.199399 0 0 0 0.25 0"}),(0,Fs.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_8986_17614"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_8986_17614",mode:"normal",result:"shape"})]}),(0,Fs.jsxs)("filter",{id:`b-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"61.6255",width:"61.1349",x:"2",y:"6.54346",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dx:"3",dy:"3"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:"1.5"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,Fs.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_8986_17614"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_8986_17614",mode:"normal",result:"shape"})]}),(0,Fs.jsxs)("linearGradient",{id:`c-${t}`,gradientUnits:"userSpaceOnUse",x1:"33.358",x2:"55.1048",y1:"36.8415",y2:"38.8628",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#ff6375"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#f2394e"})]}),(0,Fs.jsxs)("linearGradient",{id:`d-${t}`,gradientUnits:"userSpaceOnUse",x1:"57.652",x2:"32.9253",y1:"47.3215",y2:"61.3441",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#db3448"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#f2394e"})]}),(0,Fs.jsxs)("linearGradient",{id:`e-${t}`,children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#ccc"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),(0,Fs.jsx)("linearGradient",{id:`f-${t}`,gradientUnits:"userSpaceOnUse",x1:"2.7417",x2:"29.5784",xlinkHref:`#e-${t}`,y1:"5.62305",y2:"16.674"}),(0,Fs.jsx)("linearGradient",{id:`g-${t}`,gradientUnits:"userSpaceOnUse",x1:"57.6504",x2:"30.8137",xlinkHref:`#e-${t}`,y1:"5.31152",y2:"16.3625"}),(0,Fs.jsxs)("g",{filter:`url(#a-${t})`,children:[(0,Fs.jsx)("g",{filter:`url(#b-${t})`,children:(0,Fs.jsx)("path",{d:"m2 20.4733 27.5499-13.92.0169-.00984 27.5667 13.92894.0014.0009v6.8919l-2.4122 1.2362v20.6755l-25.1553 12.8922-25.15525-12.8922v-20.6755l-2.41215-1.2362z",fill:`url(#c-${t})`})}),(0,Fs.jsx)("path",{d:"m4.41235 49.2779 25.15525 12.8921v-27.5674l-25.15525-12.8922z",fill:"#ff6375"}),(0,Fs.jsx)("path",{d:"m54.723 49.2779-25.1553 12.8921v-27.5674l25.1553-12.8922z",fill:"#fb4d62"}),(0,Fs.jsx)("path",{d:"m4.41235 30.3253 25.15525 12.8921v-8.6148l-25.15525-12.8922z",fill:"#db3448",fillOpacity:".75"}),(0,Fs.jsx)("path",{d:"m54.723 30.3253-25.1553 12.8921v-8.6148l25.1553-12.8922z",fill:"#db3448",fillOpacity:".5"}),(0,Fs.jsx)("path",{d:"m29.5499 6.5533-27.5499 13.92 27.5668 14.1274 27.5667-14.1283-27.5667-13.92894z",fill:"#ff7787"}),(0,Fs.jsx)("path",{d:"m2 20.4731 27.5674 14.1284v6.8918l-27.5674-14.1283z",fill:"#fb4d62"}),(0,Fs.jsx)("path",{d:"m57.1345 20.4731-27.5674 14.1284v6.8918l27.5674-14.1283z",fill:"#ff6375"}),(0,Fs.jsx)("path",{d:"m12.3378 53.3394v-27.5674l7.2364 3.7086v27.5675z",fill:"#dcdcdc"}),(0,Fs.jsx)("path",{d:"m47.1403 25.5949-7.2149 3.6978-10.1245-5.0269-10.2267 5.2146-7.223-3.7014 17.3508-8.8229z",fill:"#f4f4f4"}),(0,Fs.jsx)("path",{d:"m47.142 25.5952-7.2365 3.7087v27.5674l7.2365-3.7087z",fill:"#dcdcdc"}),(0,Fs.jsx)("path",{d:"m29.5676 62.3113-25.15525-12.8921v-.6892l25.15525 12.8921 25.1553-12.8921v.6892z",fill:`url(#d-${t})`,fillOpacity:".2"}),(0,Fs.jsx)("path",{d:"m45.8044 17.4261c-3.6871-.6226-7.6011 1.431-10.2537 2.8227-.9582.5027-1.7518.9191-2.3105 1.0917-.3618-.1451-.8792-.236-1.4538-.236h-3.9611c-.5567 0-1.0598.0853-1.4196.2226-.5213-.2107-1.1855-.5592-1.9564-.9637-2.6526-1.3917-6.5666-3.4453-10.2537-2.8227-3.9608.6687-4.65037 4.4568-3.9609 4.9658.4446.4109 4.6365.4646 15.7653-.1146.3474.2122.5804.9196 2 .9196h3.7864c.8521 0 1.9341-.7195 2.2136-1 11.2947.5993 15.3177.4941 15.7653.0804.6894-.509-.0001-4.2971-3.9609-4.9658z",fill:"#db3448",fillOpacity:".5"}),(0,Fs.jsx)("path",{d:"m10.469 20.0297-.004-.0098-.0047-.0094c-.0642-.1276-.1269-.3985-.1665-.8141-.0386-.4048-.0529-.9172-.0381-1.5046.0295-1.1746.1748-2.6343.4655-4.1076.291-1.4746.7256-2.9523 1.3292-4.16833.6061-1.22108 1.3661-2.14551 2.2897-2.56537 1.2648-.5749 2.5766-.25259 3.9015.62535 1.3277.87973 2.6251 2.29152 3.8183 3.80205.8432 1.0675 1.6238 2.1702 2.3226 3.1573.2902.4098.5662.7997.8267 1.1588.4409.6078.84 1.1311 1.1842 1.5038.1718.1861.3371.3425.4931.454.0795.0568.1653.1084.2555.1443v3.2766c-5.8992.8884-9.9813.9034-12.6427.5588-1.3471-.1744-2.3223-.4399-2.9824-.7258-.33-.1429-.5757-.2885-.7487-.426-.1748-.1391-.2631-.2601-.2992-.35z",fill:"#f4f4f4",stroke:`url(#f-${t})`,strokeWidth:".5"}),(0,Fs.jsx)("path",{d:"m49.9231 19.7182.004-.0098.0047-.0094c.0642-.1276.1269-.3985.1665-.8141.0386-.4048.0528-.9172.0381-1.5046-.0295-1.1746-.1748-2.6343-.4655-4.1076-.291-1.4746-.7257-2.9523-1.3292-4.16835-.6061-1.22108-1.3661-2.14551-2.2897-2.56537-1.2648-.5749-2.5766-.25259-3.9015.62535-1.3277.87973-2.6251 2.29151-3.8183 3.80207-.8432 1.0674-1.6238 2.1702-2.3226 3.1573-.2902.4098-.5662.7996-.8267 1.1588-.4409.6078-.84 1.1311-1.1842 1.5038-.1719.1861-.3371.3424-.4931.454-.0795.0568-.1654.1083-.2555.1443v3.2766c5.8992.8884 9.9813.9033 12.6427.5588 1.3471-.1744 2.3223-.44 2.9824-.7258.33-.1429.5757-.2885.7486-.426.1749-.1391.2632-.2601.2993-.35z",fill:"#f4f4f4",stroke:`url(#g-${t})`,strokeWidth:".5"}),(0,Fs.jsx)("path",{d:"m27.3922 17.498c-1.6553.0001-7.6553-13.37515-13.1553-10.87509-3.5 2.00014 9.4703 11.74249 13.1553 10.87509z",fill:"#dcdcdc"}),(0,Fs.jsx)("path",{d:"m32.9999 17.1864c1.6553.0002 7.6553-13.37507 13.1553-10.87501 3.5 2.00013-9.4703 11.74251-13.1553 10.87501z",fill:"#dcdcdc"}),(0,Fs.jsx)("path",{d:"m26.5256 18.0437c.2721-.9838 1.2851-1.3759 2.3057-1.3805.3098-.0014.6782-.0249 1.1217-.0812.5022-.0638.9385-.1108 1.309-.1455.9169-.0858 1.7218.5308 1.8747 1.4389.2481 1.4727.4432 3.5148-.3104 3.8119-1.1972.4719-3.5916-.2431-5.7466 0-1.3613.1535-1.0028-2.0209-.5541-3.6436z",fill:"#f4f4f4"})]})]})},Vp=(0,m.memo)(qp),Kp=e=>{const{text:t,trackingElement:n,withGiftBoxIcon:i,withHeartIcon:a,autoFocus:r,onClick:s}=e,o=(0,co.S)(),c=(0,m.useRef)(null);return(0,ec.w)({ref:c,autoFocus:r,mode:Jo.E.DESKTOP}),(0,Fs.jsxs)("div",{className:"p-rel",children:[(0,Fs.jsxs)("button",{ref:c,type:"button",className:(0,Hs.Z)("btn btn-danger",{"px-10":i,"d-flex items-center justify-center":a}),"data-tracking-element-name":n,"data-qa":"upsell-high","data-testid":"upsell-high",onClick:s,children:[a&&(0,Fs.jsx)(Ec,{className:"icon-fill shrink-0 font-size-20 text-white me-2","aria-hidden":"true"}),(0,Fs.jsx)("span",{className:"text-truncate",children:t})]}),i&&(0,Fs.jsx)(Vp,{className:(0,Hs.Z)("p-abs top-left z-index-2 ms-minus-5 mt-minus-3",{"icon-flip-horizontal":o}),ariaHidden:!0})]})},Hp=(0,m.memo)(Kp),Yp=e=>{const{text:t,trackingElement:n,autoFocus:i,className:a,onClick:r}=e,s=(0,m.useRef)(null);return(0,ec.w)({ref:s,autoFocus:i,mode:Jo.E.DESKTOP}),(0,Fs.jsx)("button",{type:"button",ref:s,className:(0,Hs.Z)("btn btn-primary",a),"data-tracking-element-name":n,"data-qa":"upsell-low","data-testid":"upsell-low",onClick:r,children:t})},Zp=(0,m.memo)(Yp),zp=e=>{const t=(0,no.Y)();return(0,Fs.jsx)("div",{className:"px-body py-7",children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsx)(Gp,{questionText:e.questionText,descriptionText:e.descriptionText}),(0,Fs.jsxs)("div",{role:"group",className:"mt-7","aria-label":t.translate("upsellScreen.buttonGroupAriaLabel"),children:[e.amountUpsellHigh&&(0,Fs.jsx)(Hp,{text:e.upsellHighText,trackingElement:"oldUpsellHighMonthlyUpsellCurtainExperiment",withGiftBoxIcon:!0,autoFocus:e.transitionEntered,onClick:e.onUpsellHighClick}),e.amountUpsellLow&&(0,Fs.jsx)(Zp,{className:"mt-3",text:e.upsellLowText,autoFocus:e.transitionEntered&&!e.amountUpsellHigh,trackingElement:"oldUpsellLowMonthlyUpsellCurtainExperiment",onClick:e.onUpsellLowClick}),(0,Fs.jsx)(Up,{className:"mt-3",amount:e.currentAmount,currency:e.currentCurrency,trackingElement:"oldUpsellKeepUpsellCurtainExperiment",onClick:e.onKeepOneTimeClick})]})]})})},Wp=(0,m.memo)(zp),$p=e=>{const{amount:t,currency:n,trackingElement:i,onClick:a}=e,r=(0,no.Y)();return(0,Fs.jsx)("button",{type:"button",className:"btn-link text-truncate","data-tracking-element-name":i,"data-qa":"keep-one-time-link","data-testid":"keep-one-time-link",onClick:a,children:r.translate("upsellScreen.button.keepOneTimeLink",{amount:r.formatCurrency(t,{currency:n,display:"floatcents"})})})},Xp=(0,m.memo)($p),Qp=e=>{const t=(0,no.Y)();return(0,Fs.jsx)("div",{className:"px-body py-7",children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsx)(Gp,{questionText:e.questionShortText}),(0,Fs.jsxs)("div",{role:"group",className:"mt-7","aria-label":t.translate("upsellScreen.buttonGroupAriaLabel"),children:[e.amountUpsellHigh&&(0,Fs.jsx)(Hp,{text:e.upsellHighText,trackingElement:"oldUpsellHighMonthlyUpsellCurtainExperiment",withHeartIcon:!0,autoFocus:e.transitionEntered,onClick:e.onUpsellHighClick}),e.amountUpsellLow&&(0,Fs.jsx)(Zp,{className:"mt-2",text:e.upsellLowText,autoFocus:e.transitionEntered&&!e.amountUpsellHigh,trackingElement:"oldUpsellLowMonthlyUpsellCurtainExperiment",onClick:e.onUpsellLowClick}),(0,Fs.jsx)("div",{className:"d-flex justify-center mt-4",children:(0,Fs.jsx)(Xp,{amount:e.currentAmount,currency:e.currentCurrency,trackingElement:"oldUpsellKeepUpsellCurtainExperiment",onClick:e.onKeepOneTimeClick})})]})]})})},Jp=(0,m.memo)(Qp),eg=e=>{const{show:t,variant:n,testMode:i,onClose:a}=e,r=(0,d._T)(e,["show","variant","testMode","onClose"]),s=(0,Zs.S)(),o=To("lg"),c=(0,m.useRef)(null),l=(0,m.useRef)(null),u=(0,m.useRef)(null),h=(0,m.useRef)(null),p=Js({rootElRef:l,trapStartRef:u,trapStopRef:h}),g=(0,jp.QS)({onSwipedDown:()=>{a()},touchEventOptions:{passive:!1},preventScrollOnSwipe:!0,trackMouse:!0}),y=(0,Bs.C)().getAskPageConfig().show,f=n===bi.TEST_1?Wp:Jp;return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(Ys.Z,{nodeRef:c,in:t&&!!n,classNames:"fade-backdrop",timeout:200,mountOnEnter:!0,unmountOnExit:!0,children:(0,Fs.jsx)("div",{ref:c,className:(0,Hs.Z)("upsell-curtain-backdrop top-left bottom-right",s?"p-fixed":"p-abs",{"border-radius-16":!s&&o||!y&&!s,"border-bottom-radius-16":!s&&!o&&y}),onClick:a})}),(0,Fs.jsx)(Ys.Z,{nodeRef:l,in:t&&!!n,classNames:"slide-curtain",timeout:300,mountOnEnter:!0,unmountOnExit:!0,children:e=>(0,Fs.jsx)("div",k()({},g,{children:(0,Fs.jsxs)("div",{ref:l,className:(0,Hs.Z)("upsell-curtain bottom-left w-100 bg-white",s?"p-fixed max-h-95 overflow-y-auto border-top-radius-16":"p-abs border-radius-16",{"pb-10":i&&s}),onFocus:p.handleFocus,onBlur:p.handleBlur,"data-qa":"upsell-curtain-block",children:[(0,Fs.jsx)("span",{ref:p.trapStartRef,tabIndex:0,"aria-hidden":"true"}),(0,Fs.jsx)(f,k()({},r,{transitionEntered:"entered"===e})),(0,Fs.jsx)("span",{ref:p.trapStopRef,tabIndex:0,"aria-hidden":"true"})]})}))})]})},tg=(0,m.memo)(eg);var ng;function ig(){return ig=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ig.apply(this,arguments)}var ag=function(e,t){return m.createElement("svg",ig({fill:"none",height:28,viewBox:"0 0 28 28",width:28,xmlns:"http://www.w3.org/2000/svg",ref:t},e),ng||(ng=m.createElement("g",{fill:"currentColor"},m.createElement("path",{clipRule:"evenodd",d:"m15.0393 2.44995c-.6707-.24772-1.4079-.24772-2.0786 0l-8.30715 3.06797c-.39274.14504-.65355.51939-.65355.93807v7.54411c0 3.6861 1.95965 6.6874 4.28911 8.8073 1.16017 1.0557 2.38789 1.8689 3.45309 2.4137 1.1081.5668 1.9145.779 2.2578.779s1.1497-.2122 2.2578-.779c1.0652-.5448 2.2929-1.358 3.4531-2.4137 2.3294-2.1199 4.2891-5.1212 4.2891-8.8073v-7.54411c0-.41868-.2608-.79303-.6536-.93807zm-2.7715-1.876139c1.1179-.412868 2.3465-.412868 3.4644 0l8.3071 3.067969c1.1783.43514 1.9607 1.55819 1.9607 2.81421v7.54411c0 4.4389-2.3618 7.9375-4.943 10.2865-1.2952 1.1786-2.6702 2.092-3.8885 2.7151-1.1754.6012-2.3332.9984-3.1685.9984s-1.9931-.3972-3.1685-.9984c-1.21831-.6231-2.59328-1.5365-3.88847-2.7151-2.58125-2.349-4.94303-5.8476-4.94303-10.2865v-7.54411c0-1.25602.78243-2.37907 1.96066-2.81421z",fillRule:"evenodd"}),m.createElement("path",{d:"m18.2906 11.75h-.2535v-1.1855c0-2.19278-1.7415-4.02451-3.9182-4.06361-.0595-.00107-.1783-.00107-.2378 0-2.1767.0391-3.91819 1.87083-3.91819 4.06361v1.1855h-.25354c-.39069 0-.70937.4028-.70937.9003v5.9463c0 .4969.31868.9035.7094.9035h8.5812c.3907 0 .7094-.4066.7094-.9035v-5.9463c0-.4974-.3187-.9003-.7094-.9003zm-3.4867 3.8674v1.7967c0 .2058-.1723.3799-.3784.3799h-.8509c-.2061 0-.3785-.1741-.3785-.3799v-1.7967c-.1999-.1966-.3162-.4684-.3162-.7691 0-.5698.4408-1.0594 1.0013-1.082.0594-.0024.1783-.0024.2377 0 .5605.0226 1.0013.5122 1.0013 1.082 0 .3007-.1164.5725-.3163.7691zm1.5623-3.8674h-4.7323v-1.1855c0-1.30621 1.0623-2.38623 2.3661-2.38623s2.3662 1.08002 2.3662 2.38623z"}))))},rg=(0,m.forwardRef)(ag),sg=(0,m.memo)(rg);const og=()=>{const{state:e,controller:t}=No($n.DONATE),n=(0,no.Y)(),i=(0,Zs.S)(),a=(0,Gs.R)(),r=(0,Bs.C)(),s=(0,m.useRef)(null),o=(0,cp.j)(),{isTestGroup:c,isVariant1TestGroup:l,isVariant2TestGroup:u}=(0,mc.X)(),[d,h]=(0,m.useState)(!0),p=Bl(e.amountShakeKey,0!==e.amountShakeKey),g=Bl(e.designationShakeKey,0!==e.designationShakeKey),y=!r.preselectDesignation,f=!!e.donation.canModifyAmount&&e.donation.hintOptions,v=!f,S=(0,eo.g)(),C=r.infrastructureParams.livemode,b=(0,m.useCallback)((()=>{t.toggleTribute()}),[t]),E=(0,m.useCallback)((e=>{t.changeTributeName(e)}),[t]),A=(0,m.useCallback)((()=>{t.addComment()}),[t]),N=(0,m.useCallback)((e=>{t.setIsTributeInputFocused(e)}),[t]),P=(0,m.useMemo)((()=>t.getAllowedGoals(e.designation.goals,e.donation.frequency)),[t,e.designation.goals,e.donation.frequency]),x=(0,m.useMemo)((()=>t.getGoalByKey(e.designation.goalKey)),[t,e.designation.goalKey]),k=(0,m.useCallback)((e=>t.changeGoal(e)),[t]),w=(0,m.useCallback)((()=>t.savePrevComment()),[t]),D=(0,m.useCallback)((()=>{h(!0)}),[]),T=(0,m.useCallback)((()=>{h(!1)}),[]),O=(0,m.useCallback)((()=>{t.closeUpsellCurtain()}),[t]);return(0,m.useEffect)((()=>{var t;return i&&e.upsellCurtainShown&&(null===(t=null==a?void 0:a.document)||void 0===t||t.body.classList.add("overflow-hidden")),()=>{var e;null===(e=null==a?void 0:a.document)||void 0===e||e.body.classList.remove("overflow-hidden")}}),[e,a,i]),(0,m.useEffect)((()=>{if(e.upsellCurtainShown)return o.get(yi.X.UPSELL_CURTAIN_EXPERIMENT).onBackDropClose(O)}),[o,e.upsellCurtainShown,O]),(0,Fs.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t.leave()},className:"flow-screen","data-qa":"fiat-donate-form",children:[(0,Fs.jsx)(Qo,{role:"status",autoFocus:i,children:n.translate("common.screenAriaLabel",{screenTitle:`${n.translate("donateForm.title")}`})}),u?(0,Fs.jsx)(Dc,{titleFullWidth:!0,children:(0,Fs.jsx)("h2",{className:"title-1 text-truncate",children:n.translate("donateForm.title")})}):(0,Fs.jsx)(Dc,{className:"border-bottom-0",titleFullWidth:!0,children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("d-flex items-center justify-center",i?"pt-3 pb-2":"py-3"),children:[(0,Fs.jsx)("div",{className:"shrink-0 font-size-28 text-green-80 me-2","aria-hidden":"true",children:(0,Fs.jsx)(sg,{className:"icon-fill d-block"})}),(0,Fs.jsx)("h2",{className:"title-1 text-truncate",children:n.translate("donateForm.title")})]})}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"pb-5":!i}),children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("fixed-container",{"grow-1 d-flex flex-column":!i}),children:[e.donation.canModifyFrequency&&(0,Fs.jsx)(Mp,{className:(0,Hs.Z)(y&&!i&&l?"mb-3":"mb-4"),disabled:t.isLocked}),(0,Fs.jsx)(op.Z,{children:(0,Fs.jsx)(Ys.Z,{nodeRef:s,timeout:150,onEntered:D,onExited:T,classNames:f?"switch-amount-hints":"switch-amount-suggestions",children:(0,Fs.jsxs)("div",{ref:s,children:[f&&(0,Fs.jsx)(Ap,{donation:e.donation,tribute:e.tribute,errors:e.errors,guessedCurrenciesList:e.guessedCurrenciesList,allCurrenciesList:e.allCurrenciesList,showError:e.showError,flowType:e.flowType,showFrequencyCustomAmountInput:e.showFrequencyCustomAmountInput,shake:p,disabled:t.isLocked,animationEnded:d}),v&&(0,Fs.jsx)(wp,{donation:e.donation,tribute:e.tribute,errors:e.errors,guessedCurrenciesList:e.guessedCurrenciesList,allCurrenciesList:e.allCurrenciesList,showError:e.showError,flowType:e.flowType,shake:p,disabled:t.isLocked,animationEnded:d})]})},f?"amount-hints":"amount-suggestions")}),t.shouldShowDesignation()&&y&&(0,Fs.jsx)(Id,{labelFloating:!0,className:(0,Hs.Z)({"mt-6":i,"mt-4-5":!i&&!c,"mt-3":!i&&c}),goal:x,goals:P,shake:g,hasError:e.errors.designation.required,changeGoal:k,goalKey:e.designation.goalKey,isEditable:e.designation.isEditable,isDesignationNew:y,disabled:t.isLocked}),e.tribute.show&&(0,Fs.jsx)(Wd,{labelFloating:!0,isFloatingLabelTestGroup:c,className:(0,Hs.Z)({"mt-6":i||!y&&!c,"mt-5":!i&&!y&&c,"mt-4-5":!i&&y&&!c,"mt-3":!i&&y&&c}),inHonorOfMaxLength:e.tribute.inHonorOfMaxLength,isActive:e.tribute.isActive,sharingEnabled:e.tribute.sharingEnabled,labelType:e.tribute.labelType,name:e.tribute.name,disabled:t.isLocked,onToggleTribute:b,onChangeTributeName:E,onInputFocusChange:N}),t.shouldShowDesignation()&&!y&&(0,Fs.jsx)(Id,{className:(0,Hs.Z)({"mt-auto":!i&&e.tribute.show,"mt-5":!i&&!e.tribute.show,"mt-6":i}),goal:x,goals:P,shake:g,hasError:e.errors.designation.required,changeGoal:k,goalKey:e.designation.goalKey,isEditable:e.designation.isEditable,disabled:t.isLocked}),e.comment.isEnabled&&(0,Fs.jsx)(vd,{className:(0,Hs.Z)({"mt-5":!t.shouldShowDesignation()&&!e.tribute.show||i&&!(t.shouldShowDesignation()&&!y),"mt-3":t.shouldShowDesignation()&&!y,"mt-auto":!i&&(t.shouldShowDesignation()&&y||e.tribute.show&&!t.shouldShowDesignation())}),prevContent:e.comment.prevContent,content:e.comment.content,onAddComment:A,onHighlight:w,disabled:t.isLocked})]})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsx)(nl,{type:"submit",className:"btn btn-primary",disabled:t.isLocked,processingState:e.processingState,trackingElement:"nextButton",dataQa:"donate-button",children:e.donateButtonLabel})}),(0,Fs.jsx)(tg,{show:e.upsellCurtainShown,variant:t.upsellCurtainExperiment.variantName,currentAmount:e.preDonationUpsell.upsell.fromAmount,currentCurrency:e.preDonationUpsell.currency,amountUpsellHigh:e.preDonationUpsell.highMonthlyAmount,amountUpsellLow:e.preDonationUpsell.lowMonthlyAmount,upsellHighText:e.preDonationUpsell.highButtonText,upsellLowText:e.preDonationUpsell.lowButtonText,questionText:e.preDonationUpsell.questionText,questionShortText:e.preDonationUpsell.questionShortText,descriptionText:e.preDonationUpsell.descriptionText,testMode:!C&&!S,onUpsellHighClick:()=>t.confirmUpsell("high"),onUpsellLowClick:()=>t.confirmUpsell("low"),onKeepOneTimeClick:()=>t.confirmUpsell(null),onClose:O})]})},cg=(0,m.memo)(og),lg=e=>{const{controller:t}=No($n.DOUBLE),n=(0,no.Y)();return(0,Fs.jsx)("div",{className:(0,Hs.Z)("d-flex justify-center",e.className),children:(0,Fs.jsx)("button",{type:"button",className:"btn-link text-truncate",disabled:e.locked,onClick:()=>t.skip(),"data-qa":"skip-to-the-next-step","data-tracking-element-name":"skipButton",children:n.translate("doubleDonationScreen.button.skip")})})},ug=(0,m.memo)(lg),dg=e=>{const t=(0,no.Y)(),[n,i]=(0,m.useState)(!1),a=(0,m.useCallback)((()=>{i(!0),e.onLeave()}),[e]),r=(0,m.useCallback)((()=>{e.onAcceptUpsell()}),[e]);return(0,Fs.jsx)("div",{className:(0,Hs.Z)(e.className),children:e.isAlreadyPaidAmountNotMatched?(0,Fs.jsx)(nl,{className:"btn-primary",processingState:e.processingState,onClick:a,dataQa:"double-continue",trackingElement:"nextButton",tooltipMessage:e.additionalPayErrorMessage,tooltipTitle:e.payErrorMessage,children:t.translate("doubleDonationScreen.button.continue")}):(0,Fs.jsxs)(Fs.Fragment,{children:["continue"===e.buttonType&&(0,Fs.jsx)(nl,{className:"btn-primary",processingState:e.processingState,onClick:a,dataQa:"double-continue",trackingElement:"nextButton",tooltipMessage:e.additionalPayErrorMessage,tooltipTitle:e.payErrorMessage,children:t.translate("doubleDonationScreen.button.continue")}),"amount_matched"===e.buttonType&&(0,Fs.jsx)(nl,{className:"btn-primary",processingState:e.processingState,onClick:a,dataQa:"double-continue",trackingElement:e.isPaymentScreen?"payButton":"nextButton",tooltipMessage:e.additionalPayErrorMessage,tooltipTitle:e.payErrorMessage,children:Lc(t,e.formattedTotal,e.frequency)}),"upsell_pay_now"===e.buttonType&&(0,Fs.jsxs)("div",{className:"d-block",children:[(0,Fs.jsx)(nl,{className:"btn-primary",processingState:n?"idle":e.processingState,disabled:e.locked,onClick:r,dataQa:"double-continue",trackingElement:e.isPaymentScreen?"payButton":"nextButton",tooltipMessage:e.additionalPayErrorMessage,tooltipTitle:e.payErrorMessage,children:Lc(t,e.formattedUpsellTotal,e.frequency)}),(0,Fs.jsx)("div",{className:"d-flex justify-center mt-3",children:(0,Fs.jsx)(nl,{buttonType:"link",processingState:n?e.processingState:"idle",disabled:e.locked,onClick:a,dataQa:"dtd-decline-upsell-button",trackingElement:e.isPaymentScreen?"payButton":"nextButton",tooltipMessage:e.additionalPayErrorMessage,tooltipTitle:e.payErrorMessage,children:e.declineButtonLabel})})]}),"upsell_pay_later"===e.buttonType&&(0,Fs.jsxs)("div",{className:"d-block",children:[(0,Fs.jsx)(nl,{className:"btn-primary",processingState:e.processingState,onClick:r,dataQa:"double-continue",trackingElement:"nextButton",tooltipMessage:e.additionalPayErrorMessage,tooltipTitle:e.payErrorMessage,children:e.changeAmountButtonLabel}),(0,Fs.jsx)("div",{className:"d-flex justify-center mt-5",children:(0,Fs.jsx)("button",{type:"button",className:"btn-link text-truncate",disabled:e.locked,onClick:a,"data-qa":"skip-to-the-next-step","data-tracking-element-name":"skipButton",children:e.noChangeAmountButtonLabel})})]}),e.showSkipButton&&(0,Fs.jsx)(ug,{locked:e.locked,className:"mt-5"})]})})},hg=(0,m.memo)(dg),mg=e=>{const{controller:t}=No($n.DOUBLE),n=(0,no.Y)(),i=(0,eo.g)(),{isVariant2TestGroup:a}=(0,mc.X)(),r=(0,m.useMemo)((()=>{var t;return e.isIntegrationEnabled?De()(t=e.companies).call(t,(e=>({id:e.id.toString(),value:e.company_name}))):[]}),[e.companies,e.isIntegrationEnabled]),s=(0,m.useCallback)((n=>{i||e.isIntegrationEnabled&&t.getDTDCompanies(n)}),[t,i,e.isIntegrationEnabled]),o=(0,m.useCallback)((e=>{t.changeEmployerName(e)}),[t]),c=(0,m.useCallback)((()=>{t.changeEmployerName(""),t.resetEmployerDTD()}),[t]),l=(0,m.useCallback)((e=>t.setEmployerDTD(Number(e))),[t]),u=(0,m.useRef)(null);return(0,ec.w)({ref:u,autoFocus:e.autoFocus,mode:Jo.E.DESKTOP}),(0,Fs.jsx)(Ih,{ref:u,className:(0,Hs.Z)("search-select-double",{"search-select-double-active":!a&&(e.showEmployerMatchedBlock||e.showDTDUpsell)}),labelFloating:!0,labelOptional:!0,label:n.translate("doubleDonationScreen.matchInput.label"),options:r,value:e.employer.name,onSearch:s,onSelect:l,onChange:o,placeholder:n.translate("doubleDonationScreen.matchInput.placeholder"),onClear:c,disabled:e.locked,hint:(0,Fs.jsx)(Ll,{token:"doubleDonationScreen.tooltipLabel",params:{link:"https://doublethedonation.com/privacy-policy/"}}),allowClear:!0,qa:"company-field",trackingElement:"selectEmployer"})},pg=(0,m.memo)(mg),gg=e=>{const t=(0,no.Y)(),n=(0,m.useRef)(null),i=(0,Zs.S)(),{isVariant2TestGroup:a}=(0,mc.X)(),r=(0,to.r)(n);return(0,Fs.jsx)(Ys.Z,{classNames:i?"animation-double-opacity-mobile":"animation-double-opacity",nodeRef:n,in:e.showDTDDescription,addEndListener:r,mountOnEnter:!0,unmountOnExit:!0,children:(0,Fs.jsxs)("div",{ref:n,children:[(0,Fs.jsx)(Ll,{className:(0,Hs.Z)({"text-center":!a},i?"text-ellipsis":"text-line-clamp-4"),as:"p",token:"doubleDonationScreen.description.desktop",role:"status"}),(0,Fs.jsx)("p",{className:(0,Hs.Z)("font-weight-500 mt-1-5",{"text-center":!a},i?"text-ellipsis":"text-line-clamp-4"),role:"status",children:t.translate("doubleDonationScreen.callToAction")}),(0,Fs.jsx)(Rc,{size:a?12:16})]})})},yg=(0,m.memo)(gg);var fg,vg,Sg;function Cg(){return Cg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cg.apply(this,arguments)}var bg,Eg=function(e,t){return m.createElement("svg",Cg({fill:"none",height:100,viewBox:"0 0 100 100",width:100,xmlns:"http://www.w3.org/2000/svg",ref:t},e),fg||(fg=m.createElement("circle",{cx:50,cy:50,fill:"#c4c4c4",r:50})),vg||(vg=m.createElement("circle",{cx:50,cy:50,fill:"#fff",r:49.5,stroke:"#c7cdd6"})),Sg||(Sg=m.createElement("path",{clipRule:"evenodd",d:"m23 92.0905v-19.1493c0-2.1476 1.7185-3.9412 3.8729-3.9412h2.1271v-13.127c0-2.1175 1.7054-3.873 3.8279-3.873h1.1721v-10.984c0-2.2061 1.7927-4.016 4-4.016h1.2055l1.4179-6.1095.002-.0079c.4286-1.7193 1.9819-2.8826 3.7361-2.8826h4.1385v-11c0-.8284.6716-1.5 1.5-1.5s1.5.6716 1.5 1.5v11h4.2669c1.7542 0 3.3075 1.1633 3.7362 2.8826l.0041.0165 1.3019 6.1009h1.1909c2.2073 0 4 1.8099 4 4.016v10.984h2.1721c2.1225 0 3.8279 1.7555 3.8279 3.873v13.127h2.1271c2.1544 0 3.8729 1.7936 3.8729 3.9412v18.4895c-.6557.444-1.3226.8729-2 1.2861v-19.7756c0-1.0877-.8671-1.9412-1.8729-1.9412h-16.2542c-1.0058 0-1.8729.8535-1.8729 1.9412v26.7025c-.6628.0793-1.3295.1456-2 .1986v-43.9693c0-2.1175 1.7054-3.873 3.8279-3.873h6.1721v-10.984c0-1.1115-.9073-2.016-2-2.016h-24c-1.0927 0-2 .9045-2 2.016v10.984h7.1721c2.1225 0 3.8279 1.7555 3.8279 3.873v44.0385c-.6703-.0397-1.3371-.0926-2-.1584v-26.8119c0-1.0877-.8671-1.9412-1.8729-1.9412h-16.2542c-1.0058 0-1.8729.8535-1.8729 1.9412v20.3697c-.6769-.3916-1.3437-.7985-2-1.2204zm19.5677-60.7311-1.309 5.6406h17.5054l-1.2053-5.6483c-.2039-.7888-.9281-1.3517-1.7919-1.3517h-11.4054c-.8666 0-1.5927.5665-1.7938 1.3594zm.5594 37.6406h-12.1271v-13.127c0-1.0428.8397-1.873 1.8279-1.873h10.3442c.9882 0 1.8279.8302 1.8279 1.873v13.6198c-.5536-.3134-1.1914-.4928-1.8729-.4928zm26.8729 0v-13.127c0-1.0428-.8397-1.873-1.8279-1.873h-10.3442c-.9882 0-1.8279.8302-1.8279 1.873v13.6198c.5536-.3134 1.1914-.4928 1.8729-.4928zm-26-36v2h2v-2zm5 0v2h2v-2zm5 2v-2h2v2zm-20 26v-3h2v3zm0 5v-3h2v3zm6-5v-3h2v3zm0 2v3h2v-3zm19-5v3h2v-3zm0 5v3h2v-3zm6-5v3h2v-3zm0 8v-3h2v3zm-34 10v14.5268h-2v-14.5268zm5 19.3691v-19.3691h-2v19.3691zm31 0v-19.3691h-2v19.3691zm5-4.8423v-14.5268h-2v14.5268zm-32-47.5268v6.0193h2v-6.0193zm6 6.0193v-6.0193h2v6.0193zm6-6.0193v6.0193h2v-6.0193zm6 6.0193v-6.0193h2v6.0193z",fill:"#619fff",fillRule:"evenodd"})))},Ag=(0,m.forwardRef)(Eg),Ng=(0,m.memo)(Ag);function Pg(){return Pg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pg.apply(this,arguments)}var xg,kg,wg=function(e,t){return m.createElement("svg",Pg({fill:"none",height:26,viewBox:"0 0 26 26",width:26,xmlns:"http://www.w3.org/2000/svg",ref:t},e),bg||(bg=m.createElement("g",{stroke:"#428dff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4},m.createElement("path",{d:"m13 2v22"}),m.createElement("path",{d:"m2 13h22"}))))},Dg=(0,m.forwardRef)(wg),Tg=(0,m.memo)(Dg);function Og(){return Og=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Og.apply(this,arguments)}var _g=function(e,t){return m.createElement("svg",Og({fill:"none",height:100,viewBox:"0 0 100 100",width:100,xmlns:"http://www.w3.org/2000/svg",ref:t},e),xg||(xg=m.createElement("circle",{cx:50,cy:50,fill:"#fff",r:49.5,stroke:"#c7cdd6"})),kg||(kg=m.createElement("g",{fill:"#619fff"},m.createElement("path",{d:"m57.2608 62.7612c-2.0159 1.5341-4.5318 2.4449-7.2605 2.4449s-5.2446-.9108-7.2604-2.4449c-.4176-.3178-.8138-.6623-1.1859-1.0311-.146-.1447-.2884-.2931-.4268-.4451-.7192-.7894.3304-1.6178 1.2605-1.1484.0241.0122.0481.0252.072.0391.4596.2678.9347.5119 1.4236.7305 1.8681.8354 3.9383 1.2999 6.117 1.2999s4.2489-.4645 6.117-1.2999c.489-.2186.9641-.4627 1.4236-.7305.0239-.0139.048-.0269.0721-.0391.93-.4694 1.9796.359 1.2605 1.1484-.1385.152-.2808.3004-.4269.4451-.3721.3688-.7682.7133-1.1858 1.0311z"}),m.createElement("path",{d:"m39 50c0-1.6569 1.1123-3 2.4845-3h.031c1.3722 0 2.4845 1.3431 2.4845 3s-1.1123 3-2.4845 3h-.031c-1.3722 0-2.4845-1.3431-2.4845-3z"}),m.createElement("path",{d:"m58.4845 47c-1.3722 0-2.4845 1.3431-2.4845 3s1.1123 3 2.4845 3h.031c1.3722 0 2.4845-1.3431 2.4845-3s-1.1123-3-2.4845-3z"}),m.createElement("path",{clipRule:"evenodd",d:"m50 75c13.8071 0 25-11.1929 25-25s-11.1929-25-25-25-25 11.1929-25 25 11.1929 25 25 25zm23-25c0 12.7026-10.2974 23-23 23-12.7025 0-23-10.2974-23-23 0-12.7025 10.2975-23 23-23 12.7026 0 23 10.2975 23 23z",fillRule:"evenodd"}))))},Ig=(0,m.forwardRef)(_g),Rg=(0,m.memo)(Ig);const Lg=()=>{const{state:e}=No($n.DOUBLE),{isTestGroup:t,isVariant1TestGroup:n,isVariant2TestGroup:i}=(0,mc.X)();return(0,Fs.jsxs)("div",{className:(0,Hs.Z)("shrink-0",t?"double-img-experiment":"double-img",{"double-img-experiment-centered":n,"double-img-experiment-not-centered":i,"mx-auto":!i,enabled:!e.showDTDDescription}),"aria-hidden":"true",children:[(0,Fs.jsx)("div",{className:"double-img-user",children:(0,Fs.jsx)(Rg,{className:"d-block",width:t?80:100,height:t?80:100})}),(0,Fs.jsx)("div",{className:"double-img-plus",children:(0,Fs.jsx)(Tg,{className:"d-block",width:t?21:26,height:t?21:26})}),(0,Fs.jsx)("div",{className:"double-img-company",children:(0,Fs.jsx)(Ng,{className:"d-block",width:t?80:100,height:t?80:100})})]})},Mg=(0,m.memo)(Lg),jg={characterData:!0,childList:!0,subtree:!0};function Fg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jg;const n=(0,m.useRef)(null);return(0,m.useEffect)((()=>{if(!(null==n?void 0:n.current)||!e)return;const i=new MutationObserver((()=>{e(n.current)}));return i.observe(n.current,t),()=>i.disconnect()}),[e,t,n]),{mutableElementRef:n}}const Ug=e=>{const t=(0,no.Y)(),n=(0,Zs.S)(),{isVariant2TestGroup:i}=(0,mc.X)(),[a,r]=(0,m.useState)(!1),s=(0,m.useCallback)((e=>{const t=(i?52:44)+(i?26:0),n=e.parentElement,a=e.firstChild;n&&a&&n.offsetHeight<=a.offsetHeight+t&&r(!0)}),[i]),{mutableElementRef:o}=Fg(s);return(0,Fs.jsxs)("div",{ref:o,className:(0,Hs.Z)("p-rel",{"grow-1":!n&&a,"mt-4":i}),children:[e.showDTDUpsell&&!e.isAlreadyPaidAmountNotMatched&&(0,Fs.jsxs)("div",{className:(0,Hs.Z)(i?"bg-gray-10 p-5 border-radius-8":"px-3 py-2-5 border border-gray-20 border-top-0 border-bottom-radius-8",{"p-abs top-left top-right":!n&&!a,"p-abs top-left bottom-right":!n&&a,"text-scrollable border-top-radius-0":!n&&a&&!i,"custom-scrollbar":!n&&a&&i}),role:"status","data-qa":"dtd-upsell-message","data-testid":"dtd-upsell-message",children:[(0,Fs.jsx)("p",{className:"subtitle-4 text-ellipsis",children:t.translate("doubleDonationScreen.nameMatch",{name:e.employer.name,amount:t.formatCurrency(e.minimumMatchedAmount,{currency:e.currency,display:"floatcents"})})}),(0,Fs.jsx)("p",{className:"body-3 text-ellipsis mt-1",children:t.translate("doubleDonationScreen.message",{withCosts:e.isFeeCovered?t.translate("doubleDonationScreen.withCosts"):"",amount:t.formatCurrency(e.upsellTotal,{currency:e.currency,display:"floatcents"}),doubleAmount:t.formatCurrency(e.DTDUpsellDoubledAmount,{currency:e.currency,display:"floatcents"})})})]}),e.showEmployerMatchedBlock&&!e.isAlreadyPaidAmountNotMatched&&(0,Fs.jsxs)("div",{className:(0,Hs.Z)(i?"bg-gray-10 p-5 border-radius-8":"px-3 py-2-5 border border-gray-20 border-top-0 border-bottom-radius-8",{"p-abs top-left top-right":!n&&!a,"p-abs top-left bottom-right":!n&&a,"text-scrollable border-top-radius-0":!n&&a&&!i,"custom-scrollbar":!n&&a&&i}),role:"status","data-qa":"dtd-employer-matched-message","data-testid":"dtd-employer-matched-message",children:[(0,Fs.jsx)("p",{className:"subtitle-4 text-ellipsis",children:t.translate("doubleDonationScreen.matchedCompanyBlock.name",{name:e.employer.name})}),(0,Fs.jsx)("p",{className:"body-3 text-ellipsis mt-1",children:t.translate("doubleDonationScreen.matchedCompanyBlock.message",{doubleAmount:t.formatCurrency(e.DTDDoubledAmount,{currency:e.currency,display:"floatcents"})})})]}),e.isAlreadyPaidAmountNotMatched&&(0,Fs.jsxs)("div",{className:(0,Hs.Z)(i?"bg-gray-10 p-5 border-radius-8":"px-3 py-2-5 border border-gray-20 border-top-0 border-bottom-radius-8",{"p-abs top-left top-right":!n&&!a,"p-abs top-left bottom-right":!n&&a,"text-scrollable border-top-radius-0":!n&&a&&!i,"custom-scrollbar":!n&&a&&i}),role:"status","data-qa":"dtd-is-already-paid-amount-not-matched-message",children:[(0,Fs.jsx)("p",{className:"subtitle-4 text-ellipsis",children:t.translate("doubleDonationScreen.smallDonationAmountExperiment.name",{name:e.employer.name})}),(0,Fs.jsx)("p",{className:"body-3 text-ellipsis mt-1",children:t.translate("doubleDonationScreen.smallDonationAmountExperiment.message")})]})]})},Bg=e=>{const{showBadge:t}=e,{state:n,controller:i}=No($n.DOUBLE),a=(0,no.Y)(),r=(0,Zs.S)(),{isTestGroup:s,isVariant1TestGroup:o,isVariant2TestGroup:c}=(0,mc.X)(),l=(0,m.useCallback)((()=>i.leave()),[i]),u=(0,m.useCallback)((()=>i.acceptUpsell()),[i]);return(0,Fs.jsxs)("div",{className:"flow-screen","data-qa":"active-screen-dtd",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenAriaLabel",{screenTitle:`${a.translate("doubleDonationScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:a.translate("doubleDonationScreen.title"),showBadge:t}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body d-flex flex-column",{"pt-5":!r&&!s,"pt-6":!r&&o,"pb-4":!r,"z-index-4":n.showDTDDescription,"overflow-hidden":!n.showDTDDescription}),children:(0,Fs.jsxs)("div",{className:"fixed-container grow-1 min-h-0 d-flex flex-column",children:[(0,Fs.jsx)(Mg,{}),c&&(0,Fs.jsx)(Rc,{size:32,minSize:12}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("grow-1 d-flex flex-column",{"shrink-0":c,"mt-3":!r&&!s,"mt-4":!r&&o,"mt-6":r&&!c}),children:[(0,Fs.jsx)(yg,{showDTDDescription:n.showDTDDescription}),(0,Fs.jsx)(pg,{isIntegrationEnabled:n.isIntegrationEnabled,companies:n.companies,showEmployerMatchedBlock:n.showEmployerMatchedBlock,showDTDUpsell:n.showDTDUpsell,employer:n.employer,locked:n.locked,autoFocus:!0}),(0,Fs.jsx)(Ug,{showDTDUpsell:n.showDTDUpsell,employer:n.employer,minimumMatchedAmount:n.minimumMatchedAmount,currency:n.currency,isFeeCovered:n.isFeeCovered,upsellTotal:n.upsellTotal,DTDUpsellDoubledAmount:n.DTDUpsellDoubledAmount,DTDDoubledAmount:n.DTDDoubledAmount,showEmployerMatchedBlock:n.showEmployerMatchedBlock,isAlreadyPaidAmountNotMatched:n.isAlreadyPaidAmountNotMatched})]})]})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsx)(hg,{buttonType:n.buttonType,processingState:n.processingState,formattedTotal:n.formattedTotal,frequency:n.frequency,locked:n.locked,formattedUpsellTotal:n.formattedUpsellTotal,declineButtonLabel:n.declineButtonLabel,changeAmountButtonLabel:n.changeAmountButtonLabel,noChangeAmountButtonLabel:n.noChangeAmountButtonLabel,showSkipButton:n.showSkipButton,isAlreadyPaidAmountNotMatched:n.isAlreadyPaidAmountNotMatched,onLeave:l,onAcceptUpsell:u,isPaymentScreen:n.isPaymentScreen,additionalPayErrorMessage:n.additionalPayErrorMessage,payErrorMessage:n.payErrorMessage})})]})},Gg=(0,m.memo)(Bg);var qg;function Vg(e,t,n){switch(n){case Oe.DAILY:return e.translate("giftAidScreen.payButtonLabel.daily",{amount:t});case Oe.EVERY_4_WEEKS:return e.translate("giftAidScreen.payButtonLabel.every4weeks",{amount:t});case Oe.MONTHLY:return e.translate("giftAidScreen.payButtonLabel.monthly",{amount:t});case Oe.ANNUAL:return e.translate("giftAidScreen.payButtonLabel.annual",{amount:t});case Oe.BIMONTHLY:return e.translate("giftAidScreen.payButtonLabel.bimonthly",{amount:t});case Oe.BIWEEKLY:return e.translate("giftAidScreen.payButtonLabel.biweekly",{amount:t});case Oe.ONCE:return e.translate("giftAidScreen.payButtonLabel.once",{amount:t});case Oe.WEEKLY:return e.translate("giftAidScreen.payButtonLabel.weekly",{amount:t});case Oe.QUARTERLY:return e.translate("giftAidScreen.payButtonLabel.quarterly",{amount:t});case Oe.SEMIANNUAL:return e.translate("giftAidScreen.payButtonLabel.semiannual",{amount:t});default:throw new Error(`Unknown frequency "${n}"`)}}function Kg(){return Kg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Kg.apply(this,arguments)}var Hg=function(e,t){return m.createElement("svg",Kg({fill:"none",height:36,viewBox:"0 0 102 36",width:102,xmlns:"http://www.w3.org/2000/svg",ref:t},e),qg||(qg=m.createElement("path",{d:"m51.768 17.256c2.83-4.4504 1.4109-5.1346 1.2663-5.0523-2.7532 1.5572-4.8499 6.2447-4.6739 7.806.243 2.1494 1.9046-.3916 3.4076-2.7537zm10.7215-4.0841c-.5126.9186-.8436 1.928-.9748 2.9726-.0724.522-.1568 2.7897-.1381 3.0979.0289.5006.0924.9985.1902 1.4902.0673.2455.4869 1.128-.8596 1.3145-.7923.1094-.7768-1.881-.7923-2.2068-.0304-.6942.0842-3.1333.1576-3.4953.0774-.3703-.077.0221-.2228.2645-.3357.564-.7264 1.3271-1.1943 2.0785-.6145.988-1.9851 3.3414-3.8543 3.2013-.6993-.0531-1.4106-.1435-1.8169-2.0999-.1558-.7499-.0954-1.7357-.0794-2.3275-.0195-.1219-.0029-.2617-.1045-.2047-.662 1.5506-2.8121 6.1205-5.2416 5.0932-1.1252-.4744-1.6796-1.9326-.4375-4.7802 1.2101-2.7754 4.2625-6.2172 5.4784-6.4483 1.0837-.2066 1.1964.3414 1.1964.3414.0988-.2022.7744-.1785.9222.1116.1974.388.3292.4552.1974 1.4787-.0746.5903-.6208 4.2824-.5265 5.551.0434.5945.145 2.0594.7469 2.1299 1.0514.1264 2.3256-2.1189 2.4703-2.3535.2832-.4587 2.5518-4.2769 2.8311-4.8344.3005-.6011.4905-1.04.6844-1.4226s.7783-.4251 1.2878-.0762c.5094.3489.2543.8285.0799 1.1244zm-48.0051 1.8703c-1.3339.1442-3.7659 3.3812-4.267 4.5307-.51231 1.1738-.69726 2.3054-.0893 2.7775 1.2581.9807 2.5596-.6817 2.9421-1.0681.2367-.2379 1.8919-2.0504 2.3081-3.8913.2752-1.2155.4026-2.4881-.8939-2.3488zm.6951 14.367c-.092.1652-.1866.3288-.2838.491-.9827 1.6379-2.2719 3.0993-3.8704 4.1527-2.1651 1.4262-4.1985 1.9741-6.47046 1.9467-1.32108-.0153-2.59509-.23-3.681415-.9237-.89044-.5686-1.017386-1.4576-.747703-2.0445.374914-.8176 1.545208-.738 2.043118-.2688 1.24319 1.1703 1.98527 1.6241 3.58363 1.5464 1.31769-.0756 2.60043-.4542 3.74914-1.1067 6.61179-3.8762 6.55139-10.8443 6.81979-15.043.0284-.2553-.1098-.0696-.1565.0694-.3191.8933-.7141 1.7575-1.1806 2.5828-.6777 1.2294-1.6366 2.2796-2.7977 3.0641-.8373.5552-2.1971.8239-3.15466.1973-.34712-.2287-2.37703-1.4216-.65659-4.9754 1.08192-2.2361 3.35855-3.7871 3.87215-4.116 1.2558-.8052 2.1532-1.1881 3.0942-1.1155.4792.035.5483.2244.9046.2149.2028-.239.3147-.4146.6484-.5072.4479-.0718.9798.3049 1.1844 1.0188.2045.7139-.3282 1.8607-.4627 2.4122.0011-.0003.4742 7.1534-2.4369 12.4045zm7.5328-16.1178c-.8104.0153-.7441.6025-.914 1.1162-.1644.5122-1.561 5.1182-1.7384 5.944-.1773.8258-.2989 1.5674-.0425 2.7007.2609 1.1585 1.5837.8199 1.724.6166.6462-.9086.0738-1.1763.053-1.8109-.0166-.6632.1643-1.359.3008-2.257.0486-.3201.146-1.7758.1939-1.9734.0539-.2134.5102-1.8343 1.1675-2.8201.2814-.4226.5291-1.5382-.7443-1.5161zm2.2057-5.38681c-.1108-.22866-.7137-.94895-1.5005-.38979-1.1705.83202.1791 1.98174.3958 2.5458.2167.564 1.3867 1.0366 1.2159-.07625-.0249-.16006.2108-1.41755-.1112-2.07976zm12.9236 5.42541c-.381.0852-1.1413.2392-1.6197.3201-.7243.122-1.1189.5793-1.0916 1.0415.0273.4656.186.6849.8323.5617.5843-.1109 1.083-.6097 1.5944-.6119 0 0-1.056 4.4695-1.1251 5.0684-.069.599-.3814 2.2376.2602 3.1673 1.4273 2.0695 4.2821-.3026 4.5489-.561.196-.191 1.9995-1.7787 2.6109-3.052.3097-.6462-.2176-.7889-.5746-.9208-.357-.1318-1.1112.0961-1.2166.5686-.2296 1.0266-2.7272 3.7958-3.9633 3.2406-1.4568-.6555 1.1712-7.9999 1.1712-7.9999.3134-.1412 1.9007-.5519 3.4034-.9398 1.7337-.4459 7.0324-1.4963 5.8365-3.0855-.5853-.77741-2.098.4065-2.6106.6543-1.8366.8842-6.3321 2.1822-6.3321 2.1822s.5837-2.6403.7726-3.1604c.217-.59528 1.0174-.98477 1.1339-2.04454.1374-1.23265-1.3416-1.79394-2.0476-.44437-.146.27699-.3472 1.04148-.367 1.06054-.1896.18293-1.8222.83736-3.4274 1.60566-.5059.24211-3.3795 1.29101-3.3848 1.28421.0039-.022.8725-2.78682 1.879-5.09342.6696-1.53371 1.613-3.66866 3.2844-4.10205 1.5653-.40504.8273 1.23173 1.5316 1.65719.8933.53934 1.4413-.14085 1.5781-.79132.1073-.50946.0789-3.18283-2.6284-2.9156001-2.5762.2550351-4.629 4.2029701-7.1673 11.5801001-.0273.0295-2.0434 1.3369-3.7148 1.6729-.8265.1658-1.1922.2376-1.3015.5335-.0902.2374-.1095.496-.0556.7442.0539.2483.1788.4753.3593.6534.4763.5707 4.198-1.9023 4.194-1.8852-.0759.1007-3.1294 11.7808-3.1539 11.9171-.1759.9727-1.1604 3.5375-1.1071 4.7017.0295.599.2633 1.8456 1.1223 1.79 1.7988.1185 1.4519-2.4185 1.331-2.8837-.2519-.9624 1.0403-7.3241 2.2-12.0124.2364-.9563.7222-2.5254.8067-2.8986.0487-.2687.1595-.5223.3235-.7403.1641-.218.3768-.3943.621-.5147 0 0 6.4662-3.05997 6.5263-3.04229.0005.00671-1.0325 3.69459-1.0325 3.69459zm44.3013 5.8385c1.252 1.1886 2.4972.4351 3.1381-.0832 1.9657-1.5869 6.0185-8.8192 6.0185-8.8192.0231.242-1.6887 8.5367.5998 9.4564 1.4675.5884 4.8829-2.337 5.274-2.6078 2.2551-1.5627.8733-2.1342.4383-2.1342-1.1629-.0037-.9535.8416-1.2716 1.2212-.5246.6271-2.6332 2.8049-3.6656 2.2267-.556-.3128-.4188-2.1555-.3634-2.5802.3249-4.3903.4117-5.183.6665-6.19282.1427-.56129.8239-.5465 1.241-.62333 5.6306-1.04438 6.6405-.62318 7.3425-.96679.557-.27515.657-1.45962-.133-1.71435-.362-.11418-.82.16219-1.6491.47256-.8247.30595-4.9793 1.22823-5.5903 1.31923-.5628.08171-.6833.00214-.82-.17485-.1345-.17515.1245-2.23525.9316-3.9429.3512-.73904.3605-1.87-.7863-1.9575-.4716-.034-.8722.10076-1.0514.50427-.1784.40093-.522 4.05953-.6023 4.30313-.0813.24055-.5163.42836-.6124.84589-.0962.41754-.0292.67807-.3091.77197-.2829.0965-1.0576.17119-1.3763.24817-.3354.08202-.5344.72609-.5467 1.0985-.0123.37242.5862.15107.8748.10884.3295-.04817 1.1352-.45229.5619.24058-.2173.2648-4.1258 6.3984-5.6521 7.6614-1.7563 1.4514-1.6307-1.4025-1.5869-1.8886.2655-2.9104 1.5337-4.8629 1.7159-5.3263.1792-.4657.2547-1.84563-1.2425-1.54075-.1745.04422-.3349.13231-.4661.25598s-.2288.27885-.2838.45089c-.0025.00999-.0039.0202-.0044.03049-.1505 1.36019-2.7506 7.47449-.7896 9.33709zm2.2821-14.24048c.4614.90306 1.2496.58369 1.3838.35061.1347-.23125.2422-.27927.6244-.43385.7017-.28141-.5099-1.54576-1.6624-1.18904-.0741.03234-.1379.08452-.1844.15082s-.074.14418-.0794.2251c.0313.26464-.239.59437-.082.89681zm-14.1346 7.09688s.7563-.6542 1.0766-.6373c.1486.0073-.1106.4206.4091.6759.276.1372-.3019 1.9828-1.4444 3.7543-2.6238 4.0675-3.8678 3.8839-3.9757 2.6486-.2219-2.5774 3.1735-5.9166 3.9344-6.4415zm1.332 3.3348s-.0097.8764.0583 1.6257c.0607.6726.2897 2.0799.5257 2.5351.3657.7012 1.141.7012 1.7381.3576.7815-.4508.4119-1.2939.1143-1.5745-.2598-.2472-.8912-.5641-1.0824-1.6228-.1125-.6267-.0205-3.4508.1645-4.4388.1915-.9067.4776-1.7907.8535-2.63723.3113-.61662 2.1866-4.14733 2.2141-5.33256.0114-.51723-.5193-.94605-1.3865-.85642-.8672.08964-1.083.78676-1.0845 1.24378-.0021.45442-.9204 3.65448-.9679 3.80006-.0759.2186-.2264 1.52884-.6744 1.53173-.9977-.01753-1.9712.30954-2.7574.92654-.4321.3287-1.8994 1.4746-2.7465 2.6702-.3843.5411-2.1316 2.7961-1.9341 5.4879.18 2.4476 1.8859 2.0145 2.3753 1.936 2.2262-.359 3.7915-4.035 4.0182-4.4858.401-.8001.2654-.5849.5715-1.1665zm-8.7702-8.94233c-.1631.20122-.1224.8398.2328 1.16999.2674.24894.3048.29482.3134.49604.0152.37105.2512.39163.6146.38644.4444-.0064.8078-.31601.8527-.94605.045-.63004-.563-1.16892-1.0524-1.29027-.4894-.12134-.7495-.07942-.9611.18385z",fill:"#000"})))},Yg=(0,m.forwardRef)(Hg),Zg=(0,m.memo)(Yg);const zg=()=>{const{state:e,controller:t}=No($n.GIFT_AID),n=(0,Zs.S)(),i=(0,m.useRef)(null);return(0,m.useEffect)((()=>{const e=i.current;e&&t.changeLegalTextOverflowed(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)}),[t,i]),(0,Fs.jsx)("div",{className:"p-rel grow-1","data-qa":"legal-text",children:(0,Fs.jsx)("div",{ref:i,className:(0,Hs.Z)({"border-top border-gray-20":!e.legalTextOverflowed||n,"p-abs top-left bottom-right":!n,"text-scrollable":e.legalTextOverflowed,"pointer-events-none":e.locked}),children:(0,Fs.jsx)("p",{className:(0,Hs.Z)("body-4 text-gray-80 text-ellipsis",e.legalTextOverflowed?"px-3 py-2-5":"pt-4-5"),dangerouslySetInnerHTML:{__html:e.legalText}})})})},Wg=(0,m.memo)(zg),$g={boxShadow:"inset 0 0 0 1px #c7cdd6"},Xg={boxShadow:"inset 0 -1px 0 0 #c7cdd6"},Qg=e=>{const t=(0,no.Y)(),{isVariant2TestGroup:n}=(0,mc.X)();return(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsx)("p",{className:(0,Hs.Z)("text-truncate",{"text-center":!n}),children:t.translate("idealConfirmationScreen.description")}),(0,Fs.jsxs)("div",{className:"bg-white border-radius-8 mt-5",style:$g,children:[(0,Fs.jsxs)("div",{className:"px-3 py-2",style:Xg,children:[(0,Fs.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:t.translate("idealConfirmationScreen.email")}),(0,Fs.jsx)("p",{className:"label-3 text-truncate",children:e.email})]}),(0,Fs.jsxs)("div",{className:"px-3 py-2",style:Xg,children:[(0,Fs.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:t.translate("idealConfirmationScreen.name")}),(0,Fs.jsx)("p",{className:"label-3 text-truncate",children:e.name})]}),(0,Fs.jsxs)("div",{className:"px-3 py-2",children:[(0,Fs.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:t.translate("idealConfirmationScreen.bank")}),(0,Fs.jsx)("p",{className:"label-3 text-truncate",children:e.ideal.bank})]})]})]})},Jg=(0,m.memo)(Qg);var ey,ty,ny,iy,ay,ry;function sy(){return sy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sy.apply(this,arguments)}var oy,cy=function(e,t){return m.createElement("svg",sy({fill:"none",height:28,viewBox:"0 0 28 28",width:28,xmlns:"http://www.w3.org/2000/svg",ref:t},e),ey||(ey=m.createElement("path",{d:"m0 2.99597v21.02063c0 1.0062.82326 1.8294 1.82947 1.8294h12.55933c9.4949 0 13.6112-5.3146 13.6112-12.3672 0-7.01599-4.1163-12.3123-13.6112-12.3123h-12.55933c-1.00621 0-1.82947.82326-1.82947 1.82947z",fill:"#fff"})),ty||(ty=m.createElement("path",{d:"m8.40625 6.32564v15.53216h6.75985c6.1379 0 8.7998-3.4668 8.7998-8.3698 0-4.69257-2.6619-8.33321-8.7998-8.33321h-5.58899c-.64946 0-1.17086.53054-1.17086 1.17085z",fill:"#c06"})),ny||(ny=m.createElement("path",{d:"m14.3891 24.1721h-10.92187c-.96962 0-1.75629-.7867-1.75629-1.7563v-17.8099c0-.96962.78667-1.75629 1.75629-1.75629h10.92187c10.364 0 11.9099 6.66841 11.9099 10.63839 0 6.8879-4.2352 10.6841-11.9099 10.6841zm-10.92187-20.73706c-.64946 0-1.17086.5214-1.17086 1.17086v17.8099c0 .6494.5214 1.1708 1.17086 1.1708h10.92187c7.2996 0 11.3244-3.5857 11.3244-10.0986 0-8.74489-7.0983-10.05296-11.3244-10.05296z",fill:"#000"})),iy||(iy=m.createElement("g",{fill:"#fff"},m.createElement("path",{d:"m10.7856 11.3934c.2378 0 .4574.0366.6678.1098s.3842.1921.5397.3384c.1463.1555.2652.3476.3567.5672.0823.2287.1281.4939.1281.8049 0 .2745-.0366.5214-.1006.7501-.0732.2287-.1738.43-.3111.5946-.1372.1647-.311.2927-.5214.3933-.2103.0915-.4573.1464-.7409.1464h-1.60078v-3.7138h1.58248zm-.0549 3.0278c.1189 0 .2287-.0183.3476-.0549.1098-.0366.2104-.1006.2927-.1921.0824-.0915.1555-.2012.2104-.3476.0549-.1463.0824-.311.0824-.5214 0-.1829-.0183-.3567-.0549-.5031-.0366-.1463-.1006-.2836-.183-.3842-.0823-.1006-.1921-.1921-.3293-.247-.1372-.0548-.3018-.0823-.5031-.0823h-.5854v2.3417h.7226z"}),m.createElement("path",{d:"m15.7795 11.3934v.6861h-1.9576v.7958h1.8021v.6312h-1.8021v.9055h2.0033v.6861h-2.8174v-3.7138h2.7717z"}),m.createElement("path",{d:"m18.5784 11.3936 1.3904 3.7138h-.8507l-.2836-.8233h-1.3904l-.2927.8233h-.8233l1.3996-3.7138zm.0457 2.2776-.4665-1.3629h-.0092l-.4848 1.3629z"}),m.createElement("path",{d:"m21.2965 11.3936v3.0277h1.8112v.6861h-2.6253v-3.7138z"}))),ay||(ay=m.createElement("path",{d:"m5.35118 14.9607c.94471 0 1.71055-.7659 1.71055-1.7106s-.76584-1.7105-1.71055-1.7105-1.71056.7658-1.71056 1.7105.76585 1.7106 1.71056 1.7106z",fill:"#000"})),ry||(ry=m.createElement("path",{d:"m6.64143 21.8579c-1.43613 0-2.5887-1.1617-2.5887-2.5887v-2.0215c0-.7135.57629-1.299 1.29893-1.299.71349 0 1.29892.5763 1.29892 1.299v4.6102z",fill:"#000"})))},ly=(0,m.forwardRef)(cy),uy=(0,m.memo)(ly);function dy(){return dy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dy.apply(this,arguments)}var hy=function(e,t){return m.createElement("svg",dy({fill:"none",height:24,viewBox:"0 0 24 24",width:24,stroke:"currentColor",strokeWidth:1.4,xmlns:"http://www.w3.org/2000/svg",ref:t},e),oy||(oy=m.createElement("g",null,m.createElement("g",{strokeLinecap:"round"},m.createElement("path",{d:"m12 11.5v6"}),m.createElement("path",{d:"m7 11.5v6"}),m.createElement("path",{d:"m17 11.5v6"})),m.createElement("path",{d:"m12 2-8 5.5h16z",strokeLinejoin:"round"}),m.createElement("path",{d:"m4 21h16",strokeLinecap:"round"}))))},my=(0,m.forwardRef)(hy),py=(0,m.memo)(my);const gy=e=>{const t=(0,no.Y)(),{isVariant2TestGroup:n}=(0,mc.X)();return(0,Fs.jsxs)("div",{className:(0,Hs.Z)("fixed-container",{"my-auto":!n}),children:[(0,Fs.jsxs)("div",{className:(0,Hs.Z)("d-flex items-center",{"justify-center":!n,"ms-minus-4":n}),"aria-hidden":"true",children:[(0,Fs.jsx)("div",{className:"ideal-img-logo",children:(0,Fs.jsx)(uy,{className:"icon d-block"})}),(0,Fs.jsx)("div",{className:"ideal-img-bank",children:(0,Fs.jsx)(py,{className:"icon-stroke d-block"})})]}),(0,Fs.jsx)("p",{className:(0,Hs.Z)("mt-8",{"text-center":!n}),children:t.translate("idealConfirmationScreen.returnLabel",{bank:e.ideal.bank})})]})},yy=(0,m.memo)(gy),fy=e=>(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("div",{className:"search-select-option-icon","aria-hidden":"true",children:(0,Fs.jsx)("img",{className:"border-radius-6",src:n(56451)(`./ideal-bank-${e.option.id}.svg`),width:20,height:20,alt:e.option.value})}),(0,Fs.jsx)("span",{children:e.option.value})]}),vy=e=>!e.option||null===e.option.icon&&!e.option.id?(0,Fs.jsx)("div",{}):(0,Fs.jsx)("div",{className:"search-select-input-icon","aria-hidden":"true",children:(0,Fs.jsx)("img",{className:"border-radius-6",src:n(56451)(`./ideal-bank-${e.option.id}.svg`),width:20,height:20,alt:e.option.value})}),Sy=(0,m.memo)(vy),Cy=e=>{const t=ho();return(0,Fs.jsxs)("svg",{className:(0,Hs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:e.height||128,viewBox:"0 0 158 128",width:e.width||158,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"33",width:"11",x:"98.4998",y:"59",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,Fs.jsxs)("filter",{id:`b-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"33",width:"11",x:"73.4998",y:"59",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,Fs.jsxs)("filter",{id:`c-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"6",width:"91",x:"33.4998",y:"103",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,Fs.jsxs)("filter",{id:`d-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"6",width:"79",x:"39.4998",y:"97",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,Fs.jsxs)("filter",{id:`e-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"30",width:"90",x:"34.4998",y:"19",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,Fs.jsxs)("filter",{id:`f-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"5",width:"15",x:"96.4998",y:"92",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,Fs.jsxs)("filter",{id:`g-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"5",width:"15",x:"96.4998",y:"54",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,Fs.jsxs)("filter",{id:`h-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"5",width:"15",x:"71.4998",y:"92",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,Fs.jsxs)("filter",{id:`i-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"5",width:"15",x:"71.4998",y:"54",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,Fs.jsxs)("filter",{id:`j-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"33",width:"11",x:"48.4998",y:"59",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,Fs.jsxs)("filter",{id:`k-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"5",width:"15",x:"46.4998",y:"92",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,Fs.jsxs)("filter",{id:`l-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"5",width:"15",x:"46.4998",y:"54",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,Fs.jsxs)("filter",{id:`m-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"5",width:"82",x:"38.4998",y:"49",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,Fs.jsxs)("filter",{id:`n-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"66.4238",width:"51.5996",x:"9.14014",y:"24.7031",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dx:".5",dy:".5"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:"1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.06125 0 0 0 0 0.525 0 0 0 0 0.132596 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_16856_24583"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_16856_24583",mode:"normal",result:"shape"})]}),(0,Fs.jsxs)("filter",{id:`o-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"34.9189",width:"28.3767",x:"20.7512",y:"39.0498",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dx:".5",dy:".5"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:"1"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.160784 0 0 0 0 0.619608 0 0 0 0 0.231373 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_16856_24583"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_16856_24583",mode:"normal",result:"shape"})]}),(0,Fs.jsxs)("linearGradient",{id:`p-${t}`,gradientUnits:"userSpaceOnUse",x1:"7.07017",x2:"54.682",y1:"32.2054",y2:"71.3086",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#beffd2"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#beffd2",stopOpacity:".15"})]}),(0,Fs.jsxs)("linearGradient",{id:`q-${t}`,gradientUnits:"userSpaceOnUse",x1:"18.1884",x2:"39.841",y1:"54.9202",y2:"81.3544",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#ebfff1"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#ebfff1",stopOpacity:"0"})]}),(0,Fs.jsx)("g",{filter:`url(#a-${t})`,children:(0,Fs.jsx)("path",{d:"m98.4998 59h11v33h-11z",fill:"#dde0eb"})}),(0,Fs.jsx)("g",{filter:`url(#b-${t})`,children:(0,Fs.jsx)("path",{d:"m73.4998 59h11v33h-11z",fill:"#dde0eb"})}),(0,Fs.jsx)("g",{filter:`url(#c-${t})`,children:(0,Fs.jsx)("path",{d:"m33.4998 103h91v6h-91z",fill:"#c9cfd7"})}),(0,Fs.jsx)("g",{filter:`url(#d-${t})`,children:(0,Fs.jsx)("path",{d:"m39.4998 97h79v6h-79z",fill:"#dde0eb"})}),(0,Fs.jsx)("g",{filter:`url(#e-${t})`,children:(0,Fs.jsx)("path",{d:"m34.4998 43.2308 45-24.2308 45.0002 24.2308v5.7692h-90.0002z",fill:"#c9cfd7"})}),(0,Fs.jsx)("path",{d:"m48.4998 43 31-16 31.0002 16z",fill:"#dde0eb"}),(0,Fs.jsx)("g",{filter:`url(#f-${t})`,children:(0,Fs.jsx)("path",{d:"m96.4998 94c0-1.1046.8954-2 2-2h11.0002c1.104 0 2 .8954 2 2v3h-15.0002z",fill:"#c9cfd7"})}),(0,Fs.jsx)("g",{filter:`url(#g-${t})`,children:(0,Fs.jsx)("path",{d:"m96.4998 57c0 1.1046.8954 2 2 2h11.0002c1.104 0 2-.8954 2-2v-3h-15.0002z",fill:"#c9cfd7"})}),(0,Fs.jsx)("g",{filter:`url(#h-${t})`,children:(0,Fs.jsx)("path",{d:"m71.4998 94c0-1.1046.8954-2 2-2h11c1.1045 0 2 .8954 2 2v3h-15z",fill:"#c9cfd7"})}),(0,Fs.jsx)("g",{filter:`url(#i-${t})`,children:(0,Fs.jsx)("path",{d:"m71.4998 57c0 1.1046.8954 2 2 2h11c1.1045 0 2-.8954 2-2v-3h-15z",fill:"#c9cfd7"})}),(0,Fs.jsx)("g",{filter:`url(#j-${t})`,children:(0,Fs.jsx)("path",{d:"m48.4998 59h11v33h-11z",fill:"#dde0eb"})}),(0,Fs.jsx)("g",{filter:`url(#k-${t})`,children:(0,Fs.jsx)("path",{d:"m46.4998 94c0-1.1046.8954-2 2-2h11c1.1045 0 2 .8954 2 2v3h-15z",fill:"#c9cfd7"})}),(0,Fs.jsx)("g",{filter:`url(#l-${t})`,children:(0,Fs.jsx)("path",{d:"m46.4998 57c0 1.1046.8954 2 2 2h11c1.1045 0 2-.8954 2-2v-3h-15z",fill:"#c9cfd7"})}),(0,Fs.jsx)("g",{filter:`url(#m-${t})`,children:(0,Fs.jsx)("path",{d:"m38.4998 49h82.0002l-2.216 5h-77.568z",fill:"#dde0eb"})}),(0,Fs.jsx)("path",{d:"m35.8866 19.5614c-.9308-.3612-1.963-.3612-2.8938 0l-28.21625 10.9479c-.7695.2985-1.27655 1.0392-1.27655 1.8645v25.0408c0 24.0092 24.3098 38.4147 30.9397 38.4147 6.63 0 30.9398-14.4055 30.9398-38.4147v-25.0408c0-.8253-.5071-1.566-1.2766-1.8645z",fill:"#3ac24f"}),(0,Fs.jsxs)("g",{filter:`url(#n-${t})`,children:[(0,Fs.jsx)("path",{clipRule:"evenodd",d:"m10.6401 35.6313v21.5716c0 9.4566 4.6827 17.33 10.5723 23.0788 2.9207 2.851 6.0022 5.0351 8.632 6.4779 1.3139.7208 2.4515 1.2217 3.3408 1.5298.7584.2627 1.1579.3229 1.2493.3367l.0054.0008.0054-.0008c.0915-.0138.4909-.074 1.2493-.3367.8893-.3081 2.0269-.809 3.3408-1.5298 2.6298-1.4428 5.7113-3.6269 8.6321-6.4779 5.8896-5.7488 10.5722-13.6222 10.5722-23.0788v-21.5716l-23.7998-9.4282z",fill:"#3bcb53",fillRule:"evenodd"}),(0,Fs.jsx)("path",{d:"m34.4399 87.9681c-.155-.0285-.4945-.1033-1.0419-.2929-.8485-.294-1.9525-.7786-3.2409-1.4855-2.5788-1.4148-5.6126-3.5638-8.4907-6.3731-5.8068-5.668-10.3763-13.3839-10.3763-22.6137v-21.13l23.1498-9.1706 23.1498 9.1706v21.13c0 9.2298-4.5694 16.9457-10.3762 22.6137-2.8781 2.8093-5.9119 4.9583-8.4907 6.3731-1.2884.7069-2.3924 1.1915-3.2409 1.4855-.5475.1896-.887.2644-1.042.2929z",stroke:`url(#p-${t})`,strokeWidth:"1.3"})]}),(0,Fs.jsxs)("g",{filter:`url(#o-${t})`,children:[(0,Fs.jsx)("path",{d:"m44.8987 53.0362h-.618v-2.8197c0-5.2152-4.2452-9.5718-9.5513-9.6648-.1449-.0025-.4346-.0025-.5796 0-5.3061.093-9.5513 4.4496-9.5513 9.6648v2.8197h-.6181c-.9523 0-1.7292.9581-1.7292 2.1413v14.1425c0 1.1819.7769 2.1489 1.7293 2.1489h20.9182c.9524 0 1.7293-.967 1.7293-2.1489v-14.1425c0-1.1832-.7769-2.1413-1.7293-2.1413zm-8.4993 9.1982v4.2733c0 .4893-.4203.9034-.9226.9034h-2.0743c-.5024 0-.9226-.4141-.9226-.9034v-4.2733c-.4872-.4675-.7708-1.114-.7708-1.8292 0-1.3552 1.0745-2.5197 2.4408-2.5735.1448-.0057.4348-.0057.5796 0 1.3663.0538 2.4408 1.2183 2.4408 2.5735-.0001.7152-.2837 1.3617-.7709 1.8292zm3.8082-9.1982h-5.4782-.5796-5.4781v-2.8197c0-3.1066 2.5897-5.6753 5.7679-5.6753s5.768 2.5687 5.768 5.6753z",fill:"#beffd2"}),(0,Fs.jsx)("path",{d:"m43.7807 53.0362v.5h.5.618c.5823 0 1.2293.6298 1.2293 1.6413v14.1425c0 1.0129-.6492 1.6489-1.2293 1.6489h-20.9182c-.5801 0-1.2293-.636-1.2293-1.6489v-14.1425c0-1.0116.647-1.6413 1.2292-1.6413h.6181.5v-.5-2.8197c0-4.9418 4.026-9.0766 9.0601-9.1649.1391-.0024.4229-.0024.5621 0 5.034.0883 9.06 4.2231 9.06 9.1649zm-6.1104 7.3691v-.0001c0-1.6134-1.2764-3.0083-2.9211-3.0731-.1579-.0063-.4611-.0063-.619 0-1.6447.0648-2.9211 1.4597-2.9211 3.0731 0 .7736.28 1.4858.7708 2.0312v4.0713c0 .7744.6531 1.4034 1.4226 1.4034h2.0743c.7695 0 1.4226-.629 1.4226-1.4034v-4.0713c.4907-.5454.7708-1.2576.7709-2.0311zm-9.4986-7.3691v.5h.5 5.4781.5796 5.4782.5v-.5-2.8197c0-3.3892-2.8202-6.1753-6.268-6.1753-3.4479 0-6.2679 2.7861-6.2679 6.1753z",stroke:`url(#q-${t})`})]})]})},by=(0,m.memo)(Cy);var Ey;!function(e){e.CARD="creditCard",e.APPLE_PAY="applePay",e.GOOGLE_PAY="googlePay",e.CLICK_TO_PAY="clickToPay",e.SEPA="sepa",e.PAYPAL="paypal",e.AU_BECS="auBecsDebit",e.UK_BACS="ukBacs",e.VENMO="venmo",e.ACSS="acss",e.IDEAL="ideal",e.PAYPAL_CONVERSION="paypalConversion",e.US_BANK_ACCOUNT="usBankAccount",e.US_BANK_ACCOUNT_INSTANT="usBankAccountInstant",e.US_BANK_ACCOUNT_VERIFICATION="usBankAccountVerification"}(Ey||(Ey={}));const Ay=()=>{const e=(0,no.Y)();return(0,Fs.jsxs)("div",{className:"payment-loader p-abs top-left bottom-right d-flex flex-column items-center justify-center p-8 bg-white",children:[(0,Fs.jsx)("div",{className:"payment-spinner"}),(0,Fs.jsx)("p",{className:"mt-6 body-1 text-center text-ellipsis max-w-100",children:e.translate("paymentLoader.text")})]})},Ny=["click"],Py=["top-end"],xy={width:"40px",height:"42px"},ky=e=>{const{isReady:t}=e,{state:i,controller:a}=No($n.PAYMENT_OPTIONS),r=(0,no.Y)(),s=(0,co.S)(),o=To("lg"),c=ho(),l=(0,Zs.S)(),u=(0,Jh.V)(),h=(0,eo.g)(),[p,g]=(0,m.useState)(),y=Bl(i.shakeKey,0!==i.shakeKey),f=(0,m.useRef)(null),v=(0,m.useRef)(null),S=(0,m.useRef)(null),C=(0,m.useRef)(null),b=(0,m.useRef)(null),{isTestGroup:E,isVariant2TestGroup:A}=(0,mc.X)(),{stripeElementsCardState:N,setStripeElementsCardState:P}=Ym(),[x,w]=(0,m.useState)(!1),[D,T]=(0,m.useState)("unknown"),O=(0,m.useRef)(!1),_=(0,Gs.R)();return(0,m.useEffect)((()=>{(0,d.mG)(void 0,void 0,void 0,(function*(){if(h)return;if(!v.current||!S.current||!C.current)throw new Error("Card containers are not provided");const{stripeElements:e}=yield a.initiateCreditCard({source:"paymentOptions",onCardElementReady:e=>{P(e,(e=>k()(k()({},e),{isReady:!0})))},cardCvcContainer:C.current,cardExpiryContainer:S.current,cardNumberContainer:v.current,cardNumberOptions:{placeholder:E?"0000 0000 0000 0000":void 0,showIcon:!E&&void 0},cardCvcOptions:{placeholder:E?"123":void 0},stripeElementStyleOverride:E?k()(k()({},Yr),{base:k()(k()({},Yr.base),{"::placeholder":{color:"transparent"}}),invalid:k()(k()({},Yr.invalid),{color:"#222832",":focus":{color:"#222832"},"::placeholder":{color:"transparent"}})}):void 0});g(e)}))}),[a,h,E,P]),(0,m.useEffect)((()=>{if(!N.cardNumber.isReady||!p||!t||O.current)return;const e=p.getElement("cardNumber"),n=p.getElement("cardExpiry"),i=p.getElement("cardCvc");if(!e||!n||!i){if(h)return;throw new Error("Card elements are not initialized")}const r={cardNumber:!1,cardExpiry:!1,cardCvc:!1},s={cardNumber:e,cardExpiry:n,cardCvc:i};function o(e){var t;if(a.changeCardFilledFields(e.elementType,e.complete),"cardNumber"===e.elementType&&(e.error?T("unknown-error"):T(Hm[e.brand]||"unknown")),P(e.elementType,(t=>{var n;return k()(k()({},t),{isEmpty:e.empty,error:(null===(n=e.error)||void 0===n?void 0:n.message)||null})})),!e.complete)return void(r[e.elementType]=!1);r[e.elementType]=!0;const[n]=qe()(t=xt()(r)).call(t,(e=>{let[,t]=e;return!t}))||[];n&&s[n].focus()}const c=e=>{w(!0),O.current?_.document.dispatchEvent(new Event("stripeElementEvent")):O.current=!0};return e.on("focus",c),n.on("focus",c),i.on("focus",c),u||e.focus(),e.on("change",o),n.on("change",o),i.on("change",o),()=>{e.off("change",o),n.off("change",o),i.off("change",o),e.off("focus",c),n.off("focus",c),i.off("focus",c)}}),[a,_.document,h,P,p,N.cardNumber.isReady,t,u]),(0,Fs.jsx)("div",{className:(0,Hs.Z)("px-body",{"justify-center":l&&!A,"py-8":!A&&!l,"mt-minus-1":l&&A}),children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsx)("p",{className:"label-4 text-truncate mb-3",children:r.translate("paymentMethodScreen.cardLabel")}),(0,Fs.jsxs)("div",{ref:f,className:(0,Hs.Z)("group-stacked-vertical",A?"group-shadow-experiment":"group-shadow",{"animation-shake":y,"mt-5":l,"mt-7":!l&&A,"mt-8":!l&&!A}),role:"group","aria-label":r.translate("creditCardScreen.cardForm.ariaLabel"),children:[(0,Fs.jsxs)(gl.E,{htmlFor:`card-number-${c}`,label:r.translate("creditCardScreen.cardForm.numberInput.label"),labelSrOnly:!E,labelFloating:E,formGroupClass:(0,Hs.Z)("group-stacked-item",{"pointer-events-none":i.locked}),formLabelClass:(0,Hs.Z)({"has-value":!N.cardNumber.isEmpty,"has-error":null!==N.cardNumber.error}),children:[(0,Fs.jsx)("div",{ref:v,id:`card-number-${c}`,className:(0,Hs.Z)("StripeElement",{"has-label-floating":E})}),E&&(0,Fs.jsx)("img",{className:"p-abs centered-right me-2-5 z-index-5 pointer-events-none",src:n(95197)(`./card-${D}.png`),width:30,height:20,alt:""}),N.cardNumber.error&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:N.cardNumber.error})]}),(0,Fs.jsxs)("div",{className:"group-stacked-item group-stacked-horizontal",children:[(0,Fs.jsxs)(gl.E,{htmlFor:`expiration-${c}`,label:r.translate("creditCardScreen.cardForm.expirationDate.label"),labelSrOnly:!E,labelFloating:E,formGroupClass:(0,Hs.Z)("group-stacked-item",{"pointer-events-none":i.locked}),formLabelClass:(0,Hs.Z)({"has-value":!N.cardExpiry.isEmpty,"has-error":null!==N.cardExpiry.error}),children:[(0,Fs.jsx)("div",{ref:S,id:`expiration-${c}`,className:(0,Hs.Z)("StripeElement",{"has-label-floating":E})}),N.cardExpiry.error&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:N.cardExpiry.error})]}),(0,Fs.jsxs)(gl.E,{htmlFor:`cvc-${c}`,label:r.translate("creditCardScreen.cardForm.cvcCode.label"),labelSrOnly:!E,labelFloating:E,formGroupClass:(0,Hs.Z)("group-stacked-item",{"pointer-events-none":i.locked}),formLabelClass:(0,Hs.Z)({"has-value":!N.cardCvc.isEmpty,"has-error":null!==N.cardCvc.error}),children:[(0,Fs.jsx)("div",{ref:C,id:`cvc-${c}`,className:(0,Hs.Z)("StripeElement",{"has-label-floating":E})}),N.cardCvc.error&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:N.cardCvc.error}),(0,Fs.jsxs)("button",{type:"button",className:(0,Hs.Z)("btn-icon p-abs centered-right z-index-5",E?"me-4":"me-3"),ref:b,disabled:i.locked,"aria-label":r.translate("creditCardScreen.cardForm.cvcCode.helpAriaLabel"),onClick:()=>w(!1),children:[(0,Fs.jsx)("span",{className:"p-abs centered border-radius-8",style:xy}),(0,Fs.jsx)("span",{className:"text-gray-60 font-size-18","aria-hidden":"true",children:(0,Fs.jsx)(vc.Z,{className:(0,Hs.Z)("icon-stroke d-block",{"icon-flip-horizontal":s})})})]}),!i.locked&&t&&!x&&(0,Fs.jsx)(Uo.N,{triggerRef:b,trigger:Ny,placement:s?"left-start":"right-start",fallbackPlacements:Py,maxWidth:l?"var(--fixed-container-width-desktop)":void 0,children:r.translate("creditCardScreen.cardForm.cvcCode.tooltipLabel")})]})]})]}),t&&(0,Fs.jsx)(jc.K,{triggerRef:f,placement:o?s?"left":"right":l?"top-start":"bottom-start",show:i.showTestModeTooltipInfo,children:(0,Fs.jsx)(ep,{isBottomPlacement:!o,locked:i.locked})})]})})},wy=(0,m.memo)(ky);var Dy,Ty,Oy,_y,Iy;function Ry(){return Ry=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ry.apply(this,arguments)}var Ly,My,jy=function(e,t){return m.createElement("svg",Ry({width:24,height:24,viewBox:"0 0 24 24",fill:"none",strokeWidth:1.4,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Dy||(Dy=m.createElement("path",{d:"M12 11.5V17.5",stroke:"#2F2F39",strokeLinecap:"round"})),Ty||(Ty=m.createElement("path",{d:"M7 11.5V17.5",stroke:"#2F2F39",strokeLinecap:"round"})),Oy||(Oy=m.createElement("path",{d:"M17 11.5V17.5",stroke:"#2F2F39",strokeLinecap:"round"})),_y||(_y=m.createElement("path",{d:"M12 2L4 7.5H20L12 2Z",stroke:"#2F2F39",strokeLinejoin:"round"})),Iy||(Iy=m.createElement("path",{d:"M4 21H20",stroke:"#2F2F39",strokeLinecap:"round"})))},Fy=(0,m.forwardRef)(jy),Uy=(0,m.memo)(Fy);function By(){return By=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},By.apply(this,arguments)}var Gy,qy,Vy,Ky,Hy=function(e,t){return m.createElement("svg",By({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),Ly||(Ly=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.1001 18.16C19.6901 17.26 19.9101 16.8 20.3601 15.79C17.0401 14.53 16.5101 9.8 19.7901 7.99C18.7901 6.73 17.3801 6 16.0501 6C15.0901 6 14.4301 6.25 13.8401 6.48C13.3401 6.67 12.8901 6.84 12.3301 6.84C11.7301 6.84 11.2001 6.65 10.6401 6.45C10.0301 6.23 9.39007 6 8.59007 6C7.10007 6 5.51007 6.91 4.50007 8.47C3.08007 10.67 3.33007 14.79 5.62007 18.31C6.44007 19.57 7.54007 20.98 8.97007 21C9.57007 21.01 9.96007 20.83 10.3901 20.64C10.8801 20.42 11.4101 20.18 12.3401 20.18C13.2701 20.17 13.7901 20.42 14.2801 20.64C14.7001 20.83 15.0801 21.01 15.6701 21C17.1201 20.98 18.2801 19.42 19.1001 18.16Z",fill:"black"})),My||(My=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.8399 1C15.9999 2.1 15.5499 3.19 14.9599 3.95C14.3299 4.77 13.2299 5.41 12.1699 5.37C11.9799 4.31 12.4699 3.22 13.0699 2.49C13.7399 1.69 14.8699 1.07 15.8399 1Z",fill:"black"})))},Yy=(0,m.forwardRef)(Hy),Zy=(0,m.memo)(Yy);function zy(){return zy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zy.apply(this,arguments)}var Wy,$y,Xy,Qy,Jy,ef,tf,nf,af,rf=function(e,t){return m.createElement("svg",zy({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),Gy||(Gy=m.createElement("path",{d:"M21 12.2069C21 11.6015 20.9464 11.0268 20.8544 10.4674H12.1953V13.9234H17.1532C16.931 15.0575 16.2797 16.0154 15.3141 16.6667V18.9656H18.272C20.0038 17.364 21 15.0039 21 12.2069Z",fill:"#4285F4"})),qy||(qy=m.createElement("path",{d:"M12.1958 21.1954C14.6786 21.1954 16.7552 20.3678 18.2725 18.9655L15.3146 16.6666C14.487 17.2184 13.4372 17.5555 12.1958 17.5555C9.79728 17.5555 7.7666 15.9387 7.03862 13.7547H3.98877V16.1226C5.49837 19.1264 8.60186 21.1954 12.1958 21.1954Z",fill:"#34A853"})),Vy||(Vy=m.createElement("path",{d:"M7.03837 13.7547C6.84679 13.203 6.74717 12.6129 6.74717 11.9999C6.74717 11.3869 6.85446 10.7968 7.03837 10.2451V7.87726H3.98852C3.36016 9.11865 3 10.5133 3 11.9999C3 13.4865 3.36016 14.8812 3.98852 16.1226L7.03837 13.7547Z",fill:"#FBBC05"})),Ky||(Ky=m.createElement("path",{d:"M12.1958 6.44432C13.5521 6.44432 14.7629 6.91176 15.7207 7.82365L18.3414 5.20293C16.7552 3.71632 14.6786 2.80443 12.1958 2.80443C8.60186 2.80443 5.49837 4.87342 3.98877 7.87729L7.03862 10.2451C7.7666 8.0612 9.79728 6.44432 12.1958 6.44432Z",fill:"#EA4335"})))},sf=(0,m.forwardRef)(rf),of=(0,m.memo)(sf);function cf(){return cf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cf.apply(this,arguments)}var lf,uf,df,hf,mf=function(e,t){return m.createElement("svg",cf({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),Wy||(Wy=m.createElement("path",{d:"M0 2.98816V21.0058C0 21.8683 0.705652 22.5739 1.56811 22.5739H12.3332C20.4717 22.5739 24 18.0185 24 11.9735C24 5.95974 20.4717 1.42004 12.3332 1.42004H1.56811C0.705652 1.42004 0 2.1257 0 2.98816Z",fill:"white"})),$y||($y=m.createElement("path",{d:"M7.20551 5.84209V19.1554H12.9997C18.2607 19.1554 20.5423 16.1838 20.5423 11.9813C20.5423 7.95905 18.2607 4.8385 12.9997 4.8385H8.2091C7.65242 4.8385 7.20551 5.29325 7.20551 5.84209Z",fill:"#CC0066"})),Xy||(Xy=m.createElement("path",{d:"M12.3332 21.1391H2.97158C2.14048 21.1391 1.46619 20.4648 1.46619 19.6337V4.36806C1.46619 3.53696 2.14048 2.86267 2.97158 2.86267H12.3332C21.2166 2.86267 22.5416 8.57845 22.5416 11.9813C22.5416 17.8852 18.9115 21.1391 12.3332 21.1391ZM2.97158 3.36447C2.4149 3.36447 1.96798 3.81138 1.96798 4.36806V19.6337C1.96798 20.1903 2.4149 20.6373 2.97158 20.6373H12.3332C18.59 20.6373 22.0399 17.5637 22.0399 11.9813C22.0399 4.48567 15.9556 3.36447 12.3332 3.36447H2.97158V3.36447Z",fill:"black"})),Qy||(Qy=m.createElement("path",{d:"M9.24405 10.1858C9.44791 10.1858 9.63608 10.2172 9.81642 10.2799C9.99675 10.3426 10.1457 10.4446 10.279 10.57C10.4045 10.7033 10.5064 10.8679 10.5848 11.0561C10.6554 11.2521 10.6946 11.4795 10.6946 11.7461C10.6946 11.9813 10.6632 12.193 10.6083 12.389C10.5456 12.585 10.4593 12.7575 10.3417 12.8987C10.2241 13.0398 10.0752 13.1496 9.89482 13.2358C9.71449 13.3142 9.50279 13.3613 9.25973 13.3613H7.88763V10.178H9.24405V10.1858ZM9.19701 12.781C9.29894 12.781 9.39302 12.7654 9.49495 12.734C9.58904 12.7026 9.67529 12.6478 9.74585 12.5694C9.81642 12.4909 9.87914 12.3969 9.92618 12.2714C9.97323 12.146 9.99675 12.0048 9.99675 11.8245C9.99675 11.6677 9.98107 11.5187 9.94971 11.3933C9.91834 11.2678 9.86346 11.1502 9.79289 11.064C9.72233 10.9777 9.62824 10.8993 9.51063 10.8523C9.39303 10.8052 9.25189 10.7817 9.0794 10.7817H8.57761V12.7889H9.19701V12.781Z",fill:"white"})),Jy||(Jy=m.createElement("path",{d:"M13.525 10.1858V10.7739H11.8471V11.456H13.3917V11.997H11.8471V12.7732H13.5642V13.3613H11.1493V10.178H13.525V10.1858Z",fill:"white"})),ef||(ef=m.createElement("path",{d:"M15.9242 10.1858L17.116 13.3691H16.3868L16.1437 12.6634H14.952L14.7011 13.3691H13.9954L15.195 10.1858H15.9242V10.1858ZM15.9634 12.1381L15.5635 10.9698H15.5557L15.1401 12.1381H15.9634Z",fill:"white"})),tf||(tf=m.createElement("path",{d:"M18.2529 10.1858V12.781H19.8053V13.3691H17.5551V10.1858H18.2529V10.1858Z",fill:"white"})),nf||(nf=m.createElement("path",{d:"M4.58673 13.2437C5.39648 13.2437 6.05292 12.5872 6.05292 11.7775C6.05292 10.9677 5.39648 10.3113 4.58673 10.3113C3.77698 10.3113 3.12054 10.9677 3.12054 11.7775C3.12054 12.5872 3.77698 13.2437 4.58673 13.2437Z",fill:"black"})),af||(af=m.createElement("path",{d:"M5.69227 19.1555C4.4613 19.1555 3.47339 18.1597 3.47339 16.9366V15.2038C3.47339 14.5923 3.96734 14.0905 4.58675 14.0905C5.19832 14.0905 5.70011 14.5844 5.70011 15.2038V19.1555H5.69227Z",fill:"black"})))},pf=(0,m.forwardRef)(mf),gf=(0,m.memo)(pf);function yf(){return yf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yf.apply(this,arguments)}var ff,vf,Sf=function(e,t){return m.createElement("svg",yf({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),lf||(lf=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.69207 19.9323C5.03411 19.9366 6.38045 19.9323 7.72248 19.928C7.82563 19.7521 7.84772 19.5591 7.86975 19.3671C7.87904 19.2859 7.88833 19.2048 7.90375 19.1253C8.01949 18.4432 8.12442 17.7589 8.2293 17.0755C8.27301 16.7905 8.31671 16.5056 8.36115 16.2212C8.48628 15.4229 8.61147 14.6245 8.7323 13.8262C8.75816 13.6622 8.80565 13.5069 8.85743 13.3516C8.85638 13.3478 8.85538 13.344 8.85439 13.3403C9.08728 12.9799 9.41037 12.8254 9.8493 12.8254C10.0894 12.8254 10.3296 12.8278 10.5697 12.8303C11.4297 12.8392 12.2893 12.8479 13.1461 12.7434C14.1214 12.6226 15.0621 12.3723 15.9338 11.9062C17.2758 11.1856 18.1906 10.0852 18.7646 8.69141C19.0365 8.02682 19.2522 7.34072 19.3428 6.6244C19.3479 6.61684 19.3515 6.60782 19.3553 6.59811C19.358 6.59129 19.3608 6.5841 19.3644 6.57692L19.3903 6.44748C19.3864 6.43578 19.379 6.42408 19.3712 6.40278C19.372 6.4032 19.3728 6.40357 19.3737 6.40399C19.4902 5.79989 19.529 5.19574 19.4211 4.5916C19.1881 3.29703 18.4761 2.34336 17.3067 1.75647C16.1803 1.18256 14.9505 1.02722 13.7121 1.01428C12.0904 0.995773 10.4666 0.999293 8.84374 1.00282C8.19504 1.00422 7.54651 1.00564 6.89829 1.00564C6.37184 1.00564 5.96623 1.35517 5.88852 1.86868C5.84823 2.13056 5.80841 2.39245 5.76864 2.65433C5.68905 3.1778 5.60946 3.70132 5.52604 4.22479C5.45285 4.67984 5.37918 5.13483 5.30547 5.58987C5.15762 6.50278 5.00982 7.41569 4.86581 8.32861C4.79251 8.79214 4.72353 9.25568 4.65455 9.71922C4.58545 10.1834 4.51634 10.6477 4.44291 11.1119C4.33948 11.7679 4.23153 12.4228 4.12368 13.077C4.02008 13.7054 3.91659 14.3333 3.81722 14.9611C3.7021 15.6916 3.5904 16.4231 3.47861 17.1553C3.37249 17.8505 3.26627 18.5462 3.15697 19.2419C3.09658 19.613 3.32958 19.9323 3.69207 19.9323Z",fill:"#012D8A"})),uf||(uf=m.createElement("path",{d:"M7.72489 19.9284C7.87159 19.6824 7.85433 19.3934 7.8975 19.1258C8.06146 18.1592 8.20386 17.1926 8.35491 16.2216C8.48004 15.4233 8.60517 14.625 8.726 13.8267C8.75192 13.6627 8.79935 13.5073 8.85113 13.352C9.08419 12.9895 9.4078 12.8298 9.84799 12.8342C10.9484 12.8342 12.0487 12.8903 13.1448 12.7522C14.1244 12.6314 15.0608 12.3811 15.9325 11.915C17.2745 11.1944 18.1893 10.094 18.7633 8.70017C19.0351 8.03563 19.2509 7.34947 19.3415 6.63315C19.3501 6.61589 19.3544 6.59863 19.3631 6.58567C19.3717 6.54254 19.3804 6.49937 19.389 6.45624C20.416 6.99995 20.9641 7.87162 21.1107 9.01087C21.2316 9.94729 21.0892 10.8578 20.8562 11.764C20.6706 12.4847 20.3858 13.1621 19.9802 13.7835C19.3199 14.8019 18.4008 15.5096 17.2573 15.9153C16.6617 16.1267 16.049 16.2475 15.4233 16.3209C14.9011 16.3813 14.379 16.3813 13.8568 16.3856C13.3304 16.3856 12.9938 16.6747 12.9204 17.1926C12.7608 18.2843 12.6011 19.3761 12.4112 20.4678C12.3465 20.839 12.2947 21.2144 12.23 21.5811C12.148 22.0299 11.8287 22.2975 11.3756 22.2975C10.2752 22.2975 9.17479 22.2975 8.07442 22.2975C7.65585 22.2975 7.45301 22.0559 7.52206 21.6502C7.60406 21.1497 7.68601 20.6534 7.76802 20.1528C7.78098 20.0709 7.80254 19.9888 7.72489 19.9284Z",fill:"#019AE0"})),df||(df=m.createElement("path",{d:"M19.3899 6.44723C19.3812 6.49036 19.3726 6.53354 19.364 6.57666C19.3554 6.59393 19.3511 6.61119 19.3424 6.62415C19.2518 7.34047 19.036 8.02657 18.7642 8.69116C18.1902 10.085 17.2754 11.1853 15.9334 11.906C15.0617 12.372 14.121 12.6223 13.1457 12.7432C12.0497 12.8769 10.9492 12.8251 9.84886 12.8251C9.40872 12.8251 9.08505 12.9805 8.85205 13.343C8.78301 13.1013 8.87792 12.864 8.9211 12.6353C9.05053 11.9448 9.14549 11.2458 9.24906 10.551C9.33102 10.003 9.42598 9.45496 9.51229 8.9069C9.62446 8.19488 9.73668 7.48716 9.85316 6.7752C9.88338 6.59393 9.90064 6.40405 9.96538 6.23144C10.1078 5.86465 10.4271 5.7136 10.7853 5.7136C12.4725 5.70069 14.1641 5.69633 15.8514 5.7136C16.5202 5.72225 17.1891 5.75678 17.8493 5.88621C18.3758 5.98978 18.8893 6.14949 19.3683 6.39545C19.3769 6.42131 19.3856 6.43427 19.3899 6.44723Z",fill:"#001F6B"})),hf||(hf=m.createElement("path",{d:"M19.3457 6.62828C19.3543 6.61102 19.3587 6.59376 19.3673 6.58085C19.3587 6.59376 19.3543 6.61102 19.3457 6.62828Z",fill:"#012D8A"})))},Cf=(0,m.forwardRef)(Sf),bf=(0,m.memo)(Cf);function Ef(){return Ef=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ef.apply(this,arguments)}var Af,Nf=function(e,t){return m.createElement("svg",Ef({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),ff||(ff=m.createElement("path",{d:"M18.6667 2H5.33333C3.49238 2 2 3.49238 2 5.33333V18.6667C2 20.5076 3.49238 22 5.33333 22H18.6667C20.5076 22 22 20.5076 22 18.6667V5.33333C22 3.49238 20.5076 2 18.6667 2Z",fill:"#008CFF"})),vf||(vf=m.createElement("path",{d:"M16.4377 7C16.8258 7.6 17 8.21869 17 9C17 11.4918 14.7315 14.7278 12.8903 17H8.6859L7 7.5459L10.6827 7.21803L11.5783 13.9449C12.4105 12.6721 13.4397 10.6721 13.4397 9.30951C13.4397 8.56295 13.3033 8.05541 13.09 7.63737L16.4377 7Z",fill:"white"})))},Pf=(0,m.forwardRef)(Nf),xf=(0,m.memo)(Pf);function kf(){return kf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kf.apply(this,arguments)}var wf,Df,Tf,Of=function(e,t){return m.createElement("svg",kf({fill:"none",height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Af||(Af=m.createElement("g",{fill:"currentColor"},m.createElement("path",{clipRule:"evenodd",d:"m12.5525 9.7447c-2.99092-.21639-9.77273 1.1855-9.77273 4.2535 0 2.0004 3.59111 4.9249 9.43923 5.0017.2308 0 6.8741-.2566 6.7717-7.3873-.0861-5.98915-5.0046-6.71876-6.438-6.90138l.0001-.70661c5.7145.36271 10.6447 3.82157 10.6447 7.99259 0 4.412-5.0276 8.0028-11.2092 8.0028s-11.183612-3.5911-11.183612-8.0028c0-4.41161 5.001722-8.00272 11.183612-8.00272.1894 0 .3776.00337.5645.01013z",fillRule:"evenodd"}),m.createElement("path",{d:"m6.83008 14.3939c0 3.9259 5.72712 4.9593 5.72712 4.9593v-4.9385-4.93856c-1.4874.40641-5.7268 1.78666-5.72712 4.91776z"}))))},_f=(0,m.forwardRef)(Of),If=(0,m.memo)(_f);function Rf(){return Rf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rf.apply(this,arguments)}var Lf=function(e,t){return m.createElement("svg",Rf({fill:"none",height:18,viewBox:"0 0 25 18",width:25,stroke:"currentColor",strokeWidth:1.4,xmlns:"http://www.w3.org/2000/svg",ref:t},e),wf||(wf=m.createElement("rect",{height:14.8,rx:2,width:22,x:1.5,y:1.60156})),Df||(Df=m.createElement("path",{d:"m1.69922 6.80469h21.39998"})),Tf||(Tf=m.createElement("path",{d:"m5.29999 12.6016h7.20001",strokeLinecap:"round"})))},Mf=(0,m.forwardRef)(Lf),jf=(0,m.memo)(Mf);const Ff=(e,t)=>{switch(e){case Ey.CARD:return{icon:(0,Fs.jsx)(jf,{className:"icon-stroke-2 text-black",width:18,height:13}),label:t.translate("paymentMethodScreen.creditCard")};case Ey.APPLE_PAY:return{icon:(0,Fs.jsx)(Zy,{width:20,height:20}),label:t.translate("paymentMethodScreen.applePay")};case Ey.GOOGLE_PAY:return{icon:(0,Fs.jsx)(of,{width:20,height:20}),label:t.translate("paymentMethodScreen.googlePayButton")};case Ey.PAYPAL:case Ey.PAYPAL_CONVERSION:return{icon:(0,Fs.jsx)(bf,{width:20,height:20}),label:t.translate("paymentMethodScreen.paypalButton")};case Ey.VENMO:return{icon:(0,Fs.jsx)(xf,{width:20,height:20}),label:t.translate("paymentMethodScreen.venmoButton")};case Ey.ACSS:return{icon:(0,Fs.jsx)(Uy,{width:20,height:20}),label:t.translate("paymentMethodScreen.bankTransfer")};case Ey.IDEAL:return{icon:(0,Fs.jsx)(gf,{width:20,height:20}),label:t.translate("paymentMethodScreen.idealButton")};case Ey.CLICK_TO_PAY:return{icon:(0,Fs.jsx)(Sm,{width:20,height:20}),label:t.translate("paymentMethodScreen.clickToPayButtonAriaLabel")};case Ey.UK_BACS:return{icon:(0,Fs.jsx)(If,{width:20,height:20}),label:t.translate("paymentMethodScreen.ukBacsButton")};case Ey.AU_BECS:return{icon:null,label:t.translate("paymentMethodScreen.auBECSButton")};case Ey.SEPA:return{icon:null,label:t.translate("paymentMethodScreen.sepaButton")};case Ey.US_BANK_ACCOUNT_VERIFICATION:case Ey.US_BANK_ACCOUNT_INSTANT:case Ey.US_BANK_ACCOUNT:return{icon:(0,Fs.jsx)(py,{width:20,height:20}),label:t.translate("paymentMethodScreen.acssButton")};default:throw new ae(e)}};var Uf=e=>{let{option:t,onChoosePaymentOption:n}=e;const i=(0,no.Y)(),a=Ff(t,i);return(0,Fs.jsxs)("button",{type:"button",className:"payment-dropdown-btn btn-reset-default",onClick:()=>{n(t)},children:[(0,Fs.jsx)("span",{className:"payment-dropdown-icon me-2",children:a.icon}),(0,Fs.jsx)("span",{className:"body-2 text-truncate",children:a.label})]})},Bf=e=>{let{availableOptions:t,onChoosePaymentOption:n}=e;return(0,Fs.jsx)("div",{className:"payment-dropdown",children:De()(t).call(t,(e=>(0,Fs.jsx)(Uf,{option:e,onChoosePaymentOption:n},e)))})},Gf=e=>{let{className:t,showDropdown:n,onClick:i}=e;const a=(0,no.Y)();return(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)("payment-more-btn btn-reset-default",t,{"payment-more-btn-active":n}),"aria-label":a.translate("paymentMethodScreen.moreOptions"),onClick:i,children:(0,Fs.jsx)(Sd.Z,{className:(0,Hs.Z)("icon-stroke icon-stroke-2 font-size-16",{"icon-flip-vertical":n})})})},qf=e=>{let{option:t,isActive:n,className:i,onChoosePaymentOption:a}=e;const r=(0,no.Y)(),s=Ff(t,r);return(0,Fs.jsxs)("button",{onClick:()=>{a(t)},type:"button",className:(0,Hs.Z)("payment-btn btn-reset-default",{"payment-btn-active":n},i),children:[(0,Fs.jsx)("span",{className:"payment-btn-icon mb-1",children:s.icon}),(0,Fs.jsx)("span",{className:"label-4 text-line-clamp-2 mt-auto",children:s.label})]})};const Vf=(e,t,n)=>{const i=[...e],a=nn()(e).call(e,t);if(a<n)return e;const r=On()(i).call(i,a,1)[0];return On()(i).call(i,n-1,0,r),i};var Kf=e=>{let{selectedOption:t,availableOptions:n,buttonOptions:i,locked:r,onChoosePaymentOption:s,showDropdown:o,setShowDropdown:c}=e;const l=(0,no.Y)(),u=(0,Zs.S)(),d=Fe()(n).call(n,(e=>i[e].show)),h=u?d:Vf(d,t,2),m=u?h:a()(h).call(h,0,2),p=a()(h).call(h,2),g=e=>{s(e),c(!1)};return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("p",{className:"label-4 text-truncate mb-3",children:l.translate("paymentMethodScreen.description")}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("p-rel d-flex py-1 my-minus-1",{"payment-btns-scroll":u}),children:[De()(m).call(m,((e,n)=>(0,Fs.jsx)(qf,{option:e,isActive:t===e,className:(0,Hs.Z)({"ms-2":0!==n}),onChoosePaymentOption:g},e))),!u&&p.length>0&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(Gf,{className:"ms-2",showDropdown:o,onClick:()=>{c(!o)}}),o&&(0,Fs.jsx)(Bf,{availableOptions:p,locked:r,onChoosePaymentOption:g})]})]})]})},Hf=n(94305),Yf=e=>{let{currency:t,prefixCurrencySymbol:n,postfixCurrencySymbol:i,total:a,isRecurring:r,recurringLabel:s}=e;const o=(0,no.Y)(),c=(0,m.useMemo)((()=>(0,Hf.X)(t,o.locale)),[o.locale,t]);return(0,Fs.jsxs)("div",{className:"d-flex",children:[(0,Fs.jsx)("p",{className:"body-3 text-truncate me-4",children:o.translate("paymentMethodScreen.amountLabel")}),(0,Fs.jsxs)("p",{className:"label-4 shrink-0 max-w-70 text-truncate ms-auto","data-qa":"donation-amount-label",children:[n&&(0,Fs.jsx)("span",{className:"d-inline-block text-sans-serif","aria-hidden":"true",children:n}),(0,Fs.jsx)("span",{className:"d-inline-block text-sans-serif",children:o.formatCurrency(a,{currency:t,display:"trimzeroes",withoutPrefix:!0,withoutSuffix:!0})}),i&&(0,Fs.jsx)("span",{className:"d-inline-block text-sans-serif","aria-hidden":"true",children:i}),(0,Fs.jsx)("span",{className:"d-inline-block text-sans-serif ms-0-5",children:c}),r&&(0,Fs.jsx)("span",{className:"d-inline-block",children:s})]})]})};function Zf(e){const t=(0,m.useRef)(null),[n,i]=(0,m.useState)(!1),a=()=>{i((e=>!e))},r=()=>{i(!1)};return function(e,t){const{document:n}=(0,Gs.R)();(0,m.useEffect)((()=>{const i=n=>{if(!e.current)return;const i=n.target;i&&!(0,ot.FX)(i,(t=>t===e.current))&&t(n)};return n.addEventListener("click",i),()=>n.removeEventListener("click",i)}),[n,e,t])}(t,r),((e,t)=>{(0,m.useEffect)((()=>{const n=null==e?void 0:e.current;if(n)return n.addEventListener("blur",t),()=>{n.removeEventListener("blur",t)}}),[e,t])})(e,r),{helpTooltipRef:t,showHelpTooltip:n,handleHelpTooltipChecked:e=>{e.stopPropagation(),a()},handleHelpTooltipKeyDown:e=>{"Enter"!==e.code&&"Space"!==e.code||(e.stopPropagation(),e.preventDefault(),a())}}}var zf=e=>{let{includeFees:t,isFeeCovered:n,currency:i,processingFee:a,showIncludeFee:r,locked:s,toggleCheckbox:o,transitionEntered:c}=e;const l=(0,no.Y)(),u=(0,co.S)(),d=(0,Zs.S)(),p=To("lg"),g=t!==h.__.ONLY_NO,y=t===h.__.ONLY_YES,f=(0,m.useRef)(null),v=(0,m.useRef)(null),S=(0,m.useRef)(null),C=[u?"right":"left","top"],[b,E]=(0,m.useState)(!1),{showHelpTooltip:A,helpTooltipRef:N,handleHelpTooltipKeyDown:P,handleHelpTooltipChecked:x}=Zf(v);return(0,m.useEffect)((()=>{E(!!f.current&&!n&&!A)}),[n,A]),(0,Fs.jsx)(Fs.Fragment,{children:g&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("div",{ref:S,className:(0,Hs.Z)("d-flex items-center",{"px-8 mx-minus-8":!d}),children:[y&&(0,Fs.jsx)("p",{className:"body-3 text-truncate",children:l.translate("paymentMethodScreen.transactionCostsIncluded",{amount:l.formatCurrency(a,{currency:i,display:"floatcents"})})}),r&&(0,Fs.jsx)(cl,{innerRef:f,className:"body-3",customLabelClasses:"line-height-20",checked:n,disabled:s,onChange:o,qa:"cover-fee-checkbox",trackingElement:"coverFee",children:(0,Fs.jsx)("span",{className:"body-3 text-truncate",children:l.translate("paymentMethodScreen.coverLabel")})}),(0,Fs.jsx)("button",{ref:v,type:"button",className:"btn-icon shrink-0 font-size-18 text-gray-40 ms-2","aria-label":l.translate("paymentMethodScreen.transactionCostsHelpAriaLabel"),disabled:s,onClick:x,onKeyDown:P,"data-qa":"transaction-cost-tip",children:(0,Fs.jsx)(vc.Z,{className:(0,Hs.Z)("icon-stroke d-block",{"icon-flip-horizontal":u})})})]}),d&&r&&!n&&(0,Fs.jsx)("p",{className:"body-3 text-ellipsis mt-2",children:l.translate("paymentMethodScreen.coverCostsQuestion")}),c&&!s&&(0,Fs.jsxs)(jc.K,{triggerRef:v,ref:N,show:A,maxWidth:"228px",placement:u?"left":"right",fallbackPlacements:["top","top-end","bottom"],dataQa:"why-cover-fee-tooltip",children:[y&&l.translate("paymentMethodScreen.transactionCostsInfo"),r&&(0,Fs.jsx)(Ll,{className:"fee-tooltip",token:"paymentMethodScreen.transactionCostsTooltipMessage",params:{processingFee:l.formatCurrency(a,{currency:i,display:"floatcents"})}})]}),c&&!s&&!d&&(0,Fs.jsx)(jc.K,{triggerRef:S,show:b,maxWidth:p?"228px":"296px",placement:p?u?"left":"right":"top",fallbackPlacements:C,dataQa:"cover-fee-tooltip",children:l.translate("paymentMethodScreen.coverCostsQuestion")}),(0,Fs.jsx)("hr",{className:"border-gray-15 mt-3 mb-2-5"})]})})},Wf=n(45360),$f=n.n(Wf);class Xf{static isButtonFullWidth(e,t){return 3===t||(0===e||!(4/(e+t-1)<1))}static allSlotsAreTaken(e){return e>5}}const Qf=e=>{const t=(0,no.Y)(),n=e.LPOExperimentTestGroup&&e.LPOExperimentTestGroup!==Wi.CONTROL;return(0,Fs.jsxs)(nl,{processingState:e.processingState,className:"btn-default d-flex justify-center items-center",disabled:e.disabled,onClick:e.onClick,dataQa:"acss-button",trackingElement:"paymentMethod-acss",children:[n&&(0,Fs.jsx)(py,{className:"icon-stroke font-size-24 shrink-0 me-2","aria-hidden":"true"}),(0,Fs.jsx)("span",{className:"text-truncate",children:t.translate("paymentMethodScreen.acssButton")})]})},Jf=(0,m.memo)(Qf);var ev;function tv(){return tv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tv.apply(this,arguments)}var nv=function(e,t){return m.createElement("svg",tv({fill:"none",height:26,viewBox:"0 0 51 26",width:51,xmlns:"http://www.w3.org/2000/svg",ref:t},e),ev||(ev=m.createElement("g",{fill:"currentColor"},m.createElement("path",{d:"m10.7677 6.37383c.5615-.70228.9425-1.64523.842-2.60882-.8219.04087-1.82492.54225-2.4056 1.24508-.52139.60186-.98286 1.5843-.86255 2.50749.92264.08003 1.84445-.46118 2.42615-1.14375z"}),m.createElement("path",{d:"m11.5996 7.69773c-1.3399-.07981-2.47913.76045-3.119.76045-.64022 0-1.62007-.72023-2.67985-.70082-1.37938.02026-2.65929.80017-3.35926 2.0406-1.43973 2.48144-.37995 6.16234 1.02012 8.18334.6799.9999 1.4993 2.1008 2.57898 2.0612 1.02012-.04 1.41996-.6605 2.65996-.6605 1.23909 0 1.59925.6605 2.67915.6405 1.1198-.02 1.8199-1.0003 2.4998-2.0012.78-1.1398 1.0993-2.2403 1.1193-2.3007-.02-.02-2.1593-.8407-2.1792-3.3016-.0201-2.0604 1.6796-3.04053 1.7596-3.10131-.9599-1.41967-2.4596-1.57974-2.9796-1.61996z"}),m.createElement("path",{d:"m23.2667 4.90918c2.9123 0 4.9402 2.00744 4.9402 4.93011 0 2.93311-2.0697 4.95101-5.0132 4.95101h-3.2244v5.1277h-2.3297v-15.00882zm-3.2974 7.92562h2.6731c2.0283 0 3.1827-1.092 3.1827-2.98508 0-1.89288-1.1544-2.97463-3.1723-2.97463h-2.6835z"}),m.createElement("path",{d:"m28.8154 16.8081c0-1.914 1.4666-3.0892 4.0671-3.2349l2.9953-.1767v-.8425c0-1.2169-.8218-1.945-2.1945-1.945-1.3004 0-2.1117.6239-2.3091 1.6018h-2.1218c.1248-1.9764 1.8096-3.43248 4.514-3.43248 2.6522 0 4.3475 1.40418 4.3475 3.59878v7.5408h-2.1531v-1.7994h-.0517c-.6344 1.217-2.0179 1.9866-3.4532 1.9866-2.1426 0-3.6405-1.3313-3.6405-3.297zm7.0624-.9881v-.8633l-2.694.1663c-1.3418.0937-2.1009.6866-2.1009 1.6227 0 .9567.7904 1.5809 1.997 1.5809 1.5704 0 2.7979-1.0818 2.7979-2.5066z"}),m.createElement("path",{d:"m40.1472 23.9432v-1.8202c.1661.0415.5405.0415.7279.0415 1.04 0 1.6017-.4368 1.9448-1.56 0-.0209.1978-.6657.1978-.6761l-3.9523-10.95245h2.4336l2.767 8.90345h.0413l2.767-8.90345h2.3714l-4.0984 11.51395c-.9357 2.6524-2.0174 3.5053-4.2849 3.5053-.1873 0-.7491-.0209-.9152-.052z"}))))},iv=(0,m.forwardRef)(nv),av=(0,m.memo)(iv);const rv=e=>{const t=(0,no.Y)(),n=e.LPOExperimentTestGroup&&e.LPOExperimentTestGroup!==Wi.CONTROL,i=e.isPaymentScreen&&!n?t.translate("paymentMethodScreen.applePayDonateButton"):t.translate("paymentMethodScreen.applePayButton"),a=e.isPaymentScreen&&!n?t.translate("paymentMethodScreen.applePayDonateButtonAriaLabel"):t.translate("paymentMethodScreen.applePayButtonAriaLabel");return(0,Fs.jsxs)("button",{type:"button",className:"btn btn-apple-pay d-flex justify-center items-center",dir:"ltr","aria-label":a,onClick:e.onClick,disabled:e.disabled,"data-tracking-element-name":"paymentMethod-applePay",children:[(0,Fs.jsx)("span",{className:"text-truncate me-1-5",children:i}),(0,Fs.jsx)(av,{className:"shrink-0",width:50,height:26,"aria-hidden":"true"})]})},sv=(0,m.memo)(rv),ov=e=>{const t=(0,no.Y)();return(0,Fs.jsx)("button",{type:"button",className:"btn btn-default",onClick:e.onClick,"data-qa":"au-becs-button",disabled:e.disabled,"data-tracking-element-name":"paymentMethod-auBECS",children:t.translate("paymentMethodScreen.auBECSButton")})},cv=(0,m.memo)(ov),lv={color:"#000"},uv={color:"#1A1E71"},dv={boxShadow:"0 0 0 1px #ced3d9"},hv=e=>{const t=(0,no.Y)();return(0,Fs.jsxs)("button",{type:"button",className:"btn btn-default d-flex justify-center items-center","aria-label":t.translate("paymentMethodScreen.clickToPayButtonAriaLabel"),onClick:e.onClick,disabled:e.disabled,"data-qa":"click-to-pay-button","data-tracking-element-name":"paymentMethod-clickToPay",children:[(0,Fs.jsx)(Sm,{className:"shrink-0",width:30,height:30,"aria-hidden":"true",style:lv}),e.isButtonFullWidth&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("span",{className:"shrink-0 h-45 border-left border-black ms-2 me-1","aria-hidden":"true"}),(0,Fs.jsx)(Nm,{className:"shrink-0 mx-1",width:29,height:18,"aria-hidden":"true"}),(0,Fs.jsx)(Dm,{className:"shrink-0 mx-1",width:40,height:14,style:uv,"aria-hidden":"true"}),(0,Fs.jsx)(lm,{className:"shrink-0 mx-1",width:20,height:20,"aria-hidden":"true"}),(0,Fs.jsx)(dm,{className:"shrink-0 ms-1",style:dv,ariaHidden:!0})]})]})},mv=(0,m.memo)(hv);var pv,gv;function yv(){return yv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yv.apply(this,arguments)}var fv=function(e,t){return m.createElement("svg",yv({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),pv||(pv=m.createElement("rect",{x:1,y:4,width:22,height:16,rx:2,ry:2})),gv||(gv=m.createElement("line",{x1:1,y1:10,x2:23,y2:10})))},vv=(0,m.forwardRef)(fv),Sv=(0,m.memo)(vv);const Cv=e=>{const t=(0,no.Y)(),n=(0,Bs.C)(),i=(0,m.useMemo)((()=>e.LPOExperimentTestGroup?{isTestGroup:e.LPOExperimentTestGroup!==Wi.CONTROL,isTestGroup4:e.LPOExperimentTestGroup===Wi.TEST_4}:null),[e.LPOExperimentTestGroup]),a=n.featureConfig.creditDebitCardLabel&&e.isButtonFullWidth?t.translate("paymentMethodScreen.creditDebitCard"):t.translate("paymentMethodScreen.creditCard"),r=(null==i?void 0:i.isTestGroup)?t.translate("paymentMethodScreen.creditCardContinue"):a;return(0,Fs.jsxs)("button",{type:"button",className:"btn btn-primary d-flex justify-center items-center",onClick:e.onClick,"data-qa":"cc-button",disabled:e.disabled,"data-tracking-element-name":"paymentMethod-creditCard",children:[e.isButtonFullWidth&&!(null==i?void 0:i.isTestGroup)&&(0,Fs.jsx)(Sv,{className:"icon-stroke icon-stroke-2 font-size-24 shrink-0 me-2","aria-hidden":"true"}),(null==i?void 0:i.isTestGroup4)&&(0,Fs.jsx)(jf,{className:"icon-stroke icon-stroke-2 font-size-24 shrink-0 me-2","aria-hidden":"true"}),(0,Fs.jsx)("span",{className:"text-truncate",children:r})]})},bv=(0,m.memo)(Cv);var Ev,Av,Nv,Pv,xv;function kv(){return kv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kv.apply(this,arguments)}var wv=function(e,t){return m.createElement("svg",kv({fill:"none",height:26,viewBox:"0 0 53 26",width:53,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Ev||(Ev=m.createElement("g",{fill:"#fff"},m.createElement("path",{d:"m25.011 13.6095v5.8583h-1.8898v-14.48819h4.9134c1.1969 0 2.3307.44095 3.2126 1.25985.8819.7559 1.3228 1.88976 1.3228 3.08661 0 1.19683-.4409 2.26773-1.3228 3.08663s-1.9528 1.2598-3.2126 1.2598zm0-6.86611v5.03941h3.1496c.6929 0 1.3858-.252 1.8268-.7559 1.0078-.9449 1.0078-2.51973.0629-3.46461l-.0629-.06299c-.504-.50394-1.1339-.8189-1.8268-.75591z"}),m.createElement("path",{d:"m36.9168 9.26294c1.3858 0 2.4567.37795 3.2756 1.13386.8189.7559 1.1968 1.7638 1.1968 3.0236v6.0473h-1.7638v-1.3859h-.063c-.7559 1.1339-1.8267 1.7008-3.0866 1.7008-1.0708 0-2.0157-.3149-2.7716-.9449-.6929-.6299-1.1339-1.5118-1.1339-2.4567 0-1.0078.378-1.8267 1.1339-2.4566.7559-.63 1.8267-.8819 3.0866-.8819 1.1338 0 2.0157.1889 2.7086.6299v-.441c0-.6299-.2519-1.2598-.7559-1.6378-.5039-.4409-1.1338-.6929-1.8267-.6929-1.0709 0-1.8898.441-2.4567 1.3229l-1.6378-1.0079c1.0079-1.32284 2.3307-1.95276 4.0945-1.95276zm-2.3937 7.18106c0 .504.2519.9449.6299 1.1969.4409.315.9449.5039 1.4488.5039.7559 0 1.5118-.3149 2.0787-.8819.63-.5669.9449-1.2598.9449-2.0157-.5669-.441-1.3858-.6929-2.4567-.6929-.7559 0-1.3858.189-1.8897.5669-.504.315-.7559.7559-.7559 1.3228z"}),m.createElement("path",{d:"m51.5937 9.57788-6.2362 14.29922h-1.8897l2.3307-4.9764-4.0945-9.25983h2.0157l2.9607 7.11813h.0629l2.8977-7.11813h1.9527z"}))),Av||(Av=m.createElement("path",{d:"m17.5146 12.3496c0-.5669-.0629-1.1339-.1259-1.7008h-7.87405v3.2126h4.47245c-.189 1.0079-.7559 1.9528-1.6378 2.5197v2.0787h2.7087c1.5748-1.4488 2.4566-3.5905 2.4566-6.1102z",fill:"#4285f4"})),Nv||(Nv=m.createElement("path",{d:"m9.51486 20.4756c2.26774 0 4.15744-.7559 5.54334-2.0158l-2.7087-2.0787c-.7559.5039-1.7008.8189-2.83464.8189-2.14173 0-4.0315-1.4488-4.66142-3.4646h-2.77165v2.1417c1.44882 2.8347 4.28346 4.5985 7.43307 4.5985z",fill:"#34a853"})),Pv||(Pv=m.createElement("path",{d:"m4.85386 13.7354c-.37795-1.0078-.37795-2.1417 0-3.2126v-2.1417h-2.77165c-1.196852 2.3307-1.196852 5.1024 0 7.4961z",fill:"#fbbc04"})),xv||(xv=m.createElement("path",{d:"m9.51461 7.12126c1.19689 0 2.33069.44095 3.21259 1.25985l2.3937-2.3937c-1.5118-1.38583-3.5276-2.20473-5.5433-2.14174-3.1496 0-6.04724 1.76378-7.43307 4.59843l2.77165 2.1417c.56693-2.01572 2.4567-3.46454 4.59843-3.46454z",fill:"#ea4335"})))},Dv=(0,m.forwardRef)(wv),Tv=(0,m.memo)(Dv);const Ov=e=>{const{state:t}=No($n.PAYMENT_OPTIONS),{onClick:n,disabled:i}=e,a=(0,no.Y)(),[r,s]=(0,m.useState)(!1),o=(0,Fc.i)((e=>s(e))),c=e.LPOExperimentTestGroup&&e.LPOExperimentTestGroup!==Wi.CONTROL,l=c?a.translate("paymentMethodScreen.googlePayButtonContinueAriaLabel"):a.translate("paymentMethodScreen.googlePayButton"),u=(0,m.useCallback)((()=>t.livemode?i?void 0:n():(o.set([!0]),void o.set([!1],3e3))),[i,n,t.livemode,o]);return(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)("btn p-rel d-flex justify-center items-center",r?"btn-testmode":"btn-google-pay"),disabled:i,"aria-label":l,onClick:u,"data-tracking-element-name":"paymentMethod-googlePay","data-qa":"google-pay-button",children:r?(0,Fs.jsx)(Fs.Fragment,{children:e.isButtonFullWidth?a.translate("paymentMethodScreen.googlePay.notAvailableInTestMode.oneLine"):(0,Fs.jsx)("span",{className:"p-abs top-left bottom-right d-flex items-center justify-center px-1",children:(0,Fs.jsx)(Ll,{token:"paymentMethodScreen.googlePay.notAvailableInTestMode.twoLines",className:"text-line-clamp-2 text-wrap-normal line-height-18"})})}):(0,Fs.jsxs)(Fs.Fragment,{children:[c&&(0,Fs.jsx)("span",{className:"text-truncate me-1-5",children:a.translate("paymentMethodScreen.googlePayButtonContinue")}),(0,Fs.jsx)(Tv,{className:"shrink-0",width:62,height:31,"aria-hidden":"true"})]})})},_v=(0,m.memo)(Ov),Iv=e=>{const t=(0,no.Y)();return(0,Fs.jsxs)("button",{type:"button",className:"btn btn-default d-flex justify-center items-center",onClick:e.onClick,disabled:e.disabled,"data-qa":"ideal-button","data-tracking-element-name":"paymentMethod-ideal",children:[(0,Fs.jsx)("span",{className:"shrink-0 me-1","aria-hidden":"true",children:(0,Fs.jsx)(uy,{className:"d-block",width:24,height:24})}),(0,Fs.jsx)("span",{className:"text-truncate",children:t.translate("paymentMethodScreen.idealButton")})]})},Rv=(0,m.memo)(Iv);var Lv,Mv,jv;function Fv(){return Fv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fv.apply(this,arguments)}!function(e){e.SILVER="silver",e.WHITE="white",e.GOLD="gold"}(Lv||(Lv={}));var Uv=function(e,t){return m.createElement("svg",Fv({height:32,preserveAspectRatio:"xMinYMin meet",viewBox:"0 0 101 32",width:101,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Mv||(Mv=m.createElement("g",{fill:"#003087"},m.createElement("path",{d:"m12.237 2.8h-7.8c-.5 0-1 .4-1.1.9l-3.1 20c-.1.4.2.7.6.7h3.7c.5 0 1-.4 1.1-.9l.8-5.4c.1-.5.5-.9 1.1-.9h2.5c5.1 0 8.1-2.5 8.9-7.4.3-2.1 0-3.8-1-5-1.1-1.3-3.1-2-5.7-2zm.9 7.3c-.4 2.8-2.6 2.8-4.6 2.8h-1.2l.8-5.2c0-.3.3-.5.6-.5h.5c1.4 0 2.7 0 3.4.8.5.4.7 1.1.5 2.1z"}),m.createElement("path",{d:"m35.437 10h-3.7c-.3 0-.6.2-.6.5l-.2 1-.3-.4c-.8-1.2-2.6-1.6-4.4-1.6-4.1 0-7.6 3.1-8.3 7.5-.4 2.2.1 4.3 1.4 5.7 1.1 1.3 2.8 1.9 4.7 1.9 3.3 0 5.2-2.1 5.2-2.1l-.2 1c-.1.4.2.8.6.8h3.4c.5 0 1-.4 1.1-.9l2-12.8c.1-.2-.3-.6-.7-.6zm-5.1 7.2c-.4 2.1-2 3.6-4.2 3.6-1.1 0-1.9-.3-2.5-1s-.8-1.6-.6-2.6c.3-2.1 2.1-3.6 4.2-3.6 1.1 0 1.9.4 2.5 1 .5.7.7 1.6.6 2.6z"}),m.createElement("path",{d:"m55.337 10h-3.7c-.4 0-.7.2-.9.5l-5.2 7.6-2.2-7.3c-.1-.5-.6-.8-1-.8h-3.7c-.4 0-.8.4-.6.9l4.1 12.1-3.9 5.4c-.3.4 0 1 .5 1h3.7c.4 0 .7-.2.9-.5l12.5-18c.3-.3 0-.9-.5-.9z"}))),jv||(jv=m.createElement("g",{fill:"#009cde"},m.createElement("path",{d:"m67.737 2.8h-7.8c-.5 0-1 .4-1.1.9l-3.1 19.9c-.1.4.2.7.6.7h4c.4 0 .7-.3.7-.6l.9-5.7c.1-.5.5-.9 1.1-.9h2.5c5.1 0 8.1-2.5 8.9-7.4.3-2.1 0-3.8-1-5-1.2-1.2-3.1-1.9-5.7-1.9zm.9 7.3c-.4 2.8-2.6 2.8-4.6 2.8h-1.2l.8-5.2c0-.3.3-.5.6-.5h.5c1.4 0 2.7 0 3.4.8.5.4.6 1.1.5 2.1z"}),m.createElement("path",{d:"m90.937 10h-3.7c-.3 0-.6.2-.6.5l-.2 1-.3-.4c-.8-1.2-2.6-1.6-4.4-1.6-4.1 0-7.6 3.1-8.3 7.5-.4 2.2.1 4.3 1.4 5.7 1.1 1.3 2.8 1.9 4.7 1.9 3.3 0 5.2-2.1 5.2-2.1l-.2 1c-.1.4.2.8.6.8h3.4c.5 0 1-.4 1.1-.9l2-12.8c0-.2-.3-.6-.7-.6zm-5.2 7.2c-.4 2.1-2 3.6-4.2 3.6-1.1 0-1.9-.3-2.5-1s-.8-1.6-.6-2.6c.3-2.1 2.1-3.6 4.2-3.6 1.1 0 1.9.4 2.5 1 .6.7.8 1.6.6 2.6z"}),m.createElement("path",{d:"m95.337 3.3-3.2 20.3c-.1.4.2.7.6.7h3.2c.5 0 1-.4 1.1-.9l3.2-19.9c.1-.4-.2-.7-.6-.7h-3.6c-.4 0-.6.2-.7.5z"}))))},Bv=(0,m.forwardRef)(Uv),Gv=(0,m.memo)(Bv);const qv="paymentMethod-paypal",Vv=e=>{const{option:t,disabled:n,onClick:i}=e,{state:a,controller:r}=No($n.PAYMENT_OPTIONS),s=(0,no.Y)(),o=(0,m.useRef)(null),[c,l]=(0,m.useState)(!1),u=(0,Fc.i)((e=>l(e))),d=Td(),h=e.LPOExperimentTestGroup&&e.LPOExperimentTestGroup!==Wi.CONTROL;(0,m.useEffect)((()=>{if(t!==Ey.PAYPAL_CONVERSION&&o.current&&a.livemode)return r.initiatePaypal({element:o.current,buttonColor:h?Lv.GOLD:Lv.SILVER,onClick:()=>{o.current&&d.trackClick(qv,o.current)}}),()=>r.closePaypalButton()}),[r,t,a.livemode,d,h]);const p=(0,m.useCallback)((()=>a.livemode?n?void 0:t===Ey.PAYPAL_CONVERSION?i():void 0:(u.set([!0]),void u.set([!1],3e3))),[n,t,i,a.livemode,u]);return(0,Fs.jsxs)("div",{className:(0,Hs.Z)("btn p-rel px-0",{"btn-paypal-silver":!c&&!h,"btn-paypal-gold":!c&&h,"btn-testmode":c,"focus-outline":!a.livemode||t===Ey.PAYPAL_CONVERSION,disabled:n}),tabIndex:a.livemode&&t!==Ey.PAYPAL_CONVERSION?void 0:0,onClick:p,onKeyPress:p,"data-qa":"paypal-button",children:[(0,Fs.jsx)("div",{className:(0,Hs.Z)("p-abs top-left bottom-right border-radius-base z-index-2 overflow-hidden",c?"cursor-default":"cursor-pointer"),children:(0,Fs.jsx)("div",{id:"paypal-button",className:"p-abs centered min-w-100",children:(0,Fs.jsx)("div",{className:"line-height-0",ref:o,"data-tracking-element-name":qv})})}),c?(0,Fs.jsx)("div",{className:"p-abs top-left bottom-right d-flex items-center justify-center px-1",children:e.isButtonFullWidth?(0,Fs.jsx)("span",{className:"text-truncate",children:s.translate("paymentMethodScreen.paypal.notAvailableInTestMode.oneLine")}):(0,Fs.jsx)(Ll,{token:"paymentMethodScreen.paypal.notAvailableInTestMode.twoLines",className:"text-line-clamp-2 text-wrap-normal line-height-18"})}):(0,Fs.jsx)("div",{className:"d-flex items-center justify-center h-100",children:(0,Fs.jsx)(Gv,{width:69,height:22})})]})},Kv=(0,m.memo)(Vv),Hv=e=>{const t=(0,no.Y)();return(0,Fs.jsx)("button",{type:"button",className:"btn btn-default",onClick:e.onClick,disabled:e.disabled,"data-qa":"sepa-button","data-tracking-element-name":"paymentMethod-sepa",children:e.isButtonFullWidth?t.translate("paymentMethodScreen.sepaButton"):t.translate("paymentMethodScreen.sepaButtonShort")})},Yv=(0,m.memo)(Hv),Zv=e=>{const t=(0,no.Y)();return(0,Fs.jsxs)("button",{type:"button",className:"btn btn-default d-flex justify-center items-center",onClick:e.onClick,disabled:e.disabled,"data-qa":"uk-bacs-button","data-tracking-element-name":"paymentMethod-ukBacs",children:[e.isButtonFullWidth&&(0,Fs.jsx)("span",{className:"shrink-0 me-2","aria-hidden":"true",children:(0,Fs.jsx)(If,{className:"d-block",width:24,height:24})}),(0,Fs.jsx)("span",{className:"text-truncate",children:t.translate("paymentMethodScreen.ukBacsButton")})]})},zv=(0,m.memo)(Zv),Wv=e=>{const t=(0,no.Y)(),n=e.LPOExperimentTestGroup&&e.LPOExperimentTestGroup!==Wi.CONTROL;return(0,Fs.jsxs)(nl,{processingState:e.processingState,className:"btn-default d-flex justify-center items-center",onClick:e.onClick,disabled:e.disabled,dataQa:"us-bank-account-button",trackingElement:"paymentMethod-usBankAccount",children:[n&&(0,Fs.jsx)(py,{className:"icon-stroke font-size-24 shrink-0 me-2","aria-hidden":"true"}),(0,Fs.jsx)("span",{className:"text-truncate",children:t.translate("paymentMethodScreen.acssButton")})]})},$v=(0,m.memo)(Wv);var Xv;function Qv(){return Qv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qv.apply(this,arguments)}var Jv=function(e,t){return m.createElement("svg",Qv({fill:"none",height:16,viewBox:"0 0 69 16",width:69,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Xv||(Xv=m.createElement("g",{fill:"#fff"},m.createElement("path",{d:"m13.2779 1.96094c.4249.70637.6165 1.43393.6165 2.35299 0 2.93132-2.4861 6.73937-4.50383 9.41327h-4.60865l-1.84833-11.12446 4.03538-.38563.97724 7.91579c.91309-1.49731 2.03989-3.8503 2.03989-5.45453 0-.87811-.14946-1.47621-.38302-1.96868z"}),m.createElement("path",{d:"m18.5093 6.8563c.7426 0 2.6121-.34193 2.6121-1.41142 0-.51356-.3607-.76973-.7859-.76973-.7438 0-1.7198.89776-1.8262 2.18115zm-.085 2.11812c0 1.30588.7214 1.81828 1.6778 1.81828 1.0415 0 2.0387-.2562 3.3348-.91921l-.4882 3.33671c-.9132.4491-2.3364.7488-3.7178.7488-3.5041 0-4.7582-2.139-4.7582-4.81307 0-3.46585 2.04-7.14593 6.2457-7.14593 2.3156 0 3.6104 1.30579 3.6104 3.12403.0002 2.93122-3.7375 3.8292-5.9045 3.85039z"}),m.createElement("path",{d:"m35.9733 4.56799c0 .42779-.0645 1.04829-.1287 1.4538l-1.2109 7.70191h-3.9293l1.1045-7.06022c.021-.1915.0854-.57702.0854-.79092 0-.51355-.3188-.64169-.702-.64169-.5091 0-1.0193.23509-1.3591.40672l-1.2528 8.08621h-3.9515l1.8052-11.53109h3.42l.0433.92037c.8069-.53474 1.8693-1.11308 3.3767-1.11308 1.9972-.00022 2.6992 1.027 2.6992 2.56799z"}),m.createElement("path",{d:"m47.64 3.26231c1.1253-.81211 2.188-1.26231 3.6532-1.26231 2.0176 0 2.7194 1.02722 2.7194 2.5682 0 .4278-.0642 1.0483-.1284 1.45381l-1.2095 7.70189h-3.9304l1.1256-7.20942c.0207-.19271.0642-.4278.0642-.57691 0-.57823-.3188-.70648-.702-.70648-.488 0-.9759.2139-1.3381.40671l-1.2526 8.0862h-3.9294l1.1256-7.20941c.0207-.19271.0629-.4278.0629-.57691 0-.57823-.3189-.70648-.7008-.70648-.5101 0-1.0192.23509-1.359.40671l-1.2538 8.08619h-3.9502l1.805-11.53107h3.3783l.1061.96266c.7859-.57691 1.8475-1.15525 3.2705-1.15525 1.2322-.00044 2.039.53442 2.4434 1.26187z"}),m.createElement("path",{d:"m61.8319 6.62143c0-.94135-.2339-1.58316-.9343-1.58316-1.5507 0-1.8692 2.75949-1.8692 4.17113 0 1.0709.2977 1.7337.9979 1.7337 1.4657 0 1.8056-2.91014 1.8056-4.32167zm-6.7967 2.41755c0-3.63637 1.9112-7.03898 6.3087-7.03898 3.3135 0 4.5248 1.96867 4.5248 4.68599 0 3.59421-1.8907 7.31631-6.3942 7.31631-3.3349 0-4.4393-2.2037-4.4393-4.96332z"}))))},eS=(0,m.forwardRef)(Jv),tS=(0,m.memo)(eS);const nS="paymentMethod-venmo",iS=e=>{const{state:t,controller:n}=No($n.PAYMENT_OPTIONS),i=(0,no.Y)(),a=(0,m.useRef)(null),[r,s]=(0,m.useState)(!1),o=(0,Fc.i)((e=>s(e))),c=Td();(0,m.useEffect)((()=>{if(a.current)return n.initiateVenmo({element:a.current,onClick:()=>{a.current&&c.trackClick(nS,a.current)}}),()=>n.closeVenmoButton()}),[n,c]);const l=(0,m.useCallback)((()=>{if(!t.livemode)return o.set([!0]),void o.set([!1],3e3);e.disabled||e.onClick()}),[e,o,t.livemode]);return(0,Fs.jsxs)("div",{className:(0,Hs.Z)("btn p-rel",r?"btn-testmode":"btn-venmo",{"focus-outline":!t.livemode,disabled:e.disabled}),tabIndex:t.livemode?void 0:0,onClick:l,onKeyPress:l,children:[(0,Fs.jsx)("div",{className:(0,Hs.Z)("p-abs z-index-2 top-left bottom-right border-radius-base overflow-hidden",r?"cursor-default":"cursor-pointer"),children:(0,Fs.jsx)("div",{id:"venmo-button",className:"p-abs centered min-w-100",children:(0,Fs.jsx)("div",{className:"tap-highlight line-height-0",ref:a,"data-tracking-element-name":nS})})}),r?(0,Fs.jsx)("div",{className:"p-abs top-left bottom-right d-flex items-center justify-center px-1",children:e.isButtonFullWidth?(0,Fs.jsx)("span",{className:"text-truncate",children:i.translate("paymentMethodScreen.venmo.notAvailableInTestMode.oneLine")}):(0,Fs.jsx)(Ll,{token:"paymentMethodScreen.venmo.notAvailableInTestMode.twoLines",className:"text-line-clamp-2 text-wrap-normal line-height-18"})}):(0,Fs.jsx)("div",{className:"d-flex items-center justify-center",children:(0,Fs.jsx)(tS,{width:76,height:24})})]})},aS=(0,m.memo)(iS),rS={[Ey.CARD]:bv,[Ey.APPLE_PAY]:sv,[Ey.GOOGLE_PAY]:_v,[Ey.PAYPAL]:Kv,[Ey.PAYPAL_CONVERSION]:Kv,[Ey.CLICK_TO_PAY]:mv,[Ey.VENMO]:aS,[Ey.UK_BACS]:zv,[Ey.AU_BECS]:cv,[Ey.ACSS]:Jf,[Ey.SEPA]:Yv,[Ey.IDEAL]:Rv,[Ey.US_BANK_ACCOUNT]:$v,[Ey.US_BANK_ACCOUNT_INSTANT]:$v,[Ey.US_BANK_ACCOUNT_VERIFICATION]:$v},sS=e=>{const t=rS[e.option],n=(0,m.useRef)(null),i=(0,m.useCallback)((()=>{e.onClick(e.option)}),[e]);return(0,Fs.jsxs)(Fs.Fragment,{children:[e.transitionEntered&&e.show&&(0,Fs.jsxs)(jc.K,{triggerRef:n,show:Boolean(e.errorMessage),maxWidth:"var(--fixed-container-width-desktop)",children:[e.errorTitle&&(0,Fs.jsx)("p",{className:"text-red-80 font-weight-600","data-qa":e.option+"-error-tooltip-title",children:e.errorTitle}),(0,Fs.jsx)("span",{className:"text-red-80 font-weight-600","data-qa":e.option+"-error-tooltip",children:e.errorMessage})]}),(0,Fs.jsx)("div",{ref:n,className:(0,Hs.Z)("p-1",e.isButtonFullWidth?"w-100":"w-50",{"d-none":!e.show}),children:(0,Fs.jsx)(t,{isButtonFullWidth:e.isButtonFullWidth,onClick:i,option:e.option,disabled:e.disabled,processingState:e.processingState,isPaymentScreen:e.isPaymentScreen,LPOExperimentTestGroup:e.LPOExperimentTestGroup})},e.option)]})},oS=e=>{var t,n;const i=(0,no.Y)(),[r,s]=(0,m.useState)(!1),o=(0,m.useMemo)((()=>{var t,n;return Fe()(t=De()(n=e.availableOptions).call(n,(t=>k()(k()({},e.buttonOptions[t]),{option:t})))).call(t,(t=>{let{option:n,show:i}=t;return!(!i||e.preSelectedPaymentOption&&e.preSelectedPaymentOption!==n)}))}),[e.availableOptions,e.buttonOptions,e.preSelectedPaymentOption]),c=(0,m.useMemo)((()=>r||!e.maxPaymentOptions?o:a()(o).call(o,0,e.maxPaymentOptions)),[o,r,e.maxPaymentOptions]),l=e.isShowMoreButton&&!r&&o.length>(null!==(n=e.maxPaymentOptions)&&void 0!==n?n:0),u=(0,m.useCallback)((()=>s((e=>!e))),[s]);return(0,Fs.jsxs)("div",{className:"d-flex flex-wrap m-minus-1","aria-label":i.translate("paymentMethodScreen.paymentButtonsAriaLabel"),children:[De()(t=e.availableOptions).call(t,(t=>{var n;const{errorTitle:i,error:a}=e.buttonOptions[t],{show:r=!1}=null!==(n=qe()(c).call(c,(e=>e.option===t)))&&void 0!==n?n:{},s=$f()(c).call(c,(e=>e.option===t));return(0,Fs.jsx)(sS,{option:t,errorTitle:i,errorMessage:a,show:r,isButtonFullWidth:e.isButtonFullWidth||Xf.isButtonFullWidth(s,c.length),onClick:e.onChoosePaymentOption,processingState:e.getProcessingState(t),disabled:e.locked,isPaymentScreen:e.isPaymentScreen,LPOExperimentTestGroup:e.LPOExperimentTestGroup,transitionEntered:e.transitionEntered},t)})),l&&(0,Fs.jsx)("a",{onClick:u,children:"Draft: More options"})]})},cS=(0,m.memo)(oS),lS=e=>{const t=ho();return(0,Fs.jsxs)("svg",{className:(0,Hs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:"56",viewBox:"0 0 56 56",width:"56",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"52",width:"43",x:"7",y:"2.5",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dx:".5",dy:".5"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.958333 0 0 0 0 0.345 0 0 0 0 0 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_8986_17752"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_8986_17752",mode:"normal",result:"shape"})]}),(0,Fs.jsxs)("filter",{id:`b-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"32",width:"14.7373",x:"21.1348",y:"11.5",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dx:".5",dy:".5"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.958333 0 0 0 0 0.345 0 0 0 0 0 0 0 0 1 0"}),(0,Fs.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_8986_17752"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_8986_17752",mode:"normal",result:"shape"})]}),(0,Fs.jsxs)("linearGradient",{id:`c-${t}`,gradientUnits:"userSpaceOnUse",x1:"16.9167",x2:"54.2937",y1:"13.1351",y2:"54.7877",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#ffdc62"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#ffdc62",stopOpacity:".15"})]}),(0,Fs.jsxs)("linearGradient",{id:`d-${t}`,gradientUnits:"userSpaceOnUse",x1:"23.3333",x2:"36.1947",y1:"26.1546",y2:"31.9633",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#ffeeb1"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#ffeeb1",stopOpacity:"0"})]}),(0,Fs.jsx)("clipPath",{id:`e-${t}`,children:(0,Fs.jsx)("path",{d:"m0 0h56v56h-56z"})}),(0,Fs.jsxs)("g",{clipPath:`url(#e-${t})`,children:[(0,Fs.jsx)("path",{d:"m29.3957.519694c-.9003-.335221-1.8911-.335221-2.7915 0l-20.80207 7.745476c-.78289.2915-1.30213 1.03889-1.30213 1.87433v17.8605c0 17.5 18.4643 28 23.5 28s23.5-10.5 23.5-28v-17.8605c0-.83544-.5192-1.58283-1.3021-1.87433z",fill:"#ffa800"}),(0,Fs.jsxs)("g",{filter:`url(#a-${t})`,children:[(0,Fs.jsx)("path",{clipRule:"evenodd",d:"m10.5 12.6455v15.205c0 6.6656 3.4432 12.2152 7.7738 16.2673 2.1476 2.0096 4.4134 3.549 6.3471 4.566.9661.5081 1.8026.8611 2.4565 1.0783.5577.1851.8514.2276.9186.2373l.004.0006.004-.0006c.0672-.0097.3609-.0522.9186-.2373.6539-.2172 1.4904-.5702 2.4565-1.0783 1.9337-1.017 4.1995-2.5564 6.3471-4.566 4.3306-4.0521 7.7738-9.6017 7.7738-16.2673v-15.205l-17.5-6.6455z",fill:"#ffa800",fillRule:"evenodd"}),(0,Fs.jsx)("path",{d:"m28.7178 49.1452c-.3645.121-.5992.1738-.7178.1961-.1187-.0223-.3533-.0751-.7178-.1961-.6142-.204-1.4178-.5419-2.3587-1.0367-1.8834-.9905-4.1014-2.4964-6.2056-4.4653-4.2479-3.9747-7.5679-9.3643-7.5679-15.7927v-14.7565l16.85-6.39871 16.85 6.39871v14.7565c0 6.4284-3.32 11.818-7.5679 15.7927-2.1042 1.9689-4.3222 3.4748-6.2056 4.4653-.9409.4948-1.7445.8327-2.3587 1.0367z",stroke:`url(#c-${t})`,strokeWidth:"1.3"})]}),(0,Fs.jsxs)("g",{filter:`url(#b-${t})`,children:[(0,Fs.jsx)("path",{d:"m30.3683 15c.6011 0 1.0662.5266.9968 1.1237-.548 4.7133-.8884 9.4483-1.5544 14.1405h-3.5607c-.6658-4.6909-1.0302-9.4239-1.6072-14.1342-.0734-.5992.3925-1.13.9962-1.13zm-4.7016 21.5342c0-.3397.0599-.663.1796-.9698.1307-.3069.3049-.5699.5227-.7891.2287-.2191.4954-.3945.8003-.526s.6316-.1972.98-.1972c.3376 0 .6588.0657.9637.1972s.5662.3069.784.526c.2287.2192.4083.4822.539.7891.1307.3068.196.6301.196.9698 0 .3507-.0653.6795-.196.9863-.1307.2959-.3103.5535-.539.7726-.2178.2192-.4791.3891-.784.5096-.3049.1315-.6261.1973-.9637.1973-.3484 0-.6751-.0658-.98-.1973-.3049-.1205-.5716-.2904-.8003-.5096-.2178-.2191-.392-.4767-.5227-.7726-.1197-.3068-.1796-.6356-.1796-.9863z",fill:"#ffe792"}),(0,Fs.jsx)("path",{d:"m29.631 35.0397h-.0001l.0066.0064c.1902.1822.3416.4025.4535.6652.1105.2595.166.5327.166.8229 0 .302-.0558.5798-.1651.8371-.1112.2511-.2624.4671-.4544.6511l-.0001-.0001-.0064.0065c-.1792.1803-.3961.3225-.6559.4252v-.0002l-.0106.0046c-.2572.1109-.5278.1666-.8152.1666-.2999 0-.5758-.0563-.8314-.1666v-.0002l-.0107-.0042c-.2598-.1027-.4838-.2456-.6754-.4284-.1806-.1826-.3272-.3979-.4391-.649-.0998-.2585-.151-.5383-.151-.8424 0-.2925.051-.5677.1519-.8282.1126-.2626.2592-.4821.4382-.6631.1941-.1853.4218-.3353.6861-.4492.2556-.1103.5315-.1666.8314-.1666.2874 0 .558.0556.8152.1666.2643.1139.4849.2632.6665.446zm.7373-19.6647c.3749 0 .6681.3291.6243.7054-.2146 1.8462-.3967 3.6864-.5783 5.5223-.2741 2.7698-.5471 5.5299-.9297 8.2865h-2.9086c-.3677-2.6452-.6417-5.2899-.9166-7.9435-.2019-1.9478-.4042-3.9003-.6444-5.8613-.0462-.3776.2475-.7094.624-.7094z",stroke:`url(#d-${t})`,strokeWidth:".75"})]})]})]})},uS=(0,m.memo)(lS),dS=()=>{const e=window.document.location.href.replace("http://","https://");return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(uS,{className:"d-block mx-auto",ariaHidden:!0}),(0,Fs.jsx)(Ll,{className:"text-center text-ellipsis mt-6",as:"p",token:"paymentMethodScreen.creditCardIsUnavailableInfo.part-1",params:{link:e}}),(0,Fs.jsx)(Ll,{className:"text-center text-ellipsis mt-2-5",as:"p",token:"paymentMethodScreen.creditCardIsUnavailableInfo.part-2",params:{link:e}})]})},hS=(0,m.memo)(dS),mS=e=>{const{transitionEntered:t,showBadge:n}=e,{state:i,controller:a}=No($n.PAYMENT_OPTIONS),r=(0,Zs.S)(),s=(0,no.Y)(),{isVariant2TestGroup:o}=(0,mc.X)(),[c,l]=(0,m.useState)(!1),u=(0,m.useCallback)((()=>{a.toggleFeeCovered()}),[a]),d=(0,m.useCallback)((e=>a.setPreSelectedPaymentOption(e)),[a]),h=(0,m.useCallback)((e=>a.choosePaymentOption(e)),[a]),p=(0,m.useCallback)((e=>{switch(e){case Ey.ACSS:return i.processingACSSState;case Ey.US_BANK_ACCOUNT:case Ey.US_BANK_ACCOUNT_INSTANT:case Ey.US_BANK_ACCOUNT_VERIFICATION:return i.processingUSBankAccountState;default:return"idle"}}),[i.processingACSSState,i.processingUSBankAccountState]);return(0,Fs.jsxs)("div",{className:"p-rel flow-screen","data-qa":"active-screen-payment-method",children:[(0,Fs.jsx)(Qo,{role:"status",autoFocus:r,children:s.translate("common.screenAriaLabel",{screenTitle:`${s.translate("paymentMethodScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:s.translate("paymentMethodScreen.title"),showBadge:n}),i.stripeElementsAvailable?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)(tc,{className:(0,Hs.Z)({"justify-center":r&&!o,"pt-8":!r&&!o,"pb-8":!r}),children:[!!i.preSelectedPaymentOption&&(0,Fs.jsx)(Kf,{availableOptions:i.availableOptions,buttonOptions:i.buttonOptions,locked:i.locked,selectedOption:i.preSelectedPaymentOption,onChoosePaymentOption:d,showDropdown:c,setShowDropdown:l}),(0,Fs.jsx)("div",{className:(0,Hs.Z)({"d-none":i.preSelectedPaymentOption!==Ey.CARD}),children:(0,Fs.jsx)(wy,{isReady:!!t&&i.preSelectedPaymentOption===Ey.CARD})})]}),(0,Fs.jsxs)(yc,{className:(0,Hs.Z)({"pt-12":r}),children:[(0,Fs.jsx)(zf,{showIncludeFee:i.showIncludeFee,isFeeCovered:i.isFeeCovered,locked:i.locked,processingFee:i.processingFee,currency:i.currency,toggleCheckbox:u,autoFocus:!0,includeFees:i.includeFees,transitionEntered:t}),(0,Fs.jsx)(Yf,{prefixCurrencySymbol:i.prefixCurrencySymbol,postfixCurrencySymbol:i.postfixCurrencySymbol,currency:i.currency,total:i.total,isRecurring:i.isRecurring,recurringLabel:i.recurringLabel}),i.isStripeAccountConnected?(0,Fs.jsx)(cS,{isButtonFullWidth:!0,preSelectedPaymentOption:i.preSelectedPaymentOption,availableOptions:i.availableOptions,buttonOptions:i.buttonOptions,locked:i.locked,onChoosePaymentOption:h,getProcessingState:p,isPaymentScreen:i.isPaymentScreen,LPOExperimentTestGroup:Wi.TEST_1,transitionEntered:t}):(0,Fs.jsx)("p",{className:"font-weight-600 text-center text-danger text-ellipsis",dangerouslySetInnerHTML:{__html:s.translate("paymentMethodScreen.stripe.connectionInfo")},"data-qa":"stripe-danger-text"})]})]}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body justify-center",{"pt-4 pb-6":r}),children:(0,Fs.jsx)("div",{className:"fixed-container",children:(0,Fs.jsx)(hS,{})})}),(0,Fs.jsx)(yc,{className:(0,Hs.Z)({"pt-10 pb-5":!r})})]}),i.showPaymentLoader&&(0,Fs.jsx)(Ay,{})]})};var pS=(0,m.memo)(mS),gS=e=>{let{option:t,isActive:n,onChoosePaymentOption:i}=e;const a=(0,no.Y)(),r=Ff(t,a);return(0,Fs.jsxs)("button",{type:"button",className:(0,Hs.Z)("payment-item btn-reset-default",{"payment-item-active":n}),onClick:()=>{i(t)},children:[(0,Fs.jsx)("span",{className:"payment-item-icon p-rel me-2 z-index-1",children:r.icon}),(0,Fs.jsx)("span",{className:(0,Hs.Z)("p-rel text-truncate z-index-1",n?"label-2":"label-3"),children:r.label}),n&&(0,Fs.jsx)(hp,{className:"icon-stroke shrink-0 p-rel font-size-16 text-primary ms-auto z-index-1","aria-hidden":"true"})]})},yS=e=>{let{className:t,onClick:n}=e;const i=(0,no.Y)();return(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)("btn-link link-2 text-nowrap text-ellipsis max-w-100",t),onClick:n,children:i.translate("paymentMethodScreen.moreOptions")})},fS=e=>{let{availableOptions:t,buttonOptions:n,selectedOption:i,showAllOptions:r,setShowAllOptions:s,onChoosePaymentOption:o}=e;const c=(0,no.Y)(),l=(0,Zs.S)(),u=Fe()(t).call(t,(e=>n[e].show)),d=l?u:Vf(u,i,3),h=r?d:a()(d).call(d,0,3),m=e=>{l||s(!1),o(e)};return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("p",{className:"label-4 text-truncate",children:c.translate("paymentMethodScreen.description")}),(0,Fs.jsxs)("div",{className:"p-rel",children:[!l&&(0,Fs.jsx)("div",{className:"invisible border",children:De()(h).call(h,(e=>(0,Fs.jsx)("div",{className:"payment-item"},e)))}),(0,Fs.jsx)("div",{className:(0,Hs.Z)("bg-white border-radius-8 border border-gray-20",{"p-abs top-left w-100":!l,"payment-option-list":r&&!l}),children:De()(h).call(h,(e=>(0,Fs.jsx)(gS,{option:e,isActive:i===e,onChoosePaymentOption:m},e)))})]}),(0,Fs.jsx)(yS,{className:(0,Hs.Z)("mt-2",{"d-none":r&&l||u.length<=3,invisible:r&&!l}),onClick:()=>{s(!0)}})]})};const vS=e=>{const{transitionEntered:t,showBadge:n}=e,{state:i,controller:a}=No($n.PAYMENT_OPTIONS),r=(0,Zs.S)(),s=(0,no.Y)(),{isVariant2TestGroup:o}=(0,mc.X)(),[c,l]=(0,m.useState)(!1),u=(0,m.useCallback)((()=>{a.toggleFeeCovered()}),[a]),d=(0,m.useCallback)((e=>a.setPreSelectedPaymentOption(e)),[a]),h=(0,m.useCallback)((e=>a.choosePaymentOption(e)),[a]),p=(0,m.useCallback)((e=>{switch(e){case Ey.ACSS:return i.processingACSSState;case Ey.US_BANK_ACCOUNT:case Ey.US_BANK_ACCOUNT_INSTANT:case Ey.US_BANK_ACCOUNT_VERIFICATION:return i.processingUSBankAccountState;default:return"idle"}}),[i.processingACSSState,i.processingUSBankAccountState]);return(0,Fs.jsxs)("div",{className:"p-rel flow-screen","data-qa":"active-screen-payment-method",children:[(0,Fs.jsx)(Qo,{role:"status",autoFocus:r,children:s.translate("common.screenAriaLabel",{screenTitle:`${s.translate("paymentMethodScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:s.translate("paymentMethodScreen.title"),showBadge:n}),i.stripeElementsAvailable?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)(tc,{className:(0,Hs.Z)({"justify-center":r&&!o,"pt-8":!r&&!o,"pb-8":!r}),children:[!!i.preSelectedPaymentOption&&(0,Fs.jsx)(fS,{availableOptions:i.availableOptions,buttonOptions:i.buttonOptions,locked:i.locked,selectedOption:i.preSelectedPaymentOption,onChoosePaymentOption:d,showAllOptions:c,setShowAllOptions:l}),(0,Fs.jsx)("div",{className:(0,Hs.Z)({"d-none":i.preSelectedPaymentOption!==Ey.CARD}),children:(0,Fs.jsx)(wy,{isReady:!!t&&i.preSelectedPaymentOption===Ey.CARD})})]}),(0,Fs.jsxs)(yc,{className:(0,Hs.Z)({"pt-12":r}),children:[(0,Fs.jsx)(zf,{showIncludeFee:i.showIncludeFee,isFeeCovered:i.isFeeCovered,locked:i.locked,processingFee:i.processingFee,currency:i.currency,toggleCheckbox:u,autoFocus:!0,includeFees:i.includeFees,transitionEntered:t}),(0,Fs.jsx)(Yf,{prefixCurrencySymbol:i.prefixCurrencySymbol,postfixCurrencySymbol:i.postfixCurrencySymbol,currency:i.currency,total:i.total,isRecurring:i.isRecurring,recurringLabel:i.recurringLabel}),i.isStripeAccountConnected?(0,Fs.jsx)(cS,{isButtonFullWidth:!0,preSelectedPaymentOption:i.preSelectedPaymentOption,availableOptions:i.availableOptions,buttonOptions:i.buttonOptions,locked:i.locked,onChoosePaymentOption:h,getProcessingState:p,isPaymentScreen:i.isPaymentScreen,LPOExperimentTestGroup:Wi.TEST_2,transitionEntered:t}):(0,Fs.jsx)("p",{className:"font-weight-600 text-center text-danger text-ellipsis",dangerouslySetInnerHTML:{__html:s.translate("paymentMethodScreen.stripe.connectionInfo")},"data-qa":"stripe-danger-text"})]})]}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body justify-center",{"pt-4 pb-6":r}),children:(0,Fs.jsx)("div",{className:"fixed-container",children:(0,Fs.jsx)(hS,{})})}),(0,Fs.jsx)(yc,{className:(0,Hs.Z)({"pt-10 pb-5":!r})})]}),i.showPaymentLoader&&(0,Fs.jsx)(Ay,{})]})};var SS=(0,m.memo)(vS);const CS=e=>{const{currency:t,prefixCurrencySymbol:n,postfixCurrencySymbol:i,total:a,isRecurring:r,recurringLabel:s}=e,o=(0,no.Y)(),c=(0,m.useMemo)((()=>(0,Hf.X)(t,o.locale)),[o.locale,t]);return(0,Fs.jsxs)("p",{role:"status",className:"text-center text-ellipsis","data-qa":"donation-amount-label",children:[n&&(0,Fs.jsx)("span",{className:"subtitle-1 d-inline-block","aria-hidden":"true",children:n}),(0,Fs.jsx)("span",{className:"subtitle-1 d-inline-block text-sans-serif",children:o.formatCurrency(a,{currency:t,display:"trimzeroes",withoutPrefix:!0,withoutSuffix:!0})}),i&&(0,Fs.jsx)("span",{className:"subtitle-1 d-inline-block",children:i}),(0,Fs.jsx)("span",{className:"subtitle-2 d-inline-block ms-1-5",children:c}),r&&(0,Fs.jsx)("span",{className:"subtitle-2 d-inline-block max-w-100 text-nowrap",children:s})]})},bS=(0,m.memo)(CS),ES=e=>{const t=ho();return(0,Fs.jsxs)("svg",{className:(0,Hs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:"68",viewBox:"0 0 56 68",width:"56",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"31.4131",width:"30.8215",x:"7.42749",y:"10.3657",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,Fs.jsx)("feOffset",{dy:"-.5"}),(0,Fs.jsx)("feGaussianBlur",{stdDeviation:"1.5"}),(0,Fs.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,Fs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.979167 0 0 0 0 0.3525 0 0 0 0 0 0 0 0 0.5 0"}),(0,Fs.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_8986_21698"})]}),(0,Fs.jsxs)("linearGradient",{id:`b-${t}`,gradientUnits:"userSpaceOnUse",x1:"23.3018",x2:"33.5",y1:"25.1587",y2:"35",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#ffba07"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#ff8a00"})]}),(0,Fs.jsxs)("radialGradient",{id:`c-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(3.64090919 -8.738167 7.18621663 2.99426209 18.9327 24.4305)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:".317708",stopColor:"#fff491"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#fff490",stopOpacity:"0"})]}),(0,Fs.jsxs)("linearGradient",{id:`d-${t}`,gradientUnits:"userSpaceOnUse",x1:"25.8578",x2:"24.1154",y1:"57.3837",y2:"54.6061",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#ff522d"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#ff7b5f"})]}),(0,Fs.jsxs)("radialGradient",{id:`e-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(2.583374 -.29682138 .24410427 2.12455258 24.357 55.5499)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,Fs.jsx)("stop",{offset:".317708",stopColor:"#ffd3ab"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#ffd3ab",stopOpacity:"0"})]}),(0,Fs.jsx)("clipPath",{id:`f-${t}`,children:(0,Fs.jsx)("path",{d:"m0 0h56v68h-56z"})}),(0,Fs.jsxs)("g",{clipPath:`url(#f-${t})`,children:[(0,Fs.jsxs)("g",{filter:`url(#a-${t})`,children:[(0,Fs.jsx)("path",{d:"m15.7885 11.8705c-.0023-.8288.9468-1.3005 1.6061-.7982l7.2797 5.5466c.2618.1995.605.2574.9177.1548l8.6962-2.8524c.7875-.2583 1.5294.4986 1.2554 1.2808l-3.0256 8.6374c-.1088.3106-.0578.6549.1364.9206l5.4001 7.3891c.489.6692-.0015 1.6087-.8302 1.5898l-9.1496-.2084c-.329-.0075-.6407.1474-.8334.4142l-5.3588 7.4191c-.4853.6719-1.5303.4957-1.7685-.2982l-2.6292-8.7662c-.0945-.3153-.3381-.5638-.6514-.6647l-8.71196-2.8038c-.78898-.2539-.94431-1.3023-.26285-1.7741l7.52471-5.2094c.2706-.1874.4317-.4959.4308-.825z",fill:`url(#b-${t})`}),(0,Fs.jsx)("path",{d:"m15.7885 11.8705c-.0023-.8288.9468-1.3005 1.6061-.7982l7.2797 5.5466c.2618.1995.605.2574.9177.1548l8.6962-2.8524c.7875-.2583 1.5294.4986 1.2554 1.2808l-3.0256 8.6374c-.1088.3106-.0578.6549.1364.9206l5.4001 7.3891c.489.6692-.0015 1.6087-.8302 1.5898l-9.1496-.2084c-.329-.0075-.6407.1474-.8334.4142l-5.3588 7.4191c-.4853.6719-1.5303.4957-1.7685-.2982l-2.6292-8.7662c-.0945-.3153-.3381-.5638-.6514-.6647l-8.71196-2.8038c-.78898-.2539-.94431-1.3023-.26285-1.7741l7.52471-5.2094c.2706-.1874.4317-.4959.4308-.825z",fill:`url(#c-${t})`,fillOpacity:".4"})]}),(0,Fs.jsx)("path",{d:"m27.6127 53.2098c.4692-.1126.8099.4391.4991.8082l-1.1699 1.3895c-.1023.1215-.1408.2843-.1038.4387l.4238 1.7663c.1126.4692-.4392.8099-.8083.4991l-1.3894-1.17c-.1215-.1022-.2843-.1407-.4387-.1037l-1.7663.4238c-.4692.1125-.8099-.4392-.4991-.8083l1.1699-1.3894c.1023-.1215.1408-.2843.1038-.4387l-.4238-1.7663c-.1126-.4693.4392-.81.8083-.4991l1.3894 1.1699c.1215.1023.2843.1408.4387.1038z",fill:`url(#d-${t})`}),(0,Fs.jsx)("path",{d:"m27.6127 53.2098c.4692-.1126.8099.4391.4991.8082l-1.1699 1.3895c-.1023.1215-.1408.2843-.1038.4387l.4238 1.7663c.1126.4692-.4392.8099-.8083.4991l-1.3894-1.17c-.1215-.1022-.2843-.1407-.4387-.1037l-1.7663.4238c-.4692.1125-.8099-.4392-.4991-.8083l1.1699-1.3894c.1023-.1215.1408-.2843.1038-.4387l-.4238-1.7663c-.1126-.4693.4392-.81.8083-.4991l1.3894 1.1699c.1215.1023.2843.1408.4387.1038z",fill:`url(#e-${t})`,fillOpacity:".4"}),(0,Fs.jsx)("path",{d:"m50.0525 13.2436c.3656-.2587.8608.0569.7807.4976l-.3906 2.1497c-.024.1322.0061.2685.0838.3782l1.262 1.7836c.2587.3656-.0569.8608-.4975.7807l-2.1498-.3906c-.1322-.024-.2685.0062-.3782.0838l-1.7836 1.262c-.3656.2588-.8608-.0568-.7807-.4975l.3906-2.1497c.024-.1322-.0062-.2685-.0838-.3782l-1.262-1.7836c-.2587-.3656.0568-.8608.4975-.7808l2.1498.3907c.1322.024.2685-.0062.3782-.0838z",fill:"#f90"}),(0,Fs.jsx)("path",{d:"m9.40768 43.4483c.0297-.68.87682-.972 1.31922-.4549l.9325 1.0901c.1351.1579.3296.2527.5372.2618l1.4332.0626c.6799.0297.9719.8767.4548 1.3192l-1.0901.9325c-.1579.1351-.2527.3296-.2617.5372l-.0626 1.4331c-.0297.68-.8768.972-1.3192.4549l-.9326-1.0901c-.135-.1579-.3296-.2527-.53714-.2617l-1.43317-.0627c-.67992-.0297-.97197-.8767-.45482-1.3191l1.09007-.9326c.15789-.1351.25267-.3296.26174-.5372z",fill:"#8ae5f1"}),(0,Fs.jsx)("circle",{cx:"28.5",cy:"4.5",fill:"#7dc6ff",r:"2.5"}),(0,Fs.jsx)("circle",{cx:"15.5",cy:"66.5",fill:"#ff7f24",r:"1.5"}),(0,Fs.jsx)("circle",{cx:"49.5",cy:"1.5",fill:"#8ae5f1",r:"1.5"})]})]})},AS=(0,m.memo)(ES),NS=e=>{const t=(0,co.S)(),n=(0,m.useRef)(null),i=(0,to.r)(n);return(0,Fs.jsx)(Ys.Z,{addEndListener:i,in:e.isFeeCovered,mountOnEnter:!0,unmountOnExit:!0,nodeRef:n,classNames:"fee-animated-stars",children:(0,Fs.jsx)("div",{ref:n,children:(0,Fs.jsx)(AS,{className:(0,Hs.Z)({"icon-flip-horizontal":t}),ariaHidden:!0})})})},PS=(0,m.memo)(NS);var xS;function kS(){return kS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kS.apply(this,arguments)}var wS=function(e,t){return m.createElement("svg",kS({fill:"none",height:20,viewBox:"0 0 20 20",width:20,xmlns:"http://www.w3.org/2000/svg",ref:t},e),xS||(xS=m.createElement("g",{stroke:"currentColor",strokeWidth:2},m.createElement("path",{d:"m16 1h-12c-1.65685 0-3 1.34315-3 3v12c0 1.6569 1.34315 3 3 3h12c1.6569 0 3-1.3431 3-3v-12c0-1.65685-1.3431-3-3-3z"}),m.createElement("path",{d:"m15.5 6-7.5625 8-3.4375-3.6364",strokeLinecap:"round",strokeLinejoin:"round"}))))},DS=(0,m.forwardRef)(wS),TS=(0,m.memo)(DS);const OS=e=>{const t=(0,no.Y)(),n=(0,co.S)(),i=(0,Zs.S)(),a=(0,m.useRef)(null),r=(0,m.useRef)(null),[s,o]=(0,m.useState)(!1),{showHelpTooltip:c,helpTooltipRef:l,handleHelpTooltipKeyDown:u,handleHelpTooltipChecked:d}=Zf(r);return(0,m.useEffect)((()=>{o(!!a.current&&!e.isFeeCovered&&!c)}),[e.isFeeCovered,c]),(0,ec.w)({ref:a,autoFocus:e.autoFocus,mode:Jo.E.DESKTOP}),(0,Fs.jsx)(Fs.Fragment,{children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("p-rel",e.className),children:[(0,Fs.jsxs)("div",{ref:a,role:"checkbox",id:"popover-fees",className:(0,Hs.Z)("fee-checkbox",{"fee-checkbox-checked":e.isFeeCovered,disabled:e.locked}),"aria-checked":e.isFeeCovered,tabIndex:0,onClick:e.toggleCheckbox,onKeyPress:e.toggleCheckbox,"data-qa":"cover-fee-checkbox","data-tracking-element-name":e.trackingElement,children:[(0,Fs.jsx)("span",{className:"fee-checkbox-bg"}),(0,Fs.jsxs)("div",{className:"fixed-container d-flex items-center justify-center p-rel",children:[(0,Fs.jsx)("div",{className:"p-abs centered-left ms-minus-9 mt-minus-5",children:(0,Fs.jsx)(PS,{isFeeCovered:e.isFeeCovered})}),(0,Fs.jsx)("span",{className:"shrink-0 icon-slot icon-slot-18 me-2",children:(0,Fs.jsx)("span",{className:"p-abs centered font-size-18",children:e.isFeeCovered?(0,Fs.jsx)(TS,{className:"icon-stroke d-block"}):(0,Fs.jsx)("span",{className:"fee-checkbox-icon"})})}),(0,Fs.jsx)("span",{className:"label-4 text-truncate text-noselect",children:t.translate("paymentMethodScreen.coverLabel")}),(0,Fs.jsx)("span",{className:"shrink-0 icon-slot icon-slot-18 line-height-20 ms-2",children:(0,Fs.jsx)("button",{type:"button","data-qa":"transaction-cost-tip",ref:r,className:(0,Hs.Z)("btn-icon p-abs centered font-size-18",e.isFeeCovered?"text-white":"text-gray-60"),"aria-label":t.translate("paymentMethodScreen.transactionCostsHelpAriaLabel"),disabled:e.locked,onClick:d,onKeyDown:u,children:(0,Fs.jsx)(vc.Z,{className:(0,Hs.Z)("icon-stroke d-block",{"icon-flip-horizontal":n})})})})]})]}),e.transitionEntered&&!e.locked&&(0,Fs.jsx)(jc.K,{triggerRef:r,ref:l,show:c,maxWidth:i?"228px":"252px",placement:n?"left":"right",fallbackPlacements:["top-end"],dataQa:"why-cover-fee-tooltip",children:(0,Fs.jsx)(Ll,{className:"fee-tooltip",token:"paymentMethodScreen.transactionCostsTooltipMessage",params:{processingFee:t.formatCurrency(e.processingFee,{currency:e.currency,display:"floatcents"})}})}),e.transitionEntered&&!e.locked&&!i&&(0,Fs.jsx)(jc.K,{triggerRef:a,show:s,maxWidth:"228px",placement:n?"left":"right",fallbackPlacements:["bottom"],dataQa:"cover-fee-tooltip",children:t.translate("paymentMethodScreen.coverCostsQuestion")})]})})},_S=(0,m.memo)(OS),IS=["click"],RS=e=>{const t=(0,no.Y)(),n=(0,co.S)(),i=(0,Zs.S)(),a=(0,m.useRef)(null),r=(0,m.useRef)(null),s=(0,to.r)(r),o=[n?"top-start":"top-end"];return(0,Fs.jsxs)(Fs.Fragment,{children:[e.showIncludeFee&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(_S,{className:"mt-8",isFeeCovered:e.isFeeCovered,processingFee:e.processingFee,currency:e.currency,locked:e.locked,autoFocus:e.autoFocus,trackingElement:"coverFee",toggleCheckbox:e.toggleCheckbox,transitionEntered:e.transitionEntered}),(0,Fs.jsx)(Ys.Z,{nodeRef:r,in:!e.isFeeCovered&&i,mountOnEnter:!0,unmountOnExit:!0,addEndListener:s,classNames:"fee-accordion",children:(0,Fs.jsx)("div",{ref:r,className:"px-body",children:(0,Fs.jsx)("div",{className:"fixed-container",children:(0,Fs.jsx)("p",{className:"body-3 text-center text-ellipsis pt-6","data-qa":"cover-fee-tooltip",children:t.translate("paymentMethodScreen.coverCostsQuestion")})})})})]}),e.includeFees===h.__.ONLY_YES&&(0,Fs.jsx)("div",{className:"px-body mt-4",children:(0,Fs.jsxs)("div",{className:"fixed-container d-flex items-start justify-center","data-qa":"fee-amount-text",children:[(0,Fs.jsx)("p",{className:"body-3 text-ellipsis",children:t.translate("paymentMethodScreen.transactionCostsIncluded",{amount:t.formatCurrency(e.processingFee,{currency:e.currency,display:"floatcents"})})}),(0,Fs.jsx)("div",{className:"shrink-0 icon-slot icon-slot-18 line-height-20 ms-1",children:(0,Fs.jsx)("button",{type:"button",ref:a,disabled:e.locked,className:"btn-icon p-abs centered font-size-18 text-gray-60","aria-label":t.translate("paymentMethodScreen.transactionCostsHelpAriaLabel"),"data-qa":"transaction-cost-tip",children:(0,Fs.jsx)(vc.Z,{className:(0,Hs.Z)("icon-stroke d-block",{"icon-flip-horizontal":n})})})}),e.transitionEntered&&!e.locked&&(0,Fs.jsx)(Uo.N,{triggerRef:a,maxWidth:"228px",trigger:IS,placement:n?"left":"right",fallbackPlacements:o,dataQa:"why-cover-fee-tooltip",children:t.translate("paymentMethodScreen.transactionCostsInfo")})]})})]})},LS=(0,m.memo)(RS),MS=e=>{const{transitionEntered:t,showBadge:n}=e,{state:i,controller:a}=No($n.PAYMENT_OPTIONS),r=(0,Zs.S)(),s=(0,no.Y)(),{isVariant2TestGroup:o}=(0,mc.X)(),[c,l]=(0,m.useState)(!1),u=(0,m.useCallback)((()=>{a.toggleFeeCovered()}),[a]),d=(0,m.useCallback)((e=>a.setPreSelectedPaymentOption(e)),[a]),h=(0,m.useCallback)((e=>a.choosePaymentOption(e)),[a]),p=(0,m.useCallback)((e=>{switch(e){case Ey.ACSS:return i.processingACSSState;case Ey.US_BANK_ACCOUNT:case Ey.US_BANK_ACCOUNT_INSTANT:case Ey.US_BANK_ACCOUNT_VERIFICATION:return i.processingUSBankAccountState;default:return"idle"}}),[i.processingACSSState,i.processingUSBankAccountState]);return(0,Fs.jsxs)("div",{className:"p-rel flow-screen","data-qa":"active-screen-payment-method",children:[(0,Fs.jsx)(Qo,{role:"status",autoFocus:r,children:s.translate("common.screenAriaLabel",{screenTitle:`${s.translate("paymentMethodScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:s.translate("paymentMethodScreen.title"),showBadge:n}),i.stripeElementsAvailable?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)(tc,{className:(0,Hs.Z)({"justify-center":r&&!o,"pt-8":!r&&!o,"pb-8":!r}),children:[(0,Fs.jsx)("div",{className:(0,Hs.Z)("px-body",{"pt-2":r&&o}),children:(0,Fs.jsx)("div",{className:"fixed-container",children:(0,Fs.jsx)(bS,{prefixCurrencySymbol:i.prefixCurrencySymbol,postfixCurrencySymbol:i.postfixCurrencySymbol,currency:i.currency,total:i.total,isRecurring:i.isRecurring,recurringLabel:i.recurringLabel})})}),i.isInited&&(0,Fs.jsx)(LS,{showIncludeFee:i.showIncludeFee,isFeeCovered:i.isFeeCovered,locked:i.locked,processingFee:i.processingFee,currency:i.currency,toggleCheckbox:u,autoFocus:!0,includeFees:i.includeFees,transitionEntered:t}),!!i.preSelectedPaymentOption&&(0,Fs.jsx)(Kf,{availableOptions:i.availableOptions,buttonOptions:i.buttonOptions,locked:i.locked,selectedOption:i.preSelectedPaymentOption,onChoosePaymentOption:d,showDropdown:c,setShowDropdown:l}),(0,Fs.jsx)("div",{className:(0,Hs.Z)({"d-none":i.preSelectedPaymentOption!==Ey.CARD}),children:(0,Fs.jsx)(wy,{isReady:!!t&&i.preSelectedPaymentOption===Ey.CARD})})]}),(0,Fs.jsx)(yc,{className:(0,Hs.Z)({"pt-12":r}),children:i.isStripeAccountConnected?(0,Fs.jsx)(cS,{isButtonFullWidth:!0,preSelectedPaymentOption:i.preSelectedPaymentOption,availableOptions:i.availableOptions,buttonOptions:i.buttonOptions,locked:i.locked,onChoosePaymentOption:h,getProcessingState:p,isPaymentScreen:i.isPaymentScreen,LPOExperimentTestGroup:Wi.TEST_3,transitionEntered:t}):(0,Fs.jsx)("p",{className:"font-weight-600 text-center text-danger text-ellipsis",dangerouslySetInnerHTML:{__html:s.translate("paymentMethodScreen.stripe.connectionInfo")},"data-qa":"stripe-danger-text"})})]}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body justify-center",{"pt-4 pb-6":r}),children:(0,Fs.jsx)("div",{className:"fixed-container",children:(0,Fs.jsx)(hS,{})})}),(0,Fs.jsx)(yc,{className:(0,Hs.Z)({"pt-10 pb-5":!r})})]}),i.showPaymentLoader&&(0,Fs.jsx)(Ay,{})]})};var jS=(0,m.memo)(MS);const FS=e=>{const{transitionEntered:t,showBadge:n}=e,{state:i,controller:a}=No($n.PAYMENT_OPTIONS),r=(0,Zs.S)(),s=(0,no.Y)(),{isVariant2TestGroup:o}=(0,mc.X)(),c=(0,m.useCallback)((()=>{a.toggleFeeCovered()}),[a]),l=(0,m.useCallback)((e=>a.choosePaymentOption(e)),[a]),u=(0,m.useCallback)((e=>{switch(e){case Ey.ACSS:return i.processingACSSState;case Ey.US_BANK_ACCOUNT:case Ey.US_BANK_ACCOUNT_INSTANT:case Ey.US_BANK_ACCOUNT_VERIFICATION:return i.processingUSBankAccountState;default:return"idle"}}),[i.processingACSSState,i.processingUSBankAccountState]);return(0,Fs.jsxs)("div",{className:"p-rel flow-screen","data-qa":"active-screen-payment-method",children:[(0,Fs.jsx)(Qo,{role:"status",autoFocus:r,children:s.translate("common.screenAriaLabel",{screenTitle:`${s.translate("paymentMethodScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:s.translate("paymentMethodScreen.title"),showBadge:n}),i.stripeElementsAvailable?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)(tc,{className:(0,Hs.Z)({"justify-center":r&&!o,"pt-8":!r&&!o,"pb-8":!r}),children:[(0,Fs.jsx)("div",{className:(0,Hs.Z)("px-body",{"pt-2":r&&o}),children:(0,Fs.jsx)("div",{className:"fixed-container",children:(0,Fs.jsx)(bS,{prefixCurrencySymbol:i.prefixCurrencySymbol,postfixCurrencySymbol:i.postfixCurrencySymbol,currency:i.currency,total:i.total,isRecurring:i.isRecurring,recurringLabel:i.recurringLabel})})}),i.isInited&&(0,Fs.jsx)(LS,{showIncludeFee:i.showIncludeFee,isFeeCovered:i.isFeeCovered,locked:i.locked,processingFee:i.processingFee,currency:i.currency,toggleCheckbox:c,autoFocus:!0,includeFees:i.includeFees,transitionEntered:t})]}),(0,Fs.jsx)(yc,{className:(0,Hs.Z)({"pt-12":r}),children:i.isStripeAccountConnected?(0,Fs.jsx)(cS,{isShowMoreButton:!0,isButtonFullWidth:!0,maxPaymentOptions:3,LPOExperimentTestGroup:Wi.TEST_4,availableOptions:i.availableOptions,buttonOptions:i.buttonOptions,locked:i.locked,onChoosePaymentOption:l,getProcessingState:u,isPaymentScreen:i.isPaymentScreen,transitionEntered:t}):(0,Fs.jsx)("p",{className:"font-weight-600 text-center text-danger text-ellipsis",dangerouslySetInnerHTML:{__html:s.translate("paymentMethodScreen.stripe.connectionInfo")},"data-qa":"stripe-danger-text"})})]}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body justify-center",{"pt-4 pb-6":r}),children:(0,Fs.jsx)("div",{className:"fixed-container",children:(0,Fs.jsx)(hS,{})})}),(0,Fs.jsx)(yc,{className:(0,Hs.Z)({"pt-10 pb-5":!r})})]}),i.showPaymentLoader&&(0,Fs.jsx)(Ay,{})]})};var US=(0,m.memo)(FS);const BS=e=>{const{transitionEntered:t,showBadge:n}=e,{state:i,controller:a}=No($n.PAYMENT_OPTIONS),r=(0,Zs.S)(),s=(0,no.Y)(),{isVariant2TestGroup:o}=(0,mc.X)(),c=(0,m.useCallback)((()=>{a.toggleFeeCovered()}),[a]),l=(0,m.useCallback)((e=>a.choosePaymentOption(e)),[a]),u=(0,m.useCallback)((e=>{switch(e){case Ey.ACSS:return i.processingACSSState;case Ey.US_BANK_ACCOUNT:case Ey.US_BANK_ACCOUNT_INSTANT:case Ey.US_BANK_ACCOUNT_VERIFICATION:return i.processingUSBankAccountState;default:return"idle"}}),[i.processingACSSState,i.processingUSBankAccountState]);return(0,Fs.jsxs)("div",{className:"p-rel flow-screen","data-qa":"active-screen-payment-method",children:[(0,Fs.jsx)(Qo,{role:"status",autoFocus:r,children:s.translate("common.screenAriaLabel",{screenTitle:`${s.translate("paymentMethodScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:s.translate("paymentMethodScreen.title"),showBadge:n}),i.stripeElementsAvailable?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)(tc,{className:(0,Hs.Z)({"justify-center":r&&!o,"pt-8":!r&&!o,"pb-8":!r}),children:[(0,Fs.jsx)("div",{className:(0,Hs.Z)("px-body",{"pt-2":r&&o}),children:(0,Fs.jsx)("div",{className:"fixed-container",children:(0,Fs.jsx)(bS,{prefixCurrencySymbol:i.prefixCurrencySymbol,postfixCurrencySymbol:i.postfixCurrencySymbol,currency:i.currency,total:i.total,isRecurring:i.isRecurring,recurringLabel:i.recurringLabel})})}),i.isInited&&(0,Fs.jsx)(LS,{showIncludeFee:i.showIncludeFee,isFeeCovered:i.isFeeCovered,locked:i.locked,processingFee:i.processingFee,currency:i.currency,toggleCheckbox:c,autoFocus:!0,includeFees:i.includeFees,transitionEntered:t})]}),(0,Fs.jsx)(yc,{className:(0,Hs.Z)({"pt-12":r}),children:i.isStripeAccountConnected?(0,Fs.jsx)(cS,{availableOptions:i.availableOptions,buttonOptions:i.buttonOptions,locked:i.locked,onChoosePaymentOption:l,getProcessingState:u,isPaymentScreen:i.isPaymentScreen,transitionEntered:t}):(0,Fs.jsx)("p",{className:"font-weight-600 text-center text-danger text-ellipsis",dangerouslySetInnerHTML:{__html:s.translate("paymentMethodScreen.stripe.connectionInfo")},"data-qa":"stripe-danger-text"})})]}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body justify-center",{"pt-4 pb-6":r}),children:(0,Fs.jsx)("div",{className:"fixed-container",children:(0,Fs.jsx)(hS,{})})}),(0,Fs.jsx)(yc,{className:(0,Hs.Z)({"pt-10 pb-5":!r})})]}),i.showPaymentLoader&&(0,Fs.jsx)(Ay,{})]})};var GS=(0,m.memo)(BS);const qS=e=>{const{controller:t}=No($n.PAYPAL_CONVERSION),n=(0,m.useRef)(null),i=(0,m.useRef)(null);return(0,m.useEffect)((()=>{if(n.current)return t.initiatePaypal({element:n.current,buttonColor:Lv.SILVER}),()=>t.closePaypalButton()}),[t]),(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)(jc.K,{triggerRef:i,show:Boolean(e.errorMessage),maxWidth:"var(--fixed-container-width-desktop)",children:(0,Fs.jsx)("span",{className:"text-red-80 font-weight-600",children:e.errorMessage})}),(0,Fs.jsxs)("div",{className:"btn btn-paypal-silver p-rel",ref:i,children:[(0,Fs.jsx)("div",{className:"p-abs z-index-2 top-left bottom-right border-radius-base cursor-pointer overflow-hidden",children:(0,Fs.jsx)("div",{id:"paypal-button",className:"p-abs centered min-w-100","data-qa":"paypal-button-on-conversion-screen",children:(0,Fs.jsx)("div",{className:"tap-highlight line-height-0",ref:n})})}),(0,Fs.jsx)("div",{className:"d-flex items-center justify-center",children:(0,Fs.jsx)(Gv,{width:69,height:22})})]})]})},VS=(0,m.memo)(qS),KS=e=>{const t=ho();return(0,Fs.jsxs)("svg",{className:(0,Hs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",viewBox:"0 0 192 192",height:e.height||192,width:e.width||192,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"32",width:"54",x:"0",y:"73",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_20987_82251",stdDeviation:"2"})]}),(0,Fs.jsxs)("filter",{id:`b-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"33",width:"74.0015",x:"116",y:"30",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_20987_82251",stdDeviation:"1"})]}),(0,Fs.jsxs)("linearGradient",{id:`c-${t}`,gradientUnits:"userSpaceOnUse",x1:"123.858",x2:"123.858",y1:"106",y2:"160",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#ffcdd0"}),(0,Fs.jsx)("stop",{offset:".538747",stopColor:"#f3a3b1"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#e36c89"})]}),(0,Fs.jsxs)("linearGradient",{id:`d-${t}`,gradientUnits:"userSpaceOnUse",x1:"160",x2:"91",y1:"151",y2:"151",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#ffeaea"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#f39cad",stopOpacity:"0"})]}),(0,Fs.jsxs)("linearGradient",{id:`e-${t}`,gradientUnits:"userSpaceOnUse",x1:"146",x2:"146",y1:"101.5",y2:"121",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#ffeaea"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#f9b8c0"})]}),(0,Fs.jsxs)("linearGradient",{id:`f-${t}`,gradientUnits:"userSpaceOnUse",x1:"52.6803",x2:"52.6803",y1:"137.102",y2:"160",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#c7ddff"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#82b4ff"})]}),(0,Fs.jsxs)("linearGradient",{id:`g-${t}`,gradientUnits:"userSpaceOnUse",x1:"56.5917",x2:"56.5917",y1:"137.5",y2:"160",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#e2eeff"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#b8d4ff",stopOpacity:"0"})]}),(0,Fs.jsxs)("linearGradient",{id:`h-${t}`,children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#e3efff"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#79afff",stopOpacity:"0"})]}),(0,Fs.jsx)("linearGradient",{id:`i-${t}`,gradientUnits:"userSpaceOnUse",x1:"51.7161",x2:"51.7161",xlinkHref:`#h-${t}`,y1:"134.402",y2:"143.548"}),(0,Fs.jsxs)("linearGradient",{id:`j-${t}`,gradientUnits:"userSpaceOnUse",x1:"125",x2:"125",y1:"107",y2:"117",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#ffeaea"}),(0,Fs.jsx)("stop",{offset:".795622",stopColor:"#f5a4b2"})]}),(0,Fs.jsx)("linearGradient",{id:`k-${t}`,gradientUnits:"userSpaceOnUse",x1:"72.1794",x2:"79.9847",xlinkHref:`#h-${t}`,y1:"138.252",y2:"136.343"}),(0,Fs.jsxs)("linearGradient",{id:`l-${t}`,gradientUnits:"userSpaceOnUse",x1:"57.1949",x2:"10.2114",y1:"104.979",y2:"85.2225",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#cedbee"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#eaf1fc"})]}),(0,Fs.jsxs)("linearGradient",{id:`m-${t}`,gradientUnits:"userSpaceOnUse",x1:"161.08",x2:"128.165",y1:"57.9363",y2:"35.77",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#a5bbdb"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#e1ebfb"})]}),(0,Fs.jsx)("path",{d:"m118.617 159.5h-40.5989c8.3875-2.121 15.8666-7.505 21.642-15.067 7.5609-9.901 12.2229-23.557 12.2229-38.62v-7.813c0-.8284.672-1.5 1.5-1.5h44.617c.828 0 1.5.6716 1.5 1.5v7.813c0 14.864-4.601 28.301-12.018 38.013-7.416 9.71-17.625 15.674-28.865 15.674z",fill:`url(#c-${t})`,stroke:`url(#d-${t})`}),(0,Fs.jsx)("path",{d:"m137.725 103.038.002-.002c.758-.943 1.902-1.386 3.361-1.386h2.118c.47 0 .85.381.85.85v2.588c0 .47-.38.85-.85.85h-1.009c-.299 0-.588.016-.867.047-.251.034-.433.104-.561.194-.071.049-.131.134-.131.331 0 .289.089.376.176.417.2.09.476.145.843.145h3.458c.271 0 .538-.019.801-.056l.008-.001c.239-.028.416-.092.547-.179.066-.044.123-.119.123-.307 0-.19-.054-.305-.134-.385-.088-.087-.246-.17-.521-.214-.405-.064-.794-.397-.794-.881v-2.167c0-.469.381-.85.85-.85h8.355c.47 0 .85.381.85.85v7.226c0 .469-.38.85-.85.85h-2.298c-.47 0-.85-.381-.85-.85v-3.951c0-.083-.067-.15-.15-.15h-1.072c-.007.007-.017.02-.027.042-.013.028-.02.058-.02.084-.001.025.005.037.006.04l-.306.17c.167.294.25.637.25 1.03 0 .784-.153 1.421-.46 1.911zm0 0c-.726.918-1.075 2.085-1.075 3.472 0 1.039.164 1.908.52 2.584l.001.002c.359.675.876 1.191 1.546 1.538.651.343 1.419.565 2.297.674.87.113 1.841.169 2.912.169.84 0 1.63-.053 2.368-.16.748-.102 1.417-.294 2.002-.58.604-.29 1.082-.713 1.424-1.268zm.373 9.757-.001.001c-.919.88-1.357 2.109-1.357 3.635 0 1.532.438 2.763 1.358 3.637.919.872 2.217 1.282 3.839 1.282h7.936c1.7 0 3.059-.386 4.025-1.211.988-.838 1.452-2.098 1.452-3.708 0-1.603-.465-2.863-1.452-3.707-.965-.825-2.325-1.211-4.025-1.211h-7.936c-1.622 0-2.92.41-3.839 1.282zm13.102 4.014-.008.003c-.266.079-.591.122-.979.122h-8.686c-.246 0-.459-.059-.647-.174-.152-.093-.202-.194-.202-.329 0-.125.048-.229.205-.33.188-.114.399-.173.644-.173h8.686c.389 0 .715.04.983.114.086.026.128.063.155.104.03.047.061.133.061.285 0 .153-.031.237-.06.281-.025.038-.065.074-.152.097z",fill:"#ec7e99",stroke:`url(#e-${t})`,strokeWidth:".7"}),(0,Fs.jsx)("path",{d:"m113.214 126.578c-.442 0-.832.293-.963.716-5.966 19.241-19.8364 32.706-36.8721 32.706h37.7041c16.858 0 32.041-13.186 38.856-32.108.232-.642-.25-1.314-.933-1.314z",fill:"#d64a6c",opacity:".3"}),(0,Fs.jsx)("path",{d:"m109.394 153.677c.472.106 1.052.237 1.552 2.372l-.01.011c-.1.803-.259.55-.477.203-.238-.379-.547-.871-.924-.203.413.405.501.946.579 1.425.118.721.212 1.302 1.355 1.076-1.276-1.709-.27-1.622.827-1.528 1.321.114 2.773.239.521-2.752 1.413.844 1.42 2.621 1.426 4.136.002.581.004 1.123.086 1.559 2.236-.086 4.44-.403 6.595-.934.002-.043.003-.087.004-.132.007-.544.017-1.25 3.181-2.17.863-1.82-.362-1.996-1.744-2.194-1.296-.186-2.73-.392-2.71-1.992-3.151-.466-2.556-.614-1.223-.945 1.121-.279 2.763-.688 3.136-1.524 3.434-3.614 4.567-.472 5.617 2.442.442 1.229.871 2.417 1.45 3.041.264.113.476.19.644.236.183-.098.364-.197.545-.298-.057-.209-.209-.487-.366-.774-.448-.817-.932-1.7.672-1.194-.331-.7-.259-.664-.066-.567.208.105.558.28.694-.323 2.227 1.319 1.652-1.266-.669-1.339-.16-.684-.065-.644.099-.575.181.075.445.185.549-.587-.747-.392-.03-1.238.592-1.972.588-.694 1.091-1.288.192-1.303-.115-.125.941-3.526.993-1.81.532-.197.953-1.023 1.306-1.715.34-.667.617-1.21.869-.943-.021-2.051 1.258-4.537 2.464-6.88.664-1.291 1.307-2.539 1.697-3.647.269-.889.122-1.872-.019-2.823-.078-.528-.155-1.045-.159-1.53-.857.868-2.457-.136-1.244-.053.054-.381.074-.673.068-.893h-1.167c-.417.369-.771.665-.706 0h-3.669c.042.074.084.15.126.226.764 1.363 1.626 2.904-.151.73 1.191 4.751-3.607 6.049-7.371 5.902-.407-.382-1.798.076-2.805.407-1.062.349-1.696.558-.289-.512-5.147-3.489-8.539-2.927-11.17-.601-2.321 5.615-5.361 10.598-8.98 14.719 1.436-.045 1.89.591 2.874 1.966.065.091.133.185.203.282-.085 1.059 1.325.947 2.116.883.382-.03.62-.049.477.08 1.62.032-.084.293-.722.032.795.321 1.036.553 1.227.736.201.193.346.333 1.021.467.105 1.606.449 1.683.884 1.782z",fill:"#ffe1e3",opacity:".2"}),(0,Fs.jsx)("path",{d:"m81.0728 130.497c5.7145 14.753 16.6308 25.739 29.7642 29.003h-40.8835c-15.7515 0-29.5097-11.303-36.4615-28.035-.388-.934.3084-1.965 1.3559-1.965h44.794c.6293 0 1.1984.397 1.4309.997z",fill:`url(#f-${t})`,stroke:`url(#g-${t})`}),(0,Fs.jsx)("path",{d:"m43.2126 134.363c-.1049 0-.1996.017-.2791.05l.2792.281-.2792-.281-2.537 1.058c-.2661.111-.3297.387-.1601.694l.8366 1.516c.1899.344.7188.577 1.0078.444l1.1496-.529 2.9535 5.352c.2268.412.7912.745 1.2607.745h1.4177c.4695 0 .6662-.333.4394-.745l-4.4717-8.103c-.1467-.266-.5119-.482-.8157-.482zm6.8846-.162c-1.4739 0-2.4098.486-2.7614 1.352-.3491.86-.1115 2.066.6659 3.475s1.8711 2.615 3.1691 3.475c1.3073.866 2.7791 1.352 4.2531 1.352 1.4739 0 2.4099-.486 2.7614-1.352.3491-.86.1115-2.066-.6659-3.475-.7773-1.409-1.8711-2.615-3.169-3.475-1.3074-.866-2.7792-1.352-4.2532-1.352zm3.8754 7.023c-.6047 0-1.0774-.184-1.4967-.509-.4526-.35-.8957-.904-1.328-1.687-.4323-.784-.6-1.337-.534-1.687.0613-.325.33-.509.9346-.509.6047 0 1.0774.184 1.4968.509.4525.35.8956.903 1.3279 1.687.4324.783.6001 1.337.534 1.687-.0613.325-.3299.509-.9346.509zm6.083-7.023c-1.474 0-2.4099.486-2.7615 1.352-.3491.86-.1115 2.066.6659 3.475s1.8712 2.615 3.1691 3.475c1.3073.866 2.7792 1.352 4.2531 1.352 1.474 0 2.4099-.486 2.7615-1.352.349-.86.1115-2.066-.6659-3.475s-1.8712-2.615-3.1691-3.475c-1.3074-.866-2.7792-1.352-4.2531-1.352zm3.8753 7.023c-.6047 0-1.0773-.184-1.4967-.509-.4526-.35-.8956-.904-1.328-1.687-.4323-.784-.6-1.337-.5339-1.687.0612-.325.3299-.509.9346-.509s1.0773.184 1.4967.509c.4525.35.8956.903 1.328 1.687.4323.783.6 1.337.5339 1.687-.0612.325-.3299.509-.9346.509z",fill:"#5a9bfc",stroke:`url(#i-${t})`,strokeWidth:".7"}),(0,Fs.jsx)("path",{d:"m47 146c2.0574 2.416 4.2848 4.549 6.6572 6.318h-.0043c5.0295 3.745 10.4735 5.987 15.9779 7.279 1.1872.276 2.4004.403 3.6178.403h30.7514c-6.9971-2.486-13.3437-7.466-18.5177-14z",fill:"#5a9bfc",opacity:".4"}),(0,Fs.jsx)("path",{d:"m124.524 107.601c.283-.319.782-.319 1.065 0l.531.6c.178.201.454.284.714.216l.865-.229c.448-.118.888.218.892.682l.004.449c.003.317.216.594.521.679l.569.158c.502.139.688.753.349 1.148l-.2.233c-.228.266-.228.66 0 .926l.2.233c.339.395.153 1.009-.349 1.148l-.569.158c-.305.085-.518.362-.521.679l-.004.449c-.004.464-.444.8-.892.682l-.865-.229c-.26-.068-.536.015-.714.216l-.531.6c-.283.319-.782.319-1.065 0l-.53-.6c-.179-.201-.455-.284-.714-.216l-.866.229c-.448.118-.888-.218-.892-.682l-.004-.449c-.003-.317-.215-.594-.521-.679l-.568-.158c-.502-.139-.689-.753-.35-1.148l.2-.233c.229-.266.229-.66 0-.926l-.2-.233c-.339-.395-.152-1.009.35-1.148l.568-.158c.306-.085.518-.362.521-.679l.004-.449c.004-.464.444-.8.892-.682l.866.229c.259.068.535-.015.714-.216z",fill:"#f5a4b2",stroke:`url(#j-${t})`,strokeWidth:".7"}),(0,Fs.jsx)("path",{d:"m124.55 109.515c.278-.283.735-.283 1.014 0l.114.116c.174.178.429.251.671.193l.373-.088c.351-.084.689.181.693.542.002.256.177.478.426.54l.221.055c.356.089.484.53.23.796-.176.185-.176.477 0 .662.254.266.126.707-.23.796l-.221.055c-.249.062-.424.284-.426.54-.004.361-.342.626-.693.542l-.373-.088c-.242-.058-.497.015-.671.193l-.114.116c-.279.283-.736.283-1.014 0l-.114-.116c-.175-.178-.43-.251-.672-.193l-.373.088c-.351.084-.689-.181-.692-.542-.003-.256-.178-.478-.427-.54l-.22-.055c-.357-.089-.485-.53-.231-.796.177-.185.177-.477 0-.662-.254-.266-.126-.707.231-.796l.22-.055c.249-.062.424-.284.427-.54.003-.361.341-.626.692-.542l.373.088c.242.058.497-.015.672-.193z",fill:"#f091a6"}),(0,Fs.jsx)("path",{d:"m116.413 102c-.553 0-1 .448-1 1v3.475c0 4.609-.411 9.083-1.189 13.35-.111.609.353 1.175.972 1.175.467 0 .871-.33.957-.789.824-4.384 1.26-8.988 1.26-13.736v-3.475c0-.552-.448-1-1-1z",fill:"#f4a0b0"}),(0,Fs.jsx)("path",{d:"m72.7042 136.954.3018-.115-.3018.115.0245.041c.063.104.0592.232-.048.316l-.0326.026.2632.279-.2632-.279c-.5033.399-.3043 1.213.3901 1.596l.045.025c.1479.081.2141.208.2022.313l-.0046.041.3578.108-.3578-.108c-.0766.677.6475 1.277 1.3279 1.273h.0483c.181-.002.3387.098.4083.21l.0251.04c.3959.634 1.271.83 1.7476.466l.0331-.026-.2607-.282.2607.282c.1149-.088.304-.09.461-.006l.0453.025c.6509.349 1.4253.132 1.5095-.508l.0053-.041c.0149-.113.1228-.216.3031-.22l.0482-.001c.6782-.013 1.105-.629.699-1.299l-.0245-.041c-.0629-.103-.0591-.231.0481-.316l.0326-.026c.5033-.399.3043-1.213-.3902-1.596l-.0449-.025c-.148-.081-.2141-.208-.2022-.313l.0046-.041c.0765-.677-.6476-1.277-1.328-1.273l-.0482.001c-.181.001-.3387-.099-.4083-.211l-.0252-.04c-.3958-.634-1.271-.83-1.7475-.466l-.0331.026.2606.282-.2606-.282c-.115.088-.3041.09-.4611.006l-.0452-.025-.1214.288.1214-.288c-.651-.349-1.4254-.132-1.5095.509l-.0054.04.3572.113-.3572-.113c-.0148.113-.1227.216-.3031.22l-.0481.001c-.6783.013-1.1051.629-.6991 1.299z",fill:"#5a9bfc",fillOpacity:".5",stroke:`url(#k-${t})`,strokeWidth:".7"}),(0,Fs.jsx)("g",{filter:`url(#a-${t})`,children:(0,Fs.jsx)("path",{d:"m49.824 77.3626c-9.4961 7.3561-22.5582 9.8835-34.8649 5.5746-4.0267-1.4098-7.64974-3.4385-10.7964-5.9372-.46036 8.2484-.03903 12.8248 2.50507 20.998.42026.1613.84436.3169 1.27225.4668 14.36278 5.0282 29.57968 2.3282 40.91708-5.9032 1.0354-5.8634 1.3931-9.1089.9669-15.199z",fill:`url(#l-${t})`})}),(0,Fs.jsxs)("g",{filter:`url(#b-${t})`,children:[(0,Fs.jsx)("path",{d:"m188.001 36.6318c-2.732 3.1711-9.824 7.998-14.832 9.6264-4.246 10.6241-13.043 13.8689-22.646 14.7262 14.086.4247 33.672-7.817 37.478-24.3526z",fill:"#d1e3ff"}),(0,Fs.jsx)("path",{d:"m140.73 32-.515.2283-.903.406c-6.63 3.0079-15.349 7.4639-21.312 11.2868 8.053 11.0993 19.271 17.0369 32.522 17.0637 7.539-.6728 14.584-2.8183 19.317-8.8534-12.969.4822-22.742-7.9509-29.109-20.1314z",fill:`url(#m-${t})`})]})]})},HS=(0,m.memo)(KS),YS=()=>{const{state:e,controller:t}=No($n.POST_DONATION_UPSELL),n=(0,no.Y)(),i=(0,Zs.S)(),a=(0,m.useRef)(null),r=(0,m.useRef)(null);return(0,Fs.jsxs)(Fs.Fragment,{children:[i?(0,Fs.jsx)(Ys.Z,{nodeRef:a,in:e.confirmError,timeout:200,classNames:"fade",mountOnEnter:!0,unmountOnExit:!0,children:(0,Fs.jsx)("div",{ref:a,className:"alert-danger p-3 mb-3",role:"alert",children:(0,Fs.jsx)("p",{className:"subtitle-5 text-center text-red-80 text-ellipsis",children:n.translate("postDonationUpsellScreen.error.serviceUnavailable")})})}):(0,Fs.jsx)(jc.K,{triggerRef:r,show:e.confirmError,maxWidth:"var(--fixed-container-width-desktop)",children:(0,Fs.jsx)("p",{className:"subtitle-5 text-red-80 text-center text-ellipsis",children:n.translate("postDonationUpsellScreen.error.serviceUnavailable")})}),(0,Fs.jsx)("button",{type:"button",ref:r,className:"btn pdu-confirm-btn",disabled:e.locked||e.confirmError,onClick:()=>t.accept(),"data-qa":"post-donation-upsell-confirm","data-tracking-element-name":"confirmButton",children:n.translate("postDonationUpsellScreen.button.confirm",{recurringType:t.periodLabel})})]})},ZS=(0,m.memo)(YS),zS=e=>{const{state:t,controller:n}=No($n.POST_DONATION_UPSELL),i=(0,no.Y)();return(0,Fs.jsxs)("div",{className:e.className,children:[(0,Fs.jsx)(ZS,{}),(0,Fs.jsx)("button",{type:"button",className:"btn pdu-skip-btn mt-2",disabled:t.locked,onClick:()=>n.leave(),"data-qa":"post-donation-not-this-time","data-tracking-element-name":"skipButton",children:i.translate("postDonationUpsellScreen.button.notThisTime")})]})},WS=(0,m.memo)(zS),$S=e=>{const{state:t,controller:n}=No($n.POST_DONATION_UPSELL),[i,a]=(0,m.useState)(!t.isShowcase&&t.errors.min),r=(0,no.Y)(),s=(0,co.S)(),{isVariant2TestGroup:o}=(0,mc.X)(),c=(0,m.useRef)(null),l=(0,m.useRef)(null);(0,ec.w)({ref:l,autoFocus:t.showAmountInput,mode:Jo.E.ALL});const u=(0,Zs.S)(),d=(0,m.useCallback)((e=>{n.changeAmount(e)}),[n]),h=So(),p=(0,m.useMemo)((()=>h.getSymbol(t.currency)),[h,t.currency]),g=(0,m.useMemo)((()=>(0,Hf.X)(t.currency,r.locale)),[r.locale,t.currency]),y=Bl(t.shakeKey,0!==t.shakeKey),f=(0,m.useCallback)((()=>{a(!t.isShowcase&&t.errors.min)}),[t.isShowcase,t.errors.min]);(0,m.useEffect)((()=>{a(!t.isShowcase&&t.errors.min)}),[t.isShowcase,t.errors.min]);const v=(0,m.useCallback)((()=>{n.makeAmountInputVisible()}),[n]),S=(0,m.useMemo)((()=>r.translate("postDonationUpsellScreen.description",{date:r.formatDate(t.startDate)})),[r,t.startDate]);return(0,Fs.jsxs)("div",{className:(0,Hs.Z)("d-flex flex-column items-center",e.className,{"text-center":!o}),children:[(0,Fs.jsx)("p",{className:(0,Hs.Z)("max-w-100 text-white",u?"text-ellipsis":"text-line-clamp-5"),title:S,role:"status",children:S}),(0,Fs.jsxs)("div",{ref:c,className:"max-w-100 mt-3",children:[(0,Fs.jsx)(Pd,{ref:l,className:(0,Hs.Z)("group-frequency-control",{"bg-white border-radius-base":t.showAmountInput,"has-error":!t.isAmountValid,"animation-shake":y,disabled:t.locked&&t.showAmountInput}),currency:t.currency,amount:t.amount,onAmountChange:d,canModifyAmount:!0,currencyService:h,showCurrencySymbol:!0,currencyCodeNode:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("subtitle-3 shrink-0 text-nowrap ms-1",t.showAmountInput?"text-gray-60":"text-white"),children:[!p&&g,"/",r.translate("widgetSubscriptionPeriodLabel.monthly.short")]}),customCurrencySection:!0,resizable:!0,onAmountInputBlur:f,showDisabledInput:!t.showAmountInput,qaActiveAttribute:"post-donation-amount-input",trackingElement:"postDonationInput",placeholder:"",disabled:t.locked&&t.showAmountInput,donationType:t.flowType}),(0,Fs.jsx)(jc.K,{triggerRef:c,show:i,maxWidth:"var(--fixed-container-width-desktop)",customClass:"w-auto",placement:u?"top":s?"left-start":"right-start",fallbackPlacements:u?[]:["bottom"],role:i?"alert":"none",dataQa:"min-amount-popover",children:(0,Fs.jsx)("span",{dangerouslySetInnerHTML:{__html:r.translate("postDonationUpsellScreen.error.minAmount",{amount:r.formatCurrency(t.recurringMinAmount,{currency:t.currency,display:"round"})})}})})]}),!t.showAmountInput&&(0,Fs.jsx)("button",{type:"button",className:"btn-link link-2 text-white-hover-white text-truncate max-w-100 opacity-75",disabled:t.locked,onClick:v,"data-qa":"post-donation-another-amount",children:r.translate("postDonationUpsellScreen.amount.another")})]})},XS=(0,m.memo)($S),QS=e=>{const{controller:t}=No($n.POST_DONATION_UPSELL),n=(0,no.Y)(),i=(0,Zs.S)(),a=(0,Xs.q)(),r=(0,Bs.C)().getAskPageConfig().show;return(0,m.useEffect)((()=>{t.setShowedInSession()}),[t]),(0,Fs.jsxs)("div",{className:"flow-screen","data-qa":"active-screen-post-donation-upsell",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:n.translate("common.screenAriaLabel",{screenTitle:`${n.translate("postDonationUpsellScreen.screenTitle")}`})}),i&&!r&&(0,Fs.jsx)(Dc,{}),(0,Fs.jsxs)(tc,{className:(0,Hs.Z)("px-body",i?"pt-16 pb-3":"pt-8 pb-4"),children:[(0,Fs.jsx)("div",{className:"fixed-container d-flex flex-column grow-1",children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("grow-1 d-flex flex-column",{"justify-center":!i}),children:[(0,Fs.jsx)(Pu,{className:"d-block mx-auto",ariaHidden:!0}),(0,Fs.jsx)("h2",{className:"title-1 text-center text-truncate mt-8",children:n.translate("postDonationUpsellScreen.thankYou")}),(0,Fs.jsx)("p",{className:(0,Hs.Z)("text-center mt-3",i?"text-ellipsis":"text-line-clamp-2"),children:t.titleLabel})]})}),(0,Fs.jsx)("div",{className:(0,Hs.Z)(a("pdu-panel"),"shrink-0",i?"mt-12":"mt-4"),children:(0,Fs.jsxs)("div",{className:"fixed-container grow-1 d-flex flex-column",children:[(0,Fs.jsx)(XS,{className:"mb-8"}),(0,Fs.jsx)(WS,{className:"mt-auto"})]})})]})]})},JS=(0,m.memo)(QS);var eC;function tC(){return tC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tC.apply(this,arguments)}var nC=function(e,t){return m.createElement("svg",tC({fill:"none",height:28,viewBox:"0 0 87 28",width:87,xmlns:"http://www.w3.org/2000/svg",ref:t},e),eC||(eC=m.createElement("path",{clipRule:"evenodd",d:"m40.6994 5.87862h4.4869s4.4427-.08959 4.3979 3.94846c-.0443 3.00672-4.3073 3.45522-4.3073 3.45522h-4.577v-7.40368zm13.4235 14.49468c.126.5873.5508 1.2346 1.9681 1.3011 1.8843.0443 2.9614-.6739 2.9614-.6739v1.3911s-2.064.4943-3.0515.4943c-1.0318 0-4.0833-.225-4.0833-3.0516 0-2.288 2.513-3.0062 3.9484-3.0062 2.513.0896 3.7245.9874 3.6797 3.5448 0 .0369-4.1346.0093-5.4228.0004zm.0059-1.1228h3.4429s0-1.3011-1.6604-1.3011c-1.2489 0-1.6575.6735-1.7825 1.3011zm10.8913-1.4049c.4982-.5405 1.3346-.9732 2.7375-.9732 2.7823 0 3.2312 2.3333 3.1864 2.9614-.0448.6282-.2692 3.0063-3.4995 3.0063-1.2203 0-1.9671-.4165-2.4239-.9333v.7536h-2.1989v-8.0771h2.1989v3.2623zm1.8854 3.7382c1.3011-.0453 1.8844-1.1661 1.8844-1.7047 0-.5385-.3146-1.6604-1.975-1.6604-1.2882 0-1.6806.9732-1.7948 1.4487v.5853c.1133.4849.5076 1.3311 1.8854 1.3311zm18.9812-.224.0443 1.2568s-1.0318.224-1.7047.224-2.4239-.4037-2.4239-2.1094v-2.6026h-1.8391v-1.1662h1.8391v-1.3911h2.2442v1.3911h1.8401v1.1662h-1.8401v2.2443s0 1.1218.8979 1.1218c.8969 0 .9422-.1349.9422-.1349zm-6.8208-14.26972h2.6026v6.23702h2.1979v-6.23702h2.6479v-1.30154h-7.4484zm-.8979.31407.2693-1.30155s-1.1219-.49325-3.0959-.49325c-1.9297 0-5.0255 1.07708-5.0255 3.99375 0 2.8719 3.2755 3.8589 5.2948 3.8589s2.6922-.3141 2.6922-.3141l-.224-1.4359s-.8979.2692-2.4239.2692c-1.4807-.0448-3.0053-1.2114-3.0053-2.51249.0443-1.16667 1.3902-2.46822 3.1412-2.46822 1.3453 0 2.3771.40366 2.3771.40366zm-19.8338-1.57032s3.6797-.17919 3.6797 1.97447c0 1.84009-2.1084 1.97447-2.1084 1.97447s.5828.08959.8526.49323c.224.3589 1.7047 3.0516 1.7047 3.0516h-2.2442s-.3589-.449-.5385-.7626c-.1344-.314-.5386-.9874-.5386-.9874s-.3136-1.1219-1.3911-1.1219c-.0271 0-.4652-.0167-.8078-.0295v2.9014h-2.1537v-7.49377zm-1.3911 3.36561h1.1671s1.6151-.09009 1.7047-1.07708c.0453-.94219-1.5698-1.07707-1.5698-1.07707h-1.302zm9.0192 1.16666h3.5901v-1.39113h-3.5901v-1.70521h3.9047v-1.43593h-6.1021v7.49377h6.1473v-1.3464h-3.9494v-1.6151zm8.75 5.7433h2.199v-1.5261h-2.199zm0 6.5515h2.199v-5.6985h-2.199zm-23.9609-9.3333h2.1536v-7.49377h-2.1536zm-10.052 1.8848h4.4869s4.4427-.0905 4.3979 3.9485c-.0443 3.0063-4.3073 3.4557-4.3073 3.4557h-4.577v-7.4042zm2.1989 6.0131h1.4359s2.9615-.1797 2.9615-2.4683c0-2.2885-3.1411-2.513-3.1411-2.513h-1.2563zm0-9.3339h1.4359s2.9615-.2244 2.9615-2.46818c0-2.33333-3.1411-2.51252-3.1411-2.51252h-1.2563zm-22.3468-1.5521v15.0141s-8.7057-1.5708-8.7057-7.5386c.0005-4.7597 6.4447-6.8577 8.7057-7.4755zm0-.2801c-5.2323-.37853-17.0963 2.0739-17.0963 7.4411 0 3.4995 6.28226 8.6156 16.513 8.75.4036 0 12.0255-.449 11.8463-12.9234-.1506-10.47738-7.9924-12.31254-10.5-12.632021v-.6384659c9.9969.6345289 17.8593 6.6465569 17.8593 13.9433869 0 7.7182-8.7952 14-19.6093 14-10.81402 0-19.5645-6.2823-19.5645-14 0-7.71772 8.74999-14 19.5645-14 .3313 0 .6606.0059087.9875.017723v10.041677z",fill:"currentColor",fillRule:"evenodd"})))},iC=(0,m.forwardRef)(nC),aC=(0,m.memo)(iC);const rC={boxShadow:"inset 0 0 0 1px #c7cdd6"},sC={boxShadow:"inset 0 -1px 0 0 #c7cdd6"};function oC(e){/[0-9]/.test(e.key)||!e.key||1!==e.key.length||e.ctrlKey||e.metaKey||e.preventDefault()}const cC=e=>{const t=cd();return(0,Fs.jsxs)("svg",{className:e.className,"aria-hidden":e.ariaHidden&&!0,fill:"none",height:"96",viewBox:"0 0 96 96",width:"96",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsxs)("linearGradient",{id:`a-${t}`,gradientUnits:"userSpaceOnUse",x1:"34",x2:"34",y1:"12",y2:"88",children:[(0,Fs.jsx)("stop",{offset:".360343",stopColor:"#e6f0ff"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#c9deff"})]}),(0,Fs.jsxs)("linearGradient",{id:`b-${t}`,children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#8dbaf8"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#bfdaff",stopOpacity:"0"})]}),(0,Fs.jsx)("linearGradient",{id:`c-${t}`,gradientUnits:"userSpaceOnUse",x1:"25",x2:"34",xlinkHref:`#b-${t}`,y1:"24",y2:"24"}),(0,Fs.jsxs)("linearGradient",{id:`d-${t}`,children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#739ad5"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#c1dafc"})]}),(0,Fs.jsx)("linearGradient",{id:`e-${t}`,gradientUnits:"userSpaceOnUse",x1:"24.5",x2:"24.5",xlinkHref:`#d-${t}`,y1:"24",y2:"4"}),(0,Fs.jsxs)("linearGradient",{id:`f-${t}`,children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#e8f4ff"}),(0,Fs.jsx)("stop",{offset:".756988",stopColor:"#4880d3",stopOpacity:".24"})]}),(0,Fs.jsx)("linearGradient",{id:`g-${t}`,gradientUnits:"userSpaceOnUse",x1:"25",x2:"25",xlinkHref:`#f-${t}`,y1:"4",y2:"24"}),(0,Fs.jsx)("linearGradient",{id:`h-${t}`,gradientUnits:"userSpaceOnUse",x1:"67",x2:"76",xlinkHref:`#b-${t}`,y1:"24",y2:"24"}),(0,Fs.jsx)("linearGradient",{id:`i-${t}`,gradientUnits:"userSpaceOnUse",x1:"66.5",x2:"66.5",xlinkHref:`#d-${t}`,y1:"24",y2:"4"}),(0,Fs.jsx)("linearGradient",{id:`j-${t}`,gradientUnits:"userSpaceOnUse",x1:"67",x2:"67",xlinkHref:`#f-${t}`,y1:"4",y2:"24"}),(0,Fs.jsx)("rect",{fill:"#a9cbff",height:"76",rx:"10",width:"92",x:"3",y:"16"}),(0,Fs.jsx)("rect",{fill:`url(#a-${t})`,height:"76",rx:"8",width:"90",x:"1",y:"12"}),(0,Fs.jsx)("path",{d:"m4.25439 86.4409c1.32765.9798 2.96908 1.559 4.74579 1.559h74.00002c4.4183 0 8-3.5817 8-8v-60c0-1.7767-.5792-3.4181-1.5591-4.7457.3599.843.5591 1.7711.5591 2.7457v62c0 3.866-3.134 7-7 7h-76.00002c-.97461 0-1.9027-.1991-2.74579-.559z",fill:"#dfecff"}),(0,Fs.jsx)("path",{clipRule:"evenodd",d:"m26.7465 16.6999c.7142-1.0714 1.2535-2.7243 1.2535-4.6999h6c0 2.9949-.8039 5.8421-2.2612 8.0281-1.4434 2.165-3.7668 3.9719-6.7388 3.9719v-6c.3417 0 1.0183-.2078 1.7465-1.3001z",fill:`url(#c-${t})`,fillRule:"evenodd"}),(0,Fs.jsx)("path",{d:"m25 4c-2.2091 0-4 1.79086-4 4v4h10v-4c0-2.20914-1.7909-4-4-4z",fill:"#739ad5"}),(0,Fs.jsx)("path",{d:"m25 4c-2.2091 0-4 1.79086-4 4v12c0 2.2091 1.7909 4 4 4s4-1.7909 4-4v-12c0-.55229.4477-1 1-1s1 .44771 1 1c0-2.20914-1.7909-4-4-4z",fill:`url(#e-${t})`}),(0,Fs.jsx)("path",{clipRule:"evenodd",d:"m25 5c-1.6569 0-3 1.34315-3 3v12c0 1.6569 1.3431 3 3 3s3-1.3431 3-3v-12c0-.87072.5564-1.61147 1.3331-1.8861-.55-.67948-1.3908-1.1139-2.3331-1.1139zm5.5007 1.06318c-.6822-1.23036-1.9942-2.06318-3.5007-2.06318h-2c-2.2091 0-4 1.79086-4 4v12c0 2.2091 1.7909 4 4 4s4-1.7909 4-4v-12c0-.49577.3608-.90727.8341-.9863.054-.00901.1094-.0137.1659-.0137.5523 0 1 .44771 1 1 0-.70264-.1812-1.36297-.4993-1.93682z",fill:`url(#g-${t})`,fillRule:"evenodd"}),(0,Fs.jsx)("path",{clipRule:"evenodd",d:"m68.7465 16.6999c.7142-1.0714 1.2535-2.7243 1.2535-4.6999h6c0 2.9949-.8039 5.8421-2.2612 8.0281-1.4434 2.165-3.7668 3.9719-6.7388 3.9719v-6c.3417 0 1.0183-.2078 1.7465-1.3001z",fill:`url(#h-${t})`,fillRule:"evenodd"}),(0,Fs.jsx)("path",{d:"m67 4c-2.2091 0-4 1.79086-4 4v4h10v-4c0-2.20914-1.7909-4-4-4z",fill:"#739ad5"}),(0,Fs.jsx)("path",{d:"m67 4c-2.2091 0-4 1.79086-4 4v12c0 2.2091 1.7909 4 4 4s4-1.7909 4-4v-12c0-.55229.4477-1 1-1s1 .44771 1 1c0-2.20914-1.7909-4-4-4z",fill:`url(#i-${t})`}),(0,Fs.jsx)("path",{clipRule:"evenodd",d:"m67 5c-1.6569 0-3 1.34315-3 3v12c0 1.6569 1.3431 3 3 3s3-1.3431 3-3v-12c0-.87072.5564-1.61147 1.3331-1.8861-.55-.67948-1.3908-1.1139-2.3331-1.1139zm5.5007 1.06318c-.6822-1.23036-1.9942-2.06318-3.5007-2.06318h-2c-2.2091 0-4 1.79086-4 4v12c0 2.2091 1.7909 4 4 4s4-1.7909 4-4v-12c0-.49577.3608-.90727.8341-.9863.054-.00901.1094-.0137.1659-.0137.5523 0 1 .44771 1 1 0-.70264-.1812-1.36297-.4993-1.93682z",fill:`url(#j-${t})`,fillRule:"evenodd"}),(0,Fs.jsxs)("g",{fill:"#b5cbee",children:[(0,Fs.jsx)("path",{d:"m14 51c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,Fs.jsx)("path",{d:"m32 51c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,Fs.jsx)("path",{d:"m50 51c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,Fs.jsx)("path",{d:"m68 51c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,Fs.jsx)("path",{d:"m14 69c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,Fs.jsx)("path",{d:"m32 69c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,Fs.jsx)("path",{d:"m50 69c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,Fs.jsx)("path",{d:"m68 69c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,Fs.jsx)("path",{d:"m14 33c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,Fs.jsx)("path",{d:"m32 33c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,Fs.jsx)("path",{d:"m50 33c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,Fs.jsx)("path",{d:"m68 33c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"})]}),(0,Fs.jsx)("path",{d:"m13 50c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,Fs.jsx)("path",{d:"m31 50c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,Fs.jsx)("path",{d:"m49 50c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,Fs.jsx)("path",{d:"m67 50c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,Fs.jsx)("path",{d:"m13 68c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,Fs.jsx)("path",{d:"m31 68c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,Fs.jsx)("path",{d:"m49 68c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,Fs.jsx)("path",{d:"m67 68c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,Fs.jsx)("path",{d:"m13 32c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,Fs.jsx)("path",{d:"m31 32c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,Fs.jsx)("path",{d:"m49 32c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,Fs.jsx)("path",{d:"m67 32c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,Fs.jsx)("path",{clipRule:"evenodd",d:"m60.9768 43.2791c3.0364.9078 5.2846 3.9193 4.9987 8.0868-.2477 3.6099-2.1691 7.1112-4.3664 9.9483-2.2111 2.855-4.8174 5.1863-6.6657 6.4679-.5554.3851-1.3173.2462-1.7017-.3103-.3845-.5565-.2458-1.3198.3096-1.705 1.6427-1.139 4.0669-3.2973 6.1252-5.9551 2.0723-2.6756 3.6593-5.7102 3.8586-8.6139.215-3.1337-1.4195-5.0206-3.2578-5.5701-1.83-.5472-4.1921.1325-5.6767 2.9002l-.6216 1.1588-1.1097-.7034c-1.879-1.1909-3.5844-1.2975-4.8373-.8748-1.2631.4261-2.1695 1.4163-2.4702 2.6611-.5706 2.3615 1.0339 6.6752 9.5698 9.5163.6411.2134.9881.907.7751 1.5493-.2129.6423-.9052.99-1.5463.7766-8.919-2.9687-12.2139-8.1234-11.1761-12.4189.5034-2.0837 2.0281-3.7192 4.067-4.4071 1.7439-.5884 3.7908-.4654 5.8467.5253 2.0401-2.8813 5.1448-3.8493 7.8788-3.032z",fill:"#fa4e77",fillRule:"evenodd"})]})},lC=(0,m.memo)(cC),uC=e=>{const{state:t}=No($n.UPSELL),n=(0,co.S)(),i=(0,m.useRef)(null);return(0,ec.w)({ref:i,autoFocus:e.autoFocus,mode:Jo.E.DESKTOP}),e.upsellScreenV3ExperimentEnabled?(0,Fs.jsxs)("button",{ref:i,type:"button",className:"btn btn-danger d-flex items-center justify-center","data-tracking-element-name":"oldUpsellHighMonthlyUpsellV3Experiment","data-qa":"upsell-high","data-testid":"upsell-high",onClick:()=>e.onClick("high"),children:[(0,Fs.jsx)(Ec,{className:"icon-fill shrink-0 font-size-20 text-white me-2","aria-hidden":"true"}),(0,Fs.jsx)("span",{className:"text-truncate",children:t.highButtonText})]}):(0,Fs.jsxs)("div",{className:"p-rel",children:[(0,Fs.jsx)("button",{ref:i,type:"button",className:(0,Hs.Z)("btn btn-danger",{"px-10":!t.isAnnualTribute}),onClick:()=>e.onClick("high"),"data-qa":"upsell-high","data-tracking-element-name":e.trackingElement,"data-testid":"upsell-high",children:t.highButtonText}),!t.isAnnualTribute&&(0,Fs.jsx)(Vp,{className:(0,Hs.Z)("p-abs top-left z-index-2 ms-minus-5 mt-minus-3",{"icon-flip-horizontal":n}),ariaHidden:!0})]})},dC=(0,m.memo)(uC),hC=e=>{const{state:t}=No($n.UPSELL),n=(0,m.useRef)(null);return(0,ec.w)({ref:n,autoFocus:e.autoFocus,mode:Jo.E.DESKTOP}),(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)("btn btn-primary",e.className),onClick:()=>e.onClick("low"),"data-qa":"upsell-low-monthly","data-tracking-element-name":e.trackingElement,"data-testid":"upsell-low",children:t.lowButtonText})},mC=(0,m.memo)(hC),pC=e=>{const{amount:t,currency:n,trackingElement:i,onClick:a}=e,r=(0,no.Y)();return(0,Fs.jsx)("button",{type:"button",className:"btn-link text-truncate","data-tracking-element-name":i,"data-qa":"keep-one-time-link","data-testid":"keep-one-time-link",onClick:a,children:r.translate("upsellScreen.button.keepOneTimeLink",{amount:r.formatCurrency(t,{currency:n,display:"floatcents"})})})},gC=(0,m.memo)(pC),yC=e=>{const{state:t}=No($n.UPSELL),n=(0,no.Y)();return e.upsellScreenV3ExperimentEnabled?(0,Fs.jsx)("div",{className:"d-flex justify-center mt-4",children:(0,Fs.jsx)(gC,{amount:e.amount,currency:t.currency,onClick:()=>e.onClick(null),trackingElement:"oldUpsellKeepUpsellV3Experiment"})}):(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)("btn btn-default",e.className),onClick:()=>e.onClick(null),"data-qa":"upsell-one-time","data-tracking-element-name":e.trackingElement,children:n.translate("upsellScreen.button.keepOneTime",{amount:n.formatCurrency(e.amount,{currency:t.currency,display:"floatcents"})})})},fC=(0,m.memo)(yC),vC=e=>{const{state:t}=No($n.UPSELL),n=(0,Zs.S)(),{isVariant2TestGroup:i}=(0,mc.X)();return e.upsellScreenV3ExperimentEnabled?(0,Fs.jsx)("p",{role:"status",className:(0,Hs.Z)({"text-center":!i},n?"text-ellipsis":"text-line-clamp-6"),dangerouslySetInnerHTML:{__html:t.questionShortText},"data-testid":"upsell-screen-question-text"}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("p",{role:"status",className:(0,Hs.Z)({"text-center":!i},n?"text-ellipsis":"text-line-clamp-6"),dangerouslySetInnerHTML:{__html:t.questionText},"data-testid":"upsell-screen-question-text"}),(0,Fs.jsx)("p",{role:"status",className:(0,Hs.Z)("mt-2",{"text-center":!i},n?"text-ellipsis":"text-line-clamp-4"),dangerouslySetInnerHTML:{__html:t.descriptionText},"data-testid":"upsell-screen-description-text"})]})},SC=(0,m.memo)(vC),CC=e=>{const{showBadge:t}=e,{state:n,controller:i}=No($n.UPSELL),a=(0,no.Y)(),r=(0,Zs.S)(),{isVariant2TestGroup:s}=(0,mc.X)(),o=(0,m.useCallback)((e=>{i.confirm(e)}),[i]);return(0,m.useEffect)((()=>{i.setShowed()}),[i]),(0,Fs.jsxs)("div",{className:"flow-screen","data-qa":"active-screen-upsell",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenAriaLabel",{screenTitle:`${n.screenTitle}`})}),(0,Fs.jsx)(Dc,{title:n.screenTitle,titleTestId:"upsell-screen-title",showBadge:t}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"justify-center":r&&!s,"py-6":n.isAnnualTribute&&!r&&!s,"py-8":!n.isAnnualTribute&&!r&&!s,"mt-minus-1":r&&s&&!n.isAnnualTribute}),children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[n.isAnnualTribute&&(0,Fs.jsx)(lC,{className:(0,Hs.Z)("d-block mb-6",{"mx-auto mt-2":!s}),ariaHidden:!0}),(0,Fs.jsx)(SC,{upsellScreenV3ExperimentEnabled:n.experiments.upsellScreenV3})]})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsxs)("div",{role:"group","aria-label":a.translate("upsellScreen.buttonGroupAriaLabel"),children:[n.highMonthlyAmount&&(0,Fs.jsx)(dC,{amount:n.highMonthlyAmount,autoFocus:!!n.highMonthlyAmount,trackingElement:"oldUpsellHighMonthly",onClick:o,upsellScreenV3ExperimentEnabled:n.experiments.upsellScreenV3}),n.lowMonthlyAmount&&(0,Fs.jsx)(mC,{onClick:o,className:n.experiments.upsellScreenV3?"mt-2":"mt-3",amount:n.lowMonthlyAmount,autoFocus:!n.highMonthlyAmount,trackingElement:"oldUpsellLowMonthly"}),(0,Fs.jsx)(fC,{onClick:o,className:"mt-3",amount:n.upsell.fromAmount,trackingElement:"oldUpsellKeep",upsellScreenV3ExperimentEnabled:n.experiments.upsellScreenV3})]})})]})},bC=(0,m.memo)(CC),EC={boxShadow:"inset 0 0 0 1px #c7cdd6"},AC={boxShadow:"inset 0 -1px 0 0 #c7cdd6"},NC={letterSpacing:"-0.2em"},PC={boxShadow:"0 0 0 4px rgba(51, 113, 230, 0.5)"},xC={filter:"drop-shadow(rgba(109, 141, 177, 0.5) 0 1px 5px)"},kC={letterSpacing:"-0.2em"},wC={background:"#E3EDF6",height:"12px"},DC=k()(k()({},wC),{width:"146px"}),TC=k()(k()({},wC),{width:"46px"}),OC=e=>{const t=(0,no.Y)(),n=(0,co.S)(),i=(0,Zs.S)(),{isVariant2TestGroup:a}=(0,mc.X)();return(0,Fs.jsxs)("div",{className:"fixed-container",children:[e.showAmountExample&&(0,Fs.jsx)(Ll,{as:"p",className:(0,Hs.Z)({"text-center":!a},i?"text-ellipsis":"text-line-clamp-7"),token:"usBankAccountGuideScreen.descriptionNew.amounts",params:{amount:t.formatCurrency(100,{currency:"USD"})}}),e.showDescriptorCodeExample&&(0,Fs.jsx)(Ll,{as:"p",className:(0,Hs.Z)({"text-center":!a},i?"text-ellipsis":"text-line-clamp-7"),token:"usBankAccountGuideScreen.descriptionNew.descriptorCode"}),(0,Fs.jsx)("div",{className:"mt-5",style:xC,children:(0,Fs.jsxs)("div",{className:"us-bank-account-receipt px-6 pt-4 bg-blue-5 border-top-radius-4",style:{maxWidth:a?void 0:"266px"},children:[(0,Fs.jsx)("p",{className:"text-center text-truncate",children:t.translate("usBankAccountGuideScreen.bankStatement")}),(0,Fs.jsx)("div",{className:"border-top border-gray-20 mt-4"}),e.showAmountExample&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("div",{className:(0,Hs.Z)("d-flex mt-3",{"text-start":n}),dir:"ltr",children:[(0,Fs.jsx)("div",{className:"grow-1 overflow-hidden",children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("body-3 text-gray-60",{"text-line-clamp-2":!i}),children:[e.statementDescriptor,":"]})}),(0,Fs.jsx)("div",{className:"body-2 shrink-0 text-sans-serif ms-1",dangerouslySetInnerHTML:{__html:e.amountExample}})]}),(0,Fs.jsx)("div",{className:"border-top border-gray-20 my-3"}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("d-flex",{"text-start":n}),dir:"ltr",children:[(0,Fs.jsx)("div",{className:"grow-1 overflow-hidden",children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("body-3 text-gray-60",{"text-line-clamp-2":!i}),children:[e.statementDescriptor,":"]})}),(0,Fs.jsx)("div",{className:"body-2 shrink-0 text-sans-serif ms-1",dangerouslySetInnerHTML:{__html:e.amountExample}})]}),(0,Fs.jsx)("div",{className:"border-top border-gray-20 my-3"})]}),e.showDescriptorCodeExample&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("div",{className:(0,Hs.Z)("d-flex mt-3",{"text-start":n}),dir:"ltr",children:[(0,Fs.jsxs)("div",{className:"d-flex flex-wrap grow-1",children:[(0,Fs.jsxs)("div",{className:(0,Hs.Z)("body-3 text-gray-60 me-1",i?"overflow-hidden":"text-line-clamp-2"),children:[e.statementDescriptor,":"]}),(0,Fs.jsxs)("div",{className:"d-flex label-4 shrink-0 text-nowrap",children:[e.descriptorCodeExample.prefix,(0,Fs.jsx)("span",{className:"d-inline-block font-size-18",style:kC,children:""})]})]}),(0,Fs.jsx)("div",{className:"body-3 text-gray-60 shrink-0 text-sans-serif ms-1",dangerouslySetInnerHTML:{__html:e.descriptorCodeExample.amount}})]}),(0,Fs.jsx)("div",{className:"border-top border-gray-20 mt-3"}),(0,Fs.jsxs)("div",{className:"d-flex justify-between mt-4 mb-3",dir:"ltr",children:[(0,Fs.jsx)("div",{className:"border-radius-8",style:DC}),(0,Fs.jsx)("div",{className:"border-radius-8",style:TC})]})]})]})})]})},_C=(0,m.memo)(OC),IC={[$n.DONATE]:cg,[$n.UPSELL]:bC,[$n.PAYMENT_OPTIONS]:e=>{const{state:t}=No($n.PAYMENT_OPTIONS);switch(t.experiments.lessPaymentOptions){case Wi.TEST_1:return(0,Fs.jsx)(pS,k()({},e));case Wi.TEST_2:return(0,Fs.jsx)(SS,k()({},e));case Wi.TEST_3:return(0,Fs.jsx)(jS,k()({},e));case Wi.TEST_4:return(0,Fs.jsx)(US,k()({},e));default:return(0,Fs.jsx)(GS,k()({},e))}},[$n.PAYPAL_CONVERSION]:e=>{const{showBadge:t}=e,{state:n,controller:i}=No($n.PAYPAL_CONVERSION),a=(0,no.Y)(),r=(0,Zs.S)(),{isVariant2TestGroup:s}=(0,mc.X)(),o=()=>{i.leave({direction:Ho.BACKWARD})},c={defaultCurrency:n.defaultCurrency,amount:a.formatCurrency(n.from.total,{currency:n.from.currency,display:"fullstrict",withoutPrefix:!1,withoutSuffix:!1}),amountInPayPalCurrency:a.formatCurrency(n.total,{currency:n.currency,display:"fullstrict",withoutPrefix:!1,withoutSuffix:!1})};return(0,Fs.jsxs)("div",{className:"p-rel flow-screen","data-qa":"active-screen-paypal-conversion",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenAriaLabel",{screenTitle:`${a.translate("paypalConversionScreen.title")}`})}),(0,Fs.jsx)(Dc,{backButtonClickHandler:o,title:a.translate("paypalConversionScreen.title"),showBadge:t}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"py-3":r&&!s,"py-8":!r&&!s}),children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsx)(HS,{className:(0,Hs.Z)("d-block",{"mx-auto":!s}),width:s?140:void 0,height:s?140:void 0}),(0,Fs.jsx)(Ll,{as:"p",className:(0,Hs.Z)("mt-4",{"text-center":!s}),token:"paypalConversionScreen.description",params:c,qa:"paypal-currency-info"})]})}),(0,Fs.jsxs)(yc,{backButtonClickHandler:o,children:[(0,Fs.jsx)(VS,{errorMessage:n.errorMessage}),(0,Fs.jsx)("div",{className:"d-flex justify-center mt-5",children:(0,Fs.jsx)("button",{type:"button",className:"btn-link text-truncate",onClick:o,children:a.translate("paypalConversionScreen.button")})})]}),n.showPaymentLoader&&(0,Fs.jsx)(Ay,{})]})},[$n.US_BANK_ACCOUNT]:e=>{var t,n,i;const{showBadge:a}=e,{state:r,controller:s}=No($n.US_BANK_ACCOUNT),o=(0,Zs.S)(),c=(0,no.Y)(),l=ho(),{isVariant2TestGroup:u}=(0,mc.X)(),d=Bl(r.shakeKey,0!==r.shakeKey),h=(0,Xo.w)(),p=(0,m.useRef)(null),g=(0,m.useRef)(null),y=(0,m.useRef)(null),[f,v]=(0,m.useState)(!1),[S,C]=(0,m.useState)(!1);(0,m.useEffect)((()=>{if(r.routingNumber||r.accountNumber||r.accountHolderName)return;if(r.livemode||!h)return;if(!p.current||!g.current||!y.current)throw new Error("Input fields refs are not defined");const e=s.fillDemoData({routingNumber:p,accountNumber:g,accountHolderName:y});return()=>{e()}}),[h,s,r.livemode]);const b=(0,m.useCallback)((e=>{const t=e.target.value;s.changeRoutingNumber(t),g.current&&9===t.length&&g.current.focus()}),[s]),E=(0,m.useCallback)((e=>{const t=e.target.value;s.changeAccountNumber(t),y.current&&17===t.length&&y.current.focus()}),[s]);return(0,Fs.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s.leave()},className:"flow-screen","data-qa":"active-screen-routing-account",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:c.translate("common.screenAriaLabel",{screenTitle:`${c.translate("usBankAccountScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:c.translate("usBankAccountScreen.title"),showBadge:a}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body d-flex flex-column",{"pt-5":!o&&!u,"pb-7":!o,"mt-minus-1":o&&u}),children:(0,Fs.jsxs)("div",{className:"fixed-container grow-1 min-h-0 d-flex flex-column",children:[(0,Fs.jsx)("p",{className:(0,Hs.Z)("shrink-0",o?"text-ellipsis":"text-line-clamp-3",{"text-center":!u}),children:c.translate("usBankAccountScreen.locationRestrictions.desktop")}),(0,Fs.jsx)(Rc,{size:o?28:20,minSize:6}),(0,Fs.jsx)(nm,{className:(0,Hs.Z)("shrink-0",{"mx-auto":!u}),children:(0,Fs.jsxs)("div",{className:"d-flex items-center text-sans-serif",dir:"ltr",children:[(0,Fs.jsx)("div",{className:(0,Hs.Z)("body-4 px-1 py-0-5 border-radius-2 me-2",{"text-white bg-primary":f}),style:f?PC:void 0,children:"119562715"}),(0,Fs.jsx)("div",{className:(0,Hs.Z)("body-4 px-1 py-0-5 border-radius-2",{"text-white bg-primary":S}),style:S?PC:void 0,children:"891562828814208"})]})}),(0,Fs.jsx)(Rc,{size:o?28:20,minSize:6}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("group-stacked-vertical shrink-0",{"animation-shake":d}),children:[(0,Fs.jsx)(bl.u,{labelFloating:!0,labelSrOnly:!0,id:`routing-number-${l}`,className:"text-sans-serif",formGroupClass:"group-stacked-item",label:c.translate("usBankAccountScreen.routingNumberNew.label"),autoFocus:!0,autoFocusMode:Jo.E.ALL,setRef:p,error:r.errors.routingNumber,placeholder:c.translate("usBankAccountScreen.routingNumberNew.label"),onKeyPress:oC,value:null!==(t=r.routingNumber)&&void 0!==t?t:"",onChange:b,maxLength:9,disabled:r.locked,onFocus:()=>v(!0),onBlur:()=>v(!1),dataQa:"routing-number",inputMode:"numeric",children:r.errors.routingNumber&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:c.translate("usBankAccountScreen.routingNumberNew.error")})}),(0,Fs.jsx)(bl.u,{labelFloating:!0,labelSrOnly:!0,id:`account-number-${l}`,className:"text-sans-serif",formGroupClass:"group-stacked-item",label:c.translate("usBankAccountScreen.accountNumberNew.label"),setRef:g,error:r.errors.accountNumber,placeholder:c.translate("usBankAccountScreen.accountNumberNew.label"),onKeyPress:oC,value:null!==(n=r.accountNumber)&&void 0!==n?n:"",onChange:E,maxLength:17,minLength:4,disabled:r.locked,onFocus:()=>C(!0),onBlur:()=>C(!1),dataQa:"ach-account-number",inputMode:"numeric",children:r.errors.accountNumber&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:c.translate("usBankAccountScreen.accountNumberNew.error")})})]}),(0,Fs.jsx)(Rc,{size:16,minSize:6}),(0,Fs.jsx)(bl.u,{labelFloating:!0,labelSrOnly:!0,id:`account-holder-name-${l}`,formGroupClass:(0,Hs.Z)("shrink-0",{"animation-shake":d}),label:c.translate("usBankAccountScreen.accountHolderNameNew.label"),setRef:y,error:r.errors.accountHolderName,placeholder:c.translate("usBankAccountScreen.accountHolderNameNew.label"),minLength:1,value:null!==(i=r.accountHolderName)&&void 0!==i?i:"",disabled:r.locked,onChange:e=>s.changeAccountHolderName(e.target.value),dataQa:"us-bank-account-holder-name",children:r.errors.accountHolderName&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:c.translate("usBankAccountScreen.accountHolderNameNew.error")})}),(0,Fs.jsx)(Rc,{size:20,minSize:6}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("d-flex shrink-0",{"justify-center":!u}),children:[(0,Fs.jsx)(pu,{radioName:"accountType",className:"max-w-50 me-3",checked:"individual"===r.accountType,radioValue:r.accountType,disabled:r.locked,onChange:()=>s.changeAccountType("individual"),qa:"personal-bank-account",trackingElement:"personalBankAccount",children:(0,Fs.jsx)("span",{className:"text-truncate",children:c.translate("usBankAccountScreen.accountTypeNew.personal")})}),(0,Fs.jsx)(pu,{radioName:"accountType",className:"max-w-50 ms-3",checked:"company"===r.accountType,radioValue:r.accountType,disabled:r.locked,onChange:()=>s.changeAccountType("company"),qa:"business-bank-account",trackingElement:"businessBankAccount",children:(0,Fs.jsx)("span",{className:"text-truncate",children:c.translate("usBankAccountScreen.accountTypeNew.business")})})]})]})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary",processingState:r.processingState,tooltipTitle:r.errorMessage||c.translate("common.errorOccurredText"),dataQa:"ach-continue",trackingElement:"nextButton",children:c.translate("usBankAccountScreen.button")})})]})},[$n.US_BANK_ACCOUNT_DONATE_OPTIONS]:e=>{const{showBadge:t}=e,{state:n,controller:i}=No($n.US_BANK_ACCOUNT_DONATE_OPTIONS),a=(0,no.Y)(),r=(0,Zs.S)(),{isVariant2TestGroup:s}=(0,mc.X)();return(0,Fs.jsxs)("div",{className:"flow-screen","data-qa":"active-screen-link-to-bank",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenAriaLabel",{screenTitle:`${a.translate("usBankAccountDonateOptionsScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:a.translate("usBankAccountDonateOptionsScreen.title"),showBadge:t}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"justify-center items-center":!s,"pb-3":r&&!s,"py-4":!r&&!s}),children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsx)(by,{className:(0,Hs.Z)("d-block",{"mx-auto":!s}),width:s?109:void 0,height:s?88:void 0,ariaHidden:!0}),(0,Fs.jsx)("p",{className:(0,Hs.Z)("mt-4",{"text-center":!s}),children:a.translate("usBankAccountDonateOptionsScreen.description")})]})}),(0,Fs.jsxs)(yc,{children:[(0,Fs.jsx)(nl,{className:"btn-primary",processingState:n.processingState,tooltipTitle:n.loginToBankError,disabled:n.locked,dataQa:"authorize-bank-button",trackingElement:"authorizeBankButton",onClick:()=>i.authorizeToBank(),children:a.translate("usBankAccountDonateOptionsScreen.button.authorize")}),(0,Fs.jsx)("button",{type:"button",className:"btn btn-default mt-3",disabled:n.locked,"data-qa":"routing-account-button","data-tracking-element-name":"routingAccountButton",onClick:()=>i.fillDetailsManually(),children:a.translate("usBankAccountDonateOptionsScreen.button.routing")})]})]})},[$n.US_BANK_ACCOUNT_CONFIRMATION]:e=>{const{showBadge:t}=e,{state:n,controller:i}=No($n.US_BANK_ACCOUNT_CONFIRMATION),a=(0,Zs.S)(),r=(0,no.Y)(),{isVariant2TestGroup:s}=(0,mc.X)();return(0,Fs.jsxs)("div",{className:"flow-screen",children:[(0,Fs.jsx)(Dc,{title:r.translate("usBankAccountConfirmationScreen.title"),showBadge:t,titleQa:"us-bank-account-confirmation-title"}),(0,Fs.jsx)(Qo,{role:"status",children:r.translate("common.screenAriaLabel",{screenTitle:`${r.translate("usBankAccountConfirmationScreen.title")}`})}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body d-flex flex-column",{"pt-5":!a&&!s,"pb-5":!a}),children:(0,Fs.jsxs)("div",{className:"fixed-container grow-1 d-flex flex-column min-h-0",children:[(0,Fs.jsxs)("div",{className:"shrink-0 bg-white border-radius-8",style:EC,children:[(0,Fs.jsxs)("div",{className:"px-3 py-2",style:AC,children:[(0,Fs.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:r.translate("usBankAccountConfirmationScreen.agreementDate")}),(0,Fs.jsx)("p",{className:"label-3 text-truncate","data-qa":"agreement-date-label",children:n.usBankAccount.agreementDate})]}),(0,Fs.jsxs)("div",{className:"px-3 py-2",style:AC,children:[(0,Fs.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:r.translate("usBankAccountConfirmationScreen.accountHolderName")}),(0,Fs.jsx)("p",{className:"label-3 text-truncate","data-qa":"account-holder-name-label",children:n.usBankAccount.accountHolderName})]}),(0,Fs.jsxs)("div",{className:"px-3 py-2",style:AC,children:[(0,Fs.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:r.translate("usBankAccountConfirmationScreen.financialInstitution")}),(0,Fs.jsx)("p",{className:"label-3 text-truncate","data-qa":"financial-institution-label",children:n.usBankAccount.financialInstitution})]}),(0,Fs.jsxs)("div",{className:"px-3 py-2",style:AC,children:[(0,Fs.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:r.translate("usBankAccountConfirmationScreen.routingNumber")}),(0,Fs.jsx)("p",{className:"label-3 text-truncate","data-qa":"routing-number-label",children:n.usBankAccount.routingNumber})]}),(0,Fs.jsxs)("div",{className:"px-3 py-2",children:[(0,Fs.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:r.translate("usBankAccountConfirmationScreen.accountNumber")}),(0,Fs.jsxs)("p",{className:"label-3 d-flex items-start text-truncate",children:[(0,Fs.jsx)("span",{className:"font-size-18 shrink-0 me-1 font-weight-400",style:NC,children:""}),(0,Fs.jsx)("span",{className:"shrink-0","data-qa":"account-number-last4-label",children:n.usBankAccount.accountNumberLast4})]})]})]}),(0,Fs.jsx)("div",{className:a?"mt-5":"grow-1 min-h-0 p-rel mt-4",children:(0,Fs.jsx)("div",{className:(0,Hs.Z)({"p-abs top-left bottom-right text-scrollable":!a}),children:(0,Fs.jsx)("p",{className:(0,Hs.Z)("body-4 text-gray-80 text-ellipsis",{"px-3 py-2-5":!a,"pointer-events-none":n.locked}),children:n.isRecurring?r.translate("usBankAccountConfirmationScreen.mandateRecurring",{companyName:n.companyName}):r.translate("usBankAccountConfirmationScreen.mandate",{companyName:n.companyName,payButtonTitle:r.translate("usBankAccountConfirmationScreen.button")})})})})]})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsx)(nl,{className:"btn-primary",processingState:n.processingState,tooltipTitle:n.payErrorMessage,onClick:()=>{i.leave()},dataQa:"us-bank-account-pay-button",trackingElement:"nextButton",children:r.translate("usBankAccountConfirmationScreen.button")})})]})},[$n.US_BANK_ACCOUNT_VERIFICATION_GUIDE]:e=>{const{showBadge:t}=e,{state:n,controller:i}=No($n.US_BANK_ACCOUNT_VERIFICATION_GUIDE),a=(0,no.Y)(),r=(0,Zs.S)(),{isVariant2TestGroup:s}=(0,mc.X)();return(0,Fs.jsxs)("div",{className:"flow-screen","data-qa":"active-screen-us-bank-account-guide",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenAriaLabel",{screenTitle:`${a.translate("usBankAccountGuideScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:a.translate("usBankAccountGuideScreen.title"),showBadge:t}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"pt-6":!r&&!s,"mt-minus-1":r&&s}),children:(0,Fs.jsx)(_C,{statementDescriptor:n.statementDescriptor,amountExample:i.amountExample,descriptorCodeExample:i.descriptorCodeExample,showAmountExample:"amounts"===n.verificationType,showDescriptorCodeExample:"descriptor_code"===n.verificationType})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{i.leave()},"data-qa":"us-bank-account-micro-dep-continue-button",children:a.translate("usBankAccountGuideScreen.button")})})]})},[$n.CREDIT_CARD]:rp,[$n.UK_BACS]:e=>{var t,n,i;const{showBadge:a}=e,{state:r,controller:s}=No($n.UK_BACS),o=(0,Zs.S)(),c=(0,no.Y)(),l=ho(),{isVariant2TestGroup:u}=(0,mc.X)(),d=(0,m.useRef)(null),h=(0,m.useRef)(null),p=(0,m.useRef)(null),g=Bl(r.shakeKey,0!==r.shakeKey),y=(0,Xo.w)();(0,m.useEffect)((()=>{if(r.sortCode||r.accountNumber||r.accountHolderName)return;if(r.livemode||!y)return;if(!d.current||!h.current||!p.current)throw new Error("Input fields refs are not defined");const e=s.fillDemoData({sortCode:d,accountNumber:h,accountHolderName:p});return()=>{e()}}),[y,s,r.livemode]);const f=(0,m.useCallback)((e=>{const t=e.target.value;s.changeSortCode(t),h.current&&6===t.length&&h.current.focus()}),[s]),v=(0,m.useCallback)((e=>{const t=e.target.value;s.changeAccountNumber(t),p.current&&17===t.length&&p.current.focus()}),[s]);return(0,Fs.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s.leave()},className:"flow-screen","data-qa":"uk-bacs-title",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:c.translate("common.screenAriaLabel",{screenTitle:`${c.translate("ukBacsScreen.title")}`})}),(0,Fs.jsx)(Dc,{showBadge:a,children:(0,Fs.jsx)("h2",{className:(0,Hs.Z)(u?"subtitle-3-5":"title-2",{"py-2":o&&!u}),"aria-label":c.translate("ukBacsScreen.title"),children:(0,Fs.jsx)("span",{className:"icon-slot d-block","aria-hidden":"true",children:(0,Fs.jsx)("span",{className:(0,Hs.Z)("p-abs",u?"centered-left":"centered"),children:(0,Fs.jsx)(aC,{className:"d-block text-black",width:u?76:87,height:u?24:28})})})})}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body d-flex flex-column",{"pt-8":!o&&!u,"animation-shake":g}),children:(0,Fs.jsxs)("div",{className:"fixed-container grow-1 min-h-0 d-flex flex-column",children:[(0,Fs.jsxs)("div",{className:"group-stacked-vertical",children:[(0,Fs.jsx)(bl.u,{labelFloating:!0,labelSrOnly:!0,id:`sort-code-${l}`,formGroupClass:"group-stacked-item",label:c.translate("ukBacsScreen.sortCode.label"),setRef:d,autoFocus:!0,autoFocusMode:Jo.E.ALL,name:"sortCode",error:r.errors.sortCode,placeholder:c.translate("ukBacsScreen.sortCode.label"),value:null!==(t=r.sortCode)&&void 0!==t?t:"",disabled:r.locked,onKeyPress:oC,onChange:f,dataQa:"sort-code",inputMode:"numeric",children:r.errors.sortCode&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:c.translate("ukBacsScreen.sortCode.error")})}),(0,Fs.jsx)(bl.u,{labelFloating:!0,labelSrOnly:!0,id:`account-number-${l}`,formGroupClass:"group-stacked-item",setRef:h,label:c.translate("ukBacsScreen.accountNumber.label"),name:"ukBacsAccountNumber",error:r.errors.accountNumber,placeholder:c.translate("ukBacsScreen.accountNumber.label"),value:null!==(n=r.accountNumber)&&void 0!==n?n:"",disabled:r.locked,onKeyPress:oC,onChange:v,dataQa:"account-number",inputMode:"numeric",children:r.errors.accountNumber&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:c.translate("ukBacsScreen.accountNumber.error")})})]}),(0,Fs.jsx)(Rc,{size:16}),(0,Fs.jsx)(bl.u,{labelFloating:!0,labelSrOnly:!0,id:`account-holder-name-${l}`,formGroupClass:"p-rel",label:c.translate("ukBacsScreen.accountHolderName.label"),setRef:p,name:"ukBacsAccountHolderName",error:r.errors.accountHolderName,placeholder:c.translate("ukBacsScreen.accountHolderName.label"),minLength:1,value:null!==(i=r.accountHolderName)&&void 0!==i?i:"",disabled:r.locked,onChange:e=>s.changeAccountHolderName(e.target.value),dataQa:"account-holder-name",children:r.errors.accountHolderName&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:c.translate("ukBacsScreen.accountHolderName.error")})}),(0,Fs.jsx)(Rc,{size:16}),(0,Fs.jsx)(cl,{customLabelClasses:"line-height-18 text-gray-80",checked:r.termsChecked,error:r.errors.termsChecked,disabled:r.locked,onChange:()=>s.toggleTermsChecked(),"data-qa":"uk-bacs-legal-checkbox",children:(0,Fs.jsx)("span",{className:(0,Hs.Z)("body-4",{"text-line-clamp-8":!o}),"data-qa":"uk-bacs-legal-text-label",children:c.translate("ukBacsScreen.legalInformation.label",{companyName:r.companyName})})}),r.errors.termsChecked&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:c.translate("ukBacsScreen.legalInformation.error")}),!o&&(0,Fs.jsx)(Rc,{size:20})]})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary",processingState:r.processingState,tooltipTitle:r.payErrorMessage||c.translate("common.errorOccurredText"),dataQa:"uk-bacs-continue-button",trackingElement:"nextButton",children:c.translate("ukBacsScreen.button")})})]})},[$n.UK_BACS_CONFIRMATION]:e=>{const{showBadge:t}=e,{state:n,controller:i}=No($n.UK_BACS_CONFIRMATION),a=(0,Zs.S)(),r=(0,no.Y)(),{isVariant2TestGroup:s}=(0,mc.X)(),o=yn(n.ukBacs.sortCode.match(/(\d{2})/g)||[],"-");return(0,Fs.jsxs)("div",{className:"flow-screen",children:[(0,Fs.jsx)(Dc,{title:r.translate("ukBacsConfirmationScreen.title"),showBadge:t,titleQa:"uk-bacs-confirmation-title"}),(0,Fs.jsx)(Qo,{role:"status",children:r.translate("common.screenAriaLabel",{screenTitle:`${r.translate("ukBacsConfirmationScreen.title")}`})}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"pt-8":!a&&!s,"pb-3":!a}),children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsxs)("div",{className:"bg-white border-radius-8",style:rC,children:[(0,Fs.jsxs)("div",{className:"px-3 py-2",style:sC,children:[(0,Fs.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:r.translate("ukBacsConfirmationScreen.email")}),(0,Fs.jsx)("p",{className:"label-3 text-truncate",children:n.email})]}),(0,Fs.jsxs)("div",{className:"px-3 py-2",style:sC,children:[(0,Fs.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:r.translate("ukBacsConfirmationScreen.name")}),(0,Fs.jsx)("p",{className:"label-3 text-truncate",children:n.ukBacs.accountHolderName})]}),(0,Fs.jsxs)("div",{className:"px-3 py-2",children:[(0,Fs.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:r.translate("ukBacsConfirmationScreen.accountDetails")}),(0,Fs.jsxs)("div",{className:"d-flex text-sans-serif",children:[(0,Fs.jsx)("p",{className:"label-3 text-truncate me-3",children:o}),(0,Fs.jsx)("p",{className:"label-3 text-truncate",children:n.ukBacs.accountNumber})]})]})]}),(0,Fs.jsx)(Ll,{className:(0,Hs.Z)("body-4",a?"text-ellipsis":"text-line-clamp-7",!a&&s?"mt-7":"mt-4"),as:"p",token:"ukBacsConfirmationScreen.legalInformation",params:{statementDescriptor:n.company.stripe.ukBacsDisplayName,email:n.email}}),(0,Fs.jsx)("hr",{className:"my-3"}),(0,Fs.jsxs)("div",{className:"d-flex items-center",children:[(0,Fs.jsx)(Ll,{className:(0,Hs.Z)("body-4",a?"text-ellipsis":"line-height-16 text-line-clamp-2 p-1 m-minus-1",{"pointer-events-none":n.locked}),as:"p",token:"ukBacsConfirmationScreen.guarantee",params:{link:"https://stripe.com/bacs_debit/direct-debit-guarantee"}}),(0,Fs.jsx)(aC,{className:"text-gray-60 shrink-0 ms-3",width:67,height:22,"aria-hidden":"true"})]})]})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsx)(nl,{className:"btn-primary",processingState:n.processingState,tooltipTitle:n.payErrorMessage,onClick:()=>{i.leave()},dataQa:"uk-bacs-pay-button",trackingElement:"nextButton",children:Lc(r,n.formattedAmount,n.frequency)})})]})},[$n.AU_BECS]:e=>{const{transitionEntered:t,showBadge:n}=e,{state:i,controller:a}=No($n.AU_BECS),r=(0,Zs.S)(),s=(0,no.Y)(),o=(0,eo.g)(),c=(0,Jh.V)(),l=(0,Gs.R)(),{isVariant2TestGroup:u}=(0,mc.X)(),[h,p]=(0,m.useState)(),g=(0,m.useRef)(null),y=Bl(i.shakeKey,0!==i.shakeKey),{stripeElementState:f,setStripeElementState:v}=tm(),S=(0,m.useRef)(!1);return(0,m.useEffect)((()=>{(0,d.mG)(void 0,void 0,void 0,(function*(){if(o)return;if(!g.current)throw new Error("auBankAccountContainerRef is not provided");const{stripeElements:e}=yield a.initiateAuBECS(g.current,{onAuBankAccountElementReady:()=>{v((e=>k()(k()({},e),{isReady:!0})))}});p(e)}))}),[a,o,v]),(0,m.useEffect)((()=>{if(!f.isReady||!h||!t||S.current)return;const e=h.getElement("auBankAccount");if(!e){if(o)return;throw new Error("auBankAccount element is not initialized")}const n=()=>{S.current?l.document.dispatchEvent(new Event("stripeElementEvent")):S.current=!0,v((e=>k()(k()({},e),{isFocused:!0})))},i=()=>{v((e=>k()(k()({},e),{isFocused:!1})))},a=e=>{v((t=>{var n,i;return k()(k()({},t),{error:null!==(i=null===(n=e.error)||void 0===n?void 0:n.message)&&void 0!==i?i:null})}))};return e.on("focus",n),e.on("blur",i),e.on("change",a),c||e.focus(),()=>{e.off("focus",n),e.off("blur",i),e.off("change",a)}}),[a,t,h,o,l,v,f.isReady,c]),(0,Fs.jsxs)("form",{className:"flow-screen",onSubmit:e=>{e.preventDefault(),a.leave()},children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:s.translate("common.screenAriaLabel",{screenTitle:`${s.translate("auBECSScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:s.translate("auBECSScreen.title"),showBadge:n,titleQa:"au-becs-title"}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"pt-5":!r&&!u,"pb-8":!r,"mt-minus-1":r&&u}),children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("fixed-container",{"grow-1 d-flex flex-column":!r}),children:[(0,Fs.jsx)("p",{className:(0,Hs.Z)({"text-center":!u},r?"text-ellipsis":"text-line-clamp-4"),children:s.translate("auBECSScreen.description")}),(0,Fs.jsx)(nm,{className:(0,Hs.Z)(r?"mt-7":"mt-5",{"mx-auto":!u}),children:(0,Fs.jsxs)("div",{className:"d-flex items-center text-sans-serif",dir:"ltr",children:[(0,Fs.jsx)("div",{className:(0,Hs.Z)("body-4 px-1 py-0-5 border-radius-2 me-3",{"text-white bg-primary":f.isFocused}),style:f.isFocused?im:void 0,children:"000-000"}),(0,Fs.jsx)("div",{className:(0,Hs.Z)("body-4 px-1 py-0-5 border-radius-2",{"text-white bg-primary":f.isFocused}),style:f.isFocused?im:void 0,children:"000123456"})]})}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("p-rel",r?"mt-7":"mt-5",{"group-shadow-experiment":u,"animation-shake":y,"pointer-events-none":i.locked}),children:[(0,Fs.jsx)("div",{ref:g,className:"StripeElement"}),f.error&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:f.error})]}),(0,Fs.jsx)("div",{className:r?"mt-5":"grow-1 min-h-0 p-rel mt-4",children:(0,Fs.jsx)("div",{className:(0,Hs.Z)({"p-abs top-left bottom-right text-scrollable":!r}),children:(0,Fs.jsx)(Ll,{className:(0,Hs.Z)("body-4 text-gray-80 text-ellipsis",{"px-3 py-2-5":!r,"pointer-events-none":i.locked}),as:"p",token:"auBECSScreen.legalInformation",params:{link:"https://stripe.com/au/legal/becs-dd-service-agreement"}})})})]})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary",tooltipTitle:i.payErrorMessage,processingState:i.processingState,dataQa:"au-becs-continue-button",trackingElement:"nextButton",children:i.isPaymentScreen?Lc(s,i.formattedAmount,i.frequency):s.translate("auBECSScreen.button")})})]})},[$n.DOUBLE]:Gg,[$n.GIFT_AID]:e=>{const{transitionEntered:t,showBadge:n}=e,{state:i,controller:a}=No($n.GIFT_AID),r=(0,no.Y)(),s=(0,Zs.S)(),o=(0,eo.g)(),{isVariant2TestGroup:c}=(0,mc.X)(),l=(0,m.useCallback)((e=>{a.changeGiftAid(e),a.leave()}),[a]),u=(0,m.useCallback)((()=>{l(!1)}),[l]);return(0,m.useEffect)((()=>{o||t&&a.setShown()}),[t,a,o]),(0,Fs.jsxs)("div",{className:"flow-screen","data-qa":"active-screen-gift-aid",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:r.translate("common.screenAriaLabel",{screenTitle:`${r.translate("giftAidScreen.title")}`})}),(0,Fs.jsx)(Dc,{showBadge:n,children:(0,Fs.jsx)("h2",{className:(0,Hs.Z)(c?"subtitle-3-5":"title-2",{"py-2":s&&!c}),"aria-label":r.translate("giftAidScreen.title"),children:(0,Fs.jsx)("span",{className:"icon-slot d-block","aria-hidden":"true",children:(0,Fs.jsx)("span",{className:(0,Hs.Z)("p-abs",c?"centered-left":"centered"),children:(0,Fs.jsx)(Zg,{className:"d-block"})})})})}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",s?"pb-2":"pb-4",{"pt-6":!s&&!c,"mt-minus-1":s&&c}),children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("fixed-container",{"grow-1 d-flex flex-column":!s}),children:[(0,Fs.jsxs)("p",{className:(0,Hs.Z)({"text-center":!c},s?"text-ellipsis":"text-line-clamp-6"),children:[r.translate("giftAidScreen.governmentText")," ",r.translate("giftAidScreen.ratioInfo")]}),(0,Fs.jsx)(Ll,{as:"p",className:(0,Hs.Z)("subtitle-4 mt-4-5",{"text-center":!c},s?"text-ellipsis":"text-line-clamp-3"),token:"giftAidScreen.actionQuestion"}),i.legalText&&(0,Fs.jsx)("div",{className:"grow-1 mt-4-5 d-flex flex-column",children:(0,Fs.jsx)(Wg,{})})]})}),(0,Fs.jsxs)(yc,{children:[(0,Fs.jsx)("button",{type:"button",className:"btn btn-primary",disabled:i.locked,onClick:()=>l(!0),"data-qa":"gift-aid-continue","data-tracking-element-name":"claimButton",children:r.translate("giftAidScreen.button.claim")}),(0,Fs.jsx)("div",{className:"d-flex justify-center mt-5",children:(0,Fs.jsx)(nl,{buttonType:"link",onClick:u,processingState:i.processingState,tooltipMessage:i.payErrorMessage||r.translate("common.errorOccurredText"),dataQa:"no-gift-aid-and-pay",trackingElement:"dontClaimButton",children:i.isPaymentScreen?Vg(r,i.formattedAmount,i.frequency):r.translate("giftAidScreen.button.refuse")})})]})]})},[$n.POST_DONATION_UPSELL]:JS,[$n.SEPA]:e=>{const{transitionEntered:t,showBadge:n}=e,{state:i,controller:a}=No($n.SEPA),r=(0,no.Y)(),s=ho(),o=(0,Zs.S)(),c=(0,eo.g)(),l=(0,Jh.V)(),{isTestGroup:u,isVariant2TestGroup:h}=(0,mc.X)(),p=(0,m.useRef)(null),[g,y]=(0,m.useState)(),f=Bl(i.shakeKey,0!==i.shakeKey),{stripeElementState:v,setStripeElementState:S}=tm(),C={maxHeight:o?void 0:"150px"},b=(0,m.useRef)(!1),E=(0,Gs.R)();return(0,m.useEffect)((()=>{(0,d.mG)(void 0,void 0,void 0,(function*(){if(c)return;if(!p.current)throw new Error("ibanContainerRef is not provided");const e={onIbanElementReady:()=>{S((e=>k()(k()({},e),{isReady:!0})))}},{stripeElements:t}=yield a.initiateSepa(p.current,u?k()(k()({},e),{stripeElementStyleOverride:k()(k()({},Yr),{base:k()(k()({},Yr.base),{"::placeholder":{color:"transparent"}}),invalid:k()(k()({},Yr.invalid),{color:"#222832",":focus":{color:"#222832"},"::placeholder":{color:"transparent"}})}),showIcon:!1}):k()(k()({},e),{stripeElementStyleOverride:k()({},Yr)}));y(t)}))}),[a,c,u,S]),(0,m.useEffect)((()=>{if(!v.isReady||!g||!t||b.current)return;const e=g.getElement("iban");if(!e)throw new Error("iban element is not initialized");const n=()=>{b.current?E.document.dispatchEvent(new Event("stripeElementEvent")):b.current=!0},i=e=>{a.recalculatePaymentScreen(),S((t=>{var n,i;return k()(k()({},t),{isEmpty:e.empty,error:null!==(i=null===(n=e.error)||void 0===n?void 0:n.message)&&void 0!==i?i:null})}))};return e.on("focus",n),e.on("change",i),l||e.focus(),()=>{e.off("focus",n),e.off("change",i)}}),[a,E.document,S,v.isReady,g,t,l]),(0,Fs.jsxs)("form",{className:"flow-screen",onSubmit:e=>{e.preventDefault(),a.leave()},children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:r.translate("common.screenAriaLabel",{screenTitle:`${r.translate("sepaScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:r.translate("sepaScreen.title"),showBadge:n,titleQa:"sepa-title"}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"pt-5":!o&&!h,"pb-5":!o,"mt-minus-1":o&&h}),children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("fixed-container",{"grow-1 d-flex flex-column":!o}),children:[(0,Fs.jsx)("p",{className:(0,Hs.Z)({"text-center":!h},o?"text-ellipsis":"text-line-clamp-4"),children:r.translate("sepaScreen.description")}),(0,Fs.jsxs)(gl.E,{htmlFor:`iban-number-${s}`,label:r.translate("sepaScreen.ibanNumberLabel"),labelSrOnly:!u,labelFloating:u,formGroupClass:(0,Hs.Z)("mt-5",{"group-shadow-experiment":h,"pointer-events-none":i.locked,"animation-shake":f}),formLabelClass:(0,Hs.Z)({"has-value":!v.isEmpty,"has-error":null!==v.error}),children:[(0,Fs.jsx)("div",{ref:p,id:`iban-number-${s}`,className:(0,Hs.Z)("StripeElement",{"has-label-floating":u})}),v.error&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:v.error})]}),(0,Fs.jsx)("div",{className:o?"mt-5":"grow-1 min-h-0 p-rel mt-4",style:C,children:(0,Fs.jsx)("div",{className:(0,Hs.Z)({"p-abs top-left bottom-right text-scrollable":!o}),children:(0,Fs.jsx)("p",{className:(0,Hs.Z)("body-4 text-gray-80 text-ellipsis",{"px-3 py-2-5":!o,"pointer-events-none":i.locked}),children:r.translate("sepaScreen.legalInformation")})})})]})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary",tooltipTitle:i.payErrorMessage,processingState:i.processingState,dataQa:"sepa-continue-button",trackingElement:"nextButton",children:i.isPaymentScreen?Lc(r,i.formattedAmount,i.frequency):r.translate("sepaScreen.button")})})]})},[$n.IDEAL]:e=>{const{showBadge:t}=e,{state:n,controller:i}=No($n.IDEAL),a=(0,no.Y)(),r=(0,Zs.S)(),{isVariant2TestGroup:s}=(0,mc.X)(),o=(0,m.useRef)(null),c=Bl(n.shakeKey,0!==n.shakeKey),l=(0,m.useMemo)((()=>{var e;return De()(e=n.options).call(e,(e=>{let{label:t,id:n}=e;return{id:n,value:t}}))}),[n.options]),u=(0,m.useMemo)((()=>({id:n.bank.id,value:n.bank.label})),[n.bank]),d=(0,m.useCallback)((e=>{i.setBank(e)}),[i]);(0,ec.w)({ref:o,autoFocus:!0,mode:Jo.E.MOBILE});const h=(0,m.useCallback)((()=>i.resetValidation()),[i]),p={maxHeight:r?void 0:"180px"};return(0,Fs.jsxs)("form",{className:"flow-screen",onSubmit:e=>{e.preventDefault(),i.leave()},children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenAriaLabel",{screenTitle:`${a.translate("idealScreen.title")}`})}),(0,Fs.jsx)(Dc,{showBadge:t,children:(0,Fs.jsxs)("h2",{className:(0,Hs.Z)("d-flex items-center justify-center",s?"subtitle-3-5":"title-2"),children:[(0,Fs.jsx)("span",{className:"shrink-0 icon-slot icon-slot-28 me-1","aria-hidden":"true",children:(0,Fs.jsx)("span",{className:"p-abs centered font-size-28",children:(0,Fs.jsx)(uy,{className:"icon d-block"})})}),(0,Fs.jsx)("span",{className:r?"text-ellipsis":"text-line-clamp-2","data-qa":"ideal-title",children:a.translate("idealScreen.title")})]})}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"pt-6":!r&&!s,"pb-8":!r}),children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("fixed-container",{"grow-1 d-flex flex-column":!r}),children:[(0,Fs.jsx)(by,{className:(0,Hs.Z)("d-block",{"mx-auto":!s}),width:109,height:88,ariaHidden:!0}),(0,Fs.jsx)("p",{className:(0,Hs.Z)("mt-2",{"text-center":!s},r?"text-ellipsis":"text-line-clamp-3"),children:a.translate("idealScreen.description")}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("mt-6",{"animation-shake":c}),children:[(0,Fs.jsx)(Zd,{ref:o,className:"search-select-bank",placeholder:n.bank.label||a.translate("idealScreen.selectBank.placeholder"),selectedOption:u,options:l,onSelect:d,onChange:h,displayName:n.bank.label,clearOnFocus:!0,showIcons:!0,hasError:!n.validation.fields.bank.isValid,showInputPrefix:!!n.bank.id,SelectedIconToRender:Sy,ListItemToRender:fy,disabled:n.locked,qa:"ideal-bank-select"}),!n.validation.fields.bank.isValid&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:a.translate("idealScreen.selectBank.error.required")})]}),n.isSubscription&&(0,Fs.jsx)("div",{className:r?"mt-5":"grow-1 p-rel mt-4",style:p,children:(0,Fs.jsx)("div",{className:r?"border-top border-gray-20":"p-abs top-left bottom-right text-scrollable",children:(0,Fs.jsx)(Ll,{className:(0,Hs.Z)("body-4 text-gray-80 text-ellipsis",r?"pt-4-5":"px-3 py-2-5",{"pointer-events-none":n.locked}),as:"p",token:"idealScreen.legalInformation"})})})]})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary",processingState:n.processingState,tooltipTitle:n.errorMessage||a.translate("common.errorOccurredText"),dataQa:"ideal-continue-button",trackingElement:"nextButton",children:a.translate("idealScreen.button")})})]})},[$n.IDEAL_CONFIRMATION]:e=>{const{showBadge:t}=e,{state:n,controller:i}=No($n.IDEAL_CONFIRMATION),a=(0,Zs.S)(),r=(0,no.Y)(),{isVariant2TestGroup:s}=(0,mc.X)(),o=(0,m.useCallback)((()=>{i.leave()}),[i]),c=(0,m.useCallback)((()=>{i.returnToBankWindow()}),[i]),l=(0,m.useCallback)((()=>{i.back()}),[i]);return(0,Fs.jsxs)("div",{className:"flow-screen",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:r.translate("common.screenAriaLabel",{screenTitle:`${r.translate("idealConfirmationScreen.title")}`})}),(0,Fs.jsx)(Dc,{backButtonClickHandler:l,title:r.translate("idealConfirmationScreen.title"),showBadge:t,titleQa:"ideal-confirmation-title"}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"pt-5":!a&&!s,"pb-5":!a,"mt-minus-1":a&&s&&!n.showReturnBankInfo}),children:n.showReturnBankInfo?(0,Fs.jsx)(yy,{ideal:n.ideal}):(0,Fs.jsx)(Jg,{ideal:n.ideal,email:n.email,name:n.name})}),(0,Fs.jsx)(yc,{backButtonClickHandler:l,children:n.showReturnBankInfo?(0,Fs.jsx)(nl,{className:"btn-primary",processingState:"idle",trackingElement:"nextButton",onClick:c,children:r.translate("idealConfirmationScreen.button")}):(0,Fs.jsxs)(Fs.Fragment,{children:[i.showNextStepOverview&&(0,Fs.jsx)("p",{className:(0,Hs.Z)("body-4 text-ellipsis mb-4",{"text-center":!s}),children:r.translate("idealConfirmationScreen.nextStepOverview",{bank:n.ideal.bank})}),(0,Fs.jsx)(nl,{className:"btn-primary",processingState:n.processingState,tooltipTitle:n.errorMessage||r.translate("common.errorOccurredText"),onClick:o,dataQa:"ideal-pay-button",trackingElement:"nextButton",children:Lc(r,n.formattedAmount,n.frequency)})]})})]})},[$n.CLICK_TO_PAY_SPLASH]:e=>{const{showBadge:t}=e,{controller:n}=No($n.CLICK_TO_PAY_SPLASH),i=(0,no.Y)(),a=(0,co.S)(),r=(0,Zs.S)(),s=(0,eo.g)(),{isVariant2TestGroup:o}=(0,mc.X)();(0,m.useEffect)((()=>{if(!s)return n.initiateClickToPay({}),()=>n.destroyClickToPay()}),[n,s]);const c=(0,m.useCallback)((()=>{(0,d.mG)(void 0,void 0,void 0,(function*(){s||(yield n.startClickToPay(),yield n.leave())}))}),[n,s]);return(0,Fs.jsxs)("div",{className:"flow-screen","data-qa":"active-screen-click-to-pay-splash",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:i.translate("common.screenAriaLabel",{screenTitle:`${i.translate("clickToPayScreen.title")}`})}),(0,Fs.jsx)(Dc,{showBadge:t,children:(0,Fs.jsxs)("h2",{className:(0,Hs.Z)("d-flex items-center justify-center",o?"subtitle-3-5":"title-2"),children:[(0,Fs.jsx)("span",{className:"shrink-0 icon-slot icon-slot-24 me-2","aria-hidden":"true",children:(0,Fs.jsx)("div",{className:"p-abs centered font-size-24",children:(0,Fs.jsx)(Sm,{className:"d-block icon-fill"})})}),(0,Fs.jsx)("span",{className:r?"text-ellipsis":"text-line-clamp-2",children:i.translate("clickToPayScreen.title")})]})}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",r?"justify-center":"pt-8"),children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsxs)("div",{className:"d-flex items-start",children:[(0,Fs.jsx)("div",{className:"shrink-0 me-4","aria-hidden":"true",children:(0,Fs.jsx)(Lm,{className:(0,Hs.Z)("d-block",{"icon-flip-horizontal":a})})}),(0,Fs.jsxs)("p",{className:"text-ellipsis",children:[(0,Fs.jsx)("span",{className:"subtitle-4",children:i.translate("clickToPayScreen.speed.title")})," ",i.translate("clickToPayScreen.speed.label")]})]}),(0,Fs.jsxs)("div",{className:"d-flex items-start mt-8",children:[(0,Fs.jsx)("div",{className:"shrink-0 me-4","aria-hidden":"true",children:(0,Fs.jsx)(Km,{className:"d-block"})}),(0,Fs.jsxs)("p",{className:"text-ellipsis",children:[(0,Fs.jsx)("span",{className:"subtitle-4",children:i.translate("clickToPayScreen.security.title")})," ",i.translate("clickToPayScreen.security.label")]})]}),(0,Fs.jsxs)("div",{className:"d-flex items-start mt-8",children:[(0,Fs.jsx)("div",{className:"shrink-0 me-4","aria-hidden":"true",children:(0,Fs.jsx)(Bm,{className:"d-block"})}),(0,Fs.jsxs)("p",{className:"text-ellipsis",children:[(0,Fs.jsx)("span",{className:"subtitle-4",children:i.translate("clickToPayScreen.safety.title")})," ",i.translate("clickToPayScreen.safety.label")]})]})]})}),(0,Fs.jsxs)(yc,{children:[(0,Fs.jsx)("p",{className:"body-3 text-center text-ellipsis",children:i.translate("clickToPayScreen.clickBelow")}),(0,Fs.jsxs)("button",{type:"button",onClick:c,className:"btn d-flex items-center justify-center text-white bg-black border-radius-24 mt-3","data-qa":"start-click-to-pay","aria-label":i.translate("paymentMethodScreen.clickToPayButtonAriaLabel"),children:[(0,Fs.jsx)(Sm,{className:"shrink-0 mx-1",width:30,height:30,"aria-hidden":"true"}),(0,Fs.jsx)("span",{className:"shrink-0 h-45 border-left border-white mx-1","aria-hidden":"true"}),(0,Fs.jsx)(Nm,{className:"shrink-0 mx-1",width:29,height:18,"aria-hidden":"true"}),(0,Fs.jsx)(Dm,{className:"shrink-0 mx-1",width:40,height:14,"aria-hidden":"true"}),(0,Fs.jsx)(lm,{className:"shrink-0 mx-1",width:20,height:20,"aria-hidden":"true"}),(0,Fs.jsx)(dm,{className:"shrink-0 mx-1",ariaHidden:!0})]})]})]})},[un.QUESTIONS]:bu,[un.PRIVACY]:Vl,[un.THANK_YOU]:yd,[un.COMMENT]:Oc,[un.MAILING_ADDRESS]:Fh,[un.REMIND_ME]:()=>{const{state:e,controller:t}=No(un.REMIND_ME),n=(0,no.Y)(),i=(0,Zs.S)(),a=Eo(),{isVariant2TestGroup:r}=(0,mc.X)(),s=Bl(e.shakeKey,0!==e.shakeKey),o=Au(),c=(0,m.useId)(),l=(0,m.useCallback)((()=>{t.updateIsTermsAndConditionsAccepted(!e.termsAndConditions.isAccepted)}),[t,e]),u=(0,m.useCallback)((e=>{t.updateEmail(e.target.value)}),[t]),h=(0,m.useCallback)((()=>(0,d.mG)(void 0,void 0,void 0,(function*(){(yield t.save())&&o.emit("should-hide",{isManualCall:!0})}))),[t,o]),p=(0,m.useCallback)((()=>{t.saveOnClose(),o.emit("should-hide",{isManualCall:!0})}),[t,o]);return(0,Fs.jsxs)("div",{className:"flow-screen remind-me-screen","data-qa":"remind-me-later-screen",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:n.translate("common.screenAriaLabel",{screenTitle:`${n.translate("remindMeScreen.title")}`})}),(0,Fs.jsx)(Dc,{backButtonClickHandler:()=>{t.resetToDefaultState(),a.getCurrentFlow().prev()},children:(0,Fs.jsx)("h2",{className:(0,Hs.Z)(r?"subtitle-3-5":i?"title-1":"title-2",i?"text-ellipsis":"text-line-clamp-2"),children:n.translate("remindMeScreen.title")})}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body py-8",{"animation-shake":s}),children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsxs)("div",{className:"bell-wrap","aria-hidden":"true",children:[(0,Fs.jsx)(Zh,{className:"d-block mx-auto"}),(0,Fs.jsx)(Wh,{className:"bell-shadow"}),(0,Fs.jsx)(Xh,{className:"bell-tongue"}),(0,Fs.jsx)(Hh,{className:"bell"}),(0,Fs.jsx)(Vh,{className:"bell-heart"})]}),(0,Fs.jsx)("p",{className:(0,Hs.Z)("text-center mx-auto mt-6",i?"text-ellipsis":"text-line-clamp-5"),style:Qh,children:n.translate("remindMeScreen.description")}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)(i?"mt-6":"mt-8",{"animation-shake":!e.email.isValid}),children:[(0,Fs.jsx)(bl.u,{labelFloating:!0,id:c,name:"email",autoComplete:"email",autoFocus:!0,labelSrOnly:!0,label:n.translate("remindMeScreen.emailInput.label"),placeholder:n.translate("remindMeScreen.emailInput.placeholder"),error:!e.email.isValid,value:e.email.value,onChange:u,disabled:e.locked,dataQa:"remind-me-later-email-input",children:!e.email.isValid&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:n.translate("remindMeScreen.emailInput.error.required")})}),e.isTermsAndConditionsEnabled&&(0,Fs.jsx)(Gh,{className:"mt-4",text:e.termsAndConditions.text,checked:e.termsAndConditions.isAccepted,isValid:e.termsAndConditions.isValid,onTermsAcceptionChange:l})]})]})}),(0,Fs.jsx)(yc,{backButtonClass:"text-white-hover-white",children:(0,Fs.jsx)(Bh,{disabled:e.locked,onClose:p,onSave:h,processingState:e.processingState,serverErrors:e.serverErrors})})]})}};var RC=n(40725);const LC=e=>(0,Fs.jsxs)(Fs.Fragment,{children:[e.showIcons&&(0,Fs.jsx)("div",{className:"search-select-option-icon","aria-hidden":"true",children:e.option.icon?(0,Fs.jsx)("img",{src:`data:image/png;base64, ${e.option.icon}`,width:20,height:20,alt:""}):(0,Fs.jsx)("img",{src:RC,width:20,height:20,alt:""})}),(0,Fs.jsx)("span",{children:e.option.value})]}),MC=e=>!e.option||null===e.option.icon&&!e.option.id?(0,Fs.jsx)("div",{className:"search-select-input-icon font-size-18","aria-hidden":"true",children:(0,Fs.jsx)(th,{className:"icon-stroke text-gray-60"})}):e.option.icon?(0,Fs.jsx)("div",{className:"search-select-input-icon","aria-hidden":"true",children:(0,Fs.jsx)("img",{src:`data:image/png;base64, ${e.option.icon}`,width:20,height:20,alt:""})}):(0,Fs.jsx)("div",{className:"search-select-input-icon","aria-hidden":"true",children:(0,Fs.jsx)("img",{src:RC,width:20,height:20,alt:""})}),jC=(0,m.memo)(MC);var FC;function UC(){return UC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},UC.apply(this,arguments)}var BC=function(e,t){return m.createElement("svg",UC({fill:"none",height:28,viewBox:"0 0 28 28",width:28,xmlns:"http://www.w3.org/2000/svg",ref:t},e),FC||(FC=m.createElement("g",{clipRule:"evenodd",fill:"currentColor",fillRule:"evenodd"},m.createElement("path",{d:"m7 10c0-.55228.44772-1 1-1h12c.5523 0 1 .44772 1 1 0 .5523-.4477 1-1 1h-12c-.55228 0-1-.4477-1-1z"}),m.createElement("path",{d:"m7 14c0-.5523.44772-1 1-1h12c.5523 0 1 .4477 1 1s-.4477 1-1 1h-12c-.55228 0-1-.4477-1-1z"}),m.createElement("path",{d:"m2 3c-1.10457 0-2 .89543-2 2v16c0 1.1046.895431 2 2 2h8.126c.1594.6194.4635 1.1807.874 1.6458v2.3542c0 .3788.214.725.5528.8944s.7442.1329 1.0472-.0944l1.4-1.05 1.4 1.05c.303.2273.7084.2638 1.0472.0944s.5528-.5156.5528-.8944v-2.3542c.4105-.4651.7146-1.0264.874-1.6458h8.126c1.1046 0 2-.8954 2-2v-16c0-1.10457-.8954-2-2-2zm12 15c-1.8638 0-3.4299 1.2748-3.874 3h-5.25202c-.36178-1.4056-1.46837-2.5122-2.87398-2.874v-10.25202c1.40561-.36178 2.5122-1.46837 2.87398-2.87398h18.25202c.3618 1.40561 1.4684 2.5122 2.874 2.87398v10.25202c-1.4056.3618-2.5122 1.4684-2.874 2.874h-5.252c-.4441-1.7252-2.0102-3-3.874-3zm0 2c-1.1046 0-2 .8954-2 2s.8954 2 2 2 2-.8954 2-2-.8954-2-2-2z"}))))},GC=(0,m.forwardRef)(BC),qC=(0,m.memo)(GC);const VC={letterSpacing:"-0.2em"},KC=e=>{const t=(0,no.Y)(),n=e.number.substring(e.number.length-4);return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("p",{className:"caption-1 text-ellipsis mt-5",children:t.translate("stockConfirmationScreen.accountDetails")}),(0,Fs.jsxs)("div",{className:"d-flex items-start mt-1",children:[(0,Fs.jsx)("div",{className:"shrink-0 me-2 icon-slot icon-slot-20",children:(0,Fs.jsx)("div",{className:"p-abs centered font-size-20 text-gray-60",children:e.icon?(0,Fs.jsx)("img",{className:"d-block",width:20,height:20,src:`data:image/png;base64, ${e.icon}`,"data-testid":"brokerLogo"}):(0,Fs.jsx)(py,{className:"icon-stroke d-block"})})}),(0,Fs.jsxs)("div",{className:"grow-1 d-flex items-start",children:[(0,Fs.jsx)("p",{className:"text-ellipsis me-2","data-testid":"brokerName",children:e.name}),(0,Fs.jsxs)("p",{className:"shrink-0 d-flex items-center","data-testid":"brokerageNumberConfirmation",children:[(0,Fs.jsx)("span",{className:"font-size-18 me-1",style:VC,children:""}),n]})]})]})]})},HC=(0,m.memo)(KC),YC=e=>{const t=(n=e.ticker,`${(0,Bs.C)().environmentConfig.cdnUrl}/stock-icons/${n}.svg`);var n;return(0,Fs.jsx)("img",{src:t,"data-testid":"stock-image",className:"d-block border-radius-6",alt:"",width:20,height:20})},ZC=(0,m.memo)(YC),zC={maxWidth:"120px"},WC={width:"1%"},$C=e=>{var t;const n=(0,no.Y)(),i=(0,Xs.q)();return(0,Fs.jsx)("div",{className:(0,Hs.Z)(i("table-stocks-wrap"),e.className),children:(0,Fs.jsxs)("table",{className:"table-stocks",children:[(0,Fs.jsx)("thead",{children:(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("th",{className:(0,Hs.Z)("table-stocks-head-cell pe-2",{"ps-8":!e.isMobileView}),children:n.translate("stockConfirmationScreen.tableStock")}),(0,Fs.jsx)("th",{className:"table-stocks-head-cell text-right px-2",children:n.translate("stockConfirmationScreen.tableQuantity")}),(0,Fs.jsx)("th",{className:(0,Hs.Z)("table-stocks-head-cell text-right ps-4",{"pe-8":!e.isMobileView}),children:n.translate("stockConfirmationScreen.tableSubtotal")})]})}),(0,Fs.jsx)("tbody",{children:De()(t=e.securities).call(t,(t=>{let{ticker:i,quantity:a,subtotal:r,currency:s}=t;return(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("td",{className:(0,Hs.Z)("table-stocks-cell pe-2",{"ps-8":!e.isMobileView}),children:(0,Fs.jsxs)("div",{className:"d-flex",style:zC,children:[(0,Fs.jsx)("div",{className:"shrink-0 me-2",children:(0,Fs.jsx)(ZC,{ticker:i})}),(0,Fs.jsx)("p",{className:"text-truncate",children:i})]})}),(0,Fs.jsx)("td",{className:"table-stocks-cell text-sans-serif text-right px-2",style:WC,children:a}),(0,Fs.jsx)("td",{className:(0,Hs.Z)("table-stocks-cell text-sans-serif text-right ps-4",{"pe-8":!e.isMobileView}),style:WC,children:n.formatCurrency(r,{currency:s,withoutSuffix:!0})})]},i)}))})]})})},XC=(0,m.memo)($C),QC=e=>{const t=(0,no.Y)();return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("p",{className:"caption-1 text-center text-ellipsis",children:t.translate("stockConfirmationScreen.total")}),(0,Fs.jsx)("p",{className:"subtitle-3 text-sans-serif text-center text-truncate mt-1","data-testid":"totalAmount",children:t.formatCurrency(e.total,{currency:e.currency,display:"fullstrict"})}),(0,Fs.jsx)("p",{className:"body-4 text-center text-ellipsis mt-3",children:t.translate("stockConfirmationScreen.totalInfo")})]})},JC=(0,m.memo)(QC),eb=e=>(0,Fs.jsxs)("div",{className:e.className,"data-testid":e.dataTestId,children:[(0,Fs.jsx)("p",{className:"text-ellipsis","data-testid":"fullNameConfirmation",children:e.fullName}),(0,Fs.jsxs)("p",{className:"body-4 text-ellipsis",children:[(0,Fs.jsx)("span",{"data-testid":"emailConfirmation",children:e.email}),e.phone&&(0,Fs.jsxs)("span",{"data-testid":"phoneConfirmation",children:[", ",e.phone]})]})]}),tb=(0,m.memo)(eb),nb={transform:"",maxWidth:""},ib={fontSize:28,minFontSize:18,lineHeight:1.5},ab={height:"42px"},rb=(0,m.forwardRef)(((e,t)=>{var n;const i=(0,no.Y)(),a=(0,co.S)(),r=(0,m.useRef)(null),s=ho(),o=e.displayConfig||ib,c=1/(o.fontSize/o.minFontSize),[l,u]=(0,m.useState)(k()({minWidth:"100%",transformOrigin:a?"100% 100%":"0 100%",fontSize:`${o.fontSize}px`,lineHeight:`${o.lineHeight}`},nb)),d=(0,m.useCallback)((e=>{let{isOverflowed:t,elementDimension:n,containerDimension:i}=e;if(t){const e=i/n;u((t=>k()(k()({},t),{transform:`scale(${e<=c?c:e})`,maxWidth:100/c+"%"})))}else u((e=>k()(k()({},e),nb)))}),[c]),{mutableElementRef:h,overflowedContainerRef:p}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"offsetHeight",t=arguments.length>1?arguments[1]:void 0;const n=(0,m.useRef)(null),i=(0,m.useCallback)((i=>{const a=n.current;if(!a)return void console.error("useOverflow: overflowedContainerRef was not mounted");const r=a[e]<i[e];t&&t({containerDimension:a[e],elementDimension:i[e],isOverflowed:r})}),[t,n,e]),{mutableElementRef:a}=Fg(i);return{mutableElementRef:a,overflowedContainerRef:n}}("offsetWidth",d),g=()=>{if(!r.current)throw new Error("inputRef was not provided");r.current.focus()};return(0,m.useImperativeHandle)(t,(()=>({focus:g}))),(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("span",{className:"sr-only text-cursive","aria-hidden":"true",children:""}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("p-rel",e.className),children:[(0,Fs.jsx)("label",{htmlFor:`signature-${s}`,className:"sr-only","data-testid":"inputPlaceholder",children:e.inputPlaceholder?e.inputPlaceholder:i.translate("typedSignature.input.placeholder")}),(0,Fs.jsx)("input",{ref:r,type:"text",id:`signature-${s}`,"data-testid":"inputTypedSignature",className:(0,Hs.Z)("form-control",{"has-error":e.hasError}),placeholder:e.inputPlaceholder?e.inputPlaceholder:i.translate("typedSignature.input.placeholder"),maxLength:32,value:e.signature,disabled:e.disabled,onChange:t=>e.onChange(t.target.value),"data-qa":e.qa})]}),(0,Fs.jsx)("p",{className:(0,Hs.Z)("text-truncate",e.signatureOffset),"data-testid":"signatureDescription",children:e.signatureDescription?e.signatureDescription:i.translate("typedSignature.description")}),(0,Fs.jsxs)("div",{className:"border-radius-base px-4 pt-3 pb-5 mt-3 overflow-hidden border border-gray-20",children:[(0,Fs.jsx)("p",{className:"subtitle-4",children:Gt()(n=e.signerName).call(n)?(0,Fs.jsx)("span",{className:"text-truncate","data-testid":"signerName",children:e.signerName}):(0,Fs.jsx)("span",{className:"text-gray-60 text-truncate","data-testid":"signerNamePlaceholder",children:i.translate("typedSignature.coOwner")})}),(0,Fs.jsx)("div",{ref:p,className:"p-rel border-bottom border-gray-20 border-width-2 mt-1",style:ab,children:(0,Fs.jsx)("div",{ref:h,className:(0,Hs.Z)("p-abs bottom-left text-ellipsis text-nowrap",{"text-cursive mb-minus-2":e.signature}),style:l,"data-testid":"signature",children:e.signature?(0,Fs.jsx)("span",{className:"px-1",children:e.signature}):(0,Fs.jsx)("span",{className:"body-4 text-gray-60 text-truncate","data-testid":"signaturePlaceholder",children:i.translate("typedSignature.signPlaceholder")})})})]})]})}));rb.displayName="_TypedSignature";const sb=(0,m.memo)(rb),ob=e=>{const t=(0,no.Y)(),n=ho();return(0,Fs.jsxs)("div",{className:"mt-3",children:[(0,Fs.jsx)("label",{htmlFor:`coowner-email-${n}`,className:"sr-only",children:t.translate("stockCoOwnerSignatureScreen.emailInput.label")}),(0,Fs.jsx)("input",{type:"email",id:`coowner-email-${n}`,"data-testid":"inputCoOwnerEmail",value:e.value,onChange:e.onChangeEmail,className:(0,Hs.Z)("form-control",{"has-error":e.hasError}),placeholder:t.translate("stockCoOwnerSignatureScreen.emailInput.label"),disabled:e.locked,"data-qa":"stock-coowner-email-field"}),e.hasError&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:t.translate("stockCoOwnerSignatureScreen.emailInput.error")})]})},cb=(0,m.memo)(ob),lb=(0,m.forwardRef)(((e,t)=>{const n=(0,no.Y)(),i=ho(),a=(0,m.useRef)(null),r=()=>{if(!a.current)throw new Error("inputRef was not provided");a.current.focus()};return(0,m.useImperativeHandle)(t,(()=>({focus:r}))),(0,Fs.jsxs)("div",{className:"group-stacked-item p-rel",children:[(0,Fs.jsx)("label",{htmlFor:`coowner-first-name-${i}`,className:"sr-only",children:n.translate("stockCoOwnerSignatureScreen.firstNameInput.label")}),(0,Fs.jsx)("input",{ref:a,id:`coowner-first-name-${i}`,"data-testid":"inputCoOwnerFirstName",type:"text",value:e.value,onChange:e.onChangeFirstName,className:(0,Hs.Z)("form-control",{"has-error":e.hasError}),placeholder:n.translate("stockCoOwnerSignatureScreen.firstNameInput.label"),disabled:e.locked,"data-qa":"stock-coowner-first-name-field"}),e.hasError&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:n.translate("stockCoOwnerSignatureScreen.firstNameInput.error")})]})}));lb.displayName="_StockCoOwnerSignatureFirstNameInput";const ub=(0,m.memo)(lb),db=e=>{const t=(0,no.Y)(),n=ho();return(0,Fs.jsxs)("div",{className:"group-stacked-item p-rel",children:[(0,Fs.jsx)("label",{htmlFor:`coowner-last-name-${n}`,className:"sr-only",children:t.translate("stockCoOwnerSignatureScreen.lastNameInput.label")}),(0,Fs.jsx)("input",{type:"text",id:`coowner-last-name-${n}`,"data-testid":"inputCoOwnerLastName",value:e.value,onChange:e.onChangeLastName,className:(0,Hs.Z)("form-control",{"has-error":e.hasError}),placeholder:t.translate("stockCoOwnerSignatureScreen.lastNameInput.label"),disabled:e.locked,"data-qa":"stock-coowner-last-name-field"}),e.hasError&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:t.translate("stockCoOwnerSignatureScreen.lastNameInput.error")})]})},hb=(0,m.memo)(db),mb=/^(?!.*%).*$/,pb=()=>(0,Fs.jsx)("div",{className:"search-select-input-icon font-size-18","aria-hidden":"true",children:(0,Fs.jsx)(th,{className:"icon-stroke text-gray-60"})}),gb=(0,m.memo)(pb),yb=e=>{const t=(0,no.Y)();return(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("div",{className:"search-select-option-icon","aria-hidden":"true",children:(0,Fs.jsx)(ZC,{ticker:e.option.id})}),(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("div",{className:"body-2 text-ellipsis","data-testid":"stock-name",children:e.option.value}),(0,Fs.jsxs)("div",{className:"d-flex",children:[(0,Fs.jsx)("span",{className:"body-4 me-1 text-truncate","data-testid":"stock-ticker",children:e.option.id}),e.option.price&&(0,Fs.jsx)("span",{className:"body-4 text-gray-80 text-truncate","data-testid":"stock-price",children:t.translate("stockSecuritiesScreen.sharePrice",{amount:t.formatCurrency(e.option.price,{currency:e.option.currency})})})]})]})]})};var fb,vb,Sb,Cb;function bb(){return bb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bb.apply(this,arguments)}var Eb=function(e,t){return m.createElement("svg",bb({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),fb||(fb=m.createElement("polyline",{points:"3 6 5 6 21 6"})),vb||(vb=m.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})),Sb||(Sb=m.createElement("line",{x1:10,y1:11,x2:10,y2:17})),Cb||(Cb=m.createElement("line",{x1:14,y1:11,x2:14,y2:17})))},Ab=(0,m.forwardRef)(Eb),Nb=(0,m.memo)(Ab);const Pb=e=>{const t=(0,no.Y)(),n=(0,m.useRef)(null),[i,a]=(0,m.useState)("1"),[r,s]=(0,m.useState)(""),[o,c]=(0,m.useState)(!1),l=e.screenLocked&&!e.open;(0,m.useEffect)((()=>{i&&a(e.stock.quantity.toString())}),[e,i,o]);const u=/[0-9]/,d=(0,m.useCallback)((()=>{Pp()(i)<1&&e.onRemove(e.stock.ticker)}),[e,i]),h=(0,m.useCallback)((t=>{t.preventDefault(),e.screenLocked&&!e.open||(c(!1),e.lockScreen(!1),t.preventDefault(),e.onRemove(e.stock.ticker))}),[e]),p=(0,m.useCallback)((()=>{e.screenLocked&&!e.open||e.onOpen(e.stock.ticker)}),[e]);return(0,ec.w)({ref:n,autoFocus:e.open,mode:Jo.E.DESKTOP}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)("selected-stock",{"selected-stock-clickable focus-outline":!e.open,"pointer-events-none":l}),"data-testid":"selected-stock",tabIndex:e.open?void 0:0,onClick:p,onKeyPress:p,children:[(0,Fs.jsxs)("div",{className:"d-flex items-start",children:[(0,Fs.jsx)("div",{className:"icon-slot icon-slot-20 shrink-0 me-2","aria-hidden":"true",children:(0,Fs.jsx)("span",{className:"p-abs centered",children:(0,Fs.jsx)(ZC,{ticker:e.stock.ticker})})}),(0,Fs.jsxs)("div",{className:"grow-1",children:[(0,Fs.jsx)("p",{className:"body-1 text-truncate","data-testid":"selected-stock-name",children:e.stock.name}),(0,Fs.jsxs)("p",{className:"d-flex items-center mt-0-5",children:[(0,Fs.jsx)("span",{className:"label-5 text-truncate","data-testid":"selected-stock-ticker",children:e.stock.ticker}),(0,Fs.jsx)("span",{className:"label-5 px-1 shrink-0","aria-hidden":"true",children:""}),(0,Fs.jsx)("span",{className:"body-4 text-sans-serif shrink-0 me-2","data-testid":"selected-stock-price",children:t.formatCurrency(e.stock.price,{currency:e.stock.currency})}),!e.open&&(0,Fs.jsx)("span",{className:"body-4 shrink-0 ms-auto","data-testid":"selected-stock-quantity",children:t.translate("stockSecuritiesScreen.sharesSelected",{quantity:i})})]})]}),e.open&&(0,Fs.jsx)("div",{className:"icon-slot icon-slot-18 shrink-0 ms-2",children:(0,Fs.jsx)("button",{type:"button",className:"btn-icon p-abs centered font-size-18 text-gray-60-hover-gray-80 shrink-0","aria-label":t.translate("stockSecuritiesScreen.deleteAriaLabel",{companyName:e.stock.name}),onClick:h,children:(0,Fs.jsx)(Nb,{className:"icon-stroke d-block"})})})]}),e.open&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("hr",{className:"my-3"}),(0,Fs.jsxs)("div",{className:"d-flex items-center",children:[(0,Fs.jsx)("p",{className:"body-3 text-ellipsis me-2",children:t.translate("stockSecuritiesScreen.sharesToGive")}),(0,Fs.jsxs)("div",{className:"shrink-0 p-rel ms-auto",children:[(0,Fs.jsx)("input",{ref:n,type:"number","data-testid":"stock-quantity-input",min:"0",value:i,className:(0,Hs.Z)("form-control selected-stock-input",{"pe-13":e.stock.stocksAvailable,"has-error":o}),onChange:t=>{const n=t.target.value;a(n);const i=(t=>{const n=Pp()(t);return t?!(e.stock.stocksAvailable&&e.stock.stocksAvailable<n&&(s(e.errorTexts.maxQuantity),1)):(s(e.errorTexts.minQuantity),!1)})(n);if(c(!i),e.lockScreen(!i),n){const t=Pp()(n);e.onChange(e.stock.ticker,t)}},onKeyDown:e=>{if(!u.test(e.key)&&e.key&&1===e.key.length&&!e.ctrlKey&&!e.metaKey)return e.preventDefault()},onBlur:d}),e.stock.stocksAvailable&&(0,Fs.jsxs)("span",{className:"body-4 text-gray-60 p-abs centered-right me-2",children:["/",e.stock.stocksAvailable]}),(0,Fs.jsx)(jc.K,{triggerRef:n,placement:"bottom",show:o,maxWidth:"176px",dataQa:"tribute-hint",children:r})]})]})]})]})};Pb.displayName="_SelectedStock";const xb=(0,m.memo)(Pb),kb=e=>{const t=ho();return(0,Fs.jsxs)("svg",{className:(0,Hs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:"40",viewBox:"0 0 38 40",width:"38",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,Fs.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"8",width:"8.00928",x:"3",y:"33",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_9799_17757",stdDeviation:".5"})]}),(0,Fs.jsxs)("filter",{id:`b-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"12",width:"12",x:"19",y:"19",children:[(0,Fs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Fs.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,Fs.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_9799_17757",stdDeviation:".5"})]}),(0,Fs.jsxs)("linearGradient",{id:`c-${t}`,gradientUnits:"userSpaceOnUse",x1:"15",x2:"15",y1:"41",y2:"32",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#568ee3"}),(0,Fs.jsx)("stop",{offset:".345041",stopColor:"#8fbcff"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#d9e8ff"})]}),(0,Fs.jsxs)("linearGradient",{id:`d-${t}`,children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#fff"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),(0,Fs.jsx)("linearGradient",{id:`e-${t}`,gradientUnits:"userSpaceOnUse",x1:"4.5",x2:"8",xlinkHref:`#d-${t}`,y1:"32",y2:"40.5"}),(0,Fs.jsxs)("linearGradient",{id:`f-${t}`,gradientUnits:"userSpaceOnUse",x1:"4",x2:"11",y1:"18",y2:"50.5",children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#d9e8ff"}),(0,Fs.jsx)("stop",{offset:".638917",stopColor:"#b1d0ff"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#699be7"})]}),(0,Fs.jsx)("radialGradient",{id:`g-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(6.99999582 .49999641 -1.02854418 14.39971325 0 33.5)",gradientUnits:"userSpaceOnUse",r:"1",xlinkHref:`#d-${t}`}),(0,Fs.jsxs)("linearGradient",{id:`h-${t}`,children:[(0,Fs.jsx)("stop",{offset:"0",stopColor:"#719ddf"}),(0,Fs.jsx)("stop",{offset:"1",stopColor:"#719ddf",stopOpacity:"0"})]}),(0,Fs.jsx)("radialGradient",{id:`i-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(-1.00000002 -7.00000221 17.42222024 -2.48888787 5.5 40)",gradientUnits:"userSpaceOnUse",r:"1",xlinkHref:`#h-${t}`}),(0,Fs.jsx)("radialGradient",{id:`j-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(24.50001603 4.00000623 -3.88790667 23.81340684 9 32)",gradientUnits:"userSpaceOnUse",r:"1",xlinkHref:`#d-${t}`}),(0,Fs.jsx)("radialGradient",{id:`k-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(-3.04660982 -3.90650483 11.11836514 -8.67100437 20.3526 29.7663)",gradientUnits:"userSpaceOnUse",r:"1",xlinkHref:`#h-${t}`}),(0,Fs.jsx)("linearGradient",{id:`l-${t}`,gradientUnits:"userSpaceOnUse",x1:"31.1912",x2:"35.4053",xlinkHref:`#d-${t}`,y1:"23.8475",y2:"23.1466"}),(0,Fs.jsx)("linearGradient",{id:`m-${t}`,gradientUnits:"userSpaceOnUse",x1:"22.3194",x2:"24.5514",xlinkHref:`#d-${t}`,y1:"22.4233",y2:"22.2893"}),(0,Fs.jsx)("linearGradient",{id:`n-${t}`,gradientUnits:"userSpaceOnUse",x1:"32.501",x2:"36.001",xlinkHref:`#d-${t}`,y1:"4.20605",y2:"4.20605"}),(0,Fs.jsx)("linearGradient",{id:`o-${t}`,gradientUnits:"userSpaceOnUse",x1:"21.501",x2:"23.001",xlinkHref:`#d-${t}`,y1:"23.7061",y2:"25.2061"}),(0,Fs.jsx)("mask",{id:`p-${t}`,height:"40",maskUnits:"userSpaceOnUse",width:"38",x:"0",y:"0",children:(0,Fs.jsx)("path",{d:"m29.625 32v.375h.375 4c2.0019 0 3.625 1.6231 3.625 3.625s-1.6231 3.625-3.625 3.625h-30c-2.00203 0-3.625-1.623-3.625-3.625v-35.625h29.25z",fill:`url(#c-${t})`,stroke:`url(#e-${t})`,strokeWidth:".75"})}),(0,Fs.jsxs)("g",{mask:`url(#p-${t})`,children:[(0,Fs.jsx)("path",{d:"m0 0h30v40h-26c-2.20914 0-4-1.7909-4-4z",fill:`url(#f-${t})`}),(0,Fs.jsx)("path",{d:"m0 0h30v40h-26c-2.20914 0-4-1.7909-4-4z",fill:`url(#g-${t})`,fillOpacity:".25"}),(0,Fs.jsx)("g",{filter:`url(#a-${t})`,children:(0,Fs.jsx)("path",{d:"m5 40h5.0093s-.01863-6 0-6h-5.9438c-.11077 0-.07292.0225.05262.0971 1.92852.4029 2.88188 4.7029.88188 5.9029z",fill:`url(#i-${t})`})}),(0,Fs.jsx)("path",{d:"m34 39.625h-27.54986c1.16146-.7866 1.92486-2.1167 1.92486-3.625 0-1.8756-.66541-2.9715-1.29882-3.5979-.00925-.0091-.01848-.0182-.0277-.0271h26.95152c2.0019 0 3.625 1.6231 3.625 3.625s-1.6231 3.625-3.625 3.625z",fill:`url(#c-${t})`}),(0,Fs.jsx)("path",{d:"m34 39.625h-27.54986c1.16146-.7866 1.92486-2.1167 1.92486-3.625 0-1.8756-.66541-2.9715-1.29882-3.5979-.00925-.0091-.01848-.0182-.0277-.0271h26.95152c2.0019 0 3.625 1.6231 3.625 3.625s-1.6231 3.625-3.625 3.625z",fill:`url(#j-${t})`,fillOpacity:".5"}),(0,Fs.jsx)("path",{d:"m34 39.625h-27.54986c1.16146-.7866 1.92486-2.1167 1.92486-3.625 0-1.8756-.66541-2.9715-1.29882-3.5979-.00925-.0091-.01848-.0182-.0277-.0271h26.95152c2.0019 0 3.625 1.6231 3.625 3.625s-1.6231 3.625-3.625 3.625z",stroke:`url(#e-${t})`,strokeWidth:".75"}),(0,Fs.jsx)("path",{d:"m7.01341 6c.30007 4.4461.80021 9.0845 1.10029 13.5305.20005 2.1736.4001 4.3473.4001 6.4221 0 .3952.00001 1.2844-.30007.988-1.40036-1.3832-2.20058-4.1496-2.90077-5.9281-.90023-2.0748-1.40036-4.1496-1.30034-6.5209.10003-3.5568 2.70071-7.11365 6.50168-8.10166 2.0005-.494 3.5009.59281 3.601 2.56884.2 2.17362-1.4004 4.44602-2.8008 6.02692-.3.3952-6.70172 6.422-4.30109 7.1136 1.60041.3952 4.10109-.6916 5.30139-1.5808.8002-.5928.3001-.2964.2.494-.2 1.1856.4001 6.4221 2.5007 5.4341 1.6004-.7904 4.6952-8.9222 2.5946-10.503-2.1005-1.5808-2.783 4.5068-1.2413 6.8534 1.3812 2.1023 5.1312-2.797 3.6312 6.203",stroke:"#377eea",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:".75"}),(0,Fs.jsx)("g",{filter:`url(#b-${t})`,children:(0,Fs.jsx)("path",{d:"m30 20v4.9347l-3.0253 2.2451-3.894 1.8545c-.3327.1583-.7185.1269-1.014-.0625l-1.2486.9266c-.1404.104-.3199.1264-.4761.0753-.0446-.0152-.0882-.0362-.1274-.0629-.0402-.0277-.0769-.0615-.1086-.1006-.0793-.0992-.1135-.218-.1046-.3338.0099-.1336.0768-.2628.1963-.3515l1.2481-.9265c-.06-.1684-.0709-.3482-.0327-.5203.0347-.1583.1106-.31.2271-.4387l2.8527-3.1526z",fill:`url(#k-${t})`})})]}),(0,Fs.jsx)("path",{d:"m20.7998 26.937.866.5-1.25 2.1651c-.138.2391-.4438.3211-.683.183-.2391-.1381-.3211-.4439-.183-.683z",fill:"#2169d6"}),(0,Fs.jsx)("path",{d:"m31.5166 5.41113h4v20h-4z",fill:"#2169d6",transform:"matrix(.8660254 .5 -.5 .8660254 6.927989 -15.033346)"}),(0,Fs.jsx)("path",{d:"m31.5166 5.41113h4v20h-4z",fill:`url(#l-${t})`,fillOpacity:".3",transform:"matrix(.8660254 .5 -.5 .8660254 6.927989 -15.033346)"}),(0,Fs.jsx)("path",{d:"m22.0166 21.8657h4v1h-4z",fill:"#5a9bfc",transform:"matrix(.8660254 .5 -.5 .8660254 13.882515 -8.078852)"}),(0,Fs.jsx)("path",{d:"m22.0166 21.8657h4v1h-4z",fill:`url(#m-${t})`,fillOpacity:".4",transform:"matrix(.8660254 .5 -.5 .8660254 13.882515 -8.078852)"}),(0,Fs.jsx)("path",{d:"m33.501 1.93811c.5523-.95659 1.7754-1.28434 2.732-.73206.9566.55229 1.2844 1.77547.7321 2.73206l-1.5 2.59807-3.4641-2z",fill:"#2169d6"}),(0,Fs.jsx)("path",{d:"m33.501 1.93811c.5523-.95659 1.7754-1.28434 2.732-.73206.9566.55229 1.2844 1.77547.7321 2.73206l-1.5 2.59807-3.4641-2z",fill:`url(#n-${t})`,fillOpacity:".2"}),(0,Fs.jsx)("path",{d:"m32.8672 5.03613h2v1h-2z",fill:"#5a9bfc",transform:"matrix(.8660254 .5 -.5 .8660254 6.921435 -15.758887)"}),(0,Fs.jsx)("path",{d:"m21.501 22.7227 3.4641 2-2.8249 3.2143c-.3146.358-.8383.4442-1.2511.2059l-.3121-.1802c-.4128-.2384-.6-.7349-.4473-1.1865z",fill:"#2169d6"}),(0,Fs.jsx)("path",{d:"m21.501 22.7227 3.4641 2-2.8249 3.2143c-.3146.358-.8383.4442-1.2511.2059l-.3121-.1802c-.4128-.2384-.6-.7349-.4473-1.1865z",fill:`url(#o-${t})`,fillOpacity:".35"})]})},wb=(0,m.memo)(kb),Db={[_r.STOCK_BROKERAGE]:()=>{const e=(0,Zs.S)(),{state:t,controller:n}=No(_r.STOCK_BROKERAGE),i=(0,Bs.C)(),a=Bl(t.stockBrokerageShakeKey,0!==t.stockBrokerageShakeKey),r=Bl(t.designationShakeKey,0!==t.designationShakeKey),{set:s,clear:o}=(0,Fc.i)((e=>{n.searchBrokers(e)})),c=(0,m.useCallback)((e=>{t.validation.isValid||n.resetValidation(),o(),s([e],400)}),[t.validation.isValid,o,s,n]),l=(0,m.useCallback)((e=>(c(e),n.changeBrokerName(e))),[n,c]),u=(0,m.useCallback)((e=>n.changeBrokerName(e)),[n]),d=(0,m.useCallback)((()=>n.toggleTribute()),[n]),h=(0,m.useCallback)((e=>{n.changeTributeName(e)}),[n]),p=(0,m.useCallback)((()=>n.addComment()),[n]),g=(0,m.useMemo)((()=>({id:t.broker.name,value:t.broker.name,icon:t.broker.logo})),[t.broker]),y=(0,m.useMemo)((()=>{var e;return De()(e=t.brokers).call(e,(e=>({id:e.name,value:e.name,icon:e.logo})))}),[t.brokers]),f=(0,m.useMemo)((()=>n.getAllowedGoals(t.designation.goals,t.frequency)),[n,t.designation.goals,t.frequency]),v=(0,m.useMemo)((()=>n.getGoalByKey(t.designation.goalKey)),[n,t.designation.goalKey]),S=(0,m.useCallback)((e=>n.changeGoal(e)),[n]),C=(0,m.useCallback)((()=>n.savePrevComment()),[n]),b=(0,no.Y)(),E=(0,m.useRef)(null);(0,ec.w)({ref:E,autoFocus:!t.broker.name,mode:Jo.E.DESKTOP});const A=!i.preselectDesignation;return(0,Fs.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n.leave()},className:"flow-screen",children:[(0,Fs.jsx)(Qo,{role:"status",autoFocus:e,children:b.translate("common.screenAriaLabel",{screenTitle:`${b.translate("stockBrokerageScreen.title")}`})}),(0,Fs.jsx)(Dc,{className:"border-bottom-0",titleFullWidth:!0,children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("d-flex items-center justify-center",e?"pt-3 pb-2":"pt-6 pb-4"),children:[(0,Fs.jsx)("div",{className:"shrink-0 font-size-28 text-green-80 me-2","aria-hidden":"true",children:(0,Fs.jsx)(qC,{className:"icon-fill d-block"})}),(0,Fs.jsx)("h2",{className:"title-1 text-truncate",children:b.translate("stockBrokerageScreen.title")})]})}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"pb-8":!e}),children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("fixed-container",{"grow-1 d-flex flex-column":!e}),children:[(0,Fs.jsx)("p",{className:(0,Hs.Z)("text-center",e?"text-ellipsis":"text-line-clamp-3"),children:b.translate("stockBrokerageScreen.description")}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)(e?"mt-7":"mt-8",{"animation-shake":a}),children:[(0,Fs.jsx)(Ih,{ref:E,placeholder:t.broker.name||b.translate("stockBrokerageScreen.selectBrokerage.placeholder"),selectedOption:g,displayName:t.broker.name,value:t.broker.name,options:y,onSelect:u,onChange:l,onSearch:l,disabled:!n.isStockAccountConnected||t.locked,isDynamicOptions:!0,showIcons:!0,showInputPrefix:t.showBrokerIcon,hasError:!t.validation.fields.broker.isValid,SelectedIconToRender:jC,ListItemToRender:LC,trackingElement:"brokerageInput",qa:"brokerage"}),!t.validation.fields.broker.isValid&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:b.translate("stockBrokerageScreen.selectBrokerage.error")})]}),n.shouldShowDesignation()&&A&&(0,Fs.jsx)(Id,{className:"mt-5",goal:v,goals:f,shake:r,hasError:t.errors.designation.required,disabled:t.locked,changeGoal:S,goalKey:t.designation.goalKey,isEditable:t.designation.isEditable,isDesignationNew:A}),t.tribute.show&&(0,Fs.jsx)(Wd,{className:"mt-5",inHonorOfMaxLength:t.tribute.inHonorOfMaxLength,isActive:t.tribute.isActive,sharingEnabled:t.tribute.sharingEnabled,labelType:t.tribute.labelType,name:t.tribute.name,disabled:t.locked,onToggleTribute:d,onChangeTributeName:h}),n.shouldShowDesignation()&&!A&&(0,Fs.jsx)(Id,{className:(0,Hs.Z)({"mt-auto":!e&&t.tribute.show,"mt-5":!e&&!t.tribute.show,"mt-6":e}),goal:v,goals:f,shake:r,disabled:t.locked,hasError:t.errors.designation.required,changeGoal:S,goalKey:t.designation.goalKey,isEditable:t.designation.isEditable}),t.comment.isEnabled&&(0,Fs.jsx)(vd,{className:(0,Hs.Z)({"mt-5":!n.shouldShowDesignation()&&!t.tribute.show||e&&!(n.shouldShowDesignation()&&!A),"mt-3":n.shouldShowDesignation()&&!A,"mt-auto":!e&&(n.shouldShowDesignation()&&A||t.tribute.show&&!n.shouldShowDesignation())}),prevContent:t.comment.prevContent,content:t.comment.content,disabled:t.locked,onAddComment:p,onHighlight:C})]})}),(0,Fs.jsx)(yc,{children:n.isStockAccountConnected?(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary",processingState:t.processingState,tooltipTitle:t.payButtonTooltip.title,trackingElement:"nextButton",dataQa:"donate-button",children:b.translate("stockBrokerageScreen.button")}):(0,Fs.jsx)("p",{className:"label-2 text-center text-red-80 text-ellipsis",dangerouslySetInnerHTML:{__html:b.translate("stockBrokerageScreen.connectionInfo")}})})]})},[_r.STOCK_SECURITIES]:e=>{var t,n;const{showBadge:i}=e,{state:a,controller:r}=No(_r.STOCK_SECURITIES),s=(0,no.Y)(),o=(0,Zs.S)(),c=Bl(a.shakeKey,0!==a.shakeKey),l=(null===(n=a.selectedSecurities[0])||void 0===n?void 0:n.ticker)||"",[u,d]=(0,m.useState)(l),h=(0,m.useMemo)((()=>{var e;return De()(e=a.securities).call(e,(e=>({id:e.ticker,value:e.name,price:e.price,currency:e.currency})))}),[a.securities]),{set:p,clear:g}=(0,Fc.i)((e=>{r.searchSecurities(e)})),y=(0,m.useCallback)((e=>{r.resetNoSelectedSecuritiesError(),g(),p([e],400)}),[g,r,p]),f=(0,m.useCallback)((()=>{r.resetSecuritiesSearch()}),[r]),v=(0,m.useCallback)((e=>{r.resetNoSelectedSecuritiesError(),r.addSecurity(e),d(e)}),[r]),S=(0,m.useCallback)(((e,t)=>{r.changeQuantity(e,t)}),[r]),C=(0,m.useCallback)((e=>{r.removeSecurity(e)}),[r]),b=(0,m.useCallback)((e=>{d(e)}),[]),E=(0,m.useCallback)((e=>{r.setLocked(e)}),[r]),A=(0,m.useRef)(null);return(0,ec.w)({ref:A,autoFocus:!a.selectedSecurities.length,mode:Jo.E.DESKTOP}),(0,Fs.jsxs)("div",{className:"flow-screen",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:s.translate("common.screenAriaLabel",{screenTitle:`${s.translate("stockSecuritiesScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:s.translate("stockSecuritiesScreen.title"),showBadge:i,titleQa:"stock-select-screen-title"}),(0,Fs.jsxs)(tc,{className:(0,Hs.Z)({"pt-6 h-100":!o}),children:[(0,Fs.jsx)("div",{className:"px-body shrink-0",children:(0,Fs.jsxs)("div",{className:(0,Hs.Z)("fixed-container",{"animation-shake":c}),children:[!a.selectedSecurities.length&&(0,Fs.jsx)("p",{className:(0,Hs.Z)("text-center mb-6",o?"text-ellipsis":"text-line-clamp-4"),children:s.translate("stockSecuritiesScreen.description")}),(0,Fs.jsx)(Zd,{ref:A,placeholder:s.translate("stockSecuritiesScreen.selectStock.placeholder"),options:h,onSelect:v,onChange:y,onBlur:f,showArrow:!1,isDynamicOptions:!0,ListItemToRender:yb,SelectedIconToRender:gb,disabled:a.locked,showIcons:!0,hasError:!a.validation.fields.securities.isValid,trackingElement:"stockInput",qa:"stock-select",filterRegex:mb}),!a.validation.fields.securities.isValid&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:s.translate("stockSecuritiesScreen.selectStock.error")})]})}),!!a.selectedSecurities.length&&(0,Fs.jsx)(Fs.Fragment,{children:(0,Fs.jsx)(Zl,{className:(0,Hs.Z)("mt-5",{"grow-1 min-h-0 h-100":!o}),scrollContainerClass:o?void 0:"h-100",children:(0,Fs.jsx)("div",{className:(0,Hs.Z)("px-body py-1",{"selected-stocks-wrapper":!o}),children:(0,Fs.jsx)("div",{className:"fixed-container",children:De()(t=a.selectedSecurities).call(t,(e=>(0,Fs.jsx)(xb,{stock:e,open:u===e.ticker,screenLocked:a.locked,lockScreen:E,errorTexts:r.quantityErrorTexts,onChange:S,onRemove:C,onOpen:b},e.ticker)))})})})})]}),(0,Fs.jsxs)(yc,{className:(0,Hs.Z)({"pt-2":!o}),children:[Boolean(a.totalAmount)&&(0,Fs.jsx)("p",{className:"body-4 text-center text-ellipsis mb-3","data-testid":"stock-total",children:s.translate("stockSecuritiesScreen.totalPrice",{amount:s.formatCurrency(a.totalAmount,{currency:a.currency,display:"fullstrict"})})}),(0,Fs.jsx)(nl,{type:"button",className:"btn-primary",processingState:a.processingState,tooltipTitle:a.submitError,tooltipMessage:a.submitErrorMessage,disabled:a.locked,onClick:()=>r.leave(),trackingElement:"nextButton",dataQa:"stock-select-continue-button",children:s.translate("stockSecuritiesScreen.button")})]})]})},[_r.STOCK_SIGNATURE]:e=>{const{showBadge:t}=e,{state:n,controller:i}=No(_r.STOCK_SIGNATURE),a=(0,no.Y)(),r=(0,Zs.S)(),s=Bl(n.shakeKey,0!==n.shakeKey),o=(0,m.useCallback)((e=>{i.changeSignature(e)}),[i]),c=(0,m.useRef)(null);return(0,ec.w)({ref:c,autoFocus:!0,mode:Jo.E.DESKTOP}),(0,Fs.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.leave()},className:"flow-screen","data-testid":"form",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite","data-testid":"status",children:a.translate("common.screenAriaLabel",{screenTitle:`${a.translate("stockSignatureScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:a.translate("stockSignatureScreen.title"),showBadge:t,titleTestId:"title"}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"py-6":!r}),children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsxs)("div",{className:"d-flex items-center",children:[(0,Fs.jsx)("div",{className:"shrink-0 me-4",children:(0,Fs.jsx)(wb,{className:"d-block",ariaHidden:!0})}),(0,Fs.jsx)("p",{className:(0,Hs.Z)("body-3",r?"text-ellipsis":"text-line-clamp-4"),children:a.translate("stockSignatureScreen.description")})]}),(0,Fs.jsx)(sb,{ref:c,className:(0,Hs.Z)("mt-6",{"animation-shake":s}),signerName:n.fullName,signature:n.signature,disabled:n.locked,onChange:o,hasError:!n.validation.fields.signature.isValid,signatureOffset:"mt-6",qa:"stock-owner-signature-field"}),!n.validation.fields.signature.isValid&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:a.translate("typedSignature.input.error")})]})}),(0,Fs.jsxs)(yc,{children:[(0,Fs.jsx)("p",{className:(0,Hs.Z)("body-4 text-center text-gray-80",r?"text-ellipsis":"text-line-clamp-4"),children:a.translate("stockSignatureScreen.legalInformation")}),(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary mt-4",processingState:n.processingState,tooltipTitle:n.submitError,trackingElement:"nextButton",dataQa:"stock-signature-continue-button",children:a.translate("stockSignatureScreen.button")})]})]})},[_r.STOCK_CO_OWNER]:e=>{const{showBadge:t}=e,n=Ao(_r.STOCK_CO_OWNER),i=(0,Zs.S)(),a=(0,no.Y)();return(0,Fs.jsxs)("div",{className:"flow-screen",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenAriaLabel",{screenTitle:`${a.translate("stockCoOwnerScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:a.translate("stockCoOwnerScreen.title"),showBadge:t}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"py-6":!i}),children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsx)("p",{className:"text-center text-ellipsis",children:a.translate("stockCoOwnerScreen.question")}),(0,Fs.jsx)("p",{className:"text-center text-ellipsis mt-2",children:a.translate("stockCoOwnerScreen.description")})]})}),(0,Fs.jsxs)(yc,{children:[(0,Fs.jsx)("button",{type:"button",onClick:()=>n.leaveScreen(!1),className:"btn btn-primary","data-tracking-element-name":"nextButton","data-qa":"stock-sole-owner-button",children:a.translate("stockCoOwnerScreen.button.soleOwner")}),(0,Fs.jsx)("button",{type:"button",onClick:()=>n.leaveScreen(!0),className:"btn btn-default mt-3","data-tracking-element-name":"addSignerButton","data-qa":"stock-add-coowner-button",children:a.translate("stockCoOwnerScreen.button.addCoOwner")})]})]})},[_r.STOCK_CO_OWNER_SIGNATURE]:e=>{const{showBadge:t}=e,{state:n,controller:i}=No(_r.STOCK_CO_OWNER_SIGNATURE),a=(0,no.Y)(),r=(0,Zs.S)(),s=Bl(n.shakeKey,0!==n.shakeKey),o=(0,m.useCallback)((e=>{i.changeFirstName(e.target.value)}),[i]),c=(0,m.useCallback)((e=>{i.changeLastName(e.target.value)}),[i]),l=(0,m.useCallback)((e=>{i.changeEmail(e.target.value)}),[i]),u=(0,m.useRef)(null);(0,ec.w)({ref:u,autoFocus:!0,mode:Jo.E.DESKTOP});const d=(0,m.useCallback)((e=>{i.changeSignature(e)}),[i]);return(0,Fs.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.leave()},className:"flow-screen","data-testid":"form",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenAriaLabel",{screenTitle:`${a.translate("stockCoOwnerSignatureScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:a.translate("stockCoOwnerSignatureScreen.title"),showBadge:t}),(0,Fs.jsx)(tc,{className:(0,Hs.Z)("px-body",{"py-5":!r,"animation-shake":s}),children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsx)("p",{className:(0,Hs.Z)("text-center",r?"text-ellipsis":"text-truncate"),children:a.translate("stockCoOwnerSignatureScreen.description")}),(0,Fs.jsxs)("div",{className:"group-stacked-vertical mt-6",children:[(0,Fs.jsx)(ub,{ref:u,value:n.firstName,hasError:!n.validation.fields.firstName.isValid,locked:n.locked,onChangeFirstName:o}),(0,Fs.jsx)(hb,{value:n.lastName,hasError:!n.validation.fields.lastName.isValid,locked:n.locked,onChangeLastName:c})]}),(0,Fs.jsx)(cb,{value:n.email,hasError:!n.validation.fields.email.isValid,locked:n.locked,onChangeEmail:l}),(0,Fs.jsx)(sb,{className:"mt-3",signerName:n.fullName,signature:n.signature,inputPlaceholder:a.translate("typedSignature.input.coOwnerLabel"),signatureDescription:a.translate("typedSignature.coOwnerDescription"),signatureOffset:"mt-4",hasError:!n.validation.fields.signature.isValid,disabled:n.locked,onChange:d,qa:"stock-coowner-signature-field"}),!n.validation.fields.signature.isValid&&(0,Fs.jsx)("div",{role:"alert",className:"sr-only",children:a.translate("typedSignature.input.coOwnerError")})]})}),(0,Fs.jsx)(yc,{children:(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary",processingState:n.processingState,tooltipTitle:n.submitError,trackingElement:"nextButton",dataQa:"stock-coowner-info-continue-button",children:a.translate("stockCoOwnerSignatureScreen.button")})})]})},[_r.STOCK_CONFIRMATION]:e=>{const{showBadge:t}=e,{state:n,controller:i}=No(_r.STOCK_CONFIRMATION),a=(0,Zs.S)(),r=(0,no.Y)();return(0,Fs.jsxs)("div",{className:"flow-screen",children:[(0,Fs.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:r.translate("common.screenAriaLabel",{screenTitle:`${r.translate("stockConfirmationScreen.title")}`})}),(0,Fs.jsx)(Dc,{title:r.translate("stockConfirmationScreen.title"),showBadge:t}),(0,Fs.jsxs)(tc,{className:(0,Hs.Z)({"h-100":!a}),children:[(0,Fs.jsxs)(Zl,{className:(0,Hs.Z)({"grow-1 min-h-0 h-100":!a}),scrollContainerClass:a?void 0:"h-100 d-flex flex-column",children:[(0,Fs.jsx)("div",{className:(0,Hs.Z)("px-body pb-5",{"pt-6":!a}),children:(0,Fs.jsx)("div",{className:"fixed-container",children:(0,Fs.jsx)("p",{className:"text-center text-ellipsis",children:r.translate("stockConfirmationScreen.description")})})}),(0,Fs.jsx)("hr",{className:"w-100"}),(0,Fs.jsx)("div",{className:"px-body pt-6",children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(0,Fs.jsx)("p",{className:"caption-1 text-ellipsis",children:n.coOwner.isEnabled?r.translate("stockConfirmationScreen.donors"):r.translate("stockConfirmationScreen.donor")}),(0,Fs.jsx)(tb,{fullName:n.owner.fullName,email:n.owner.email,phone:n.owner.phone,dataTestId:"brokerageAccountOwner"}),n.coOwner.isEnabled&&(0,Fs.jsx)(tb,{className:"mt-1-5",fullName:n.coOwner.fullName,email:n.coOwner.email,dataTestId:"brokerageAccountCoOwner"}),(0,Fs.jsx)(HC,{name:n.broker.name,number:n.accountNumber,icon:n.broker.logo})]})}),(0,Fs.jsx)(XC,{isMobileView:a,securities:n.securities,className:"shrink-0 my-5"}),(0,Fs.jsx)("div",{className:(0,Hs.Z)("px-body",{"mt-auto":!a}),children:(0,Fs.jsx)("div",{className:"fixed-container",children:(0,Fs.jsx)(JC,{total:n.total,currency:n.currency})})})]}),(0,Fs.jsx)(yc,{className:"pt-12",children:(0,Fs.jsx)(nl,{type:"submit",className:"btn-primary",processingState:n.processingState,tooltipTitle:n.payErrorMessage,onClick:()=>i.leave(),trackingElement:"payButton",dataQa:"stock-review-continue-button",dataTestId:"payButton",children:r.translate("stockConfirmationScreen.button")})})]})]})},[un.COMMENT]:Oc,[un.PRIVACY]:Vl,[un.MAILING_ADDRESS]:Fh,[un.QUESTIONS]:bu,[un.THANK_YOU]:yd},Tb=k()(k()(k()({},kh),IC),Db),Ob=e=>{var t;let{onScreenEntered:n}=e;const i=(0,Zs.S)(),a=(0,eo.g)(),r=Eo(),s=(0,$s.r)(),[o,c]=(0,m.useState)("next"),[l,u]=(0,m.useState)(r.getCurrentFlow().getCurrentScreen().name),[d,h]=(0,m.useState)(!0),[p,g]=(0,m.useState)([...r.checkoutService.checkoutUIState.alwaysRenderedScreens]),[y,f]=(0,m.useState)(),[v,S]=(0,m.useState)(),[C,b]=(0,m.useState)(),A=l===un.REMIND_ME,N=(0,m.useCallback)(((e,t,n)=>{s&&!a&&r.checkoutService.trackCheckoutScreenView(r.getCurrentFlow().getCurrentScreen().name,e,t,n)}),[r,a,s]);(0,m.useEffect)((()=>{s&&N()}),[N,s]),(0,m.useEffect)((()=>r.onScreenChanged((e=>{const t=r.getCurrentFlow().getCurrentScreen().name;l!==t&&(f(e.createdAt),S(e.transitionStartedAt),b(e.transitionFinishedAt),h(!1),c((null==e?void 0:e.direction)===Ho.BACKWARD?"previous":"next"),u(t),g((e=>{const t=r.checkoutService.checkoutUIState.alwaysRenderedScreens;return e.length!==t.length||E()(t).call(t,(t=>!Z()(e).call(e,t)))?[...t]:e})))}))),[l,r]);const P=(0,m.useCallback)((()=>{if(!y)return;const e=new Date;h(!0),N(v,C,e)}),[N,y,v,C]);return(0,m.useEffect)((()=>{null==n||n(d)}),[n,d]),(0,Fs.jsx)(Zo,{className:(0,Hs.Z)({"dark-theme":A}),children:(0,Fs.jsxs)(Yo.z.Provider,{value:d,children:[De()(t=xt()(Tb)).call(t,(e=>{let[t,n]=e;return!Z()(p).call(p,t)&&(0,Fs.jsx)(Wo,{show:t===l,Screen:n,screenDirection:o,currentScreen:l,alwaysMount:!1,animationDisabled:i||a,onScreenEntered:P},t)})),De()(p).call(p,(e=>(0,Fs.jsx)(Wo,{show:e===l,Screen:Tb[e],screenDirection:o,currentScreen:l,alwaysMount:!0,animationDisabled:i||a,onScreenEntered:P},e)))]})})},_b=(0,m.memo)(Ob),Ib=e=>{const t=(0,no.Y)(),n=(0,eo.g)(),i=Eo(),a=(0,Xs.q)(),r=(0,m.useCallback)((()=>{n||i.startCryptoFlow()}),[i,n]),s=(0,m.useCallback)((()=>{n||i.startStockFlow()}),[i,n]);return(0,Fs.jsxs)("div",{className:(0,Hs.Z)(a("flow-buttons"),e.className),children:[e.enabledCrypto&&(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)("btn-link",a("flow-button")),disabled:e.disabled,onClick:r,"data-qa":"start-crypto-flow",children:t.translate("changeFlowButtons.crypto")}),e.enabledCrypto&&e.enabledStock&&(0,Fs.jsx)("span",{className:(0,Hs.Z)(a("flow-button-divider"),"shrink-0"),"aria-hidden":"true",children:""}),e.enabledStock&&(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)("btn-link",a("flow-button")),disabled:e.disabled,onClick:s,"data-qa":"start-stock-flow",children:t.translate("changeFlowButtons.stock")}),(e.enabledCrypto||e.enabledStock)&&e.enabledMoney&&(0,Fs.jsx)("span",{className:(0,Hs.Z)(a("flow-button-divider"),"shrink-0"),"aria-hidden":"true",children:""}),e.enabledMoney&&(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)("btn-link",a("flow-button")),disabled:e.disabled,onClick:()=>{n||i.startFiatFlow()},"data-qa":"start-fiat-flow",children:t.translate("changeFlowButtons.fiat")})]})},Rb=(0,m.memo)(Ib),Lb=e=>{const t=(0,Zs.S)(),n=(0,Xs.q)(),i=(0,no.Y)();return(0,Fs.jsx)("button",{type:"button",className:(0,Hs.Z)(n("modal-close"),e.className),"aria-label":i.translate("common.closeButtonAriaLabel"),onClick:e.onClick,"data-qa":"global-close","data-tracking-element-name":"closeButton",children:(0,Fs.jsx)("span",{className:(0,Hs.Z)("icon-slot d-block",t?"icon-slot-28":"icon-slot-32"),"aria-hidden":"true",children:(0,Fs.jsx)("span",{className:"p-abs centered",children:(0,Fs.jsx)(Ud,{className:"icon-stroke icon-stroke-2 d-block"})})})})};var Mb=(0,m.memo)(Lb);const jb={enter:400,exit:200},Fb=()=>{!function(){const e=(0,no.Y)(),t=Eo(),n=ko(),i=(0,eo.g)(),[a,r]=(0,m.useState)((()=>t.getCurrentFlow().getCurrentScreen().name));(0,m.useEffect)((()=>t.onScreenChanged((()=>{r(t.getCurrentFlow().getCurrentScreen().name)}))),[t,a]);const s=(0,m.useCallback)((t=>{const i=e.translate("closeTabDialog.text");if(!n.isUnrestrictedExitScreen(a))return(t||window.event).returnValue=i,i}),[n,e,a]);(0,m.useEffect)((()=>{if(i)return;window.addEventListener("beforeunload",s);const e=()=>window.removeEventListener("beforeunload",s);return t.checkoutService.setRemoveCloseGuard(e),e}),[t.checkoutService,s,i])}();const e=function(){const e=(0,Bs.C)(),t=ko();return!e.infrastructureParams.isMobile||t.showCloseButton}(),t=function(){const e=Eo(),t=(0,Bs.C)(),n=t.infrastructureParams.isMobile,i=t.infrastructureParams.showcase,[a,r]=(0,m.useState)((()=>!i)),s=(e,t,n)=>{const i=e.getCurrentFlow().getCurrentScreen().name,a=!e.checkoutService.checkoutUIState.isMobileScreenWithoutFaqLinks(i),s=e.checkoutService.checkoutUIState.showFAQLinks;r(t?s&&a:s)};return(0,m.useEffect)((()=>{if(i)return;const t=e.onScreenChanged((()=>{s(e,n)}));return s(e,n),t}),[e,n,i]),a}(),n="AFJCHFEK"===(0,Bs.C)().campaign.company,i=(0,Gs.R)(),a=(0,Zs.S)(),r=To("lg"),s=(0,eo.g)(),o=(0,Xs.q)(),{show:c,entered:l,handleOpenTransitionEntered:u,handleCloseClick:h,handleCloseTransitionExited:p}=function(){var e=this;const t=(0,Zs.S)(),[n,i]=(0,m.useState)({shouldReopen:!1,tributeSelected:!1}),[a,r]=(0,m.useState)(!1),s=Au(),[o,c]=(0,m.useState)(!1),l=Eo(),u=ko(),h=(0,m.useCallback)((function(){let{isManualCall:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,d.mG)(e,void 0,void 0,(function*(){l.shouldNotifyAbandoned(n)&&(l.checkoutService.updateSession({canUseAmountDefaults:!0}),l.checkoutService.abandonSession());const e=l.getCurrentFlow().getCurrentScreen().name;l.canClose({isMobile:t,isMobileExitScreen:u.isMobileExitScreen(e),isUnrestrictedExitScreen:u.isUnrestrictedExitScreen(e),isRemindMeLaterAvailableScreen:u.isRemindMeLaterAvailableScreen(e)})&&(yield l.checkoutService.saveCheckoutClosePublicParams(),r(!1))}))}),[l,u,t]);(0,m.useEffect)((()=>{const e=()=>r(!0),t=e=>(0,d.mG)(this,void 0,void 0,(function*(){var{isManualCall:t}=e,n=(0,d._T)(e,["isManualCall"]);i(n),yield h({isManualCall:t})}));return s.on("should-show",e),s.on("should-hide",t),()=>{s.removeListener("should-show",e),s.removeListener("should-hide",t)}}),[h,s]);const p=(0,m.useCallback)((()=>{l.checkoutService.trackCheckoutClose(l.getCurrentFlow().getCurrentScreen().name),s.emit("was-hidden",n)}),[s,l,n]);return{show:a,entered:o,handleOpenTransitionEntered:(0,m.useCallback)((()=>{c(!0),l.checkoutService.trackCheckoutView(),l.checkoutService.trackMlCheckoutDefaultParams()}),[l]),handleCloseTransitionExited:p,handleCloseClick:h}}(),g=(0,m.useRef)(null),y=(0,m.useRef)(null),f=(0,m.useRef)(null),v=(0,m.useRef)(null),{handleBlur:S,handleFocus:C}=Js({rootElRef:g,trapStartRef:f,trapStopRef:v}),b=(0,Bs.C)(),E=Eo(),A=Po(),N=ko(),P=(0,cp.j)(),x=b.getAskPageConfig(),k=x.show||!!b.fundraisingPage,[w,D]=(0,m.useState)(k),T=b.infrastructureParams.livemode,O=x.showLinks,_=a&&w&&O,I=(0,m.useRef)(null),[R,L]=(0,m.useState)(!1),[M,j]=(0,m.useState)(!0),{crypto:F,stock:U,money:B}=b.enabledFlows,G=(0,m.useMemo)((()=>{var e;return Fe()(e=[F,U,B]).call(e,Boolean).length>1&&M&&!R}),[F,M,B,U,R]),q=A.type,V=B&&q!==et.MONEY,K=F&&q!==et.CRYPTO,H=U&&q!==et.STOCK,Y=t&&!n||G||_||s;(0,m.useEffect)((()=>{const e=e=>{"Escape"===e.code&&h()};return i.document.addEventListener("keyup",e),()=>{i.document&&i.document.removeEventListener("keyup",e)}}),[h,i.document]),(0,m.useEffect)((()=>E.onScreenChanged((()=>{const e=E.getCurrentFlow(),t=e.getCurrentScreen().name,n=!N.isMobileScreenWithoutAskPage(t);D(a?n&&k:k),j(e.isCurrentScreenFirst()),L(!1),i.document.body.classList.remove("overflow-hidden")}))),[N,E,a,k,i]);const[Z,z]=(0,m.useState)(!1),W=(0,m.useCallback)((e=>{z(e)}),[]),$=(0,m.useCallback)((()=>{if(!s)return;const e=new Event(Ks.CLICK_SHOWCASE);i.parent.dispatchEvent(e)}),[i.parent,s]);return(0,m.useEffect)((()=>P.get(yi.X.UPSELL_CURTAIN_EXPERIMENT).onCurtainOpen((()=>{L(!0)}))),[P]),(0,m.useEffect)((()=>P.get(yi.X.UPSELL_CURTAIN_EXPERIMENT).onCurtainClose((()=>{L(!1)}))),[P]),(0,Fs.jsx)(Fs.Fragment,{children:(0,Fs.jsx)($s.s.Provider,{value:l,children:(0,Fs.jsx)(zs.p.Provider,{value:l&&Z,children:(0,Fs.jsx)(Ys.Z,{in:c,timeout:jb,classNames:a||s?{}:"modal",nodeRef:g,onEntered:u,onExited:p,unmountOnExit:!0,children:(0,Fs.jsx)("div",{className:(0,Hs.Z)(o("modal"),{"has-campaign":w,showcase:s}),ref:g,onFocus:C,onBlur:S,onClickCapture:$,children:(0,Fs.jsxs)(Ws.Og.Provider,{value:g,children:[(0,Fs.jsx)("span",{ref:f,tabIndex:0,"aria-hidden":!0}),e&&(0,Fs.jsx)(Mb,{onClick:h,className:(0,Hs.Z)({"pointer-events-none":s})}),(0,Fs.jsxs)("div",{className:(0,Hs.Z)(o("widget"),{"pb-10":!T&&!s&&a,"pb-14":!T&&!s&&!a,"pointer-events-none":s}),children:[(0,Fs.jsxs)("div",{className:o("widget-main"),children:[w&&(0,Fs.jsxs)("div",{className:o("widget-campaign"),"data-testid":"campaign",children:[!a&&!r&&(0,Fs.jsx)(Ys.Z,{nodeRef:I,in:R,classNames:"fade-backdrop",timeout:200,mountOnEnter:!0,unmountOnExit:!0,children:(0,Fs.jsx)("div",{ref:I,className:(0,Hs.Z)("upsell-curtain-backdrop top-left bottom-right",a?"p-fixed":"p-abs border-top-radius-16"),style:{marginBottom:"-1px"},onClick:()=>{P.get(yi.X.UPSELL_CURTAIN_EXPERIMENT).closeCurtainOnBackDrop()}})}),(0,Fs.jsx)(_o,{})]}),(0,Fs.jsx)("div",{className:(0,Hs.Z)(o("widget-form")),ref:y,children:(0,Fs.jsx)(Ws.pG.Provider,{value:y,children:(0,Fs.jsx)(_b,{onScreenEntered:W})})})]}),Y&&(0,Fs.jsx)("div",{className:o("widget-footer"),"data-qa":"widget-footer-block",children:(0,Fs.jsxs)("div",{className:"fixed-container",children:[(!n||G)&&(0,Fs.jsxs)("div",{className:o("widget-footer-panel"),children:[!n&&(0,Fs.jsx)(Ko,{showAskPage:w}),G&&(0,Fs.jsxs)(Fs.Fragment,{children:[w&&!a&&r&&(0,Fs.jsx)("div",{className:"body-4 text-white opacity-80 shrink-0 mx-3","aria-hidden":"true",children:""}),(0,Fs.jsx)(Rb,{enabledCrypto:K,enabledStock:H,enabledMoney:V})]})]}),_&&(0,Fs.jsx)(ro,{links:x.links,className:(0,Hs.Z)({"mt-3":!n||G})})]})})]}),(0,Fs.jsx)("span",{ref:v,tabIndex:0,"aria-hidden":!0})]})})})})})})};var Ub=n(45758);const Bb=e=>{const{onMounted:t}=e;return(0,m.useEffect)((()=>{t()}),[t]),(0,Fs.jsx)(m.StrictMode,{children:(0,Fs.jsx)(qs.E.Provider,{value:e.sentry,children:(0,Fs.jsx)(Vs,{fallback:(0,Fs.jsx)("div",{children:"fallback content"}),children:(0,Fs.jsx)(Gs.E.Provider,{value:e.iframeWindow,children:(0,Fs.jsx)(bo.Provider,{value:e.flowManager,children:(0,Fs.jsx)(Bs.p.Provider,{value:e.checkoutConfiguration,children:(0,Fs.jsx)(Eu.Provider,{value:e.viewEventEmitter,children:(0,Fs.jsx)(Ub.f.Provider,{value:e.intl,children:(0,Fs.jsx)(Dd.Provider,{value:e.tracker,children:(0,Fs.jsx)(cp.k.Provider,{value:e.experiments,children:(0,Fs.jsx)(vo.Provider,{value:e.currencyService,children:(0,Fs.jsx)(Fb,{})})})})})})})})})})})})};class Gb{constructor(e,t,n,i,a,r){this.container=e,this.iframe=t,this.eventEmitter=n,this.sentry=i,this.debug=a,this.checkoutCore=r,this.renderKey=ii()}get iframeNode(){return this.iframe.iframeNode}open(e){var t,n;return(0,d.mG)(this,void 0,void 0,(function*(){if(null===(n=null===(t=null==e?void 0:e.abortController)||void 0===t?void 0:t.signal)||void 0===n?void 0:n.aborted)throw new Error("Checkout render aborted");yield this.render(),this.iframe.showDocument(),this.iframe.open(),this.show()}))}close(){this.iframe.close(),this.unmount(),this.iframe.destroy(),this.eventEmitter.removeAllListeners()}onHide(e){return this.eventEmitter.on("was-hidden",e),this}get targetWindow(){const e=this.iframe.iframeWindow;if(!e)throw new Error("No window in iframe");return e}render(){return(0,d.mG)(this,void 0,void 0,(function*(){return new(V())(((e,t)=>{try{const t=()=>(this.logCheckoutOpeningTime(),e());this.root.render((0,Fs.jsx)(Bb,{onMounted:t,viewEventEmitter:this.eventEmitter,flowManager:this.checkoutCore.flowManager,intl:this.checkoutCore.intl,sentry:this.sentry,tracker:this.checkoutCore.trackerCheckout,experiments:this.checkoutCore.experiments,iframeWindow:this.targetWindow,currencyService:this.checkoutCore.currencyService,checkoutConfiguration:this.checkoutCore.checkoutConfiguration},this.renderKey))}catch(e){t(e)}}))}))}show(){this.eventEmitter.emit("should-show")}regenerateKey(){return this.renderKey=ii(),this.renderKey}get root(){return this._root||(this._root=(0,Us.s)(this.container)),this._root}unmount(){this.root.unmount(),this.debug.log("Checkout UI (React) is unmounted")}logCheckoutOpeningTime(){const e=Jn()()-this.checkoutCore.trackerCheckout.checkoutOpenTimestamp;this.debug.log("checkout opening time:onMounted",`${e} ms`)}}function qb(e,t){void 0!==t&&function(n){var i,a;function r(){a||(a=!0,n())}nn()(i=["interactive","complete"]).call(i,t.readyState)>=0?n():(a=!1,t.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1))}((function(){var n=!0,i=!1,a=null,r={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){return!!(e&&e!==t&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function o(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function c(e){n=!1}function l(){t.addEventListener("mousemove",u),t.addEventListener("mousedown",u),t.addEventListener("mouseup",u),t.addEventListener("pointermove",u),t.addEventListener("pointerdown",u),t.addEventListener("pointerup",u),t.addEventListener("touchmove",u),t.addEventListener("touchstart",u),t.addEventListener("touchend",u)}function u(e){var i,a;"html"!==(null==e||null===(i=e.target)||void 0===i||null===(a=i.nodeName)||void 0===a?void 0:a.toLowerCase())&&(n=!1,t.removeEventListener("mousemove",u),t.removeEventListener("mousedown",u),t.removeEventListener("mouseup",u),t.removeEventListener("pointermove",u),t.removeEventListener("pointerdown",u),t.removeEventListener("pointerup",u),t.removeEventListener("touchmove",u),t.removeEventListener("touchstart",u),t.removeEventListener("touchend",u))}t.addEventListener("keydown",(function(e){s(t.activeElement)&&o(t.activeElement),n=!0}),!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("focus",(function(e){var t,i,a;s(e.target)&&(n||(i=(t=e.target).type,"INPUT"==(a=t.tagName)&&r[i]&&!t.readOnly||"TEXTAREA"==a&&!t.readOnly||t.isContentEditable))&&o(e.target)}),!0),t.addEventListener("blur",(function(t){var n;s(t.target)&&(t.target.classList.contains("focus-visible")||t.target.hasAttribute("data-focus-visible-added"))&&(i=!0,e.clearTimeout(a),a=H()((function(){i=!1,e.clearTimeout(a)}),100),(n=t.target).hasAttribute("data-focus-visible-added")&&(n.classList.remove("focus-visible"),n.removeAttribute("data-focus-visible-added")))}),!0),t.addEventListener("visibilitychange",(function(e){"hidden"==t.visibilityState&&(i&&(n=!0),l())}),!0),l(),t.body.classList.add("js-focus-visible")}))}class Vb{constructor(e){this.onLoadHandlers=[],this.ready=!1,this.localeCode=e.locale,this.node=e.node,this.overrideTemplate=e.overrideTemplate,this.fonts=e.fonts||"",this.styles=e.styles||"",this.id=e.id||"",this.title=e.title,this.initialize=e.initialize,this.scripts=e.scripts||[],this.metaTags=e.metaTags||[],this.isMobile=e.isMobile||!1,this.env=e.env,this.disableRtl=e.disableRtl||!1,this.iframe=document.createElement("iframe"),this.addEventListeners(),e.initialStyles&&this.setStyles(e.initialStyles),this.setIframeAttributes()}resize(e){if(e.height){const t=Vb.getSizeInCssUnit(e.height),n=e.minHeight?Vb.getSizeInCssUnit(e.minHeight):t,i=e.maxHeight?Vb.getSizeInCssUnit(e.maxHeight):t;this.iframe.setAttribute("height",t),this.iframe.style.setProperty("height",t,"important"),this.iframe.style.setProperty("min-height",n,"important"),this.iframe.style.setProperty("max-height",i,"important")}if(e.width){const t=Vb.getSizeInCssUnit(e.width),n=e.minWidth?Vb.getSizeInCssUnit(e.minWidth):t,i=e.maxWidth?Vb.getSizeInCssUnit(e.maxWidth):t;this.iframe.setAttribute("width",t),this.iframe.style.setProperty("width",t,"important"),this.iframe.style.setProperty("min-width",n,"important"),this.iframe.style.setProperty("max-width",i,"important")}}showDocument(){Vb.isContentDocumentAvailable(this.iframe.contentDocument)&&this.iframe.contentDocument.body.setAttribute("style","")}setStyles(e){v()(e).call(e,(e=>{let[t,n]=e;this.iframe.style.setProperty(t,String(n),"important")}))}addClass(e){v()(e).call(e,(e=>{this.iframe.className+=` ${e}`}))}removeStyles(e){Vb.isContentDocumentAvailable(this.iframe.contentDocument)&&v()(e).call(e,(e=>{this.iframe.style.removeProperty(e)}))}appendElement(e){Vb.isContentWindowAvailable(this.iframe.contentWindow)&&Vb.isContentDocumentAvailable(this.iframe.contentDocument)&&(qb(this.iframe.contentWindow,this.iframe.contentDocument),this.iframe.contentDocument.body.appendChild(e))}addOnLoadHandler(e){if(this.ready)return e();this.onLoadHandlers.push(e)}addDocumentEventListener(e,t){Vb.isContentDocumentAvailable(this.iframe.contentDocument)&&this.iframe.contentDocument.addEventListener(e,t)}removeDocumentEventListener(e,t){Vb.isContentDocumentAvailable(this.iframe.contentDocument)&&this.iframe.contentDocument.removeEventListener(e,t)}findElement(e){return Vb.isContentDocumentAvailable(this.iframe.contentDocument)?this.iframe.contentDocument.querySelector(e):null}matchMedia(e){return Vb.isContentWindowAvailable(this.iframe.contentWindow)?this.iframe.contentWindow.matchMedia(e):null}get iframeNode(){return this.iframe}setGlobalData(e){if(Vb.isContentWindowAvailable(this.iframe.contentWindow)){for(const[t,n]of xt()(e))this.iframe.contentWindow[t]=n;return!0}return!1}get iframeWindow(){return this.iframe.contentWindow}get iframeDocument(){return this.iframe.contentDocument}setIframeAttributes(){this.iframe.setAttribute("title",this.title),this.iframe.setAttribute("src","about:blank"),this.iframe.setAttribute("frameborder","0"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("marginwidth","0"),this.iframe.setAttribute("width","1"),this.iframe.setAttribute("height","1"),this.id&&this.iframe.setAttribute("id",this.id)}addEventListeners(){this.iframe.addEventListener("load",(()=>{var e;this.initialize&&this.iframe.contentWindow&&this.iframe.contentDocument&&this.initialize(this.iframe.contentWindow,this.iframe.contentDocument),this.ready=!0,v()(e=this.onLoadHandlers).call(e,(e=>e()))}))}getIframeTemplate(){var e,t;const n=e=>{var t;return De()(t=ne()(e)).call(t,(t=>`${t}="${e[t]}"`)).join(" ")},i=De()(e=this.scripts).call(e,(e=>`<script ${n(e)}><\/script>`)).join(""),a=De()(t=this.metaTags).call(t,(e=>`<meta ${n(e)}>`)).join("");return this.overrideTemplate?this.overrideTemplate({title:this.title,styles:this.styles,fonts:this.fonts,scripts:i,metaTags:a,isMobile:this.isMobile}):`\n      <!DOCTYPE html>\n      <html style="overflow: hidden;" lang="${this.localeCode}" dir="${(0,jn.w0)(this.localeCode,this.disableRtl)}">\n          <head>\n              <meta charset="utf-8">\n              <meta http-equiv="X-UA-Compatible" content="IE=edge">\n              ${a}\n              <title>${this.title}</title>\n              <style>${this.styles}</style>\n              <style>${this.fonts}</style>\n              ${i}\n          </head>\n          <body style="opacity: 0;"></body>\n      </html>\n    `}static isContentDocumentAvailable(e){return!!e||(console.warn("ContentDocument is not available"),!1)}static isContentWindowAvailable(e){return!!e||(console.warn("ContentWindow is not available"),!1)}static getSizeInCssUnit(e){const t=String(e);return/^\d+$/.test(t)?`${t}px`:t}}function Kb(e,t){if(e.body)return t();H()(C()(Kb).call(Kb,null,e,t),10)}const Hb=2147483647;function Yb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hb;return`display: block !important;margin: 0 !important;padding: 0 !important;border: 0 !important; width: 100% !important; height: 100% !important; position: fixed !important; opacity: 1 !important; top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important; transform: translateZ(100px) !important;z-index: ${e} !important;`}class Zb extends Vb{constructor(e,t){super(e),this.htmlElementStyleManager=t,this.render()}render(){let e=document.documentElement;this.env!==h.CB.PRODUCTION&&this.env!==h.CB.STAGING&&(e=document.body),this.isMobile?(this.containerDiv=document.createElement("div"),this.overlay=document.createElement("div"),this.overlay.setAttribute("id","fun-mobile-overlay-container"),this.containerDiv.setAttribute("id","fun-iframe-container"),this.containerDiv.appendChild(this.iframe),e.appendChild(this.overlay),e.appendChild(this.containerDiv)):this.node?(this.htmlElementStyleManager.setStyle("border: 0 !important; height: 100% !important; width: 100% !important; margin: 0 auto !important; padding: 0 !important; border-radius: 0 !important; display: block !important;",this.iframe),this.node.appendChild(this.iframe)):e.appendChild(this.iframe),this.setParentViewPort(),Vb.isContentWindowAvailable(this.iframe.contentWindow)&&(this.iframe.contentWindow.document.open("text/html","replace"),this.iframe.contentWindow.document.write(this.getIframeTemplate()),qb(this.iframe.contentWindow,this.iframe.contentWindow.document),this.iframe.contentWindow.document.close())}onShow(){this.htmlElementStyleManager.setStyle(Yb(),this.iframe)}open(){this.htmlElementStyleManager.saveDocumentOriginalStyles(),this.node||(this.isMobile&&this.containerDiv&&this.overlay&&(this.htmlElementStyleManager.setStyle("display: block !important;margin: 0 !important;padding: 0 !important;float: none !important;visibility: visible !important;opacity: 1 !important;position: absolute !important;width: 100% !important;height: 100% !important;top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important; background: #f5f5f5 !important;z-index: 2147483647 !important;transform: translateZ(100px) !important;",this.containerDiv),this.htmlElementStyleManager.setStyle("position: fixed !important;top: 0 !important;left: 0 !important;right: 0 !important;bottom: 0 !important;margin: 0 !important;padding: 0 !important;background: #f5f5f5 !important;z-index: 2147483646 !important;transform: translateZ(99px) !important;",this.overlay)),this.htmlElementStyleManager.setStyle(this.isMobile?"display: block !important;border: none !important;margin: 0 !important;padding: 0 !important;width: 100% !important;height: 100% !important;":Yb(2147483646),this.iframe),this.resize({width:"100%",height:"100%"}),this.node||(this.htmlElementStyleManager.appendStyle(this.isMobile?"all: initial !important;position: static !important;margin: 0 !important;padding: 0 !important;min-height: 0 !important;min-width: 0 !important;width: auto !important;height: 100% !important;overscroll-behavior-y: none !important;":"overflow: hidden !important; overscroll-behavior-y: none !important;",document.documentElement),Kb(document,(()=>{this.htmlElementStyleManager.appendStyle(this.isMobile?"all: initial !important;overflow: auto !important;position: static !important;display: block !important;min-height: 0 !important;min-width: 0 !important;height: 100% !important;width: auto !important;margin: 0 !important;padding: 0 !important;overscroll-behavior-y: none !important;":"padding-right: 0 !important; overscroll-behavior-y: none !important;",document.body)}))),this.setGlobalStyles())}close(){this.htmlElementStyleManager.setStyle("border: 0 !important; width: 1px !important; height: 1px !important; position: fixed !important; opacity: 0 !important;",this.iframe),this.removeGlobalStyles(),this.htmlElementStyleManager.restoreOriginalStyles(document.documentElement),this.htmlElementStyleManager.restoreOriginalStyles(document.body),this.restoreParentViewPort()}destroy(){this.iframe.remove(),this.containerDiv&&(this.containerDiv.remove(),this.containerDiv=void 0),this.overlay&&(this.overlay.remove(),this.overlay=void 0)}setParentViewPort(){if(this.node)return;this.viewport=Zb.getViewport("width=device-width, initial-scale=1, shrink-to-fit=no");const e=this.viewport,t=document.querySelector("meta[name=viewport]");t?(this.parentViewport=t,this.parentViewport.remove()):this.parentViewport=Zb.getViewport(""),document.head.appendChild(e)}restoreParentViewPort(){this.node||(this.viewport&&(this.viewport.remove(),this.viewport=void 0),this.parentViewport&&(document.head.appendChild(this.parentViewport),this.parentViewport=void 0))}setGlobalStyles(){if(this.isMobile){this.headStyle=document.createElement("style");const e=this.headStyle;e.appendChild(document.createTextNode("body > *:not(#fun-iframe-container){ position: fixed !important; width: 100% !important; display: block !important }")),document.head.appendChild(e)}}removeGlobalStyles(){this.headStyle&&this.headStyle.remove()}setIframeAttributes(){super.setIframeAttributes(),this.iframe.setAttribute("allowpaymentrequest","true"),this.iframe.setAttribute("allow","payment"),Qr(window)&&this.iframe.setAttribute("src",location.origin)}static getViewport(e){const t=document.createElement("meta");return t.setAttribute("name","viewport"),t.setAttribute("content",e),t}configure(e){if(this.localeCode=e.locale,!Vb.isContentWindowAvailable(this.iframe.contentWindow))return;if(this.iframe.contentWindow.document.documentElement.setAttribute("lang",this.localeCode),this.iframe.contentWindow.document.documentElement.setAttribute("dir",(0,jn.w0)(this.localeCode)),void 0===e.styles)return;if(e.showcase){const e=this.iframe.contentWindow.document.getElementById("main-showcase-style");null==e||e.remove()}const t=this.iframe.contentWindow.document.createElement("style");e.showcase&&t.setAttribute("id","main-showcase-style"),this.styles=e.styles||"",t.appendChild(this.iframe.contentWindow.document.createTextNode(this.styles)),this.iframe.contentWindow.document.head.appendChild(t)}waitUntilFontsLoaded(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.iframe.contentWindow)return;const t=function(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){return new(V())((t=>e.fonts.load('1em "IBM Plex Sans"').finally((()=>{t(!0)}))))}))}(this.iframe.contentWindow.document),n=(i=e,new(V())((e=>{H()(e,i)})));var i;yield V().race([t,n])}))}}const zb=`\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 300;\n  font-display: swap;\n  src: url(${n(80047)}) format('woff2');\n  }\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: url(${n(54615)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 500;\n  font-display: swap;\n  src: url(${n(17338)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 600;\n  font-display: swap;\n  src: url(${n(51122)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 700;\n  font-display: swap;\n  src: url(${n(71722)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 300;\n  font-display: swap;\n  src: url(${n(65819)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: url(${n(55976)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 500;\n  font-display: swap;\n  src: url(${n(77070)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 600;\n  font-display: swap;\n  src: url(${n(4351)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 700;\n  font-display: swap;\n  src: url(${n(21162)}) format('woff2');\n}\n@font-face {\n  font-family: 'Sacramento';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: url(${n(75011)}) format('woff2');\n}\n`;function Wb(e){return(0,d.mG)(this,void 0,void 0,(function*(){return new(V())((t=>{const n=new Zb({node:e.node,fonts:zb,isMobile:e.isMobile,title:"Donation Widget",id:"__checkout2",env:e.env,locale:e.localeCode,overrideTemplate:t=>`\n          <!DOCTYPE html>\n          <html ${(null==t?void 0:t.isMobile)?"":'class="desktop-view"'} lang="${e.localeCode}">\n            <head>\n                <meta charset="utf-8">\n                <meta http-equiv="X-UA-Compatible" content="IE=edge">\n                ${null==t?void 0:t.metaTags}\n                <title>${null==t?void 0:t.title}</title>\n                <style>${null==t?void 0:t.styles}</style>\n                <style>${null==t?void 0:t.fonts}</style>\n                ${null==t?void 0:t.scripts}\n            </head>\n  \n            <body style="opacity: 0;">\n              <div id="root" class="donation-form" role="application" aria-label="Donation Form"></div>\n            </body>\n          </html>\n      `},e.htmlElementStyleManager);n.addOnLoadHandler((()=>{t(n)}))}))}))}function $b(e){return(0,d.mG)(this,void 0,void 0,(function*(){return"rtl"===(0,jn.j9)(e)?(yield n.e(739).then(n.t.bind(n,82801,23))).default:(yield n.e(580).then(n.t.bind(n,58203,23))).default}))}class Xb{constructor(){this.emitter=new(g())}on(e,t){return this.emitter.on(e,t),()=>this.emitter.off(e,t)}once(e,t){return this.emitter.once(e,t),this}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this.emitter.emit(e,...n),this}removeAllListeners(){const e=this.emitter.eventNames();return v()(e).call(e,(e=>{this.emitter.removeListener(e)})),this}}class Qb{constructor(){this.stack=[]}getCurrent(){return this.stack[this.stack.length-1]||null}getPrevious(){return this.stack[this.stack.length-2]||null}getHistoricalScreens(){return[...this.stack]}goTo(e){var t,n;const i=nn()(t=this.stack).call(t,e);return-1===i?(this.stack.push(e),this):(On()(n=this.stack).call(n,i+1),this)}has(e){var t;return-1!==nn()(t=this.stack).call(t,e)}}class Jb extends Xb{constructor(e,t,n){super(),this.transitionsCompiler=e,this.settings=t,this.state=n,this.history=new Qb,this.locked=!1,this.done=!1,this.screens=e.compile(t.screens,this),this.validate()}get previousScreenName(){return this.history.getPrevious()}get isLocked(){return this.locked}get isExiting(){return this.currentScreen.final||!1}tryExit(){if(this.isExiting)return!1;const e=this.getFinalScreen();if(!e)return!1;const t=this.getScreenByName(e);return!!this.canEnterToScreen(t)&&(this.goTo(t.name),!0)}start(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=new Date,t=this.getScreenByName(this.settings.defaultInitial()),n=this.getScreenByName(this.settings.initial());return this.firstScreen=this.getFirstScreen(n),t!==n&&(yield t.instance.beforeEnter({isSynthetic:!0}),this.history.goTo(t.name),yield t.instance.beforeLeave({isSynthetic:!0})),this.history.goTo(this.firstScreen.name),this.currentScreen.instance.beforeEnter().then((()=>{this.emitScreenChanged({transitionStartedAt:e}),this.checkFlowCompleted()}))}))}next(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=new Date;if(!(null==e?void 0:e.omitBeforeLeave)&&!(yield this.currentScreen.instance.beforeLeave({direction:null==e?void 0:e.direction})))return;let n=this.getNextScreen(this.currentScreen),i=null==e?void 0:e.direction;if((null==e?void 0:e.getMandatoryAllowance)&&e.getMandatoryAllowance()){const e=this.getFirstMandatoryScreen();e&&(n=e,i=Ho.BACKWARD)}return this.goTo(n.name,{direction:i||Ho.FORWARD,transitionStartedAt:t})}))}prev(){const e=new Date,t=this.history.getPrevious();return t?this.goTo(t,{direction:Ho.BACKWARD,transitionStartedAt:e}):V().reject(new Error(`Cannot go to the previous screen. Current screen: ${this.currentScreen.name}`))}getHistoricalScreens(){return this.history.getHistoricalScreens()}predictNextScreen(){return this.getNextScreen(this.currentScreen).name}goTo(e,t){return this.throwErrorIfCannotChangeScreen(e,null==t?void 0:t.direction).then((()=>this.currentScreen.instance.dispose())).then((()=>(this.history.goTo(e),this.currentScreen.instance=this.transitionsCompiler.createScreenInstance(e,this),this.currentScreen.instance.beforeEnter()))).then((()=>{this.emitScreenChanged({direction:null==t?void 0:t.direction,transitionStartedAt:null==t?void 0:t.transitionStartedAt}),this.checkFlowCompleted()}))}lock(){return this.locked=!0,this.emit(sa.LOCKED),this}unlock(){return this.locked=!1,this.emit(sa.UNLOCKED),this}getCurrentScreen(){return this.currentScreen.instance}getScreen(e){const t=this.screens.get(e);if(!t)throw new Error(`FormFlow Screen with name ${e} not found.`);return t.instance}checkHasScreen(e){return this.screens.has(e)}isCurrentScreenFirst(){var e;return this.currentScreen.name===(null===(e=this.firstScreen)||void 0===e?void 0:e.name)}isCurrentScreenLast(){return void 0===this.currentScreen.next}dispose(){this.removeAllListeners()}get canGoBack(){return!this.locked&&!this.done&&!!this.history.getPrevious()}get currentScreen(){const e=this.history.getCurrent();if(!e)throw new Error("Cannot identify current screen");const t=this.screens.get(e);if(!t)throw new Error("Cannot get current screen");return t}throwErrorIfCannotChangeScreen(e,t){return this.locked?V().reject(new Error(`Cannot change screen while flow is locked. Current screen: ${e}. Direction: ${t}. Viewed screens: ${this.history.getHistoricalScreens().join(", ")}`)):this.done?V().reject(new Error("Cannot change screen because flow is completed")):V().resolve()}checkFlowCompleted(){this.isCurrentScreenLast()&&!this.isExiting&&(this.done=!0,this.emit(sa.DONE))}emitScreenChanged(e){this.emit(sa.SCREEN_CHANGED,{screen:this.currentScreen.name,instance:this.currentScreen.instance,direction:null==e?void 0:e.direction,transitionStartedAt:(null==e?void 0:e.transitionStartedAt)||new Date,transitionFinishedAt:new Date,createdAt:new Date})}getScreenByName(e){const t=this.screens.get(e);if(!t)throw new Error(`Cant get "${e}" screen`);return t}canEnterToScreen(e){return!e.guard||!e.guard(this.state)}getFirstScreen(e){var t;if(!this.canEnterToScreen(e)){const n=null===(t=e.next)||void 0===t?void 0:t.call(e,this.state,this.history);if(!n)throw new Error('Unable to determine first screen, reached a screen without "next" function');const i=this.getScreenByName(n);return this.getFirstScreen(i)}return e}getNextScreen(e){var t;const n=null===(t=e.next)||void 0===t?void 0:t.call(e,this.state,this.history);if(!n)throw new Error("Cant go to the next screen");const i=this.getScreenByName(n);return this.canEnterToScreen(i)?i:this.getNextScreen(i)}getFirstMandatoryScreen(){var e;const t=De()(e=this.history.getHistoricalScreens()).call(e,(e=>this.getScreenByName(e)));return qe()(t).call(t,(e=>{var t;return null===(t=null==e?void 0:e.mandatory)||void 0===t?void 0:t.call(e,this.state)}))||null}validate(){var e;const t=[...ui()(e=this.screens).call(e)];if(Fe()(t).call(t,(e=>e.final)).length>1)throw new Error("Invalid screens configuration: multiple final screens are not allowed")}getFinalScreen(){var e;const t=[...ms()(e=this.screens).call(e)],n=qe()(t).call(t,(e=>e[1].final));return n?n[0]:null}}class eE{constructor(e){this.screenFactory=e}createScreenInstance(e,t){return this.screenFactory.create(e,t)}compile(e,t){const n=new($t()),i=ne()(e);return v()(i).call(i,(i=>{const a=e[i];n.set(i,{name:i,next:a.next,guard:a.guard,mandatory:a.mandatory,final:a.final,instance:this.screenFactory.create(i,t)})})),n}}function tE(e,t,n){const i=new eE(e);return new Jb(i,t,n)}class nE{constructor(){this._promise=new(V())(((e,t)=>{this._resolver=e,this._rejector=t}))}get promise(){return this._promise}resolve(e){this.resolver(e)}reject(e){this.rejector(e)}get resolver(){if(!this._resolver)throw new Error("_resolver is undefined");return this._resolver}get rejector(){if(!this._rejector)throw new Error("_rejector is undefined");return this._rejector}}class iE{constructor(){this.storage=[]}enqueue(e){this.storage.push(e)}dequeue(){return this.storage.shift()}size(){return this.storage.length}toArray(){return[...this.storage]}front(){return this.storage[0]}clear(){this.storage=[]}isEmpty(){return!this.storage.length}}class aE{constructor(e){this.debounce=e,this.queue=new iE,this.currentRequestPromise=null}request(e){let{promise:t,allowDelay:n,allowMerge:i}=e;const a=new nE;return this.queue.enqueue({promise:t,deferredPromise:a,allowMerge:i,allowDelay:n}),this.performRequest(),a.promise}getRequestBatch(){var e;const t=this.queue.dequeue();if(!t)return[];if(!(null==t?void 0:t.allowMerge))return[t];const n=[t];for(;null===(e=this.queue.front())||void 0===e?void 0:e.allowMerge;)n.push(this.queue.dequeue());return n}getRequestBatches(){const e=[];for(;!this.queue.isEmpty();)e.push(this.getRequestBatch());return e}executeBatch(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=e[e.length-1];if(t)try{const n=yield t.promise();v()(e).call(e,(e=>e.deferredPromise.resolve(n)))}catch(t){v()(e).call(e,(e=>e.deferredPromise.reject(t)))}}))}performDelayedRequest(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.queue.front();if(!e)return;e.allowDelay&&(yield rs(this.debounce));const t=this.getRequestBatches();for(const e of t)yield this.executeBatch(e)}))}performRequest(){return(0,y.mG)(this,void 0,void 0,(function*(){for(;null===this.currentRequestPromise&&!this.queue.isEmpty();)try{this.currentRequestPromise=this.performDelayedRequest(),yield this.currentRequestPromise}finally{this.currentRequestPromise=null}}))}}var rE,sE,oE,cE;!function(e){e[e.MIN=80]="MIN",e[e.MAX=250]="MAX"}(rE||(rE={})),function(e){e.EMAIL="email",e.ADDRESS="address",e.NOT_SHARE="not_share"}(sE||(sE={})),function(e){e.NONE="none",e.HONOR="honor",e.MEMORY="memory"}(oE||(oE={})),function(e){e.POSTAL_CARD="card",e.LETTER="letter"}(cE||(cE={}));const lE={[oE.MEMORY]:"In Memory",[oE.HONOR]:"In Honor",[oE.NONE]:""};oE.MEMORY,oE.HONOR,oE.NONE;class uE{static get emptyAmountOptions(){return{once:[],every4weeks:[],monthly:[],daily:[],weekly:[],biweekly:[],bimonthly:[],quarterly:[],semiannual:[],annual:[]}}static get emptyDefaultAmounts(){return{once:0,monthly:0,daily:0,weekly:0,biweekly:0,bimonthly:0,quarterly:0,semiannual:0,annual:0}}constructor(e,t,n,i,a,r,s,o,c,l,u,d,h,m,p,g,y,f,v,S){var C;this.dataPointRegistry=e,this._checkoutConfiguration=t,this.checkoutState=n,this._checkoutUIState=i,this.sessionService=a,this.sessionAPI=r,this.tracker=s,this.currencyService=o,this.intl=c,this.iframeWindow=l,this.sentry=u,this.paymentScreen=d,this.eventEmitter=h,this.checkoutAPIBridge=m,this.debug=p,this.experiments=g,this.paymentAPI=y,this.logger=f,this._redirectApi=v,this.params=S,this.shouldFindMandatoryScreen=!1,this._closeSessionPromise=null,(null===(C=this.checkoutConfiguration.fundraisingPage)||void 0===C?void 0:C.key)&&(this.checkoutUIState.askPageActiveTab="fundraiser")}get redirectApi(){return this._redirectApi}get checkoutUIState(){return this._checkoutUIState}get checkoutConfiguration(){return this._checkoutConfiguration}get campaignConfig(){return this.checkoutConfiguration.campaign.config}get defaultAmountOptions(){return this.checkoutConfiguration.defaultAmountOptions}get company(){return this.checkoutConfiguration.company}get queryParams(){return this.checkoutConfiguration.queryParams}get hasPaymentAttempt(){return this.getState().hasPaymentAttempt}get canGoBack(){return this.checkoutState.canGoBack}get livemode(){return this.checkoutConfiguration.infrastructureParams.livemode}get isPaid(){var e;return!!(null===(e=this.getState().donationResultState)||void 0===e?void 0:e.donationId)}get isPaymentStarted(){return!1}reloadCheckout(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.trackCheckoutClose(e),yield rs(20),t){var n;const e=new(zt())(window.location.href);v()(n=xt()(t)).call(n,(t=>{let[n,i]=t;e.searchParams.set(n,i)})),window.location.replace(e)}else window.location.reload()}))}initialize(e){this.sessionService.updateSession(),this.checkoutUIState.preloadComponents()}dispose(){return(0,y.mG)(this,void 0,void 0,(function*(){}))}trackMlCheckoutDefaultParams(){}collectDataPoint(e,t){for(const t of e)this.checkoutState.setCollectedFor(t),t.collectTo(this.checkoutState);return this.updateSession(null==t?void 0:t.sessionUpdateParams)}updateSession(e){return this.sessionService.updateSession(e)}abandonSession(){return this.sessionService.abandonSession()}getDataPoint(e){return this.dataPointRegistry.getDataPoint(e)}resetDataPoint(e){const t=this.getDataPoint(e);t.reset(this.checkoutState),this.checkoutState.unsetCollectedFor(t)}enableDataPoint(e){return this.checkoutState.setEnabledFor(e),this}disableDataPoint(e){return this.checkoutState.unsetEnabledFor(e),this}makeDataPointRequired(e){return this.checkoutState.setRequiredFor(e),this}makeDataPointOptional(e){return this.checkoutState.unsetRequiredFor(e),this}getState(){return this.checkoutState.get()}tryCloseSession(){return(0,y.mG)(this,void 0,void 0,(function*(){if(this._closeSessionPromise)return this._closeSessionPromise;if(this.canCloseSession){this._closeSessionPromise=this.closeSession();try{yield this._closeSessionPromise}finally{this._closeSessionPromise=null}}}))}setCanGoBack(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.checkoutState.setCanGoBack(e),this}onStateUpdate(e){return this.checkoutState.onStateUpdate(e)}syncUpdateCheckoutState(){this.checkoutState.syncUpdate()}setRemoveCloseGuard(e){this._removeCloseGuard=e}disarmCloseGuard(){this._removeCloseGuard&&this._removeCloseGuard()}updateSessionWidgetDefaults(){this.sessionService.updateSessionWidgetDefaults()}get canCloseSession(){return!this.sessionService.closed&&this.isPaid}setPaymentAttempt(){return this.checkoutState.setPaymentAttempt(),this}handlePaymentRedirect(e){return(0,y.mG)(this,void 0,void 0,(function*(){e===this.params.screenSet.thankYou&&this.canRedirect&&(this.debug.log("simulating additional pay delay before redirect"),yield rs(uE.ADDITIONAL_PAY_DELAY),this.debug.log("redirecting"),yield this.tryCloseSession(),yield this.redirectApi.tryRedirect(this))}))}getCommonPublicCheckoutDonationParams(e){var t;return(0,y.mG)(this,void 0,void 0,(function*(){const n=this.getDataPoint("MailingListSubscription"),i=this.getDataPoint("DonorName"),a=this.getDataPoint("DonorEmail"),r=this.getDataPoint("Tribute"),s=this.getDataPoint("DTD"),o=this.getDataPoint("OnBehalfOf"),c=this.getDataPoint("DonateAnonymous"),l=this.getDataPoint("Designation"),u=this.getDataPoint("Comment"),d=this.checkoutConfiguration.campaign.config,h=r.toObject(),m=i.toObject(),p=a.toObject(),g=this.getDonationParams(),y=h.isActive&&!!h.inHonorOf;return{supporter:{id:(null===(t=e.payResult)||void 0===t?void 0:t.customerId)||null,email:p.email,firstName:m.firstName,lastName:m.lastName,anonymous:d.showAnonymous&&c.anonymousChecked,mailingListSubscribed:d.showSubscription&&n.checked,employer:s.employer.name||null,onBehalfOf:o.isOnBehalfOf?o.companyName:null},comment:u.comment||null,donation:e.payResult&&this.isPaid?{id:e.payResult.donationId,paymentMethod:(f=e.clientPaymentMethod,{[cn.G.CARD]:"CreditCard",[cn.G.APPLE_PAY]:"ApplePay",[cn.G.GOOGLE_PAY]:"GooglePay",[cn.G.PAYPAL]:"PayPal",[cn.G.VENMO]:"Venmo",[cn.G.ACH]:"ACH",[cn.G.US_BANK_ACCOUNT]:"ACH",[cn.G.PLAID]:"Plaid",[cn.G.CLICK_TO_PAY]:"ClickToPay",[cn.G.AU_BECS]:"BECS",[cn.G.UK_BACS]:"Bacs",[cn.G.ACSS]:"PAD",[cn.G.SEPA]:"SEPA",[cn.G.IDEAL]:"iDEAL",[cn.G.CRYPTO]:"Crypto",[cn.G.STOCK]:"Stock"}[f]||""),amount:this.currencyService.toFloat(g.total,g.currency),feesCovered:this.currencyService.toFloat(g.publicFee,g.currency),currency:g.currency,recurring:g.frequency!==Oe.ONCE,frequency:g.frequency}:null,designation:l.goalKey&&this.isPaid?{id:l.goalKey,name:l.goalName,code:l.goalCode}:null,tribute:y?{type:(v=h.type,v&&lE[v]||"")}:null,recurring:e.payResult&&this.isPaid&&e.payResult.recurringId?{id:e.payResult.recurringId}:null};var f,v}))}getCommonPublicCheckoutIntentParams(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.getDataPoint("Tribute"),t=this.getDataPoint("DonorName"),n=this.getDataPoint("DonorEmail"),i=this.getDataPoint("Designation"),a=this.getDataPoint("Comment"),r=this.getDataPoint("RemindMeLater"),s=e.toObject(),o=t.toObject(),c=n.toObject(),l=this.getDonationParams(),u=s.isActive&&!!s.inHonorOf;return this.isPaid?null:{flowType:this.checkoutState.flowType,checkoutSettings:{modifyAmount:l.canModifyAmount,designation:i.goalKey,modifyDesignation:i.modifyDesignation},comment:a.comment,donation:{amount:l.amount,currency:l.currency,recurring:l.frequency!==Oe.ONCE,frequency:l.frequency,selectedHintId:l.selectedHintId},supporter:{email:c.email,firstName:o.firstName,lastName:o.lastName},tribute:u?{type:s.type,labelType:s.labelType,inHonorOf:s.inHonorOf}:null,isSavedEmailOnExit:r.used,feeCovered:l.feeCovered}}))}capturePayErrorToSentry(e){e&&(e instanceof gn.Lu&&0===e.statusCode||this.sentry.captureException(e))}emitDonationComplete(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.getPublicCheckoutDonationParams();this.checkoutAPIBridge.emitDonationComplete(e),this.logger.donationComplete({key:this.checkoutConfiguration.campaign.key,name:this.checkoutConfiguration.campaign.name},k()(k()({},e),this.checkoutAPIBridge.getOpenParams()))}))}handleDonationCompleted(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=[this.emitDonationComplete(),this.trackCheckoutCharge(e)];yield V().all(t)}))}setDonationResultState(e){this.checkoutState.setDonationResultState({donationId:e.donationId,customerId:e.customerId,tributeId:e.tributeId,tributeDonorPortalLink:e.tributeDonorPortalLink,recurringId:e.recurringId})}getOpeningTime(){switch(this.checkoutConfiguration.checkoutType){case at.PAGE:return Math.round(window.performance.now());case at.MODAL:return Jn()()-this.tracker.checkoutOpenTimestamp;default:throw new ae(this.checkoutConfiguration.checkoutType,"Unexpected checkout type")}}get canRedirect(){return this.redirectApi.canRedirect(this.getState())}closeSession(){return(0,y.mG)(this,void 0,void 0,(function*(){yield this.sessionService.updateSession(),yield this.sessionService.closeSession()}))}}uE.ADDITIONAL_PAY_DELAY=1e3;class dE extends pr{constructor(e,t,n,i,a,r){super(e,t),this.merge({checkoutScreen:n,chargeKey:i.chargeKey,chargeInUSDAmount:i.chargeInUSDAmount,chargeInDefaultCurrencyAmount:i.chargeInDefaultCurrencyAmount,chargeAmount:i.chargeAmount,chargeCurrency:i.chargeCurrency,chargeFeeCovered:i.chargeFeeCovered?1:0,chargePaymentMethod:i.chargePaymentMethod,chargeIsRecurring:i.chargeIsRecurring?1:0,chargeHasComment:i.chargeHasComment?1:0,chargeHasTribute:i.chargeHasTribute?1:0,chargeGoal:i.chargeGoal,chargeCampaignKey:i.chargeCampaignKey,duration:a,eventComment:r})}get eventType(){return"checkoutCharge"}}class hE extends pr{constructor(e,t,n){super(e,t),this.merge({checkoutScreen:n})}get eventType(){return"checkoutClose"}}class mE extends pr{constructor(e,t,n,i){super(e,t),this.merge({checkoutScreen:n,eventComment:i})}get eventType(){return"checkoutScreenView"}}class pE extends pr{constructor(e,t,n,i){super(e,t),this.merge({duration:n,eventComment:i})}get eventType(){return"checkoutView"}}class gE extends uE{constructor(){super(...arguments),this._isPaymentCompleted=!1,this.donationStatusInterval=null}get isPaymentCompleted(){return this._isPaymentCompleted}get queryParams(){return this.checkoutConfiguration.queryParams}get type(){return this.checkoutState.flowType}getPaymentScreen(e){return this.paymentScreen.get(e)}trackCheckoutCharge(e){const t=this.getDataPoint("CryptoDonation"),n=this.getDataPoint("Tribute"),i=this.getDataPoint("Comment"),a=this.getDataPoint("Designation"),r=this.checkoutConfiguration.campaign,s=this.checkoutConfiguration.element,o=this.defaultAmountOptions;this.tracker.track(new dE({frequency:t.frequency,currency:t.currency,amount:t.amount||0,amountOptions:o},{elementType:s.type,elementKey:s.key,elementReminderKey:s.reminderKey},e.screen,{chargeKey:e.donationId,chargeInUSDAmount:t.totalInUSD||0,chargeInDefaultCurrencyAmount:t.totalInDefaultCurrency,chargeAmount:t.total,chargeCurrency:t.currency,chargeFeeCovered:!1,chargePaymentMethod:e.clientPaymentMethod,chargeIsRecurring:t.frequency!==Oe.ONCE,chargeHasComment:Boolean(i.comment),chargeHasTribute:n.isFilled,chargeGoal:a.goalKey||void 0,chargeCampaignKey:r.key},e.duration))}trackCheckoutView(){var e,t;const n=this.getDataPoint("CryptoDonation").toObject(),i=this.checkoutConfiguration.element,a=this.checkoutConfiguration.externalConfig,r=Boolean((null===(e=a.launcher)||void 0===e?void 0:e.elementKey)&&(null===(t=a.checkoutData)||void 0===t?void 0:t.amount)),s=this.getOpeningTime();this.debug.log("checkout opening time:eventCheckoutView",`${s} ms`),this.tracker.track(new pE({frequency:n.frequency,currency:n.currency,amount:n.amount,amountOptions:gE.emptyAmountOptions},{elementType:i.type,elementKey:i.key,elementReminderKey:i.reminderKey},s,{isAmountFromElement:r}))}trackCheckoutClose(e){const t=this.getDataPoint("CryptoDonation").toObject(),n=this.checkoutConfiguration.element;this.tracker.track(new hE({frequency:t.frequency,currency:t.currency,amount:t.amount,amountOptions:gE.emptyAmountOptions},{elementType:n.type,elementKey:n.key,elementReminderKey:n.reminderKey},e))}trackCheckoutScreenView(e,t,n,i){const a=this.getDataPoint("CryptoDonation").toObject(),r=this.checkoutConfiguration.element,s={renderDuration:null};t&&n&&(s.transitionDuration=n.getTime()-t.getTime()),i&&n&&(s.renderDuration=i.getTime()-n.getTime()),this.tracker.track(new mE({frequency:a.frequency,currency:a.currency,amount:a.amount,amountOptions:gE.emptyAmountOptions},{elementType:r.type,elementKey:r.key,elementReminderKey:r.reminderKey},e,s))}getCheckoutTrackerData(){const e=this.getDataPoint("CryptoDonation"),t=this.getDataPoint("Tribute");return{donation:{amount:e.amount,currency:e.currency,frequency:e.frequency,defaultAmount:e.defaultAmount},tribute:{isActive:t.isActive}}}getState(){return this.checkoutState.get()}dispose(){const e=rn()(null,{dispose:{get:()=>super.dispose}});return(0,y.mG)(this,void 0,void 0,(function*(){return this.clearDonationStatusInterval(),e.dispose.call(this)}))}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.checkoutConfiguration.infrastructureParams.showcase)return dn.fail({});try{return yield this.sessionService.updateSession(),yield this.paymentAPI.hold({clientPaymentMethod:h.GZ.CRYPTO}),dn.success(void 0)}catch(e){return dn.fail({shouldLeave:!1})}}))}pay(e){let{screen:t,predictedNextScreen:n}=e;return(0,y.mG)(this,void 0,void 0,(function*(){if(this.checkoutConfiguration.infrastructureParams.showcase)return dn.fail({});this.setPaymentAttempt();const e=Jn()(),i=yield this.sessionService.updateSession();if(dn.isFailure(i))return this.payErrorMessage=this.intl.translate("common.errorOccurredText"),dn.fail({});let a;try{a=yield this.paymentAPI.pay()}catch(e){return this.capturePayErrorToSentry(e),dn.fail({})}return dn.isFailure(a)?dn.fail({}):a.successResult.data.cryptoData?(this.checkoutState.setCryptoAddress(a.successResult.data.cryptoData.address),this.setDonationResultState(a.successResult.data),this.watchForPaymentStatus({donationId:a.successResult.data.donationId,startPayTimestamp:e,screen:t}),yield this.handlePaymentRedirect(n),dn.success(void 0)):dn.fail({})}))}initialize(e){super.initialize(e);const t=this.checkoutConfiguration.externalConfig.checkoutIntent;t&&!e.shouldRestoreFromIntent&&this.applyCheckoutIntent(t)}saveCheckoutClosePublicParams(){return(0,y.mG)(this,void 0,void 0,(function*(){const[e,t]=yield V().all([this.getPublicCheckoutDonationParams(),this.getCommonPublicCheckoutIntentParams()]);this.checkoutAPIBridge.setDonationParams(e),this.checkoutAPIBridge.setIntentParams(t)}))}getDonationParams(){const e=this.getDataPoint("CryptoDonation"),t=e.toObject();return{amount:t.amount,total:t.total,currency:t.currency,frequency:t.frequency,canModifyAmount:e.canModifyAmount,publicFee:0}}applyCheckoutIntent(e){var t,n,i;if(e.donation){const t=this.getDataPoint("CryptoDonation");e.donation.currency&&(t.currency=e.donation.currency),e.donation.amount&&(t.amount=e.donation.amount)}if(e.supporter){const t=this.getDataPoint("DonorName"),n=this.getDataPoint("DonorEmail");e.supporter.firstName&&t.setFirstName(e.supporter.firstName),e.supporter.lastName&&t.setLastName(e.supporter.lastName),e.supporter.email&&n.setEmail(e.supporter.email)}if(e.comment&&(this.getDataPoint("Comment").comment=e.comment),e.tribute){const n=this.getDataPoint("Tribute");e.tribute.inHonorOf&&(n.tributeeName=null===(t=e.tribute)||void 0===t?void 0:t.inHonorOf),n.isActive=!0}(null===(n=e.checkoutSettings)||void 0===n?void 0:n.designation)&&(this.getDataPoint("Designation").goalKey=null===(i=e.checkoutSettings)||void 0===i?void 0:i.designation),this.checkoutState.filledFromIntent=!0}getPublicCheckoutDonationParams(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.getCommonPublicCheckoutDonationParams({clientPaymentMethod:h.GZ.CRYPTO,payResult:this.checkoutState.get().donationResultState})}))}watchForPaymentStatus(e){this.donationStatusInterval=Ch()((()=>(0,y.mG)(this,void 0,void 0,(function*(){(yield this.paymentAPI.status())&&(this.clearDonationStatusInterval(),this.handleDonationCompleted({donationId:e.donationId,clientPaymentMethod:h.GZ.CRYPTO,screen:e.screen,duration:e.startPayTimestamp-Jn()()}),this._isPaymentCompleted=!0)}))),5e3)}clearDonationStatusInterval(){this.donationStatusInterval&&clearInterval(this.donationStatusInterval)}}class yE{constructor(e,t,n,i){this.campaignConfig=e,this.debug=t,this.checkoutConfiguration=n,this.dataPointRegistry=i,this.hasMailingAddressError=!1,this.filledFromIntent=!1,this.collectedDataPoints=new(Ee()),this.hasPaymentAttempt=!1,this._canGoBack=!1,this.donationResultState=null,this.updateListeners=new(Ee())}get isCollected(){const e=this.getDataPointsToCollect();return this.debug.log("isCollected:dataPointsToCollect",e),pi()(e).call(e,(e=>this.collectedDataPoints.has(e)))}get canGoBack(){return this._canGoBack}setCollectedFor(e){return this.collectedDataPoints.add(e),this}unsetCollectedFor(e){return this.collectedDataPoints.delete(e),this}setEnabledFor(e){return this.dataPointRegistry.getDataPoint(e).isEnabled=!0,this}unsetEnabledFor(e){return this.dataPointRegistry.getDataPoint(e).isEnabled=!1,this}setRequiredFor(e){return this.dataPointRegistry.getDataPoint(e).isRequired=!0,this}unsetRequiredFor(e){return this.dataPointRegistry.getDataPoint(e).isRequired=!1,this}setPaymentAttempt(){return this.hasPaymentAttempt=!0,this}setCanGoBack(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._canGoBack=e}setDonationResultState(e){this.donationResultState=e}onStateUpdate(e){return this.updateListeners.add(e),()=>this.updateListeners.delete(e)}syncUpdate(){this.triggerUpdate()}getDataPointsToCollect(){var e;return Fe()(e=this.dataPointRegistry.list).call(e,(e=>e.isRequired&&e.isEnabled))}triggerUpdate(){var e;v()(e=this.updateListeners).call(e,(e=>e()))}}class fE extends yE{constructor(){super(...arguments),this.flowType=et.CRYPTO,this.cryptoAddress=null}get(){var e;return{donation:this.donationState,personalInformation:this.personalInformationState,tribute:this.tributeState,comment:this.commentState,cryptoAddress:this.cryptoAddress,hasPaymentAttempt:this.hasPaymentAttempt,hasMailingAddressError:this.hasMailingAddressError,donationResultState:this.donationResultState,isPaid:Boolean(null===(e=this.donationResultState)||void 0===e?void 0:e.donationId),mailingAddress:this.mailingAddressState,questions:this.questionsState,remindMeLater:this.remindMeLaterState,termsAndConditions:this.termsAndConditionsState}}onCryptoCurrencyDataPointCollect(){var e;const t=this.dataPointRegistry.getDataPoint("CryptoDonation");return this.dataPointRegistry.getDataPoint("MailingAddress").setDonationParams({amount:null!==(e=t.amount)&&void 0!==e?e:0,total:t.total,currency:t.currency}),this}setCryptoAddress(e){return this.cryptoAddress=e,this}onTributeDataPointCollected(){}onBehalfOfDataPointCollected(){}onDesignationDataPointCollected(){}get remindMeLaterState(){const e=this.dataPointRegistry.getDataPoint("RemindMeLater"),t=this.dataPointRegistry.getDataPoint("DonorEmail"),n=this.dataPointRegistry.getDataPoint("TermsAndConditions"),i={show:!1,isEnabled:e.isEnabled,isRequired:e.isRequired};return e.isEnabled&&(t.isEnabled&&!t.validate().isValid||n.isEnabled&&!n.isAccepted)?k()(k()({},i),{show:!0}):i}get termsAndConditionsState(){return{isEnabled:this.dataPointRegistry.getDataPoint("TermsAndConditions").isEnabled}}get donationState(){const e=this.dataPointRegistry.getDataPoint("CryptoDonation");return{isEnabled:e.isEnabled,isRequired:e.isRequired,amount:e.amount,currency:e.currency,frequency:e.frequency,defaultAmount:e.defaultAmount||0,amountOptions:[],amountInUsd:e.amountInUSD||0}}get personalInformationState(){const e=this.dataPointRegistry.getDataPoint("CryptoDonation"),t=this.dataPointRegistry.getDataPoint("DonorName"),n=this.dataPointRegistry.getDataPoint("DonorEmail");return{isEnabled:e.isEnabled,isRequired:e.isRequired,isCollected:this.collectedDataPoints.has(t)&&this.collectedDataPoints.has(n)}}get tributeState(){const e=this.dataPointRegistry.getDataPoint("Tribute");return{isEnabled:e.isEnabled,isRequired:e.isRequired,name:e.tributeeName,labelType:e.labelType,isActive:e.isActive}}get mailingAddressState(){const e=this.dataPointRegistry.getDataPoint("MailingAddress");return{isEnabled:e.isEnabled,isRequired:e.isRequired,isCollected:this.collectedDataPoints.has(e)}}get commentState(){const e=this.dataPointRegistry.getDataPoint("Comment");return{isEnabled:e.isEnabled,isRequired:e.isRequired}}get questionsState(){return{isEnabled:this.dataPointRegistry.getDataPoint("Questions").isEnabled}}}class vE{constructor(e,t){this.checkoutState=e,this.params=t}get(){return this.shouldPayOnMailingAddressScreen()?this.params.screenSet.mailingAddress:this.params.screenSet.privacy}shouldPayOnMailingAddressScreen(){return this.checkoutState.get().mailingAddress.isEnabled}}var SE,CE=n(33958),bE=n.n(CE);function EE(e,t){var n,i,r,s;return on()(n=De()(i=Ke()(r=Fe()(s=a()(e).call(e)).call(s,(e=>null!==e))).call(r,((e,t)=>e-t))).call(i,(e=>(t-Number(e))/Math.abs(t-Number(e))||0))).call(n,((e,t)=>e+t),e.length)}function AE(){const e=-(new Date).getTimezoneOffset()/60;return e>=0?`UTC+${e}`:`UTC${e}`}function NE(){return function(){if(!function(){try{return void 0!==window.Intl}catch(e){return!1}}())return;const e=window.Intl;if(e&&"object"==typeof e&&"function"==typeof e.DateTimeFormat){const t=new e.DateTimeFormat("en-US");if("object"!=typeof t)return;const n="function"==typeof t.resolvedOptions&&t.resolvedOptions();if("object"!=typeof n)return;const i=n.timeZone;if(!i)return;return i}}()||AE()}class PE{constructor(e,t,n,i,a){this.tracker=e,this.checkoutConfiguration=t,this.sentry=n,this.debouncedRequestService=i,this.requestService=a,this.created=!1,this.headers={"Content-Type":"text/plain; charset=utf-8"},this.latestUpdatePayload=null,this.latestUpdateResponse=null,this.params={baseURL:o,token:e.checkoutViewId}}get sessionToken(){return this.params.token}get(e,t,n){return(0,y.mG)(this,void 0,void 0,(function*(){const i={retries:5,delay:200};(null==n?void 0:n.retries)&&(null==n?void 0:n.delay)&&(i.retries=n.retries,i.delay=n.delay);const a=yield this.waitForCreated((()=>this.requestService.get({url:`${this.params.baseURL}/paymentSession/${this.params.token}/${e}`,headers:this.headers,params:t,cancelSimilar:!0,rejectOnInvalid:null==n?void 0:n.rejectsOnInvalid})),i);if(dn.isSuccess(a))return a.successResult;throw new re}))}post(e,t,n){return(0,y.mG)(this,void 0,void 0,(function*(){const i=this.getPostPromise(e,t,n);return this.debouncedRequestService.request({promise:i,allowMerge:!1,allowDelay:!1})}))}update(e){return(0,y.mG)(this,void 0,void 0,(function*(){this.sessionStageInitial||(this.sessionStageInitial=this.getSessionStageInitial(e));const t=M(k()(k()({},e),{created:this.created,initial:this.sessionStageInitial})),n=this.getUpdaterPromise(t);return this.debouncedRequestService.request({promise:n,allowMerge:!1,allowDelay:!1})}))}close(){return(0,y.mG)(this,void 0,void 0,(function*(){yield this.debouncedRequestService.request({promise:this.getClosePromise(),allowMerge:!1,allowDelay:!1})}))}updateSessionWidgetDefaults(e,t){this.sessionStageInitial&&(this.sessionStageInitial.widgetDefaults=this.getWidgetDefaults(e,t))}abandon(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.debouncedRequestService.request({promise:this.getAbandonPromise(e),allowMerge:!1,allowDelay:!1})}))}getNextScreen(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.requestService.post({url:`${this.params.baseURL}/paymentSession/${this.params.token}/getNextScreen`,headers:this.headers,params:e,cancelSimilar:!0,rejectOnInvalid:!0})}))}getFeeCovering(e){return this.requestService.post({url:`${this.params.baseURL}/paymentSession/${this.params.token}/getFeeCovering`,headers:this.headers,params:e,cancelSimilar:!0,rejectOnInvalid:!0})}handleSessionUpdateFailure(e){var t;const n=!!(null===(t=e.failureResult.errors)||void 0===t?void 0:t.customerEmail);return n?dn.fail({customerEmailError:n}):dn.fail({})}handleSessionAbandonFailure(e){var t;const n=!!(null===(t=e.failureResult.errors)||void 0===t?void 0:t.customerEmail);return n?dn.fail({customerEmailError:n}):dn.fail({})}getSessionStageInitial(e){var t,n,i,a,r,s,o;const c=window.location.href,l=(0,ot.O5)(c);return{token:this.tracker.checkoutViewId,key:this.checkoutConfiguration.campaign.key,livemode:this.checkoutConfiguration.infrastructureParams.livemode,urlParams:l,widgetUrl:c,launcherParams:this.checkoutConfiguration.launcherParams,timezone:NE(),trackerParams:{clientId:this.tracker.clientId,pageViewId:this.tracker.pageViewId,checkoutViewId:this.tracker.checkoutViewId,clientLocale:this.tracker.clientLocale,uaWebdriver:Boolean(navigator.webdriver),tags:ti()(this.tracker.tags)},widgetDefaults:this.getWidgetDefaults(e.donation.amount||0,e.checkoutDefaults),customFields:null!==(t=this.checkoutConfiguration.campaign.customFields)&&void 0!==t?t:[],elementKey:this.checkoutConfiguration.element.key,elementType:this.checkoutConfiguration.element.type,elementReminderKey:this.checkoutConfiguration.element.reminderKey||"",fundraisingPageKey:(null===(n=this.checkoutConfiguration.fundraisingPage)||void 0===n?void 0:n.key)||"",fundraisingPageCustomFields:(null===(i=this.checkoutConfiguration.fundraisingPage)||void 0===i?void 0:i.customFields)||[],startUrl:"",launcherUrl:"",checkoutV2:!0,checkoutType:this.checkoutConfiguration.checkoutType,checkoutIntentCustomFields:null!==(o=null===(s=null===(r=null===(a=this.checkoutConfiguration.externalConfig.checkoutIntent)||void 0===a?void 0:a.checkoutSettings)||void 0===r?void 0:r.customFields)||void 0===s?void 0:Fe()(s).call(s,(e=>e.name&&e.value)))&&void 0!==o?o:[]}}getWidgetDefaults(e,t){return{amount:t.defaultAmounts,frequency:t.frequency,amountOptions:t.amountOptions,currency:t.currency,relations:{amount:EE([t.defaultAmount],e),amountOptions:EE(t.frequencyAmountOptions,e)}}}getClosePromise(){return()=>this.requestService.post({url:`${this.params.baseURL}/paymentSession/${this.params.token}/close`,headers:this.headers,params:{},rejectOnInvalid:!0})}getAbandonPromise(e){return()=>(0,y.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.requestService.post({url:`${this.params.baseURL}/paymentSession/${this.params.token}/abandon`,headers:this.headers,params:e,rejectOnInvalid:!0})}catch(e){throw this.sentry.captureException(e),e}return dn.isSuccess(t)?t:this.handleSessionAbandonFailure(t)}))}getPostPromise(e,t,n){return()=>(0,y.mG)(this,void 0,void 0,(function*(){let i;try{i=yield this.requestService.post({url:`${this.params.baseURL}/paymentSession/${this.params.token}/${e}`,headers:this.headers,params:t,rejectOnInvalid:null==n?void 0:n.rejectsOnInvalid,setCustomFingerprint:!0})}catch(e){throw this.sentry.captureException(e),e}return i}))}getUpdaterPromise(e){return()=>(0,y.mG)(this,void 0,void 0,(function*(){let t;if(bE()(e,this.latestUpdatePayload)&&this.latestUpdateResponse)return dn.success(this.latestUpdateResponse);try{t=yield this.requestService.post({url:`${this.params.baseURL}/paymentSession/${this.params.token}`,headers:this.headers,params:e,setCustomFingerprint:!0})}catch(e){throw this.sentry.captureException(e),e}return dn.isSuccess(t)?(this.created=!0,this.latestUpdateResponse=t.successResult,this.latestUpdatePayload=e,t):this.handleSessionUpdateFailure(t)}))}waitForCreated(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,y.mG)(this,void 0,void 0,(function*(){if(this.created)try{return yield e()}catch(i){if(n>=t.retries)throw this.sentry.captureException(i),i;return yield new(V())((e=>H()(e,t.delay))),this.waitForCreated(e,t,++n)}return yield new(V())((e=>H()(e,t.delay))),this.waitForCreated(e,t,++n)}))}}PE.SESSION_UPDATE_DEBOUNCE=100;class xE extends PE{}class kE{constructor(e,t,n){this.dataPointRegistry=e,this.checkoutConfiguration=t,this.sessionAPI=n,this._closed=!1,this.sessionClosePromise=null}get closed(){return this._closed}get closing(){return!!this.sessionClosePromise}updateSessionWidgetDefaults(){}closeSession(){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.closed&&!this.checkoutConfiguration.infrastructureParams.showcase){if(this.sessionClosePromise)return this.sessionClosePromise;this.sessionClosePromise=this.sessionAPI.close();try{yield this.sessionClosePromise,this._closed=!0}finally{this.sessionClosePromise=null}}}))}abandonSession(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.getDataPoint("RemindMeLater").toObject(),t=this.getDataPoint("DonorEmail").toObject(),n={remindMeLater:{shown:e.shown,used:e.used}};return t.email&&(n.email=t.email),this.sessionAPI.abandon(n)}))}getDataPoint(e){return this.dataPointRegistry.getDataPoint(e)}}!function(e){e.NONE="none",e.RANDOM="random"}(SE||(SE={}));class wE extends kE{updateSession(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.checkoutConfiguration.infrastructureParams.showcase)return dn.success({});const t=this.getDataPoint("Tribute"),n=this.getDataPoint("Comment"),i=this.getDataPoint("Designation"),a=this.getDataPoint("CryptoDonation"),r=a.toObject(),s=this.getDonationAmount(a,e),o=this.dataPointRegistry.getDataPoint("DonorName").toObject(),c=this.dataPointRegistry.getDataPoint("DonorEmail").toObject(),l=this.getDataPoint("CustomerTitle").toObject(),u=this.getDataPoint("PhoneNumber").toObject(),d=t.toObject(),h=this.getDataPoint("Questions").toObject(),m=this.dataPointRegistry.getDataPoint("TermsAndConditions").toObject(),p=this.getDataPoint("OnBehalfOf").toObject(),g=this.dataPointRegistry.getDataPoint("DonateAnonymous").toObject(),y=this.dataPointRegistry.getDataPoint("MailingListSubscription").toObject();return this.sessionAPI.update({donationType:et.CRYPTO,comment:n.comment,tribute:d.inHonorOf&&t.isActive?{labelType:d.labelType,type:d.type,inHonorOf:d.inHonorOf}:null,questions:h.questions,customer:{firstName:o.firstName,lastName:o.lastName,title:l.title,email:c.email,phone:u.phone,onBehalfOf:p.companyName,subscriptionChecked:y.checked,anonymousChecked:g.anonymousChecked,termsChecked:m.isAccepted},donation:{frequency:Oe.ONCE,amount:s.amount,currency:r.currency,total:s.total,publicFee:0,goalKey:i.goalKey,goalName:i.goalName,hintsVariantName:SE.NONE,hintDescription:"",_suggestedAmountHint:null},checkoutDefaults:this.getCheckoutDefaults(a)})}))}getCheckoutDefaults(e){return{amountOptions:this.checkoutConfiguration.defaultAmountOptions,defaultAmounts:this.checkoutConfiguration.defaultAmounts,frequency:e.frequency,currency:e.currency,frequencyAmountOptions:this.checkoutConfiguration.campaign.config.frequencies[e.frequency].amountOptions,defaultAmount:this.checkoutConfiguration.defaultAmounts[e.frequency]||0}}getDonationAmount(e,t){if((null==t?void 0:t.canUseAmountDefaults)&&!e.amount)return{amount:e.getDefaultAmountInCurrency(),total:e.getDefaultTotalInCurrency()};const n=e.toObject();return{amount:n.amount,total:n.total}}}n(55912);class DE extends class{constructor(e){this.timestamp=e.timestamp,this.checkoutAmount=e.amount,this.recurringMinAmount=e.minAmount,this.checkoutCurrency=e.currency,this.currencyService=e.currencyService,this.suggestionsService=e.suggestionsService}updateExternalParams(e){this.checkoutAmount=e.amount,this.recurringMinAmount=e.minAmount,this.checkoutCurrency=e.currency}}{constructor(){super(...arguments),this.defaultCurrency="USD"}getAmount(){let e=this.suggestionsService.beautify(.2*this.checkoutAmount,this.checkoutCurrency);const t=this.currencyService.convert(this.checkoutAmount,this.checkoutCurrency,this.defaultCurrency);return t>=5e4&&t<=1e5?e=this.suggestionsService.beautify(.15*this.checkoutAmount,this.checkoutCurrency):t>1e5&&(e=this.suggestionsService.beautify(.1*this.checkoutAmount,this.checkoutCurrency)),e<this.recurringMinAmount&&(e=this.recurringMinAmount),e}getPeriod(){return Oe.MONTHLY}getStartDate(){return function(e,t){const n=new Date(e),i=n.getDate();return n.setMonth(n.getMonth()+1),n.getDate()!==i&&n.setDate(0),n.toISOString()}(this.timestamp)}}class TE{static getConstructor(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?TE.createForShowcase:TE.create}static create(e){const t=TE.variants;return new(0,t[Math.floor(Math.random()*t.length)])(e)}static createForShowcase(e){return new DE(e)}}TE.variants=[DE];class OE{constructor(e){this.sessionAPI=e}validate(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.sessionAPI.post("mailingAddress",k()({},e),{rejectsOnInvalid:!0});return dn.isSuccess(t)?t.successResult:{valid:!1,validated:!0}}))}}class _E{constructor(e){this.sessionAPI=e}getList(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.sessionAPI.get("brokers",{query:e},{delay:200,retries:5,cancelSimilar:!0,rejectsOnInvalid:!0});return De()(t).call(t,(e=>({name:e.name,logo:e.logo})))}))}}var IE=n(96670);class RE{constructor(e){this.checkoutConfiguration=e}collectTo(e){return this}reset(e){return this}validate(){return{isValid:!0}}}class LE extends RE{constructor(e,t){super(e),this.checkoutConfiguration=e,this.currencyService=t,this.isEnabled=!0,this.isRequired=!0}getCurrencyName(e){return this.currencyService.getName(e)}getTotalInCustomCurrency(e){return this.currencyService.convert(this.total,this.currency,e)}}const ME=1e7;class jE extends LE{constructor(e,t,n){var i;super(e,t),this.checkoutConfiguration=e,this.currencyService=t,this.suggestionsService=n,this.isEnabled=!0,this.isRequired=!0,this.currency="BTC",this.defaultCurrency="BTC",this.amount=0,this.defaultAmountInFiat=0,this.canModifyAmount=!0,this.canSelectCurrency=!0,Z()(i=this.currencyList).call(i,this.currency)||(this.currency=this.currencyList[0],this.defaultCurrency=this.currencyList[0]),this.setAmountByDefault(this.defaultCurrency)}get frequency(){return Oe.ONCE}get minAmount(){return 100}get maxAmount(){return 1e8}get defaultAmount(){return 5e5}get total(){return this.amount||0}get amountInUSD(){return this.amount?this.currencyService.convert(this.amount,this.currency,"USD"):null}get totalInUSD(){return this.currencyService.convert(this.total,this.currency,"USD")}get defaultFiatCurrency(){return this.checkoutConfiguration.campaign.config.defaultCurrency}get amountInDefaultFiat(){return this.currencyService.convert(this.amount||0,this.currency,this.defaultFiatCurrency)}get totalInDefaultCurrency(){return this.total}get currencyNetworkData(){return this.currencyService.getCryptoCurrency(this.currency)}get currencyList(){const e=this.checkoutConfiguration.company.cryptoProvider;if(!e)return["BTC"];const t=this.currencyService.getCurrencyCodesBySource(e);if(e!==IE.fx.COINBASE_COMMERCE)return t;const n=this.checkoutConfiguration.company.coinbaseCommerceCurrencies;return Fe()(t).call(t,(e=>Z()(n).call(n,e)))}getDefaultAmountsInCurrency(){return this.total}validate(){const e=null!==this.amount,t=!e||this.validateMinAmount(),n=!e||this.validateMaxAmount(),i={isValid:e&&t&&n,errors:{min:!t,max:!n,required:!e}};return{isValid:i.isValid,fields:{amount:i}}}collectTo(e){return function(e){if(void 0===e.onCryptoCurrencyDataPointCollect)throw new Error("Expected checkout state to be ICheckoutStateWithCryptoCurrency")}(e),e.onCryptoCurrencyDataPointCollect(),this}toObject(){return{amount:this.amount||0,total:this.amount||0,currency:this.currency,frequency:this.frequency}}setAmountByDefault(e){this.amount=this.getDefaultAmountInCurrency(e),this.defaultAmountInFiat=this.amountInDefaultFiat}getDefaultAmountInCurrency(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currency;const t=this.currencyService.convert(this.defaultAmount,"USD",e),n=this.currencyService.toFloat(t,e),i=this.getAmountByDefaultMultiplier(n);return this.beautify(t*i,e)/i}getDefaultTotalInCurrency(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currency;return this.getDefaultAmountInCurrency(e)}validateMinAmount(){return!!this.amountInUSD&&this.amountInUSD>=this.minAmount}validateMaxAmount(){return!this.amountInUSD||this.amountInUSD<=this.maxAmount}getAmountByDefaultMultiplier(e){let t=1;return e<10?t=this.getBaseMultiplier(e):e>ME&&(t=this.getBaseMultiplier(e/ME,0)),t}getBaseMultiplier(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=-Math.floor(Tt()(e));return Math.pow(10,n+t)}beautify(e,t){return this.suggestionsService.beautify(e,t)}}class FE{constructor(e){this.defaultData=e,this._guessedCurrenciesList=[],this._guessedCurrency="",this._defaultPreviousCurrency="",this._defaultCurrentCurrency="",this.initGuessedCurrenciesList(),this.initGuessedCurrency(),this.initCurrency()}get guessedCurrenciesList(){return this._guessedCurrenciesList}get guessedCurrency(){return this._guessedCurrency}get defaultPreviousCurrency(){return this._defaultPreviousCurrency}get defaultCurrentCurrency(){return this._defaultCurrentCurrency}initGuessedCurrenciesList(){var e,t;const n=this.defaultData.defaultCurrency,i=this.defaultData.currencies.countryCurrencies[0],r=this.defaultData.currencies.stripe.default,s=a()(e=this.defaultData.currencies.countryCurrencies).call(e,1),o=this.defaultData.currencies.langCurrencies,c=this.defaultData.currencies.stripe.list;var l;this._guessedCurrenciesList=(l=Fe()(t=[n,i,r,...s,...o]).call(t,(e=>Z()(c).call(c,e))),[...new(Ee())(l)])}initGuessedCurrency(){var e;const t=this.defaultData.currencies.countryCurrencies;!this.defaultData.showcase&&this.defaultData.guessCurrency&&this.defaultData.isCurrencyEnabled&&t.length&&Z()(e=this._guessedCurrenciesList).call(e,t[0])?this._guessedCurrency=t[0]:this._guessedCurrency=this.defaultData.defaultCurrency||"USD"}initCurrency(){this._defaultCurrentCurrency=this.defaultData.defaultCurrency,this._defaultPreviousCurrency=this.defaultData.defaultCurrency,this._guessedCurrency!==this._defaultCurrentCurrency&&(this._defaultCurrentCurrency=this._guessedCurrency)}}const UE=[2500,5e3];function BE(e){if(void 0===e.onDonationDataPointCollected)throw new Error("Expected checkout state to be IFiatCheckoutState")}function GE(e){if(void 0===e.resetGiftAid||void 0===e.onGiftAidAccepted)throw new Error("Expected checkout state to be ICheckoutStateWithGiftAid")}class qE extends LE{constructor(e,t,n,i,a,r,s){super(e,t),this.checkoutConfiguration=e,this.currencyService=t,this.suggestionsService=n,this.experiments=i,this.userSession=a,this.transactionCosts=r,this.suggestedAmountHintsAI=s,this.isEnabled=!0,this.isRequired=!0,this._defaultAmount=null,this._feeCoveringSuggestion=h.__.ONLY_NO}get defaultAmount(){return this._defaultAmount}get defaultTotal(){var e;return this.transactionCosts.getTotal(null!==(e=this.defaultAmount)&&void 0!==e?e:0,this.currency)}get amount(){return this.exchequer.getCurrentAmount()}get totalInUSD(){return this.currencyService.convert(this.total,this.currency,"USD")}get totalInDefaultCurrency(){return this.currencyService.convert(this.total,this.currency,this.defaultCurrency)}get fee(){return this.transactionCosts.getFee(this.amount||0,this.currency)}get processingFee(){return this.transactionCosts.getProcessingFee(this.amount||0,this.currency)}get isRecurring(){return this.frequency!==Oe.ONCE}get frequency(){return this.exchequer.getCurrentFrequency()}get currency(){return this.exchequer.getCurrentCurrency()}get defaultFrequency(){return this.exchequerWithDefaults.getCurrentFrequency()}get defaultAmounts(){return this.exchequerWithDefaults.getAllAmounts()}get allAmountOptions(){return this.exchequer.getAllSuggestions()}get amountOptions(){return this.getAmountOptions(this.frequency)}get hintOptions(){return this.suggestedAmountHintsAI?this.suggestedAmountHintsAI.getHintsByFrequency(this.frequency):null}get currentHint(){var e;return(null===(e=this.hintOptions)||void 0===e?void 0:qe()(e).call(e,(e=>e.default)))||null}get hintsVariantName(){var e;return this.currentHint&&(null===(e=this.suggestedAmountHintsAI)||void 0===e?void 0:e.variantName)||SE.NONE}get minAmount(){return this.getMinAmount(this.frequency)}get minTotal(){return this.transactionCosts.getTotal(this.minAmount,this.currency)}get canModifyAmount(){var e;if(!1===this.externalCheckoutData.modifyAmount)return!1;if(!1===this.checkoutConfiguration.queryParams.modifyAmount)return!1;const t=null===(e=this.checkoutConfiguration.externalConfig.checkoutIntent)||void 0===e?void 0:e.checkoutSettings;return!t||"boolean"!=typeof t.modifyAmount||t.modifyAmount}get canSelectCurrency(){return this.canSelectCurrencyForFrequency(this.frequency)}get defaultCurrency(){return this.checkoutConfiguration.campaign.config.defaultCurrency}get currencySymbol(){return this.currencyService.getSymbol(this.currency)}get lowFrequency(){return this.exchequer.getLowestFrequency()}get highFrequency(){return this.exchequer.getHighestFrequency()}get total(){return this.transactionCosts.getTotal(this.amount||1e4,this.currency)}get currencyList(){return[...this.checkoutConfiguration.company.stripeCurrencies.list]}get guessedCurrency(){return this._guessedCurrency||(this._guessedCurrency=this.exchequer.getGuessedCurrency()),this._guessedCurrency}get guessedCurrencyList(){return this._guessedCurrencyList||(this._guessedCurrencyList=this.exchequer.getGuessedCurrenciesList()),this._guessedCurrencyList}get isFeeCovered(){return this.transactionCosts.isCovered}get canModifyFrequency(){const e=Me()(this.checkoutConfiguration.campaign.config.frequencies);return Fe()(e).call(e,(e=>e.enabled)).length>1}get amountInUSD(){return this.amount?this.currencyService.convert(this.amount,this.currency,"USD"):null}get includeFees(){return this.transactionCosts.includeFees}set amount(e){this.exchequer.setAmounts(e),this.checkForAmountDefault(e)}set frequency(e){this.exchequer.setFrequency(e),this.checkForAmountDefault(this.amount),e===Oe.ONCE||this.canSelectCurrency||(this.currency=this.defaultCurrency)}set currency(e){const t=this.getDefaultAmountsInCurrency(this.frequency)!==this.amount;this.exchequerWithDefaults.setCurrency(e),this.exchequer.setCurrency(e,t),this._defaultAmount=this.getDefaultAmountsInCurrency(this.frequency)}set isFeeCovered(e){this.transactionCosts.isCovered=e}changeDefaultAmountForFrequency(e,t){this.exchequerWithDefaults.setAmountForFrequency(e,t),this.exchequer.setAmountForFrequency(e,t),this.frequency===t&&(this._defaultAmount=this.getDefaultAmountsInCurrency(this.frequency))}getDefaultAmountsInCurrency(e){const t=this.defaultAmounts[e];if(void 0===t)throw new Error(`Default amount for frequency ${e} is not defined`);return t}getAmountOptions(e){const t=this.allAmountOptions[e];if(void 0===t)throw new Error(`Amount options for frequency ${e} are not defined`);return t}getMinAmount(e){const t=this.minAmounts[e];if(void 0===t)throw new Error(`Min amount for frequency ${e} is not defined`);return t}collectTo(e){return BE(e),e.onDonationDataPointCollected(),this}validate(){const e=null!==this.amount,t=!e||this.validateMinAmount(),n=!e||this.validateMaxAmount(),i={isValid:t&&n&&e,errors:{min:!t,max:!n,required:!e}};return{isValid:i.isValid,fields:{amount:i}}}calculateFeeAvailability(){this.transactionCosts.calculateFeeAvailability({amount:this.amount,currency:this.currency})}calculateSmartCoveringFee(e){e||this.includeFees!==h.__.SMART_COVERING||this.transactionCosts.calculateSmartFeeCovering({amountInUSD:this.amountInUSD,frequency:this.frequency})}snapshotFeeCoveringSuggestion(e){e||(this.includeFees!==h.__.ONLY_NO?this.includeFees!==h.__.ONLY_YES?this._feeCoveringSuggestion=this.isFeeCovered?h.__.DEFAULT_YES:h.__.DEFAULT_NO:this._feeCoveringSuggestion=h.__.ONLY_YES:this._feeCoveringSuggestion=h.__.ONLY_NO)}isFrequencyEnabled(e){const t=this.exchequer.enabledFrequencies;return Z()(t).call(t,e)}toObject(){return{amount:this.amount||0,currency:this.currency,frequency:this.frequency,total:this.total,publicFee:this.processingFee,amountOptions:this.amountOptions,feeCoveringSuggestion:this._feeCoveringSuggestion,hintAmounts:this.hintsAmounts,hintsVariantName:this.hintsVariantName,currentHint:this.currentHint||null}}setDefaultAmounts(){var e;v()(e=this.exchequer.enabledFrequencies).call(e,(e=>{var t;e!==this.frequency&&((null===(t=this.suggestedAmountHintsAI)||void 0===t?void 0:t.getHintsByFrequency(e))?this.setDefaultHintForFrequency(e):this.setDefaultAmountForFrequency(e))}))}syncHintsAmounts(){if(!this.suggestedAmountHintsAI)return;const e=this.exchequer.getAllHintsAmounts();this.suggestedAmountHintsAI.updateHintsByAmounts(e),this.currentHint&&this.exchequer.setAmount(this.currentHint.amount)}updateHintsByDefault(e){this.suggestedAmountHintsAI&&this.suggestedAmountHintsAI.updateHintsByDefault(this.frequency,e)}resetHintsByDefault(){var e;if(this.suggestedAmountHintsAI)for(const t in this.suggestedAmountHintsAI.hints)null===(e=this.suggestedAmountHintsAI)||void 0===e||e.updateHintsByDefault(t,null)}get minAmounts(){return this.exchequer.getAllMinAmounts()}get hintsAmounts(){return this.suggestedAmountHintsAI?this.suggestedAmountHintsAI.hintsAmounts:{[Oe.ONCE]:[],[Oe.DAILY]:[],[Oe.WEEKLY]:[],[Oe.BIWEEKLY]:[],[Oe.EVERY_4_WEEKS]:[],[Oe.MONTHLY]:[],[Oe.BIMONTHLY]:[],[Oe.QUARTERLY]:[],[Oe.SEMIANNUAL]:[],[Oe.ANNUAL]:[]}}get externalCheckoutData(){return this.checkoutConfiguration.externalConfig.checkoutData||{}}get exchequer(){return this._exchequer||(this._exchequer=this.getExchequer()),this._exchequer}get exchequerWithDefaults(){return this._exchequerWithDefaults||(this._exchequerWithDefaults=this.getExchequer()),this._exchequerWithDefaults}get guessCurrency(){return this.checkoutConfiguration.campaign.config.guessCurrency}get isMobile(){return this.checkoutConfiguration.infrastructureParams.isMobile}getExchequer(){var e,t,n;const i=this.checkoutConfiguration.campaign.config,a=this.checkoutConfiguration.user,r=this.checkoutConfiguration.currencies,s=this.checkoutConfiguration.company,o=M(i.frequencies),c=(0,ot.j5)(this.userSession,this.isMobile),l=!(!this.checkoutConfiguration.launcherParams.key&&!this.checkoutConfiguration.launcherParams.elementKey),u={langCurrencies:[...r.langCurrencies]||[],countryCurrencies:[...r.countryCurrencies]||[],stripe:{default:s.stripeCurrencies.default,list:[...s.stripeCurrencies.list]}},d=new FE({currencies:u,defaultCurrency:this.defaultCurrency,guessCurrency:this.guessCurrency,isCurrencyEnabled:i.currencyEnabled,showcase:this.checkoutConfiguration.infrastructureParams.showcase}),h=new aa({widgetKey:this.checkoutConfiguration.campaign.key,countryCode:a.address.countryCode||"US",frequencies:o,currencies:u,defaultCurrency:this.defaultCurrency,isMobile:this.isMobile,isLauncher:l,showcase:this.checkoutConfiguration.infrastructureParams.showcase,aiEnabled:i.enableAI,disableAmountAI:this.checkoutConfiguration.hasExternalAmount,guessCurrency:this.guessCurrency,isCurrencyEnabled:i.currencyEnabled,trend:i.trend,xFactor:c,experimentsSettings:i.experimentsSettings,hintsAmounts:this.hintsAmounts},d,this.currencyService,this.suggestionsService),m=this.getExternalFrequency();m&&h.setFrequency(m);const p=this.getExternalCurrency(h.getCurrentFrequency());p&&h.setCurrency(p);const g=this.getExternalAmount(h.getCurrentCurrency());if(g&&(h.setAmount(g),this.resetHintsByDefault()),this.externalCheckoutData.selectedHint){const i=h.getCurrentFrequency(),a=null===(t=null===(e=this.suggestedAmountHintsAI)||void 0===e?void 0:e.getHintsByFrequency(i))||void 0===t?void 0:qe()(t).call(t,(e=>{var t;return e.id===(null===(t=this.externalCheckoutData.selectedHint)||void 0===t?void 0:t.id)}));a&&(null===(n=this.suggestedAmountHintsAI)||void 0===n||n.updateHintsByDefault(i,a))}return this._defaultAmount=h.getCurrentAmount(),h}validateMinAmount(){return!!this.amount&&this.amount>=this.minAmount}validateMaxAmount(){if(!this.amount)return!1;const{length:e}=this.amount.toString();return e<=(0,Cd.OQ)(this.currency)}checkForAmountDefault(e){var t;this._defaultAmount=this.getDefaultAmountsInCurrency(this.frequency),this._defaultAmount===e&&v()(t=this.exchequer.enabledFrequencies).call(t,(e=>{this.setDefaultAmountForFrequency(e)}))}getExternalFrequency(){if(this.experiments.has(yi.X.ML_FREQUENCY_DATA_COLLECT_CAMPAIGN_PAGES_EXPERIMENT)){const e=this.experiments.get(yi.X.ML_FREQUENCY_DATA_COLLECT_CAMPAIGN_PAGES_EXPERIMENT).getDefaultFrequency();if(e)return e}if(this.experiments.has(yi.X.ML_FREQUENCY_DATA_COLLECT_CHECKOUT_EXPERIMENT)){const e=this.experiments.get(yi.X.ML_FREQUENCY_DATA_COLLECT_CHECKOUT_EXPERIMENT).getDefaultFrequency();if(e)return e}return this.externalCheckoutData.recurring&&Qe.isFrequencyEnabled(this.checkoutConfiguration.campaign.config.frequencies,this.externalCheckoutData.recurring)?this.externalCheckoutData.recurring:this.checkoutConfiguration.queryParams.recurring&&Qe.isFrequencyEnabled(this.checkoutConfiguration.campaign.config.frequencies,this.checkoutConfiguration.queryParams.recurring)?this.checkoutConfiguration.queryParams.recurring:null}getExternalCurrency(e){const t=this.externalCheckoutData.currency;if(t&&this.isCurrencyEnabled(t,e))return t;const n=this.checkoutConfiguration.queryParams.currency;return n&&this.isCurrencyEnabled(n,e)?n:null}getExternalAmount(e){return this.externalCheckoutData.amount||this.currencyService.fromFloat(this.checkoutConfiguration.queryParams.amount||0,e)}isCurrencyEnabled(e,t){var n;return!!Z()(n=this.currencyList).call(n,e)&&!!this.canSelectCurrencyForFrequency(t)}canSelectCurrencyForFrequency(e){const t=this.checkoutConfiguration.campaign.config;return e===Oe.ONCE?t.currencyEnabled:t.currencyEnabled&&t.currencyEnabledRecurrings}setDefaultAmountForFrequency(e){const t=this.getDefaultAmountsInCurrency(e);this.exchequer.setAmountForFrequency(t,e)}setDefaultHintForFrequency(e){var t,n,i,a;const r=null===(t=this.suggestedAmountHintsAI)||void 0===t?void 0:t.hints[e],s=null===(n=this.suggestedAmountHintsAI)||void 0===n?void 0:n.defaultHints[e];if(!r||!s)return;const o=null!==(i=qe()(r).call(r,(e=>e.default)))&&void 0!==i?i:qe()(s).call(s,(e=>e.default));o&&(null===(a=this.suggestedAmountHintsAI)||void 0===a||a.updateHintsByDefault(e,o),this.exchequer.setAmountForFrequency(o.amount,e))}}class VE extends LE{constructor(){super(...arguments),this.isEnabled=!0,this.isRequired=!0,this.amount=0}get total(){return this.amount}get currency(){return this.checkoutConfiguration.company.defaultCurrency}get frequency(){return Oe.ONCE}toObject(){return{amount:this.amount,total:this.total,currency:this.currency,frequency:this.frequency}}}class KE extends RE{static get defaultValidationResult(){return{isValid:!0,fields:{broker:{isValid:!0,errors:{required:!1}}}}}constructor(e,t){super(e),this.checkoutConfiguration=e,this.brokersApi=t,this.isEnabled=!0,this._isRequired=null,this._isCustomBroker=!0,this._broker={name:"",logo:null}}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get broker(){return this._broker}get isCustomBroker(){return this._isCustomBroker}set isRequired(e){this._isRequired=e}set broker(e){this._broker=e}setIsCustomBroker(e){this._isCustomBroker=e}getBrokers(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.brokersApi.getList(e)}))}setBrokerName(e){this._broker={name:e,logo:null}}toObject(){return{broker:{name:this.broker.name,logo:this.broker.logo}}}validate(){var e;const t=Gt()(e=this.broker.name).call(e).length,n=t>=1&&t<=100;return{isValid:n,fields:{broker:{isValid:n,errors:{required:!n}}}}}}class HE extends RE{constructor(){super(...arguments),this.isEnabled=!1,this.accountNumber="",this._isRequired=null}static get defaultValidationResult(){return{isValid:!0,fields:{accountNumber:{isValid:!0,errors:{required:!1}}}}}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}set isRequired(e){this._isRequired=e}toObject(){return{accountNumber:this.accountNumber}}validate(){const e=this.accountNumber.length>0,t=!(this.accountNumber||this.isRequired)||e;return{isValid:t,fields:{accountNumber:{isValid:t,errors:{required:!t}}}}}}function YE(e,t){return!!e&&(e.length>=t&&/^(?!anonymous$)([^!_@#$%^*+=~[\]{};:\\|?`]+$)/i.test(e))}class ZE extends RE{static get defaultValidationResult(){return{isValid:!0,fields:{firstName:{isValid:!0,errors:{required:!1,minLength:!1}},lastName:{isValid:!0,errors:{required:!1,minLength:!1}},email:{isValid:!0,errors:{required:!1,email:!1}},signature:{isValid:!0,errors:{required:!1,minLength:!1}}}}}constructor(e,t){super(e),this.checkoutConfiguration=e,this.validationSettings=t,this.isEnabled=!1,this.firstName="",this.lastName="",this.signature="",this.email="",this._isRequired=null}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get fullName(){var e;return Gt()(e=`${this.firstName} ${this.lastName}`).call(e)}set isRequired(e){this._isRequired=e}toObject(){return{firstName:this.firstName,lastName:this.lastName,email:this.email,transcript:this.signature}}validate(){const e=this.validateFirstName(),t=this.validateLastName(),n=this.validateEmail(),i=this.validateSignature();return{isValid:e.isValid&&t.isValid&&n.isValid&&i.isValid,fields:{firstName:e,lastName:t,email:n,signature:i}}}validateFirstName(){const e=YE(this.firstName,this.validationSettings.MIN_LENGTH);return{isValid:e,errors:{required:!this.firstName,minLength:!e}}}validateLastName(){const e=YE(this.lastName,this.validationSettings.MIN_LENGTH);return{isValid:e,errors:{required:!this.lastName,minLength:!e}}}validateEmail(){const e=Yt(this.email);return{isValid:e,errors:{required:!this.email,email:!e}}}validateSignature(){const e=YE(this.signature,this.validationSettings.MIN_LENGTH);return{isValid:e,errors:{required:!this.signature,minLength:!e}}}}class zE{}var WE,$E,XE,QE;!function(e){e.MR="Mr",e.MRS="Mrs",e.MISS="Miss",e.MS="Ms",e.MX="Mx",e.SIR="Sir",e.DR="Dr",e.REV="Rev",e.DCN="Dcn",e.FR="Fr",e.BR="Br",e.SR="Sr",e.PROF="Prof"}(WE||(WE={})),function(e){e.M="M",e.MME="Mme",e.MLLE="Mlle",e.AUTRE="Autre"}($E||($E={})),function(e){e.HERR="Herr",e.FRAU="Frau",e.DR="Dr",e.PROF="Prof"}(XE||(XE={})),function(e){e.HERR="Herr",e.FRAU="Frau"}(QE||(QE={}));class JE extends zE{constructor(){super(...arguments),this.isEnabled=!0,this.titles=cA(Me()(QE))}}class eA extends zE{constructor(){super(...arguments),this.isEnabled=!1,this.titles=[]}}var tA,nA=n(75652),iA=n.n(nA);(tA||(tA={})).NONE="";const aA=iA()([tA.NONE,...Me()(WE),...Me()($E),...Me()(XE),...Me()(QE)]);class rA extends zE{constructor(){super(...arguments),this.isEnabled=!0,this.titles=cA(Me()($E))}}class sA extends zE{constructor(){super(...arguments),this.isEnabled=!0,this.titles=cA(Me()(XE))}}class oA extends zE{constructor(){super(...arguments),this.isEnabled=!0,this.titles=cA(Me()(WE))}}function cA(e){return[tA.NONE,...e]}var lA,uA,dA,hA,mA,pA,gA,yA,fA,vA,SA,CA,bA,EA,AA,NA,PA,xA={isAvailableCustomerTitle:function(e){return!!e&&Z()(aA).call(aA,e)}},kA=function(e){return function(e,t){switch(e){case h.C9.UNITED_KINGDOM:return new oA;case h.C9.FRANCE:return new rA;case h.C9.GERMANY:return new sA;case h.C9.AUSTRIA:return new JE;case h.C9.CANADA:return t===z.c0.FR_CA?new rA:new eA;default:return new eA}}(e.companyCountry,e.companyDefaultLocale)};class wA extends RE{static get defaultValidationResult(){return{isValid:!0,fields:{title:{isValid:!0,errors:{required:!1}}}}}constructor(e){super(e),this.checkoutConfiguration=e,this.title=tA.NONE,this._isEnabled=null,this._isRequired=null;const t=this.checkoutConfiguration.company;this._customerTitlesLogic=kA({companyCountry:t.country,companyDefaultLocale:t.localization.defaultLocale})}get isEnabled(){return null!==this._isEnabled?this._isEnabled:this.checkoutConfiguration.campaign.config.customerTitle.show&&this._customerTitlesLogic.isEnabled}get isRequired(){return null!==this._isRequired?this._isRequired:this.checkoutConfiguration.campaign.config.customerTitle.required&&this.isEnabled}get titleList(){return this._customerTitlesLogic.titles}set isEnabled(e){this._isEnabled=e}set isRequired(e){this._isRequired=e}toObject(){return{title:this.title}}validate(){const e=!this.isRequired||xA.isAvailableCustomerTitle(this.title);return{isValid:e,fields:{title:{isValid:e,errors:{required:!e}}}}}}class DA extends RE{static get defaultValidationResult(){return{isValid:!0,fields:{goal:{isValid:!0,errors:{required:!1}}}}}constructor(e){var t;super(e),this.checkoutConfiguration=e,this.isRequired=!1,this.goalKey=null,this.savedOneTimeGoalKey=null,this.savedRecurringGoalKey=null,this.isEnabled=!!this.goals.length&&this.displayGoal===ht.SELECT,this.goalKey=(null===(t=this.checkoutConfiguration.fundraisingPage)||void 0===t?void 0:t.designation)||this.externalCheckoutData.designationId||null}get modifyDesignation(){var e;const t=this.checkoutConfiguration.queryParams.modifyDesignation;if("boolean"==typeof t)return t;const n=this.externalCheckoutData.modifyDesignation;if("boolean"==typeof n)return n;const i=null===(e=this.checkoutConfiguration.externalConfig.checkoutIntent)||void 0===e?void 0:e.checkoutSettings;return!i||"boolean"!=typeof i.modifyDesignation||i.modifyDesignation}get goals(){return this.checkoutConfiguration.campaign.config.goals}get goalName(){var e;return(null===(e=this.selectedGoal)||void 0===e?void 0:e.name)||null}get goalCode(){var e;return(null===(e=this.selectedGoal)||void 0===e?void 0:e.code)||null}get allowRecurring(){var e;if(!this.isEnabled)return!0;const t=null===(e=this.selectedGoal)||void 0===e?void 0:Re()(e);return!t||t!==Et.ONE_TIME}toObject(){return{goalKey:this.isEnabled?this.goalKey:null,goalName:this.isEnabled?this.goalName:null,allowRecurring:this.allowRecurring}}setGoalKey(e,t){const n=this.getGoalRepeat(t);this.goalKey=e,this.saveGoalKeyByRepeat(n)}changeGoalKeyByFrequency(e){var t,n;if(!this.isEnabled)return;const i=this.getGoalRepeat(e);(null===(t=this.externalGoal)||void 0===t?void 0:Re()(t))!==Et.ALL&&(null===(n=this.externalGoal)||void 0===n?void 0:Re()(n))!==i?this.checkoutConfiguration.preselectDesignation||1===this.getAllowedGoals(e).length?this.preselectDesignation(i):this.goalKey=null:this.goalKey=this.externalGoal.key}isGoalAllowedToShow(e,t){if(!this.isEnabled)return!1;const n=t===Oe.ONCE?Et.ONE_TIME:Et.RECURRING;return Re()(e)===n||Re()(e)===Et.ALL}canChangeDesignation(e){return!!this.isEnabled&&!(e<=1||!this.modifyDesignation)}validateDesignation(e){const t=!this.isEnabled||this.isGoalValid(e),n={isValid:t,errors:{required:!t}};return{isValid:n.isValid,fields:{goal:n}}}collectTo(e){return function(e){if(void 0===e.onDesignationDataPointCollected)throw new Error("Expected checkout state to be ICheckoutStateWithDesignation")}(e),e.onDesignationDataPointCollected(),this}get selectedGoal(){var e;return this.isEnabled&&qe()(e=this.goals).call(e,(e=>e.key===this.goalKey))||null}get displayGoal(){return this.checkoutConfiguration.campaign.config.displayGoal}get externalGoal(){var e;return this.isEnabled&&qe()(e=this.goals).call(e,(e=>{var t;return e.key===this.checkoutConfiguration.queryParams.designationId||e.key===this.externalCheckoutData.designationId||e.key===(null===(t=this.checkoutConfiguration.fundraisingPage)||void 0===t?void 0:t.designation)}))||null}get externalCheckoutData(){return this.checkoutConfiguration.externalConfig.checkoutData||{}}getGoalRepeat(e){return e===Oe.ONCE?Et.ONE_TIME:Et.RECURRING}preselectDesignation(e){var t,n,i,a,r,s,o,c;const l=this.getSavedGoalByRepeat(e),u=this.getSavedGoalByRepeat(e===Et.ONE_TIME?Et.RECURRING:Et.ONE_TIME);this.goalKey=null!==(c=null!==(s=null!==(a=null!==(i=null==l?void 0:l.key)&&void 0!==i?i:(null==u?void 0:Re()(u))===Et.ALL?u.key:null)&&void 0!==a?a:null===(r=qe()(t=this.goals).call(t,(t=>t.default===e)))||void 0===r?void 0:r.key)&&void 0!==s?s:null===(o=qe()(n=this.goals).call(n,(e=>e.default===Et.ALL)))||void 0===o?void 0:o.key)&&void 0!==c?c:null}getSavedGoalByRepeat(e){var t,n;const i=e===Et.ONE_TIME?this.savedOneTimeGoalKey:this.savedRecurringGoalKey;return null!==(n=qe()(t=this.goals).call(t,(e=>e.key===i)))&&void 0!==n?n:null}saveGoalKeyByRepeat(e){e!==Et.ONE_TIME?this.savedRecurringGoalKey=this.goalKey:this.savedOneTimeGoalKey=this.goalKey}isGoalValid(e){return!(!this.selectedGoal&&this.getAllowedGoals(e).length>0)}getAllowedGoals(e){var t;return Fe()(t=this.goals).call(t,(t=>this.isGoalAllowedToShow(t,e)))}}class TA extends RE{constructor(){super(...arguments),this.isEnabled=!0,this.isRequired=!1,this.bankName="",this.bank={id:"",label:""}}static get defaultValidationResult(){return{isValid:!0,fields:{bank:{isValid:!0,errors:{required:!1}}}}}toObject(){return{bankName:this.bankName,bank:this.bank}}validate(){const e=!!this.bank.id;return{isValid:e,fields:{bank:{isValid:e,errors:{required:!e}}}}}}class OA extends RE{static get defaultValidationResult(){return{isValid:!0,fields:{line1:{isValid:!0,errors:{required:!1}},line2:{isValid:!0,errors:{required:!1}},city:{isValid:!0,errors:{required:!1}},region:{isValid:!0,errors:{required:!1}},postal:{isValid:!0,errors:{required:!1}},countryCode:{isValid:!0,errors:{required:!1}}}}}static validateLine1(e){const t=!e.isRequired||!!e.line1;return{isValid:t,errors:{required:!t}}}static validateLine2(){return{isValid:!0,errors:{required:!1}}}static validateCity(e){const t=!(e.isRequired||e.line1)||!!e.city;return{isValid:t,errors:{required:!t}}}static validateCountryCode(e){const t=!(e.isRequired||e.line1)||!!e.countryCode;return{isValid:t,errors:{required:!t}}}constructor(e,t,n,i,a,r,s,o){let c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{};super(e),this.checkoutConfiguration=e,this.addressService=t,this.addressValidationAPI=n,this.countriesService=i,this.mailingAddressModule=a,this.currencyService=r,this.paymentMethodAvailabilityManagerRepository=s,this.mailingAddressCustomization=o,this.params=c,this._line1="",this._line2="",this._city="",this._postal="",this._region="",this._countryCode=this.user.address.countryCode,this._donationAmount=0,this._donationTotal=0,this._donationCurrency="USD",this._paymentMethod=null,this._paymentMethodCountry=null,this._isGiftAidAccepted=!1,this.shouldAutofillRegion&&(this._region=this.formatGeoIpRegion(this.user.address.region,this.countryCode)),this._countryCode||(this._countryCode=this.getDefaultCountryCode())}get isEnabled(){return this.mailingAddressModuleCheckoutScreenLogic.isEnabled(this.mailingAddressModuleConvertedDonationAmount,this.mailingAddressModuleCheckoutScreenParams)}get isRequired(){return this.mailingAddressModuleCheckoutScreenLogic.isRequired(this.mailingAddressModuleConvertedDonationAmount,this.mailingAddressModuleCheckoutScreenParams)}get line1(){return this._line1}get line2(){return this._line2}get city(){return this._city}get postal(){return this._postal}get region(){return this._region}get countryCode(){return this._countryCode}setLine1(e){this._line1=e}setLine1IfEmpty(e){var t;Gt()(t=this.line1).call(t)||this.setLine1(e)}setLine2(e){this._line2=e}setLine2IfEmpty(e){var t;Gt()(t=this.line2).call(t)||this.setLine2(e)}setCity(e){this._city=e}setCityIfEmpty(e){var t;Gt()(t=this.city).call(t)||this.setCity(e)}setPostal(e){this._postal=e}setPostalIfEmpty(e){var t;Gt()(t=this.postal).call(t)||this.setPostal(e)}setRegion(e){this._region=e}setRegionIfEmpty(e){var t;Gt()(t=this.region).call(t)||this.setRegion(e)}setCountryCode(e){const t=this.mailingAddressCustomization.getPredefinedRegions({country:this.countryCode}),n=this.mailingAddressCustomization.getPredefinedRegions({country:e}),i=this.mailingAddressCustomization.isRegionEnabled({country:e});(t||n||!i)&&(this._region=""),this._countryCode=e}setCountryCodeIfEmptyAddress(e){var t;Gt()(t=this.line1).call(t)||this.setCountryCode(e)}setDonationParams(e){this._donationAmount=e.amount,this._donationTotal=e.total,this._donationCurrency=e.currency}setPaymentMethodParams(e){this._paymentMethod=e.paymentMethod,this._paymentMethodCountry=e.paymentCountry}setIsGiftAidAccepted(e){this._isGiftAidAccepted=e}getDetails(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){return this.addressService.getDetails({place:e,restrictCountries:[this.countryCode],sessionToken:t})}))}getSubplaces(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.addressService.getSubplaces(k()({},e))}))}getPlaces(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.addressService.getPlaces(k()({},e))}))}checkShouldValidateOnServer(){return!this.checkoutConfiguration.infrastructureParams.showcase&&(this.isRequired||!!this.line1)}toObject(){var e,t,n,i,a,r;const s={isRequired:this.isRequired,line1:Gt()(e=this.line1).call(e),city:Gt()(t=this.city).call(t),region:Gt()(n=this.region).call(n),postal:Gt()(i=this.postal).call(i),countryCode:Gt()(a=this.countryCode).call(a)},o=Gt()(r=this.line2).call(r);return o&&(s.line2=o),s}validate(){const e=this.toObject(),t=OA.validateLine1(e),n=OA.validateLine2(),i=OA.validateCity(e),a=this.validateRegion(e),r=this.validatePostal(e),s=OA.validateCountryCode(e);return{isValid:t.isValid&&n.isValid&&i.isValid&&a.isValid&&r.isValid&&s.isValid,fields:{line1:t,line2:n,city:i,region:a,postal:r,countryCode:s}}}validateAddress(){return(0,y.mG)(this,void 0,void 0,(function*(){const{validated:e,valid:t}=yield this.addressValidationAPI.validate({line1:this.line1,line2:this.line2,city:this.city,region:this.region,postal:this.postal,countryCode:this.countryCode});return!e||t}))}shouldFindSubplaces(e){return this.addressService.shouldFindSubplaces({place:e,restrictCountries:[this.countryCode]})}get campaign(){return this.checkoutConfiguration.campaign}get user(){return this.checkoutConfiguration.user}get shouldAutofillRegion(){return!!this.checkoutConfiguration.infrastructureParams.livemode&&!!this.mailingAddressCustomization.isRegionEnabled({country:this.countryCode})}get mailingAddressModuleCheckoutScreenLogic(){return this.mailingAddressModule.getCheckoutScreenLogic()}get mailingAddressModuleCurrencyLogic(){return this.mailingAddressModule.getCurrencyLogic({widget:this.checkoutConfiguration.campaign.config})}get mailingAddressModuleConvertedDonationAmount(){const e=this.params.isRadicalScreensOrderChangeExperimentTestGroup?this._donationAmount:this._donationTotal;return this.currencyService.convert(e,this._donationCurrency,this.mailingAddressModuleCurrencyLogic.currency)}get mailingAddressModuleCheckoutScreenParams(){return{showMailing:this.campaign.config.showMailing,showMailingFromAmount:this.campaign.config.showMailingFromAmount,mailingRequired:this.campaign.config.mailingRequired,mailingRequiredFromAmount:this.campaign.config.mailingRequiredFromAmount,paymentMethodAvailabilityManagerRepository:this.paymentMethodAvailabilityManagerRepository,paymentMethod:this._paymentMethod,paymentMethodCountry:this._paymentMethodCountry,isGiftAidAccepted:this._isGiftAidAccepted}}formatGeoIpRegion(e,t){const n=this.mailingAddressCustomization.getPredefinedRegions({country:t});if(!n)return e;let i;if(Be()(n))i=qe()(n).call(n,(t=>{let{name:n}=t;return n.toLowerCase()===e.toLowerCase()}));else for(const t of Me()(n))if(i=qe()(t).call(t,(t=>{let{name:n}=t;return n.toLowerCase()===e.toLowerCase()})),i)break;return i?i.code:e}getDefaultCountryCode(){return this.countriesService.getMailingAddressCountriesList()[0].countryCode}validateRegion(e){let t=e.isRequired||!!e.line1;this.mailingAddressCustomization.isRegionRequired({country:e.countryCode})||(t=!1);const n=!t||!!e.region;return{isValid:n,errors:{required:!n}}}validatePostal(e){let t,n=e.isRequired||!!e.line1||!!e.postal;if(this.mailingAddressCustomization.isPostalCodeRequired({country:e.countryCode})||(n=!1),n){const n=this.mailingAddressCustomization.getPostalCodeValidation({country:e.countryCode});t=n?n.test(e.postal):!!e.postal}else t=!0;return{isValid:t,errors:{required:!t}}}}class _A extends RE{static get defaultValidationResult(){return{isValid:!0,fields:{onBehalfOf:{isValid:!0,errors:{required:!1,minLength:!1}}}}}constructor(e){super(e),this.checkoutConfiguration=e,this.isEnabled=this.checkoutConfiguration.campaign.config.showBehalfOf,this.isRequired=!1,this.isActive=!1,this._companyName=""}get companyName(){return this.isActive?this._companyName:""}get isOnBehalfOf(){return!!this.isEnabled&&Boolean(this.companyName)}set companyName(e){this._companyName=e}toObject(){return{companyName:this.companyName}}collectTo(e){return e.onBehalfOfDataPointCollected(),this}validate(){const e=!this.isEnabled||!this.isActive||this.validateCompanyName();return{isValid:e,fields:{onBehalfOf:{isValid:e,errors:{required:!(!this.isEnabled||!this.isActive||this.companyName),minLength:!e}}}}}validateCompanyName(){return!(!this.companyName||this.companyName.length<2||this.companyName.match(/^\d+$/)||"mrs."===this.companyName.toLowerCase())}}function IA(e,t,n){if("USD"!==n)return t;const i=function(e){switch(e){case"ASBGJCET":return 150;case"AFLRJKTK":return 200;default:return null}}(e);return null===i?t:t<9500&&t>=i?9500:t}function RA(e){return e.instant&&!e.microdeposits.enabled}function LA(e){return!e.instant&&e.microdeposits.enabled&&e.microdeposits.type===yA.AUTOMATIC}function MA(e){return!e.instant&&e.microdeposits.enabled&&e.microdeposits.type===yA.MICRODEPOSITS}function jA(e){return e.instant&&e.microdeposits.enabled&&e.microdeposits.type===yA.MICRODEPOSITS}function FA(e){return e.instant&&e.microdeposits.enabled&&e.microdeposits.type===yA.AUTOMATIC}function UA(e){return e>=9500}!function(e){e.DONOR_PORTAL_SUBSCRIPTION_EDITOR="donorPortalSubscriptionEditor",e.DASHBOARD_SUBSCRIPTION_EDITOR="dashboardSubscriptionEditor",e.WIDGET="widget",e.VIRTUAL_TERMINAL="virtualTerminal"}(lA||(lA={})),function(e){e.NOWHERE="nowhere",e.WIDGET="widget",e.URL="url"}(uA||(uA={})),function(e){e.THE_ADVENTURE_PROJECT="5a8b26d4f9891300017cc0fc"}(dA||(dA={})),function(e){e[e.MONEY_LEGACY_MIN=0]="MONEY_LEGACY_MIN",e[e.MONEY_MIN=200]="MONEY_MIN",e[e.MONEY_MAX=500]="MONEY_MAX",e[e.MONEY_DEFAULT=200]="MONEY_DEFAULT",e[e.STOCK_MIN=200]="STOCK_MIN",e[e.STOCK_MAX=1e3]="STOCK_MAX",e[e.STOCK_DEFAULT=500]="STOCK_DEFAULT",e[e.CRYPTO_MIN=200]="CRYPTO_MIN",e[e.CRYPTO_MAX=1e3]="CRYPTO_MAX",e[e.CRYPTO_DEFAULT=500]="CRYPTO_DEFAULT"}(hA||(hA={})),function(e){e.ALWAYS="always",e.NEVER="never"}(mA||(mA={})),function(e){e.PER_INSTALLMENT="perInstallment",e.NONE="none"}(pA||(pA={})),function(e){e.UPPER="upper",e.PROPER="proper"}(gA||(gA={})),(PA=yA||(yA={})).AUTOMATIC="automatic",PA.MICRODEPOSITS="microdeposits",function(e){e.OFF="off",e.OPTIONAL="optional",e.REQUIRED="required"}(fA||(fA={})),function(e){e.INVALID_SSO_MODE="Invalid SSO mode",e.TWO_FACTOR_AUTH_NOT_ALLOWED_WITH_SSS_REQUIRED="Cannot fulfill 2FA with SSO Required",e.DOESNT_MATCH_RECORDS="The information you entered doesn't match our records."}(vA||(vA={})),function(e){e.USER_HAS_ANOTHER_SSO="Your account has at least one user who is already using SSO to log into another account. Delete them from your account to enable SSO.",e.NO_VERIFIED_DOMAINS="SSO cant be set to Required because no domains have been verified for this account yet.",e.USER_HAS_UNVERIFIED_EMAIL_DOMAIN="Your account has at least one user with an email address that belongs to an unverified domain. You should either enable SSO as Optional, verify the domains used by these users, or delete the users from your account.",e.BAD_SSO_CONFIGURATION="Bad SSO configuration",e.CURRENT_USER_CANNOT_ENABLE_SSO="SSO cannot be set as required because {admin_email} is already using SSO authentication in another account."}(SA||(SA={})),function(e){e.ONLY_SSO_RESET_NOT_ALLOWED="This profile only uses SSO for login, so password reset is not possible"}(CA||(CA={})),function(e){e.USER_NOT_FOUND="User was not found"}(bA||(bA={})),function(e){e.RATE_LIMIT_IP_EXCEEDED="Too many attempts to log in from your IP address. Please try again later.",e.RATE_LIMIT_EMAIL_EXCEEDED="Too many attempts to log in from your IP address. Please try again later."}(EA||(EA={})),function(e){e.CHANGE_EMAIL_SSO_RESTRICTION_ERROR="changeEmailSsoRestrictionError",e.UPDATE_SSO_MODE_ERROR="UpdateSsoModeError",e.INVITE_USER_SSO_RESTRICTION_ERROR="inviteUserSsoRestrictionError"}(AA||(AA={}));class BA extends RE{static get defaultValidationResult(){return{isValid:!0,fields:{firstName:{isValid:!0,errors:{required:!1,minLength:!1}},lastName:{isValid:!0,errors:{required:!1,minLength:!1}}}}}constructor(e,t){super(e),this.checkoutConfiguration=e,this.validationSettings=t,this.isEnabled=!0,this.isRequired=!0,this._firstName=this.checkoutConfiguration.queryParams.firstName||"",this._lastName=this.checkoutConfiguration.queryParams.lastName||""}get firstName(){return this._firstName}get lastName(){return this._lastName}get fullName(){var e;return Gt()(e=`${this.firstName} ${this.lastName}`).call(e)}setFirstName(e){this._firstName=e}setFirstNameIfEmpty(e){var t;Gt()(t=this.firstName).call(t)||this.setFirstName(e)}setLastName(e){this._lastName=e}setLastNameIfEmpty(e){var t;Gt()(t=this.lastName).call(t)||this.setLastName(e)}setFullName(e){var t;const n=Fe()(t=e.split(" ")).call(t,Boolean);this.setFirstName(n[0]),n.length>1&&this.setLastName(n[n.length-1])}setFullNameIfEmpty(e){var t;Gt()(t=this.fullName).call(t)||this.setFullName(e)}validate(){const e=this.toObject(),t=YE(e.firstName,this.validationSettings.MIN_LENGTH),n={isValid:t,errors:{required:!e.firstName,minLength:!t}},i=YE(e.lastName,this.validationSettings.MIN_LENGTH),a={isValid:i,errors:{required:!e.lastName,minLength:!i}};return{isValid:n.isValid&&a.isValid,fields:{firstName:n,lastName:a}}}toObject(){var e,t;return{firstName:Gt()(e=this.firstName).call(e),lastName:Gt()(t=this.lastName).call(t)}}}class GA extends RE{static get defaultValidationResult(){return{isValid:!0,fields:{email:{isValid:!0,errors:{email:!1,required:!1}}}}}constructor(e){super(e),this.checkoutConfiguration=e,this.isEnabled=!0,this.isRequired=!0,this._email=this.checkoutConfiguration.queryParams.email||"",this.emailConsent={isEnabled:this.checkoutConfiguration.featureConfig.emailConsent}}get email(){return this._email}setEmail(e){this._email=e}setEmailIfEmpty(e){var t;Gt()(t=this.email).call(t)||this.setEmail(e)}validate(){const e=this.toObject(),t=Yt(e.email),n={isValid:t,errors:{required:!e.email,email:!t}};return{isValid:n.isValid,fields:{email:n}}}toObject(){var e;return{email:Gt()(e=this.email).call(e)}}}class qA extends RE{constructor(){super(...arguments),this.isEnabled=this.campaign.config.showPhone,this.isRequired=this.campaign.config.phoneRequired,this._phone=null,this._countryCode=this.user.address.countryCode,this._cleanPhone=null}static get defaultValidationResult(){return{isValid:!0,fields:{phone:{isValid:!0,errors:{required:!1,invalid:!1}}}}}get phone(){return this._phone}get countryCode(){return this._countryCode}get isLegalTextEnabled(){return this.checkoutConfiguration.campaign.config.showPhoneLegalText}get phoneLegalText(){return this.checkoutConfiguration.campaign.config.phoneLegalText}setPhone(e){this._phone=e}setPhoneIfEmpty(e){var t;(null===(t=this.phone)||void 0===t?void 0:Gt()(t).call(t))||this.setPhone(e)}setCountryCode(e){this._countryCode=e}setCountryCodeIfEmptyPhone(e){var t;(null===(t=this.phone)||void 0===t?void 0:Gt()(t).call(t))||this.setCountryCode(e)}setCleanPhone(e){this._cleanPhone=e}toObject(){return{phone:this.isEnabled?this._cleanPhone||"":null}}validate(){const e=this.isRequired&&!this.phone,t=(this.isRequired||!!this.phone)&&!function(e){if(!e)return!1;const t=e.replace(/[^\d]/g,"");return t.length>=7&&t.length<=15}(this.phone),n=!e&&!t;return{isValid:n,fields:{phone:{isValid:n,errors:{required:e,invalid:t}}}}}get campaign(){return this.checkoutConfiguration.campaign}get user(){return this.checkoutConfiguration.user}}!function(e){e.YES="yes",e.NO="no",e.DEFAULT="default",e.UNKNOWN="unknown"}(NA||(NA={}));var VA=n(22788),KA=n.n(VA);class HA extends RE{static isQuestionValid(e){return!e.required||HA.isRequiredQuestionValid(e)}static isRequiredQuestionValid(e){return e.type===zl.CHECKBOX?!0===e.answer:e.type===zl.MULTIOPTION&&Be()(e.answer)?!!Fe()(t=e.answer).call(t,Boolean).length:Boolean(e.answer);var t}constructor(e){if(super(e),this.checkoutConfiguration=e,this.isEnabled=!!this.campaign.config.questions.length&&this.campaign.config.showQuestions,this.isRequired=!0,this.questions=new($t()),e.campaign.config.showQuestions&&this.campaign.config.questions)for(const e of this.campaign.config.questions){const t=e.options||[];let n=e.key;this.checkoutConfiguration.showcase&&!n&&(n=e.id),this.questions.set(n,{answer:Be()(e.answer)?[...e.answer]:e.answer,code:e.code,createdAt:e.createdAt,key:n,id:e.id,options:[...t],question:e.question,required:e.required,type:e.type})}}setAnswer(e,t){this.getQuestion(e).answer=t}toObject(){var e;return{questions:M([...ui()(e=this.questions).call(e)])}}validate(){var e;return this.validateQuestionsByKeys([...KA()(e=this.questions).call(e)])}validateQuestionsByKeys(e){var t,n,i;const a={},r=Fe()(t=[...ui()(n=this.questions).call(n)]).call(t,(t=>{let{key:n}=t;return Z()(e).call(e,n)}));return v()(r).call(r,(e=>{a[e.key]={isValid:HA.isQuestionValid(e)}})),{isValid:pi()(i=Me()(a)).call(i,(e=>{let{isValid:t}=e;return t})),fields:a}}getQuestion(e){const t=this.questions.get(e);if(!t)throw new YA(e);return t}getAnswer(e){return this.getQuestion(e).answer}get campaign(){return this.checkoutConfiguration.campaign}}class YA extends Error{constructor(e){super(`Question not found: ${e}`)}}class ZA extends RE{static get defaultValidationResult(){return{isValid:!0,fields:{securities:{isValid:!0,errors:{notEmpty:!1}},totalAmount:{isValid:!0,errors:{max:!1}}}}}constructor(e,t,n){super(e),this.checkoutConfiguration=e,this.securitiesApi=t,this.currencyService=n,this.isEnabled=!0,this._isRequired=null,this._securities=new($t())}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get securities(){var e,t;return Sr()(e=[...ui()(t=this._securities).call(t)]).call(e)}get securitiesWithSubtotals(){var e;return De()(e=this.securities).call(e,(e=>({ticker:e.ticker,quantity:e.quantity,subtotal:e.quantity*e.price,currency:e.currency})))}set isRequired(e){this._isRequired=e}getAmount(){let e=0;for(const[,t]of this._securities)e+=t.quantity*t.price;return e}getSecurities(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.securitiesApi.getListV2(e)}))}add(e){return this._securities.set(e.ticker,k()(k()({},e),{quantity:1})),this}changeQuantity(e,t){const n=this._securities.get(e);return n?(this._securities.set(n.ticker,k()(k()({},n),{quantity:t})),this):this}remove(e){return this._securities.delete(e),this}toObject(){return{securities:this.securities}}collectTo(e){return function(e){if(void 0===e.onSecuritiesDataPointCollected)throw new Error("Expected checkout state to be ICheckoutStateWithSecurities")}(e),e.onSecuritiesDataPointCollected(),this}validate(){const e=!!this.securities.length,t=this.getAmountInUSD()<=ZA.MAX_TOTAL_AMOUNT_IN_USD;return{isValid:e&&t,fields:{securities:{isValid:e,errors:{notEmpty:!e}},totalAmount:{isValid:t,errors:{max:!t}}}}}getAmountInUSD(){let e=0;for(const[,t]of this._securities){const n=t.quantity*t.price;e+=this.currencyService.convert(n,t.currency,"USD")}return e}}ZA.MAX_TOTAL_AMOUNT_IN_USD=1e8;class zA extends RE{constructor(){super(...arguments),this.isEnabled=!0,this.signature="",this._isRequired=null}static get defaultValidationResult(){return{isValid:!0,fields:{signature:{isValid:!0,errors:{required:!1}}}}}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}set isRequired(e){this._isRequired=e}changeSignature(e){this.signature=e}toObject(){return{transcript:this.signature}}validate(){const e=!!this.signature;return{isValid:e,fields:{signature:{isValid:e,errors:{required:!e}}}}}}class WA extends RE{constructor(){super(...arguments),this.isEnabled=this.campaign.config.showTerms,this.isRequired=this.isEnabled,this.text=this.campaign.config.termsText,this.isAccepted=this.campaign.config.termsChecked}static get defaultValidationResult(){return{isValid:!0,fields:{isAccepted:{isValid:!0,errors:{required:!1}}}}}validate(){const e=!this.isRequired||this.isAccepted;return{isValid:e,fields:{isAccepted:{isValid:e,errors:{required:!e}}}}}toObject(){return{isAccepted:this.isEnabled?this.isAccepted:void 0}}get campaign(){return this.checkoutConfiguration.campaign}}class $A extends Error{constructor(e){super("DataPoint Validation Failed"),this.validationResult=e}}const XA={DonorName:BA,DonorEmail:GA,MailingAddress:OA,MailingListSubscription:class extends RE{constructor(){super(...arguments),this.isEnabled=this.campaign.config.showSubscription,this.isRequired=!1,this.checked=this.isEnabled&&this.campaign.config.subscriptionChecked}get text(){return this.campaign.config.subscriptionText}toObject(){return{checked:!!this.checked}}get campaign(){return this.checkoutConfiguration.campaign}},Tribute:class extends RE{constructor(e){super(e),this.checkoutConfiguration=e,this.isRequired=!1,this._tributeName="",this.tributeeName=this.getDefaultTributeeName(),this.isEnabled=this.campaign.config.tribute.show,this.isActive=this.getDefaultTributeeActive(),this.isOptional=this.campaign.config.tribute.optional}get labelType(){return this.campaign.config.tribute.labelType}get isSharingEnabled(){const{showEmail:e,showAddress:t}=this.checkoutConfiguration.campaign.config.tribute;return e||t}get type(){return oE.NONE}get isFilled(){return this.isActive&&!!this.tributeeName}get tributeeName(){return this._tributeName}get campaign(){return this.checkoutConfiguration.campaign}get isTributeOriented(){return!this.isOptional||!!this.checkoutConfiguration.queryParams.tributeSelected}set tributeeName(e){(Gt()(e).call(e)||""===e)&&(this._tributeName=e)}toObject(){return{inHonorOf:this.tributeeName,type:this.type,labelType:this.labelType,isActive:this.isActive}}collectTo(e){return e.onTributeDataPointCollected(),this}get externalCheckoutData(){return this.checkoutConfiguration.externalConfig.checkoutData||{}}getDefaultTributeeActive(){return!(this.campaign.config.tribute.optional&&!this._tributeName&&!this.checkoutConfiguration.externalConfig.tributeSelected&&!this.checkoutConfiguration.queryParams.tributeSelected)}getDefaultTributeeName(){var e;const t=this.checkoutConfiguration.queryParams.tributeHonoree,n=null===(e=this.externalCheckoutData.tribute)||void 0===e?void 0:e.inHonorOf;return t||n||""}},FiatDonation:qE,GiftAid:class extends RE{constructor(){super(...arguments),this.isAccepted=!1,this._isEnabled=null,this._isRequired=null,this.isOnBehalfOf=!1,this.isShown=!1}get isEnabled(){return null!==this._isEnabled?this._isEnabled:this.campaign.config.giftAid.show&&!this.isOnBehalfOf&&this.checkoutConfiguration.featureConfig.giftAid}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get legalText(){return this.checkoutConfiguration.campaign.config.giftAid.legalText}set isEnabled(e){this._isEnabled=e}set isRequired(e){this._isRequired=e}reset(e){return GE(e),e.resetGiftAid(),this}setOnBehalfOf(e){this.isOnBehalfOf=e}setShown(){this.isShown=!0}accept(){this.isAccepted=!0}reject(){this.isAccepted=!1}collectTo(e){return GE(e),this.isAccepted&&e.onGiftAidAccepted(),this}toObject(){return{isAccepted:this.isAccepted,isShown:this.isShown,legalText:this.legalText}}get campaign(){return this.checkoutConfiguration.campaign}},Questions:HA,Comment:class extends RE{constructor(){super(...arguments),this.isEnabled=this.campaign.config.showComment,this.isRequired=!1,this.comment="",this._prevComment=""}get prevComment(){return this._prevComment}savePrevComment(){this._prevComment=this.comment}toObject(){return{comment:this.comment}}get campaign(){return this.checkoutConfiguration.campaign}},Designation:DA,PaymentOptions:class extends RE{constructor(e,t){super(e),this.checkoutConfiguration=e,this.paymentMethodAvailabilityManagerRepository=t,this.isEnabled=!0,this.isRequired=!0,this.paymentMethodCountry=null,this.canApplePay=!1,this.canGooglePay=!1,this.canVenmo=!1,this.canPaypal=!0,this.isStripeAccountConnected=!!this.checkoutConfiguration.company.stripeAccount,this._clientPaymentMethod=null,this._selectedPaymentOption=null,this._preSelectedPaymentOption=null,this._isPaypalAvailable=!1,this._isPaypalVisible=!1,this._isCreditCardAvailable=!1,this._isGooglePayAvailable=!1,this._isClickToPayAvailable=!1,this._isAuBecsAvailable=!1,this._isUSBankAccountAvailable=!1,this._isApplePayAvailable=!1,this._isUkBacsAvailable=!1,this._isSepaAvailable=!1,this._isAcssAvailable=!1,this._isVenmoAvailable=!1,this._isIDEALAvailable=!1}get allowedPaymentMethods(){const e=this.isVenmoAvailable&&this.canVenmo,t=this.isApplePayAvailable&&this.canApplePay,n=this.isGooglePayAvailable&&this.canGooglePay&&!t,i=this.isPaypalVisible&&this.canPaypal;return{[h.GZ.CARD]:{available:this.isCreditCardAvailable,show:this.isCreditCardAvailable},[h.GZ.APPLE_PAY]:{available:this.isApplePayAvailable,show:t},[h.GZ.GOOGLE_PAY]:{available:this.isGooglePayAvailable,show:n},[h.GZ.CLICK_TO_PAY]:{available:this.isClickToPayAvailable,show:this.isClickToPayAvailable},[h.GZ.US_BANK_ACCOUNT]:{available:this.isUSBankAccountAvailable,show:this.isUSBankAccountAvailable},[h.GZ.PAYPAL]:{available:this.isPaypalAvailable,show:i},[h.GZ.VENMO]:{available:this.isVenmoAvailable,show:e},[h.GZ.AU_BECS]:{available:this.isAuBecsAvailable,show:this.isAuBecsAvailable},[h.GZ.UK_BACS]:{available:this.isUkBacsAvailable,show:this.isUkBacsAvailable},[h.GZ.SEPA]:{available:this.isSepaAvailable,show:this.isSepaAvailable},[h.GZ.IDEAL]:{available:this.isIDEALAvailable,show:this.isIDEALAvailable},[h.GZ.ACSS]:{available:this.isAcssAvailable,show:this.isAcssAvailable},[h.GZ.CRYPTO]:{available:!0,show:!0},[h.GZ.STOCK]:{available:!0,show:!0}}}get clientPaymentMethod(){return this._clientPaymentMethod}get selectedPaymentOption(){return this._selectedPaymentOption}get preSelectedPaymentOption(){return this._preSelectedPaymentOption}calculatePaymentOptionsAvailability(e){const t=this.checkPaypal(e);this._isPaypalAvailable=t.available,this._isPaypalVisible=t.show,this._isCreditCardAvailable=this.checkCreditCard(),this._isApplePayAvailable=this.checkApplePay(),this._isGooglePayAvailable=this.checkGooglePay(),this._isClickToPayAvailable=this.checkClickToPay(e),this._isAuBecsAvailable=this.checkAuBecs(e),this._isUSBankAccountAvailable=this.checkUSBankAccount(e),this._isUkBacsAvailable=this.checkUkBacs(e),this._isSepaAvailable=this.checkSepa(e),this._isAcssAvailable=this.checkAcss(e),this._isVenmoAvailable=this.checkVenmo(e),this._isIDEALAvailable=this.checkIDEAL(e)}collectTo(e){return BE(e),e.onPaymentOptionsDataPointCollected(),this}isPaypalConversionAvailable(e){let{merchantId:t,frequency:n,isPaypalEnabled:i,hasDefaultCurrencyPaypal:a}=e;return!!t&&Boolean(n===Oe.ONCE&&i&&a)}setPaymentMethod(e){this._clientPaymentMethod=e}setPaymentOption(e){this._selectedPaymentOption=e}setPreSelectedPaymentOption(e){this._preSelectedPaymentOption=e}toObject(){return{clientPaymentMethod:this.clientPaymentMethod}}get isPaypalAvailable(){return this._isPaypalAvailable}get isPaypalVisible(){return this._isPaypalVisible}get isCreditCardAvailable(){return this._isCreditCardAvailable}get isGooglePayAvailable(){return this._isGooglePayAvailable}get isClickToPayAvailable(){return this._isClickToPayAvailable}get isAuBecsAvailable(){return this._isAuBecsAvailable}get isUSBankAccountAvailable(){return this._isUSBankAccountAvailable}get isApplePayAvailable(){return this._isApplePayAvailable}get isUkBacsAvailable(){return this._isUkBacsAvailable}get isSepaAvailable(){return this._isSepaAvailable}get isIDEALAvailable(){return this._isIDEALAvailable}get isAcssAvailable(){return this._isAcssAvailable}get isVenmoAvailable(){return this._isVenmoAvailable}checkGooglePay(){return"https:"===window.location.protocol&&!this.checkoutConfiguration.infrastructureParams.isInAppBrowser&&this.checkoutConfiguration.company.paymentOptions.googlePay}checkPaypal(e){let{currency:t,frequency:n}=e;const{subscriptionsEnabled:i}=this.checkoutConfiguration.company.paypal,a=this.paymentMethodAvailabilityManagerRepository.getManager(h.GZ.PAYPAL,lA.WIDGET),r=this.checkoutConfiguration.company,s=this.checkoutConfiguration.campaign.config,o=r.paypalCurrencies,c=Z()(o).call(o,t),l=Z()(o).call(o,s.defaultCurrency),u=r.paymentOptions.paypal&&a.allowed("currency",t)&&(c||l)&&this.isEnvironmentSupportsPayPal();return{available:u,show:u&&(n===Oe.ONCE?a.allowed("repeat",n):a.allowed("repeat",n)&&i)}}isEnvironmentSupportsPayPal(){const e=this.checkoutConfiguration.checkoutType===at.MODAL,t=!(this.checkoutConfiguration.isIOSFirefox||this.checkoutConfiguration.infrastructureParams.isInAppBrowser);return!e||t}checkCreditCard(){return this.checkoutConfiguration.company.paymentOptions.creditCard}checkClickToPay(e){let{currency:t}=e;const n=this.paymentMethodAvailabilityManagerRepository.getManager(h.GZ.CLICK_TO_PAY,lA.WIDGET);return this.checkoutConfiguration.company.paymentOptions.clickToPay&&n.allowed("currency",t)&&!this.checkoutConfiguration.infrastructureParams.isInAppBrowser}checkAuBecs(e){let{currency:t,frequency:n,total:i}=e;const a=this.paymentMethodAvailabilityManagerRepository.getManager(h.GZ.AU_BECS,lA.WIDGET);return this.checkoutConfiguration.company.paymentOptions.auBecsDebit&&a.allowed("repeat",n)&&a.allowed("currency",t)&&a.allowed("amount",i)}checkUSBankAccount(e){let{currency:t,frequency:n,total:i}=e;const a=IA(this.checkoutConfiguration.company.key,i,t),r=this.paymentMethodAvailabilityManagerRepository.getManager(h.GZ.US_BANK_ACCOUNT,lA.WIDGET);let s=r.allowed("amount",a);return s&&MA(this.checkoutConfiguration.company.stripe.usBankAccount.verification)&&(s=UA(a)),this.checkoutConfiguration.company.paymentOptions.usBankAccount&&r.allowed("repeat",n)&&r.allowed("currency",t)&&s&&"USD"===this.checkoutConfiguration.company.stripeCurrencies.default}checkApplePay(){return this.checkoutConfiguration.company.paymentOptions.applePay}checkUkBacs(e){let{currency:t,frequency:n,total:i}=e;const a=this.paymentMethodAvailabilityManagerRepository.getManager(h.GZ.UK_BACS,lA.WIDGET);return this.checkoutConfiguration.company.paymentOptions.ukBacs&&a.allowed("repeat",n)&&a.allowed("currency",t)&&a.allowed("amount",i)}checkSepa(e){let{currency:t,frequency:n,total:i}=e;const a=this.paymentMethodAvailabilityManagerRepository.getManager(h.GZ.SEPA,lA.WIDGET);return this.checkoutConfiguration.company.paymentOptions.sepa&&a.allowed("repeat",n)&&a.allowed("currency",t)&&a.allowed("amount",i)}checkIDEAL(e){let{currency:t,frequency:n,total:i}=e;if(this.checkoutConfiguration.infrastructureParams.isInAppBrowser)return!1;const a=this.paymentMethodAvailabilityManagerRepository.getManager(h.GZ.IDEAL,lA.WIDGET),r=a.allowed("customerCountry",this.checkoutConfiguration.user.address.countryCode)||Wn();return(n===Oe.ONCE||this.checkoutConfiguration.company.paymentOptions.sepa)&&this.checkoutConfiguration.company.paymentOptions.ideal&&r&&a.allowed("repeat",n)&&a.allowed("currency",t)&&a.allowed("amount",i)}checkAcss(e){let{currency:t,frequency:n,total:i}=e;const a=this.paymentMethodAvailabilityManagerRepository.getManager(h.GZ.ACSS,lA.WIDGET);return this.checkoutConfiguration.company.paymentOptions.acss&&a.allowed("repeat",n)&&a.allowed("currency",t)&&a.allowed("amount",i)}checkVenmo(e){let{currency:t,frequency:n}=e;if(!this.checkoutConfiguration.infrastructureParams.livemode||this.checkoutConfiguration.infrastructureParams.showcase)return!1;const i=this.paymentMethodAvailabilityManagerRepository.getManager(h.GZ.VENMO,lA.WIDGET),a=!!this.checkoutConfiguration.company.paypal.merchantId;return(this.checkoutConfiguration.user.address.countryCode===h.C9.UNITED_STATES||Wn())&&a&&i.allowed("repeat",n)&&i.allowed("currency",t)&&this.checkoutConfiguration.company.paymentOptions.venmo&&!this.checkoutConfiguration.infrastructureParams.isInAppBrowser}},PreDonationUpsell:class extends RE{constructor(e,t,n){super(e),this.checkoutConfiguration=e,this.preDonationUpsellService=t,this.preDonationUpsellDecider=n,this.isEnabled=this.checkoutConfiguration.campaign.config.showUpsell,this.isRequired=this.isEnabled,this.isAccepted=!1,this.showed=!1,this.used=!1,this.currency="USD",this.donationAmount=0,this.donationFrequency=Oe.ONCE,this.upsellAmount=0,this.upsellFrequency=Oe.MONTHLY}get preDonationUpsellDecision(){return this.preDonationUpsellDecider.getDecision()}toObject(){return{currency:this.currency,fromAmount:this.donationAmount,showed:this.showed,used:this.used}}isMlPreDonationUpsellEnabled(e){const{canShowUpsellScreen:t,targetFrequency:n}=e;return!!t&&(n===Oe.MONTHLY||n===Oe.EVERY_4_WEEKS)}fetchUpsellScreenDecision(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.preDonationUpsellDecider.fetchDecision(e)}))}resetUpsellScreenDecision(){this.preDonationUpsellDecider.resetDecision()}canShowUpsellScreen(e,t,n){var i;if(this.preDonationUpsellDecision.showUpsell===NA.NO)return!1;const a=this.preDonationUpsellService.canShowUpsellScreen(k()({},this.getUpsellParams(t,e.amount,e.currency,e.frequency,n.allowRecurring)));return this.checkoutConfiguration.infrastructureParams.showcase?a||!!(null===(i=this.checkoutConfiguration.showcase)||void 0===i?void 0:i.forceUpsell):a}getUpsellAmounts(e,t,n,i,a){return this.preDonationUpsellService.getUpsellAmounts(k()({},this.getUpsellParams(e,t,n,i,a)))}setCurrency(e){this.currency=e}setDonationAmount(e){this.donationAmount=e}setDonationFrequency(e){this.donationFrequency=e}accept(e,t,n,i){this.isAccepted=!0,this.upsellAmount=e,this.upsellFrequency=this.getTargetFrequency(n,t.donationAmount,t.currency,t.donationFrequency,i.allowRecurring)}getTargetFrequency(e,t,n,i,a){return this.preDonationUpsellService.getTargetFrequency(k()({},this.getUpsellParams(e,t,n,i,a)))}collectTo(e){return BE(e),e.onPreDonationUpsellDataPointCollected({amount:this.isAccepted?this.upsellAmount:this.donationAmount,frequency:this.isAccepted?this.upsellFrequency:this.donationFrequency}),this}getMlPreDonationUpsellParams(e,t,n,i,a){return{targetFrequency:this.preDonationUpsellService.getTargetFrequency(k()({},this.getUpsellParams(e,t,n,i,a))),canShowUpsellScreen:this.preDonationUpsellService.canShowUpsellScreen(k()({},this.getUpsellParams(e,t,n,i,a)))}}getUpsellParams(e,t,n,i,a){var r,s;return{minAmounts:{[Oe.MONTHLY]:(null===(r=this.checkoutConfiguration.campaign.config.frequencies.monthly)||void 0===r?void 0:r.minAmount)||0,[Oe.EVERY_4_WEEKS]:(null===(s=this.checkoutConfiguration.campaign.config.frequencies.every4weeks)||void 0===s?void 0:s.minAmount)||0},payParams:{amount:t,currency:n,frequency:i,tribute:this.getTributePayload(e),designationAllowsRecurring:a},country:this.checkoutConfiguration.user.address.countryCode,widgetParams:{showUpsell:this.isEnabled,frequencies:this.checkoutConfiguration.enabledFrequencies,defaultCurrency:this.checkoutConfiguration.campaign.config.defaultCurrency,currencyEnabledRecurrings:this.checkoutConfiguration.campaign.config.currencyEnabledRecurrings,recurringPlans:this.checkoutConfiguration.company.recurringPlans}}}getTributePayload(e){return null===e||null===e.type?null:{labelType:e.labelType,type:e.type,inHonorOf:e.isActive?e.inHonorOf:""}}},PhoneNumber:qA,PaypalConversion:class extends RE{constructor(e,t,n){super(e),this.checkoutConfiguration=e,this.currencyService=t,this.transactionCosts=n,this.isEnabled=!0,this.isRequired=!1,this.isCurrencyConversionApplied=!1}toObject(){return{isCurrencyConversionApplied:this.isCurrencyConversionApplied}}calculateNewPaypalAmounts(e,t,n){const i=this.currencyService.getDigits(n),a=Math.ceil(this.currencyService.convert(e,t,n,!1,"US")/Math.pow(10,i))*Math.pow(10,i);return{amount:a,total:this.transactionCosts.getTotal(a,n)}}},TermsAndConditions:WA,RemindMeLater:class extends RE{constructor(){var e,t;super(...arguments),this.isEnabled=null===(t=null===(e=this.checkoutConfiguration.company)||void 0===e?void 0:e.abandonedDonations)||void 0===t?void 0:t.enabled,this.isRequired=!1,this._used=Pe.NOT_GIVEN,this._shown=!1}get used(){return this._used}get shown(){return this._shown}setState(e){if(e.used!==Pe.NOT_GIVEN&&!e.shown)throw new Error("RemindMeLaterDataPoint: used without shown");this._used=e.used,this._shown=e.shown}toObject(){return{used:this.used,shown:this.shown}}},OnBehalfOf:_A,DonateAnonymous:class extends RE{constructor(){super(...arguments),this.isEnabled=this.campaign.config.showAnonymous,this.isRequired=!1,this.anonymousChecked=!1}toObject(){return{anonymousChecked:this.anonymousChecked}}get campaign(){return this.checkoutConfiguration.campaign}},UKBacs:class extends RE{constructor(){super(...arguments),this.isEnabled=!0,this.isRequired=!1,this.sortCode="",this.accountNumber="",this.accountHolderName="",this.termsAccepted=!0}toObject(){const e=this.validate();if(!e.isValid)throw new $A(e);return{termsAccepted:this.termsAccepted,sortCode:this.sortCode,accountNumber:this.accountNumber,accountHolderName:this.accountHolderName}}validate(){const e=this.isSortCodeValid(),t=this.isAccountNumberValid(),n=this.isAccountHolderNameValid();return{isValid:e&&t&&n&&this.termsAccepted,fields:{sortCode:{isValid:e},accountNumber:{isValid:t},accountHolderName:{isValid:n},termsAccepted:{isValid:this.termsAccepted}}}}isSortCodeValid(){return!!(this.sortCode&&this.sortCode.length>=6&&this.sortCode.length<=6)}isAccountNumberValid(){return!!(this.accountNumber&&this.accountNumber.length>=4&&this.accountNumber.length<=17)}isAccountHolderNameValid(){return!!this.accountHolderName}},IDEAL:TA,PostDonationUpsell:class extends RE{constructor(e,t,n,i){super(e),this.checkoutConfiguration=e,this.postDonationUpsellServiceConstructor=t,this.postDonationUpsellMlSuggestion=n,this.currencyService=i,this.isAccepted=!1,this.isShowed=!1,this._isEnabled=null,this._isRequired=null,this.donationAmount=0,this._recurringMinAmount=0,this.currency=this.checkoutConfiguration.campaign.config.defaultCurrency,this.tributeName="",this.designation=null,this._amount=null}get isEnabled(){return null!==this._isEnabled?this._isEnabled:this.checkoutConfiguration.infrastructureParams.showcase?this.checkoutConfiguration.campaign.config.showPostDonationUpsell:this.checkoutConfiguration.campaign.config.showPostDonationUpsell&&this.paymentFrequency===Oe.ONCE&&this.isDesignationAllowsRecurring&&this.isPaymentMethodAppropriate()&&this.isTributeEmpty()}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get amount(){return this._amount}get amountInUSD(){return this.amount?this.currencyService.convert(this.amount,this.currency,"USD"):this.amount}get period(){return this.postDonationUpsellService.getPeriod()}get startDate(){return this.postDonationUpsellService.getStartDate()}get guaranteedAmount(){return this.amount?this.amount:this.mlSuggestedAmount.isFallback?this.suggestedAmount:this.mlSuggestedAmount.amount}get guaranteedAmountInUSD(){return this.currencyService.convert(this.guaranteedAmount,this.currency,"USD")}get recurringMinAmount(){return this._recurringMinAmount||(this.checkoutConfiguration.infrastructureParams.showcase?5e3:0)}set isEnabled(e){this._isEnabled=e}set isRequired(e){this._isRequired=e}set amount(e){this._amount=e}setDonationAmount(e){this.donationAmount=e}setMinAmount(e){this._recurringMinAmount=e}setCurrency(e){this.currency=e}setPaymentMethod(e){this.paymentMethod=e}setPaymentFrequency(e){this.paymentFrequency=e}setTributeName(e){this.tributeName=e}setDesignation(e){this.designation=e}accept(){this.isAccepted=!0}setShowed(){this.isShowed=!0}toObject(){return{isAccepted:this.isAccepted,showed:this.isShowed,period:this.period,firstChargeAt:this.startDate,fromAmount:this.donationAmount,currency:this.currency,recurring:{amount:this.guaranteedAmount,total:this.total,tip:this.tip},goalKey:this.designationGoalKey}}validateMinAmount(){return!!this.amount&&this.amount>=this.recurringMinAmount}validateMaxAmount(){var e;return!!this.amount&&(null===(e=this.amount)||void 0===e?void 0:e.toString().length)<=8}get mlSuggestedAmount(){return this.postDonationUpsellMlSuggestion.getAdjustedAmountSuggestion()}get suggestedAmount(){return this.postDonationUpsellService.getAmount()}get tip(){return 0}get total(){return(this.guaranteedAmount||0)+this.tip}get postDonationUpsellService(){const e={amount:this.donationAmount,minAmount:this.recurringMinAmount,currency:this.currency};return this._postDonationUpsellService?(this._postDonationUpsellService.updateExternalParams(e),this._postDonationUpsellService):(this._postDonationUpsellService=this.postDonationUpsellServiceConstructor(k()(k()({},e),{timestamp:Jn()()})),this._postDonationUpsellService)}get designationGoalKey(){var e,t;return null!==(t=null===(e=this.designation)||void 0===e?void 0:e.goalKey)&&void 0!==t?t:""}get isDesignationAllowsRecurring(){var e,t;return null===(t=null===(e=this.designation)||void 0===e?void 0:e.allowRecurring)||void 0===t||t}isPaymentMethodAppropriate(){const e=this.paymentMethod===IE.GZ.VENMO,t=this.paymentMethod===IE.GZ.IDEAL;if(e||t)return!1;const n=this.paymentMethod===IE.GZ.PAYPAL,i=this.checkoutConfiguration.company.paypal.subscriptionsEnabled;return!n||i}isTributeEmpty(){return!this.tributeName}},USBankAccount:class extends RE{constructor(){super(...arguments),this.isEnabled=!0,this.isRequired=!1,this.routingNumber="",this.accountNumber="",this.accountHolderName="",this.accountType="individual",this.verificationType=null,this.financialInstitution=""}get usBankAccountVerificationSetup(){const e=this.checkoutConfiguration.company.stripe.usBankAccount.verification;return{isInstantOnly:RA(e),isAbavOnly:LA(e),isMicroDepositOnly:MA(e),isInstantAndMicroDeposit:jA(e),isInstantAndAbav:FA(e)}}get accountNumberLast4(){var e;return this.accountNumber.length>4?a()(e=this.accountNumber).call(e,-4):this.accountNumber}toObject(){const e=this.validate();if(!e.isValid)throw new $A(e);return{routingNumber:this.routingNumber,accountNumber:this.accountNumber,accountNumberLast4:this.accountNumberLast4,accountHolderName:this.accountHolderName,accountType:this.accountType,verificationType:this.verificationType,financialInstitution:this.financialInstitution}}validate(){const e=this.isRoutingNumberValid(),t=this.isAccountNumberValid(),n=this.isAccountHolderNameValid();return{isValid:e&&t&&n,fields:{routingNumber:{isValid:e},accountNumber:{isValid:t},accountHolderName:{isValid:n},financialInstitution:{isValid:this.isFinancialInstitutionValid()},verificationType:{isValid:this.isVerificationTypeValid()}}}}isRoutingNumberValid(){return!(!this.routingNumber||9!==this.routingNumber.length)}isAccountNumberValid(){return!!(this.accountNumber&&this.accountNumber.length>=8&&this.accountNumber.length<=17)}isFinancialInstitutionValid(){return!!this.financialInstitution}isVerificationTypeValid(){return null===this.verificationType||"descriptor_code"===this.verificationType||"amounts"===this.verificationType}isAccountHolderNameValid(){return!(this.usBankAccountVerificationSetup.isMicroDepositOnly||this.usBankAccountVerificationSetup.isAbavOnly||this.usBankAccountVerificationSetup.isInstantAndAbav)||!!this.accountHolderName}},DTD:class extends RE{constructor(e,t,n,i){super(e),this.checkoutConfiguration=e,this.currencyService=t,this.doubleTheDonationApi=n,this.transactionCosts=i,this.employer=this.getDefaultEmployer(),this.showed=!1,this._isEnabled=null,this._isRequired=null,this.currency="USD",this._amount=0,this.upsellFee=0,this.isOnBehalfOf=!1,this._isAccepted=!1,this.isSkipped=!1}get isEnabled(){return null!==this._isEnabled?this._isEnabled:this.campaign.config.showDouble&&!this.isOnBehalfOf}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get isAccepted(){return this._isAccepted}get isIntegrationEnabled(){return this.checkoutConfiguration.integrations.dtdEnabled}get isVisible(){return Boolean(this.employerDTD&&this.employerDTD.id&&this.employerDTD.minimumMatchedAmount>0&&this.minimumMatchedAmount>0)}get amount(){return this._amount}get matchingRatio(){var e;return(null===(e=this.employerDTD)||void 0===e?void 0:e.ratio)||[1,1]}get rawMinimumMatchedAmount(){var e;return(null===(e=this.employerDTD)||void 0===e?void 0:e.minimumMatchedAmount)||0}get minimumMatchedAmount(){const e=this.currencyService.fromFloat(this.rawMinimumMatchedAmount,"USD");return this.currencyService.convert(e,"USD",this.currency)}get upsellDoubledAmount(){return this.upsellTotal+this.upsellTotal/this.matchingRatio[0]*this.matchingRatio[1]}get DTDDoubledAmount(){return this.amount+this.amount/this.matchingRatio[0]*this.matchingRatio[1]}get upsellTotal(){return this.currencyService.ceil(this.minimumMatchedAmount+this.upsellFee,this.currency)}set isEnabled(e){this._isEnabled=e}set isRequired(e){this._isRequired=e}set amount(e){this._amount=e}calculateUpsellFee(){this.upsellFee=this.transactionCosts.getProcessingFee(this.minimumMatchedAmount,this.currency)}setEmployer(e){return this.employer.name=e,this}setEmployerDTD(e){return this.employerDTD=e,e&&this.setEmployer(e.company_name),this.calculateUpsellFee(),this}resetEmployerDTD(){this.employer=this.getDefaultEmployer(),this.employerDTD=void 0,this.calculateUpsellFee()}setOnBehalfOf(e){this.isOnBehalfOf=e}setCurrency(e){this.currency=e}toObject(){return{isSkipped:this.isSkipped,upsell:{currency:this.currency,fromAmount:this._amount,matchingFromAmount:this.minimumMatchedAmount,matchingPromisedAmount:this.upsellDoubledAmount,matchingRatio:this.matchingRatio,minimumMatchedAmount:this.minimumMatchedAmount,proposedAmount:this.upsellTotal,proposedAmountBeforeFeeCovered:this.rawMinimumMatchedAmount,showed:this.showed,visible:this.isVisible,isAccepted:this._isAccepted},employer:{name:this.employer?this.employer.name:""},employerDTD:this.employerDTD&&{id:this.employerDTD.id,companyName:this.employerDTD.company_name,minimumMatchedAmount:this.employerDTD.minimumMatchedAmount,ratio:this.employerDTD.ratio}}}getDTDCompanies(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.doubleTheDonationApi.getCompanies(e)}))}accept(){this._isAccepted=!0}reject(){this._isAccepted=!1}setSkipped(){this.isSkipped=!0}collectTo(e){return BE(e),this._isAccepted&&e.onDoubleTheDonationAccepted(this.upsellAmount),this}get campaign(){return this.checkoutConfiguration.campaign}get upsellAmount(){return this.upsellTotal-this.upsellFee}getDefaultEmployer(){return{name:""}}},CustomerTitle:wA,CryptoDonation:jE,StockDonation:VE,BrokerageAccountNumber:HE,Securities:ZA,Broker:KE,CoOwner:ZE,Signature:zA};class QA{constructor(e){this.sessionAPI=e}getCompanies(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.getDtdCompanies(e);return De()(t).call(t,(e=>({id:e.payload.id,company_name:e.payload.company_name,ratio:e.payload.ratio,minimumMatchedAmount:e.payload.minimumMatchedAmount})))}))}getDtdCompanies(e){return(0,y.mG)(this,void 0,void 0,(function*(){try{return(yield this.sessionAPI.get("dtd",{search:e},{delay:200,retries:5,cancelSimilar:!0})).data}catch(e){return[]}}))}}class JA{constructor(e,t,n,i){this.sessionAPI=e,this.currencyService=t,this.livemode=n,this.config=i}getList(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(!e)return[];let t=yield this.getListWithRetry(e);return t=De()(t).call(t,(e=>k()(k()({},e),{price:this.currencyService.fromFloat(e.price,"USD"),currency:"USD"}))),t}))}getListV2(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(!e)return[];let t=yield this.getListWithRetry(e);return t=De()(t).call(t,(e=>{const t=this.currencyService.fromFloat(e.price,this.config.currency),n=this.currencyService.convert(t,e.currency,this.config.currency);return k()(k()({},e),{price:n,currency:this.config.currency})})),t}))}update(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=De()(e).call(e,(e=>({ticker:e.ticker,count:e.quantity,name:e.name,price:e.price,currency:e.currency})));return this.sessionAPI.post("securities",{securities:t})}))}getListWithRetry(e){return(0,y.mG)(this,void 0,void 0,(function*(){return(yield this.sessionAPI.get("securities",{query:e,livemode:this.livemode},{delay:200,retries:5,cancelSimilar:!0,rejectsOnInvalid:!0})).securities}))}}class eN{constructor(e,t){this.checkoutConfiguration=e,this.feeCalculator=t,this._isEnabled=!0,this._isCovered=this.isFeeCoveredByDefault}get includeFees(){return this._isEnabled?this.checkoutConfiguration.campaign.config.includeFees:h.__.ONLY_NO}get isCovered(){return!!this._isEnabled&&this._isCovered}set isCovered(e){this._isCovered=e}calculateSmartFeeCovering(e){this._isCovered=this.shouldCoverFee(e)}calculateFeeAvailability(e){this._isEnabled=this.shouldEnableFee(e)}getFee(e,t){return this.feeCalculator.getFeeForWidget({amount:e,currency:t})}getTotal(e,t){return this.isCovered?e+this.getFee(e,t):e}getProcessingFee(e,t){return this.isCovered?this.getFee(e,t):0}get isFeeCoveredByDefault(){var e;return Z()(e=[h.__.DEFAULT_YES,h.__.ONLY_YES]).call(e,this.includeFees)}shouldCoverFee(e){var t;const n=e.amountInUSD||0;if(e.frequency===Oe.ONCE&&n>=1e5)return!1;const i=this.checkoutConfiguration.infrastructureParams,a=this.checkoutConfiguration.user,r=null==i?void 0:i.OS,s="Mac OS"===r,o="iOS"===r,c=(null===(t=null==a?void 0:a.address)||void 0===t?void 0:t.countryCode)===h.C9.UNITED_STATES;return!(c&&n>=25e3&&n<1e5&&!o&&!s||!c&&n>=1e4&&n<1e5&&!o&&!s)}shouldEnableFee(e){var t;const n=null!==(t=e.amount)&&void 0!==t?t:0;return!(n+this.getFee(n,e.currency)>99999999)}}var tN=n(96e3),nN=n.n(tN);class iN{constructor(e,t){this.whole=e,this.currency=t,this.fractional=this.whole/Math.pow(10,this.currency.digits)}plus(e){if(e.currency.equalTo(this.currency))return new iN(this.whole+e.whole,this.currency);throw new Error(`Currency mismatch: added ${e.currency} is not equal to ${this.currency}`)}isZero(){return 0===this.whole}[nN()](e){return"string"===e?this.whole.toString():this.whole}toString(){return this.whole.toString()}valueOf(){return this.whole}}class aN extends iN{}class rN{constructor(e,t,n){this.percentFee=e,this.fixedFee=t,this.converter=n}getFeeValue(e){const t=this.converter.convertFeeCurrency(Number(this.fixedFee),this.fixedFee.currency.code,e.currency.code),n=new aN(t,e.currency);return Number(e)*Number(this.percentFee)+Number(n)}}class sN{constructor(e,t){this.digits=t,this.code=e.toUpperCase()}equalTo(e){return String(this)===String(e).toUpperCase()}[nN()](){return this.code}toString(){return this.code}}class oN extends aN{constructor(e){super(Math.min(e.whole*oN.ACSS_FEE_PERCENT,oN.ACSS_MAX_FEE_VALUE),new sN("CAD",2))}}oN.ACSS_MAX_FEE_VALUE=500,oN.ACSS_FEE_PERCENT=.008;class cN{constructor(e){this.whole=e,this.percent=e/100,this.fractional=e/1e4}plus(e){if(this.percent+e.percent>100)throw new Error("PercentFee value can not be grater than 100");return new cN(this.whole+e.whole)}[nN()](e){return"string"===e?this.fractional.toString():this.fractional}toString(){return this.fractional.toString()}valueOf(){return this.fractional}}class lN extends cN{constructor(e){let t=lN.PERCENT;e&&(t=lN.PERCENT*lN.COEFF+e.whole*(1-lN.COEFF)),super(t)}}lN.PERCENT=350,lN.COEFF=.1;class uN extends aN{constructor(e){super(Math.min(e.whole*uN.FEE_PERCENT,uN.MAX_FEE_VALUE),new sN("USD",2))}}uN.MAX_FEE_VALUE=500,uN.FEE_PERCENT=.008;class dN{constructor(e,t,n,i,a,r){this.stripeFee=e,this.applicationFee=t,this.fixedFee=n,this.paymentMethod=i,this.cardBrand=a,this.converter=r}get isNonProfitFee(){return this.stripeFee.whole===IE.El.NON_PROFIT}getPaymentMethodFee(e){switch(this.paymentMethod){case h.GZ.US_BANK_ACCOUNT:return new uN(e);case h.GZ.ACSS:return new oN(e)}}get isAmex(){return this.cardBrand===IE.rL.AMERICAN_EXPRESS}getFeeValue(e){const t=this.getPaymentMethodFee(e);if(t)return Number(e)*Number(this.applicationFee)+Number(t);if(this.isNonProfitFee&&this.isAmex){const t=this.applicationFee.plus(new lN);return Number(t)*Number(e)}const n=this.converter.convertFeeCurrency(Number(this.fixedFee),this.fixedFee.currency.code,e.currency.code),i=new aN(n,e.currency),a=this.applicationFee.plus(this.stripeFee);return Number(e)*Number(a)+Number(i)}}class hN{constructor(e,t,n,i,a){this.stripeFee=e,this.applicationFee=t,this.fixedFee=n,this.companyParams=i,this.converter=a}get isUsCountry(){return"US"===this.companyParams.country}isCompanyCurrency(e){return e.currency.equalTo(this.companyParams.defaultCurrency)}isFixedFeeInDonationCurrency(e){return e.currency.equalTo(this.fixedFee.currency)}getFeeValue(e){let t=1;this.isCompanyCurrency(e)||(this.stripeFee=this.stripeFee.plus(new cN(100))),this.isFixedFeeInDonationCurrency(e)||(t=hN.FEE_CURRENCY_RATE_MULTIPLIER);const n=this.isUsCountry?new lN(this.stripeFee):this.stripeFee,i=this.applicationFee.plus(n),a=this.converter.convertFeeCurrency(Number(this.fixedFee),this.fixedFee.currency.code,e.currency.code,t),r=new aN(a,e.currency),s=Number(e),o=(s+Number(r))/(1-Number(i))/s-1;return Math.round(s*Math.round(1e4*o)/1e4)}}hN.FEE_CURRENCY_RATE_MULTIPLIER=1.03;class mN{constructor(e,t,n){this.feeCalculator=n,e.validate(t),this.valueObjectsFactory=this.feeCalculator.valueObjectsFactory,this.converter=this.feeCalculator.converter,this.companyParams=t.companyParams,this.customFixedFee=this.valueObjectsFactory.makeFixedFee(t.customFixedFee,t.companyParams.defaultCurrency),this.customFeePercent=this.valueObjectsFactory.makePercentFee(t.customFeePercent),this.applicationFeePercent=this.valueObjectsFactory.makePercentFee(t.applicationFeePercent),this.stripeFeePercent=this.valueObjectsFactory.makePercentFee(t.stripeFee.percent),this.fixedFee=this.valueObjectsFactory.makeFixedFee(t.stripeFee.fixed,t.stripeFee.currency)}getFeeForDashboard(e,t){let n;return n=this.companyParams.useCustomFee?new rN(this.customFeePercent,this.customFixedFee,this.converter):t.fromVirtualTerminal?new dN(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,t.paymentMethod,t.cardBrand,this.converter):new hN(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,this.companyParams,this.converter),this.feeCalculator.calculate(e,n)}getFeeForWidget(e){let t;return t=this.companyParams.useCustomFee?new rN(this.customFeePercent,this.customFixedFee,this.converter):new hN(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,this.companyParams,this.converter),this.feeCalculator.calculate(e,t)}getFeeForVirtualTerminal(e,t){let n;return n=this.companyParams.useCustomFee?new rN(this.customFeePercent,this.customFixedFee,this.converter):new dN(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,t.paymentMethod,t.cardBrand,this.converter),this.feeCalculator.calculate(e,n)}}class pN{constructor(e){this.converter=e}makeFixedFee(e,t){return new aN(e,this.makeCurrency(t))}makeAmount(e,t){return new iN(e,this.makeCurrency(t))}makePercentFee(e){return new cN(e)}makeCurrency(e){return new sN(e,this.converter.getDigits(e))}}class gN{constructor(e){this.converter=e,this.valueObjectsFactory=new pN(e)}calculate(e,t){const n=this.valueObjectsFactory.makeAmount(e.amount,e.currency);return n.isZero()?0:this.roundFee(t.getFeeValue(n))}roundFee(e){return e<500&&(e=10*Math.ceil(e/10)),e>500&&(e=100*Math.ceil(e/100)),e}}class yN{constructor(){this.schema=new sr({applicationFeePercent:{type:Number,required:!0},customFeePercent:{type:Number,required:!0},customFixedFee:{type:Number,required:!0},stripeFee:{percent:{type:Number,required:!0},fixed:{type:Number,required:!0},currency:{type:String,required:!0}},companyParams:{defaultCurrency:{type:String,required:!0},country:{type:String,required:!0},useCustomFee:{type:Boolean,required:!0}}})}validate(e){const t=this.schema.validate(e,{typecast:!1});if(t.length){const n=De()(t).call(t,(t=>{const n=_a()(e,t.path);return`${t.path}: ${n} ${t.message}`})).join("\n");throw new Error(n)}}}class fN{constructor(){this.MIN_LENGTH=2,this.MAX_LENGTH=Cl.NAME_MAX_LENGTH}}class vN extends fN{constructor(){super(...arguments),this.MIN_LENGTH=Cl.NAME_MIN_LENGTH}}vN.LOCALES=[z.c0.ZH_TW,z.c0.ZH_CN,z.c0.JA,z.c0.KO];class SN{static resolveSetting(e,t){if(1===e)return function(e){var t;return Z()(t=vN.LOCALES).call(t,e.localeCode)?new vN:new fN}(t);throw new Error(`Unknown setting ${e}`)}constructor(e){this.personalInformation=SN.resolveSetting(1,e)}}var CN=n(85632);class bN{constructor(e){let{enabledAI:t,frequenciesHints:n,mandatoryHintsIds:i=[],distribution:a,currencyService:r,defaultCurrency:s}=e;this._hints={},this._defaultHints={},this._variantName=SE.NONE,this._enabledAI=t,this._distribution=a,this._defaultCurrency=s,this.currencyService=r,this.initHints(n,i)}get hints(){return this._hints}get defaultHints(){return this._defaultHints}get hintsAmounts(){const e={[Oe.ONCE]:[],[Oe.DAILY]:[],[Oe.WEEKLY]:[],[Oe.BIWEEKLY]:[],[Oe.EVERY_4_WEEKS]:[],[Oe.MONTHLY]:[],[Oe.BIMONTHLY]:[],[Oe.QUARTERLY]:[],[Oe.SEMIANNUAL]:[],[Oe.ANNUAL]:[]};for(const t in this._hints){const n=this._hints[t];e[t]=n?De()(n).call(n,(e=>{let{amount:t}=e;return t})):[]}return e}get hintFrequencies(){return ne()(this._hints)}get variantName(){return this._variantName}getHintsByFrequency(e){return this._hints[e]||null}getDefaultHintsByFrequency(e){return this._defaultHints[e]||null}updateHintsByAmounts(e){for(const n in e){var t;const i=this._hints[n],a=e[n];if(!(i&&i.length&&Be()(a)))continue;const r=Ke()(t=[...a]).call(t,((e,t)=>e-t)),s=[];v()(r).call(r,((e,t)=>{s.push(k()(k()({},i[t]),{amount:e}))})),this._hints[n]=s}}updateHintsByDefault(e,t){const n=this._hints[e],i=[];if(!n)throw new Error(`Hints for frequency ${e} not found`);v()(n).call(n,(e=>{e.id===(null==t?void 0:t.id)?i.push(k()(k()({},e),{default:!0})):i.push(k()(k()({},e),{default:!1}))})),this._hints[e]=i}initHints(e,t){if(this._distribution.initCurrentVariantName(),this._distribution.currentVariantName===SE.RANDOM)return v()(e).call(e,(e=>{let{frequency:n,hints:i}=e;const a=this.getFormattedHints({hints:i,frequency:n}),r=this.getRandomVariantHints(a,t);this._hints[n]=r,this._defaultHints[n]=r})),void(this._variantName=SE.RANDOM);throw new Error("No variant found")}getFormattedHints(e){let{hints:t,frequency:n}=e;const i=t[t.length-1].amount;return De()(t).call(t,(e=>{const t=e.amount||function(e){let{index:t,frequency:n,enabledAI:i,lastAmount:a}=e;const r=n===Oe.ONCE,s=i?r?$e:We:r?ze:Ze,o=s.length;return o>=t+1?s[t]:a?(c=a+Xe)%Xe==0?c:Math.ceil(c/Xe)*Xe:s[o-1]+(t+1-o)*Xe;var c}({index:e.index,frequency:n,enabledAI:this._enabledAI,lastAmount:i}),a="USD"===this._defaultCurrency?t:this.currencyService.convert(t,"USD",this._defaultCurrency);return k()(k()({},e),{amount:t,amountUsd:a,description:e.description})}))}getRandomVariantHints(e,t){return this._enabledAI?this.getEnabledAIHints(e,t):this.getDisabledAIHints(e)}getEnabledAIHints(e,t){if(e.length<6)throw new Error("Hints count is less than 6");const n=this.getRandomHints(e,t,3);return Ke()(n).call(n,((e,t)=>e.index-t.index))}getDisabledAIHints(e){const t=Fe()(e).call(e,(e=>{let{active:t}=e;return t}));if(t.length<3)throw new Error("Active hints count is less than 3");return Ke()(t).call(t,((e,t)=>e.index-t.index))}getRandomHints(e,t,n){const i=[],a=new(Ee());for(v()(t).call(t,(t=>{const r=qe()(e).call(e,(e=>e.id===t));r&&i.length<n&&(a.add(r.index),i.push(r))}));i.length<n&&a.size<e.length;){let t;do{t=Math.floor(Math.random()*e.length)}while(a.has(t));a.add(t),i.push(e[t])}return this.getHintsWithRandomDefault(i)}getHintsWithRandomDefault(e){const t=De()(e).call(e,(e=>k()(k()({},e),{default:!1})));return t[Math.floor(Math.random()*t.length)].default=!0,t}}const EN=[{name:SE.RANDOM,weight:1}];class AN{}class NN extends AN{isEnabled(e,t){return t.showMailing?e>=t.showMailingFromAmount:t.showMailing}isRequired(e,t){return t.showMailing&&t.mailingRequired?e>=t.mailingRequiredFromAmount:!!t.showMailing&&t.mailingRequired}}class PN extends AN{isEnabled(){return!0}isRequired(){return!0}}class xN extends AN{constructor(e){super(),this.mailingAddressCheckoutScreenLogic=e}isEnabled(e,t){return!!this.mailingAddressCheckoutScreenLogic.isEnabled(e,t)||!!this.isRequiredByPaymentMethod(t)||!!this.isRequiredByGiftAid(t)}isRequired(e,t){return!!this.mailingAddressCheckoutScreenLogic.isRequired(e,t)||!!this.isRequiredByPaymentMethod(t)||!!this.isRequiredByGiftAid(t)}isRequiredByPaymentMethod(e){return!!e.paymentMethod&&e.paymentMethodAvailabilityManagerRepository.getManager(e.paymentMethod,lA.WIDGET).isRequired("address",{ibanCountry:e.paymentMethodCountry})}isRequiredByGiftAid(e){return e.isGiftAidAccepted}}function kN(e){return e.isException&&e.country===h.C9.CANADA?new PN:new NN}const wN=[h.C9.CANADA,h.C9.GERMANY];class DN{constructor(e){this.widget=e.widget}}class TN extends DN{get currency(){return this.widget.defaultCurrency}}class ON extends DN{get currency(){return"EUR"}}class _N extends AN{constructor(e,t){super(),this.checkoutScreenLogic=e,this.params=t}isEnabled(e,t){return this.checkoutScreenLogic.isEnabled(e,t)||this.mailingAddressForceRequired(t)}isRequired(e,t){return this.checkoutScreenLogic.isRequired(e,t)||this.mailingAddressForceRequired(t)}mailingAddressForceRequired(e){return e.paymentMethodAvailabilityManagerRepository.getManager(e.paymentMethod,lA.VIRTUAL_TERMINAL).isRequired("address",{ibanCountry:e.paymentMethodCountry})}}const IN={showMailing:!0,showMailingFromAmount:0,mailingRequired:!0,mailingRequiredFromAmount:3e4},RN={showMailing:!0,showMailingFromAmount:0,mailingRequired:!0,mailingRequiredFromAmount:0},LN={showMailing:!1,showMailingFromAmount:0,mailingRequired:!1,mailingRequiredFromAmount:0};class MN{}class jN extends MN{getDefaults(){return LN}}class FN extends MN{getDefaults(){return RN}}class UN extends MN{getDefaults(){return IN}}class BN{constructor(e){this.validator=e,this.legalText=""}getValidAmounts(e,t){return this.validator.isValid(e).isValid?{showMailingFromAmount:e.showMailingFromAmount,mailingRequiredFromAmount:e.mailingRequiredFromAmount}:{showMailingFromAmount:t,mailingRequiredFromAmount:t}}}class GN extends BN{constructor(){super(...arguments),this.shouldHideEditor=!1,this.showMailingShouldAlwaysEnabled=!1,this.mailingRequiredShouldAlwaysEnabled=!1}}class qN extends BN{constructor(){super(...arguments),this.shouldHideEditor=!0,this.showMailingShouldAlwaysEnabled=!1,this.mailingRequiredShouldAlwaysEnabled=!1}}const VN=3e4;class KN extends BN{constructor(){super(...arguments),this.shouldHideEditor=!1,this.showMailingShouldAlwaysEnabled=!0,this.mailingRequiredShouldAlwaysEnabled=!0,this.legalText="We recommend leaving address optional if possible; requiring it prior to checkout may cause you to lose donations. Due to German receipt regulations, an address must be required on donations over 300 euros."}getValidAmounts(e,t){const n=super.getValidAmounts(e,t);let i=n.showMailingFromAmount,a=n.mailingRequiredFromAmount;const r=this.validator.isValid({showMailingFromAmount:n.showMailingFromAmount,mailingRequiredFromAmount:n.mailingRequiredFromAmount,showMailing:e.showMailing,mailingRequired:e.mailingRequired}),s=r.meta.isShowMailingFromAmountValid,o=r.meta.isMailingRequiredFromAmountValid;return e.showMailing&&!s&&(i=KN.MAX_SHOW_MAILING_FROM_AMOUNT),e.mailingRequired&&!o&&(a=KN.MAX_MAILING_REQUIRED_FROM_AMOUNT),{showMailingFromAmount:i,mailingRequiredFromAmount:a}}}KN.MAX_SHOW_MAILING_FROM_AMOUNT=VN,KN.MAX_MAILING_REQUIRED_FROM_AMOUNT=3e4;class HN{isValid(e){if(e.showMailing&&e.mailingRequired){const t=e.showMailingFromAmount<=e.mailingRequiredFromAmount;return{isValid:t,meta:{isMailingRequiredFromAmountValid:t,isShowMailingFromAmountValid:t}}}return{isValid:!0,meta:{isMailingRequiredFromAmountValid:!0,isShowMailingFromAmountValid:!0}}}}class YN extends HN{isValid(e){const t=super.isValid(e),n=e.showMailingFromAmount<=VN,i=e.mailingRequiredFromAmount<=VN;return{isValid:t.isValid&&i&&n,meta:{isMailingRequiredFromAmountValid:i,isShowMailingFromAmountValid:n}}}}class ZN{constructor(e){var t;this.company=ZN.resolveCompanyConfig(e),this.isDevMode=null!==(t=e.isDevMode)&&void 0!==t&&t}get isExceptionLogic(){return this.company.nonProfit&&Z()(wN).call(wN,this.company.country)}static resolveCompanyConfig(e){return e.company.useParentPaymentAccounts&&e.parentCompany?{nonProfit:e.parentCompany.nonProfit,country:e.parentCompany.country}:{nonProfit:e.company.nonProfit,country:e.company.country}}getWidgetDefaultsLogic(){return function(e){if(e.isException)switch(e.country){case h.C9.GERMANY:return new UN;case h.C9.CANADA:return new FN;default:return new jN}return new jN}({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode})}getCurrencyLogic(e){return function(e){return e.isException&&e.country===h.C9.GERMANY?new ON(e):new TN(e)}({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode,widget:e.widget})}getWidgetEditorLogic(){return function(e){if(e.isException)switch(e.country){case h.C9.GERMANY:return new KN(e.validator);case h.C9.CANADA:return new qN(e.validator);default:return new GN(e.validator)}return new GN(e.validator)}({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode,validator:this.getValidator()})}getCheckoutScreenLogic(){return function(e){const t=kN(e);return new xN(t)}({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode})}getVirtualTerminalLogic(){return function(e){const t=kN(e);return new _N(t,e)}({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode,nonProfit:this.company.nonProfit})}getValidator(){return(e={country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode}).isException&&e.country===h.C9.GERMANY?new YN:new HN;var e}}const zN={showUpsell:NA.DEFAULT};function WN(e,t){let n=null;return function(){for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return new(V())(((i,r)=>{null!==n&&(clearTimeout(n),n=null),n=H()((()=>{e(...a).then(i).catch(r)}),t)}))}}class $N{constructor(e,t){this.defaultValue=e,this.makeRequest=t,this.cachedValues=new($t()),this.pendingObject=null,this.getCachedOrFetchValue=e=>{var t;const n=this.getCacheKey(e);if(null===(t=this.pendingObject)||void 0===t?void 0:t.promise){if(this.pendingObject.cacheKey===n)return this.pendingObject.promise;this.pendingObject.reject("Aborted"),this.pendingObject=null}const i=this.cachedValues.get(n);return i?V().resolve(i):this.makeRequestAndCacheValue(e)},this.makeRequestAndCacheValue=e=>(0,y.mG)(this,void 0,void 0,(function*(){const t=this.getCacheKey(e);this.pendingObject=this.initPendingObject(e,t);try{const e=yield this.pendingObject.promise;return this.cachedValues.set(t,e),e}catch(e){return this.cachedValues.delete(t),this.defaultValue}finally{this.pendingObject=null}}))}getCacheKey(e){return In()(e)}initPendingObject(e,t){let n=e=>{};return{promise:new(V())(((t,i)=>{n=i,this.makeRequest(e).then((e=>{dn.isSuccess(e)?t(e.successResult):t(this.defaultValue)})).catch(i)})),cacheKey:t,reject:n}}}class XN extends $N{constructor(e){var t;super(zN,C()(t=e.getNextScreen).call(t,e)),this.sessionApi=e,this._currentValue=zN,this._fetchDecision=e=>(0,y.mG)(this,void 0,void 0,(function*(){return this._currentValue=yield this.getCachedOrFetchValue(e),this._currentValue.showUpsell===NA.UNKNOWN&&this.cachedValues.delete(this.getCacheKey(e)),this._currentValue})),this.debouncedFetchDecision=WN(this._fetchDecision,300)}getDecision(){return this._currentValue}resetDecision(){this._currentValue=zN}fetchDecision(e){return this.debouncedFetchDecision(e)}getCacheKey(e){return In()({eventTime:new Date(e.eventTime).toLocaleTimeString(e.clientLocale,{hour:"2-digit",weekday:"long"}),clientTimeZone:e.clientTimeZone,clientLocale:e.clientLocale,checkoutCurrency:e.checkoutCurrency,checkoutAmount:e.checkoutAmount,checkoutInUsdAmount:e.checkoutInUsdAmount,checkoutDefaultAmount:e.checkoutDefaultAmount})}}class QN{constructor(e){this.params=e}get frequency(){return Oe.ANNUAL}isEnabled(e){const{widgetParams:t}=e;return(1!==t.frequencies.length||t.frequencies[0]!==Oe.ONCE)&&this.params.recurringPlans&&this.params.recurringPlans.annual}isMatch(e){const{payParams:t}=e;return!!(t.tribute&&t.tribute.type&&t.tribute.inHonorOf&&t.tribute.labelType)&&!!t.designationAllowsRecurring&&t.frequency===Oe.ONCE}getUpsellAmounts(e){return[null,e.payParams.amount]}}class JN{get frequency(){return Oe.MONTHLY}isEnabled(){return!1}isMatch(){return!0}getUpsellAmounts(){return[null,null]}}class eP{static getUpsellUSDAmounts(e){switch(!0){case e<=1e3:return[null,e];case e<=2500:return[500,1e3];case e<=3500:return[1e3,1500];case e<=5500:return[1500,2e3];case e<=1e4:return[2e3,2500];case e<=15e3:return[2500,3e3];case e<=2e4:return[3e3,4e3];default:return[null,e]}}constructor(e,t){this.currencyService=e,this.suggestionsService=t}isEnabled(){return!0}isMatch(e){var t;const{payParams:n,widgetParams:i,country:a}=e;if(n.tribute&&n.tribute.type&&n.tribute.inHonorOf)return!1;if(!n.designationAllowsRecurring)return!1;const r=n.frequency===Oe.ONCE,s=i.currencyEnabledRecurrings||n.currency===i.defaultCurrency,o=this.getMaxUpsellAmount(n.currency,a),c=E()(t=i.frequencies).call(t,(e=>e!==Oe.ONCE)),l=!!e.ignoreMaxAmount||(n.amount||0)<=o,u=this.getFrequencyMinAmount(e),d=(n.amount||0)>=u;return i.showUpsell&&c&&r&&s&&l&&d}getUpsellAmounts(e){const{payParams:t,country:n}=e,{amount:i,currency:a}=t,r=this.currencyService.convert(i||0,a,"USD",!1,n),s=this.getFrequencyMinAmount(e),o=this.currencyService.convert(s,e.widgetParams.defaultCurrency,a,!1,n),c=eP.getUpsellUSDAmounts(r);let l=c[0]&&this.currencyService.convert(c[0],"USD",a,!1,n);null!==l&&(l=this.suggestionsService.beautify(l,a),o>l&&(l=null));let u=this.currencyService.convert(c[1],"USD",a,!1,n);return u=this.suggestionsService.beautify(u,a),o>u&&(u=this.suggestionsService.beautify(o,a,o)),l===u?[null,u]:[l,u]}getMaxUpsellAmount(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.C9.UNITED_STATES;return this.currencyService.convert(eP.MAX_AMOUNT_FOR_UPSELL_SCREEN,"USD",e,!1,t)}}eP.MAX_AMOUNT_FOR_UPSELL_SCREEN=2e4;class tP extends eP{get frequency(){return Oe.MONTHLY}getFrequencyMinAmount(e){return e.minAmounts[Oe.MONTHLY]}}const nP=[h.C9.UNITED_STATES,h.C9.UNITED_KINGDOM,h.C9.AUSTRIA,h.C9.BELGIUM,h.C9.BULGARIA,h.C9.CROATIA,h.C9.CYPRUS,h.C9.CZECH_REPUBLIC,h.C9.DENMARK,h.C9.ESTONIA,h.C9.FINLAND,h.C9.FRANCE,h.C9.GERMANY,h.C9.GREECE,h.C9.HUNGARY,h.C9.IRELAND,h.C9.ITALY,h.C9.LATVIA,h.C9.LITHUANIA,h.C9.LUXEMBOURG,h.C9.MALTA,h.C9.NETHERLANDS,h.C9.POLAND,h.C9.PORTUGAL,h.C9.ROMANIA,h.C9.SLOVAKIA,h.C9.SLOVENIA,h.C9.SPAIN,h.C9.SWEDEN];class iP extends eP{get frequency(){return Oe.EVERY_4_WEEKS}isMatch(e){var t,n;if(!(null===(t=e.widgetParams.recurringPlans)||void 0===t?void 0:t.every4weeks))return!1;const i=this.currencyService.convert(iP.MIN_AMOUNT_IN_USD,"USD",e.payParams.currency,!1,e.country);return(null!==(n=e.payParams.amount)&&void 0!==n?n:0)>=i&&(!(!e.country||!Z()(nP).call(nP,e.country))&&super.isMatch(e))}getFrequencyMinAmount(e){return e.minAmounts[Oe.EVERY_4_WEEKS]}}iP.MIN_AMOUNT_IN_USD=7e3;class aP{constructor(e,t,n){this.currencyService=e,this.suggestionsService=t,this.params=n,this.strategies=[],this.strategies=[new QN(this.params),new iP(this.currencyService,this.suggestionsService),new tP(this.currencyService,this.suggestionsService)]}canShowUpsellScreen(e){return this.resolveStrategy(e).isEnabled(e)}getUpsellAmounts(e){return this.resolveStrategy(e).getUpsellAmounts(e)}getTargetFrequency(e){return this.resolveStrategy(e).frequency}resolveStrategy(e){for(const t of this.strategies)if(t.isMatch(e))return t;return new JN}}class rP{static isDonorNameDataPoint(e,t){return"DonorName"===t}static isFiatDonationDataPoint(e,t){return"FiatDonation"===t}static isCryptoDonationDataPoint(e,t){return"CryptoDonation"===t}static isStockDonationDataPoint(e,t){return"StockDonation"===t}static isCoOwnerDataPoint(e,t){return"CoOwner"===t}static isPreDonationUpsellDataPoint(e,t){return"PreDonationUpsell"===t}static isPostDonationUpsellDataPoint(e,t){return"PostDonationUpsell"===t}static isPaymentOptionsDataPoint(e,t){return"PaymentOptions"===t}static isDTDDataPoint(e,t){return"DTD"===t}static isPaypalConversionDataPoint(e,t){return"PaypalConversion"===t}static isBrokerDataPoint(e,t){return"Broker"===t}static isSecuritiesDataPoint(e,t){return"Securities"===t}static isMailingAddressDataPoint(e,t){return"MailingAddress"===t}static isCustomerTitleDataPoint(e,t){return"CustomerTitle"===t}constructor(e,t,n,i,a,r,s,o,c,l,u,d,h,m){this.checkoutConfiguration=e,this.currencyService=t,this.addressService=n,this.suggestionsService=i,this.intl=a,this.userSession=r,this.sessionAPI=s,this.experiments=o,this.tracker=c,this.sentry=l,this.paymentMethodAvailabilityManagerRepository=u,this.mailingAddressCustomization=d,this.params=h,this.postDonationUpsellMlSuggestion=m}create(e){const t=this.getDataPoint(e);return rP.isFiatDonationDataPoint(t,e)||rP.isCryptoDonationDataPoint(t,e)||rP.isStockDonationDataPoint(t,e)?function(e,t,n,i,a,r,s,o){switch(o.flowType){case et.MONEY:return new qE(e,t,n,r,i,a,s);case et.CRYPTO:return new jE(e,t,n);case et.STOCK:return new VE(e,t);default:throw new ae(o.flowType)}}(this.checkoutConfiguration,this.currencyService,this.suggestionsService,this.userSession,this.transactionCosts,this.experiments,this.suggestedAmountHintsAI,{flowType:this.params.flowType}):rP.isPreDonationUpsellDataPoint(t,e)?new t(this.checkoutConfiguration,this.preDonationUpsellService,this.preDonationUpsellDecider):rP.isPostDonationUpsellDataPoint(t,e)?new t(this.checkoutConfiguration,this.postDonationUpsellServiceConstructor,this.postDonationUpsellMlSuggestion,this.currencyService):rP.isPaymentOptionsDataPoint(t,e)?new t(this.checkoutConfiguration,this.paymentMethodAvailabilityManagerRepository):rP.isDTDDataPoint(t,e)?new t(this.checkoutConfiguration,this.currencyService,this.doubleTheDonationAPI,this.transactionCosts):rP.isPaypalConversionDataPoint(t,e)?new t(this.checkoutConfiguration,this.currencyService,this.transactionCosts):rP.isBrokerDataPoint(t,e)?new t(this.checkoutConfiguration,new _E(this.sessionAPI)):rP.isSecuritiesDataPoint(t,e)?new t(this.checkoutConfiguration,new JA(this.sessionAPI,this.currencyService,this.checkoutConfiguration.infrastructureParams.livemode,{currency:this.checkoutConfiguration.company.defaultCurrency}),this.currencyService):rP.isDonorNameDataPoint(t,e)||rP.isCoOwnerDataPoint(t,e)?new t(this.checkoutConfiguration,this.validationSettings.personalInformation):rP.isMailingAddressDataPoint(t,e)?new t(this.checkoutConfiguration,this.addressService,this.addressValidationAPI,this.countriesService,this.mailingAddressModule,this.currencyService,this.paymentMethodAvailabilityManagerRepository,this.mailingAddressCustomization,{isRadicalScreensOrderChangeExperimentTestGroup:this.params.isRadicalScreensOrderChangeExperimentTestGroup}):(rP.isCustomerTitleDataPoint(t,e),new t(this.checkoutConfiguration))}get transactionCosts(){return this._transactionCosts||(this._transactionCosts=this.createTransactionCosts()),this._transactionCosts}get countriesService(){return this._countriesService||(this._countriesService=this.createCountriesService()),this._countriesService}get preDonationUpsellService(){return this.createPreDonationUpsellService()}get preDonationUpsellDecider(){return this.createPreDonationUpsellDecider()}get doubleTheDonationAPI(){return this.createDoubleTheDonationAPI()}get postDonationUpsellServiceConstructor(){return this.createPostDonationUpsellServiceConstructor()}get validationSettings(){return this.createValidationSettings()}get addressValidationAPI(){return this.createAddressValidationAPI()}get mailingAddressModule(){return this.createMailingAddressModule()}get suggestedAmountHintsAI(){var e;return null!==(e=this.createExternalConfigSuggestedAmountHintsAI())&&void 0!==e?e:this.createSuggestedAmountHintsAI()}get distribution(){return this.createDistribution()}getDataPoint(e){return XA[e]}createTransactionCosts(){return function(e){let{checkoutConfiguration:t,currencyService:n}=e;const i=(a=t.company,r=n,new mN(new yN,{customFixedFee:a.coverFees.amount,customFeePercent:a.coverFees.percent,applicationFeePercent:a.applicationFees.money,stripeFee:a.stripeFee,companyParams:{country:a.country||"US",defaultCurrency:a.defaultCurrency,useCustomFee:a.coverFees.custom}},new gN(r)));var a,r;return new eN(t,i)}({checkoutConfiguration:this.checkoutConfiguration,currencyService:this.currencyService})}createCountriesService(){return(0,CN.p)({intl:this.intl,excludePalestineFromCountriesList:this.checkoutConfiguration.featureConfig.excludePalestineFromCountriesList})}createDoubleTheDonationAPI(){return new QA(this.sessionAPI)}createAddressValidationAPI(){return new OE(this.sessionAPI)}createMailingAddressModule(){return new ZN({company:this.checkoutConfiguration.company,parentCompany:this.checkoutConfiguration.parentCompanyConfig,isDevMode:Wn()})}createValidationSettings(){return new SN({localeCode:this.intl.locale})}createPreDonationUpsellService(){return new aP(this.currencyService,this.suggestionsService,{isDevelopmentMode:Wn(),recurringPlans:this.checkoutConfiguration.company.recurringPlans})}createPreDonationUpsellDecider(){return new XN(this.sessionAPI)}createExternalConfigSuggestedAmountHintsAI(){var e,t;const n=this.checkoutConfiguration.campaign.config,i=null===(e=this.checkoutConfiguration.externalConfig.checkoutData)||void 0===e?void 0:e.hints,a=[];if(!i)return null;for(const e of this.checkoutConfiguration.enabledFrequencies)if(n.frequencies[e].hintsEnabled){var r;const s=null!==(t=i[e])&&void 0!==t?t:[],o=Fe()(r=n.frequencies[e].suggestedAmountHints).call(r,(e=>Z()(s).call(s,e.id)));if((null==s?void 0:s.length)!==o.length)return null;a.push({frequency:e,hints:o})}return E()(a).call(a,(e=>{let{hints:t}=e;return!t.length}))?null:new bN({enabledAI:!1,frequenciesHints:a,distribution:this.distribution,currencyService:this.currencyService,defaultCurrency:this.checkoutConfiguration.campaign.config.defaultCurrency})}createSuggestedAmountHintsAI(){var e,t,n;const i=this.checkoutConfiguration.campaign.config,a=[];if(v()(e=this.checkoutConfiguration.enabledFrequencies).call(e,(e=>{i.frequencies[e].hintsEnabled&&a.push({frequency:e,hints:[...i.frequencies[e].suggestedAmountHints]})})),!a.length)return null;const r=null===(n=null===(t=this.checkoutConfiguration.externalConfig.checkoutIntent)||void 0===t?void 0:t.donation)||void 0===n?void 0:n.selectedHintId;return new bN({enabledAI:i.enableAI,frequenciesHints:a,mandatoryHintsIds:r?[r]:void 0,distribution:this.distribution,currencyService:this.currencyService,defaultCurrency:this.checkoutConfiguration.campaign.config.defaultCurrency})}createDistribution(){return new ps({distributionId:this.tracker.clientId,name:"suggestedAmountHintsAI",variants:EN,sentry:this.sentry})}createPostDonationUpsellServiceConstructor(){const e=TE.getConstructor(this.checkoutConfiguration.infrastructureParams.showcase);return t=>e({amount:t.amount,minAmount:t.minAmount,currency:t.currency,timestamp:t.timestamp,suggestionsService:this.suggestionsService,currencyService:this.currencyService})}}class sP{constructor(e){this.dataPointFactory=e,this.dataPoints=new($t())}get list(){var e;return[...ui()(e=this.dataPoints).call(e)]}getDataPoint(e){let t=this.dataPoints.get(e);return void 0===t&&(t=this.registerDataPoint(e)),t}registerDataPoint(e){if(this.dataPoints.has(e))throw new oP(e);const t=this.dataPointFactory.create(e);return this.dataPoints.set(e,t),t}}class oP extends Error{constructor(e){super(`DataPoint "${e}" is already exists`)}}class cP{constructor(e){this.sessionAPI=e}pay(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.sessionAPI.post("pay",{paymentMethod:null==e?void 0:e.paymentMethod})}))}hold(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=k()({},e);return this.sessionAPI.post("hold",t,{rejectsOnInvalid:!0})}))}status(){return(0,y.mG)(this,void 0,void 0,(function*(){try{return(yield this.sessionAPI.get("status",{},{retries:5,delay:200,rejectsOnInvalid:!0})).completed}catch(e){throw new Error("Payment was not started")}}))}}const lP={amount:0,currency:"USD",isFallback:!0};class uP{constructor(e,t,n){this.sessionApi=e,this.currencyService=t,this.suggestions=n,this._amountSuggestion=lP,this._originalAmountSuggestion=lP}getOriginalAmountSuggestion(){return this._originalAmountSuggestion}getAdjustedAmountSuggestion(){return this._amountSuggestion}fetchAmountSuggestion(e){return(0,y.mG)(this,void 0,void 0,(function*(){try{const t=yield this.sessionApi.post("getPduAmount",e);if(dn.isSuccess(t)){const n=t.successResult;this._originalAmountSuggestion=n,this._amountSuggestion=this.adjustSuggestion(n,e.minRecurringAmount)}else this._originalAmountSuggestion=lP,this._amountSuggestion=lP}catch(e){this._originalAmountSuggestion=lP,this._amountSuggestion=lP}}))}adjustSuggestion(e,t){const{amount:n,currency:i}=e;if(n<t)return k()(k()({},e),{amount:t});const a=this.currencyService.convert(uP.MAX_AMOUNT_IN_USD,"USD",i);return n>a?k()(k()({},e),{amount:this.suggestions.beautify(a,i)}):k()(k()({},e),{amount:n})}}uP.MAX_AMOUNT_IN_USD=1e5;class dP{constructor(e,t,n,i,a,r,s,o){this.globalWindow=e,this.checkoutConfiguration=t,this.currencyService=n,this.donationDataPoint=i,this.postDonationUpsellDataPoint=a,this.donorNameDataPoint=r,this.donorEmailDataPoint=s,this.designationDataPoint=o}getUrl(e){var t,n,i;if(this.isShowcase)return null;const a=this.resolveTargetConfig(),r=a.type===h.Tl.REDIRECT,s=this.checkoutConfiguration.queryParams.successUrl||(r?a.redirect.url:null);if(!s)return null;const o={amount:this.currencyService.toFloatUnformattedStr(this.donationDataPoint.total,this.donationDataPoint.currency),monthly:this.postDonationUpsellDataPoint.isAccepted||this.donationDataPoint.frequency===Oe.MONTHLY,donationId:null!==(n=null===(t=e.donationResultState)||void 0===t?void 0:t.donationId)&&void 0!==n?n:"",currency:this.donationDataPoint.currency,frequency:this.donationDataPoint.frequency};if(r&&!a.redirect.includeSupporterData||(o.supporterFirstName=this.donorNameDataPoint.firstName,o.supporterLastName=this.donorNameDataPoint.lastName,o.supporterEmail=this.donorEmailDataPoint.email),this.designationDataPoint.goalKey){var c;const e=qe()(c=this.designationDataPoint.goals).call(c,(e=>e.key===this.designationDataPoint.goalKey));o.designationId=null==e?void 0:e.key,o.designationName=null==e?void 0:e.name}(null===(i=e.donationResultState)||void 0===i?void 0:i.tributeId)&&(o.tributeId=e.donationResultState.tributeId);try{const e=this.createURL(s);for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)){const n=o[t];e.searchParams.append(t,String(n))}return e.toString()}catch(e){return console.error("Invalid redirect URL"),null}}canRedirect(e){return!!this.getUrl(e)}tryRedirect(e){const t=this.getUrl(e.getState());return t?new(V())((()=>{this.redirect(t,e)})):V().resolve()}redirect(e,t){t.disarmCloseGuard(),this.globalWindow.location.replace(e)}get isShowcase(){return this.checkoutConfiguration.infrastructureParams.showcase}createURL(e){return"/"===e[0]&&(e=this.globalWindow.location.origin+e),/^https?:\/\//m.test(e)||(e="https://"+e),new(zt())(e)}resolveTargetConfig(){return this.checkoutConfiguration.checkoutType===at.PAGE&&this.checkoutConfiguration.campaignPage.thankYouScreen?this.checkoutConfiguration.campaignPage.thankYouScreen:this.checkoutConfiguration.campaign.config.thankYouScreen}}class hP extends Error{constructor(e){super(`Component "${e} doesnt defined, unable to preload`)}}class mP{constructor(e){this.componentsMap=e,this.componentImports=new(Ee())}add(e){return this.assertComponentDefined(e),this.componentImports.add(this.componentsMap[e]),this}load(){for(const e of this.componentImports)e()}assertComponentDefined(e){if(!this.componentsMap[e])throw new hP(e)}}class pP extends class{constructor(e,t){this.loadableComponents=e,this.campaignConfig=t}preload(){return this.configureLoadableComponents(),this.loadableComponents.load()}}{configureLoadableComponents(){this.campaignConfig.showPhone&&this.loadableComponents.add("PrivacyPhoneInput")}}const gP={PrivacyPhoneInput:()=>Promise.all([n.e(21),n.e(359)]).then(n.bind(n,66359))};function yP(e){const t=new mP(gP);return new pP(t,e)}class fP{constructor(e,t,n){var i;this.componentsPreloader=e,this.checkoutState=t,this._showCloseButton=!0,this._askPageActiveTab="cause",this._pagesOfQuestionsScreen=0,this._cookiePreferencesModalShown=!1,this._cookiePreferencesModalInitiatorElement=null,this._isDonationFormVisibleTrackEventBlocked=!1,this.firstScreen=n.screens.firstScreen,this.unrestrictedExitScreens=n.screens.unrestrictedExitScreens,this.mobileExitScreens=n.screens.mobileExitScreens,this.alwaysRenderedScreens=n.screens.alwaysRenderedScreens,this.screensWithoutTributeBadge=n.screens.screensWithoutTributeBadge,this.mobileScreensWithoutAskTitle=n.screens.mobileScreensWithoutAskTitle,this.mobileScreensWithAskText=n.screens.mobileScreensWithAskText,this.mobileScreensWithoutFaqLinks=n.screens.mobileScreensWithoutFaqLinks,this.mobileScreensWithoutAskPage=n.screens.mobileScreensWithoutAskPage,this.screensWithoutAskOverlay=n.screens.screensWithoutAskOverlay,this.canNotGoBackScreens=n.screens.canNotGoBackScreens,this.alwaysShowCloseButtonScreens=n.screens.alwaysShowCloseButtonScreens,this.conditionallyShowCloseButtonScreens=n.screens.conditionallyShowCloseButtonScreens,this.remindMeLaterUnavailableScreens=null===(i=null==n?void 0:n.screens)||void 0===i?void 0:i.remindMeLaterUnavailableScreens}get showCloseButton(){return this._showCloseButton}get showFAQLinks(){return!0}get askPageActiveTab(){return this._askPageActiveTab}get pagesOfQuestionsScreen(){return this._pagesOfQuestionsScreen}get cookiePreferencesModalShown(){return this._cookiePreferencesModalShown}get cookiePreferencesModalInitiatorElement(){return this._cookiePreferencesModalInitiatorElement}get isDonationFormVisibleTrackEventBlocked(){return this._isDonationFormVisibleTrackEventBlocked}set askPageActiveTab(e){this._askPageActiveTab=e}set pagesOfQuestionsScreen(e){this._pagesOfQuestionsScreen=e}set cookiePreferencesModalShown(e){this._cookiePreferencesModalShown=e}set cookiePreferencesModalInitiatorElement(e){this._cookiePreferencesModalInitiatorElement=e}set isDonationFormVisibleTrackEventBlocked(e){this._isDonationFormVisibleTrackEventBlocked=e}preloadComponents(){return this.componentsPreloader.preload()}setCloseButtonVisibility(e,t){var n,i;this._showCloseButton=!Z()(t).call(t,this.firstScreen)&&Z()(n=this.conditionallyShowCloseButtonScreens).call(n,e)||Z()(i=this.alwaysShowCloseButtonScreens).call(i,e),this.checkoutState.syncUpdate()}isUnrestrictedExitScreen(e){var t;return Z()(t=this.unrestrictedExitScreens).call(t,e)}isMobileExitScreen(e){var t;return Z()(t=this.mobileExitScreens).call(t,e)}isScreenWithoutTributeBadge(e){var t;return Z()(t=this.screensWithoutTributeBadge).call(t,e)}isMobileScreenWithoutAskTitle(e){var t;return Z()(t=this.mobileScreensWithoutAskTitle).call(t,e)}isMobileScreenWithAskText(e){var t;return Z()(t=this.mobileScreensWithAskText).call(t,e)}isMobileScreenWithoutFaqLinks(e){var t;return Z()(t=this.mobileScreensWithoutFaqLinks).call(t,e)}isMobileScreenWithoutAskPage(e){var t;return Z()(t=this.mobileScreensWithoutAskPage).call(t,e)}isScreenWithoutAskOverlay(e){var t;return Z()(t=this.screensWithoutAskOverlay).call(t,e)}isCanNotGoBackScreen(e){var t;return Z()(t=this.canNotGoBackScreens).call(t,e)}isRemindMeLaterAvailableScreen(e){var t;return void 0!==this.remindMeLaterUnavailableScreens&&!Z()(t=this.remindMeLaterUnavailableScreens).call(t,e)}}class vP extends fP{}const SP=[un.THANK_YOU],CP=[],bP=[un.THANK_YOU],EP=[],AP=[un.THANK_YOU],NP=[un.THANK_YOU],PP=[],xP=[un.THANK_YOU],kP=[],wP=[],DP=Dr.CRYPTO_CURRENCY,TP=[...AP,Dr.CRYPTO_CURRENCY],OP=[...PP,Dr.CRYPTO_CURRENCY],_P=[...wP,Dr.CRYPTO_CURRENCY],IP=[Dr.CRYPTO_CURRENCY,un.THANK_YOU],RP=[un.COMMENT],LP=[...bP,un.QUESTIONS,Dr.CRYPTO_CURRENCY],MP=[...SP,Dr.CRYPTO_CURRENCY],jP=[...xP],FP=[...kP],UP=[un.THANK_YOU],BP=[...CP],GP=[...EP],qP="facebook",VP="twitter",KP="linkedin",HP="email";function YP(e,t){if(void 0!==t){let n="?";return Z()(e).call(e,"?")&&(n="&"),`${e}${n}ref=${t}`}return e}function ZP(e,t,n,i,a){let r="";switch(e){case KP:return r=oa.stringify({mini:"true",url:YP(t,a),summary:n}),`https://www.linkedin.com/shareArticle?${r}`;case VP:return r=oa.stringify({url:YP(t,a),text:n}),`https://twitter.com/intent/tweet?${r}`;case qP:return r=oa.stringify({u:YP(t,a),quote:n}),`https://www.facebook.com/sharer.php?${r}`;case HP:return r=oa.stringify({body:yn([n,t],"\n"),subject:i||""}),`mailto:?${r}`;default:return""}}class zP{constructor(e){this.sharingApiParams=e}get isSharingEnabled(){const{email:e,twitter:t,linkedin:n,facebook:i,copyLink:a}=this.sharingChannels;return e||t||n||i||a}get sharingChannels(){return this.sharingApiParams.sharingChannels}get shareLink(){const e=this.sharingApiParams.sharingLink;return e?/^https?:\/\//m.test(e)?e:"https://"+e:window.location.href}share(e,t,n){if(this.sharingApiParams.showcase)return;const i=this.getSharingLink(e,t,n);window.open(i,"_blank","location=yes,height=400,width=550,scrollbars=yes,status=yes")}getSharingLink(e,t,n){const i=this.shareLink,a=this.sharingApiParams.sharingText||"";switch(e){case Ou.TWITTER:return ZP(VP,i,a,void 0,n);case Ou.LINKEDIN:return ZP(KP,i,a,void 0,n);case Ou.FACEBOOK:return ZP(qP,i,a,void 0,n);case Ou.EMAIL:return ZP(HP,i,a,t);case Ou.LINK:return i;default:throw new Error(`Unknown sharing type ${e}`)}}}function WP(e){var t;return e.checkoutType===at.PAGE&&(null===(t=e.campaignConfig)||void 0===t?void 0:t.campaignPage)?new zP({sharingChannels:k()(k()({},e.campaignConfig.campaignPage.thankYouScreen.sharing.channels),{copyLink:!1}),sharingLink:e.campaignConfig.campaignPage.thankYouScreen.sharing.link,showcase:e.isShowcase,sharingText:e.campaignConfig.campaignPage.thankYouScreen.sharing.text}):new zP({sharingChannels:k()(k()({},e.campaignConfig.thankYouScreen.sharing.channels),{copyLink:!1}),sharingLink:e.campaignConfig.thankYouScreen.sharing.link,showcase:e.isShowcase,sharingText:e.campaignConfig.thankYouScreen.sharing.text})}var $P;!function(e){e.PENDING_STATE_CHANGED="pendingStateChanged",e.SUBMIT="submit",e.SKIP="skip"}($P||($P={}));class XP extends Xb{constructor(e,t,n){let{name:i}=t;super(),this.flow=e,this.debug=n,this._pending=!1,this.updateListeners=new(Ee()),this.name=i}get data(){return{}}get pending(){return this._pending}set pending(e){this._pending=e,this.emit($P.PENDING_STATE_CHANGED,this._pending)}dispose(){this.removeUpdateListeners(),this.removeAllListeners()}onUpdate(e){this.updateListeners.add(e)}removeUpdateListener(e){this.updateListeners.delete(e)}beforeLeave(e){return V().resolve(!0)}beforeEnter(){return V().resolve()}getScreenData(){return{}}leave(){return this.flow.next()}submit(){this.emit($P.SUBMIT)}skip(){this.emit($P.SKIP)}syncUpdate(){this.triggerUpdate()}update(){this.scheduleUpdate()}triggerUpdate(){var e;v()(e=this.updateListeners).call(e,(e=>e()))}scheduleUpdate(){void 0!==this.updateTimeout&&window.clearTimeout(this.updateTimeout),this.updateTimeout=H()((()=>{this.triggerUpdate()}),XP.UPDATE_DEBOUNCE_MS)}removeUpdateListeners(){this.updateListeners.clear()}}XP.UPDATE_DEBOUNCE_MS=250;class QP extends XP{constructor(e){let{flow:t,name:n,checkoutService:i,debug:a,intl:r,subscriptionPeriodLabelsService:s,currencyService:o,experiments:c}=e;super(t,{name:n},a),this.checkoutService=i,this.intl=r,this.subscriptionPeriodLabelsService=s,this.currencyService=o,this.experiments=c,this.viewState=(0,rt.ZP)(this.getInitialViewState(),(e=>e)),this.on($P.PENDING_STATE_CHANGED,(e=>{"boolean"==typeof e&&this.setLocked(e)}))}getScreenData(){return this.viewState}leave(e){return this.name!==this.flow.getCurrentScreen().name?V().resolve():this.flow.next({getMandatoryAllowance:()=>this.checkoutService.shouldFindMandatoryScreen,direction:null==e?void 0:e.direction,omitBeforeLeave:null==e?void 0:e.omitBeforeLeave})}produceViewState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.viewState=(0,rt.ZP)(this.viewState,e),t||this.syncUpdate()}setLocked(e){e?(this.flow.lock(),this.produceViewState((e=>{e.locked=!0}))):(this.flow.unlock(),this.produceViewState((e=>{e.locked=!1})))}withPending(e){return(0,y.mG)(this,void 0,void 0,(function*(){this.pending=!0;const t=yield e();return this.pending=!1,t}))}}class JP extends QP{beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.checkoutService.makeDataPointOptional("Comment"),this.produceViewState((e=>{e.comment=this.commentDataPoint.comment}))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.checkoutService.collectDataPoint([this.commentDataPoint],{sessionUpdateParams:{canUseAmountDefaults:!0}}),!0}))}setComment(e){this.produceViewState((t=>{t.comment=e}))}submitComment(){this.commentDataPoint.comment=this.viewState.comment,this.leave({direction:Ho.BACKWARD})}getInitialViewState(){return{locked:!1,comment:""}}get commentDataPoint(){return this.checkoutService.getDataPoint("Comment")}}var ex=n(95209);const tx="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",nx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tx,n="";for(let i=0;i<e;i+=1)n+=t[Math.floor(Math.random()*t.length)];return n};var ix,ax={[et.MONEY]:"FiatDonation",[et.CRYPTO]:"CryptoDonation",[et.STOCK]:"StockDonation"};class rx extends QP{constructor(e,t,n,i){super(i),this.onBehalfOfDataPoint=e,this.countriesService=t,this.mailingAddressCustomization=n,this.addressSessionToken=nx()}get isOnBehalfOf(){return this.onBehalfOfDataPoint.isOnBehalfOf}getStates(e){return this.mailingAddressCustomization.getPredefinedRegions({country:e})}getAriaErrorMessage(e){return this.intl.translate("mailingAddressScreen.addressForm.error.required",{field:e.toLowerCase()})}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.checkoutService.resetDataPoint("MailingAddress");const e=this.countriesService.getMailingAddressCountriesList();this.produceViewState((t=>{var n,i,a;t.isRequired=this.mailingAddressDataPoint.isRequired,t.isPaymentScreen=this.isPaymentScreen,t.isCryptoFlow=this.isCryptoFlow,t.line1=this.mailingAddressDataPoint.line1,t.line2=this.mailingAddressDataPoint.line2,t.postal=this.mailingAddressDataPoint.postal,t.city=this.mailingAddressDataPoint.city,t.region=this.mailingAddressDataPoint.region,t.countryCode=this.mailingAddressDataPoint.countryCode,t.countryName=null!==(i=null===(n=qe()(e).call(e,(e=>e.countryCode===this.mailingAddressDataPoint.countryCode)))||void 0===n?void 0:n.countryName)&&void 0!==i?i:"",t.countries=e,t.isRegionEnabled=this.isRegionEnabled(this.mailingAddressDataPoint.countryCode),t.isLayoutPostalCodeFirst=this.isLayoutPostalCodeFirst(this.mailingAddressDataPoint.countryCode),t.isAlternativeLabels=this.isAlternativeLabels(this.mailingAddressDataPoint.countryCode),t.formattedAmount=this.intl.formatCurrency(null!==(a=this.donationDataPoint.total)&&void 0!==a?a:0,{currency:this.donationDataPoint.currency,display:"trimzeroes"}),t.frequency=this.donationDataPoint.frequency,this.hasMailingAddressError&&(t.processingState="error",t.payErrorMessage=this.checkoutService.payErrorMessage,t.additionalPayErrorMessage=this.checkoutService.additionalPayErrorMessage)}))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;this.pending=!0;const e=this.mailingAddressDataPoint.validate();if(!e.isValid)return this.produceViewState((t=>{t.validation=e,t.shakeKey+=1})),this.pending=!1,!1;if(this.mailingAddressDataPoint.checkShouldValidateOnServer()){if(this.pending=!0,this.setProcessingState("pending"),!(yield this.mailingAddressDataPoint.validateAddress()))return this.produceViewState((e=>{e.shakeKey+=1,e.hasServerValidationError=!0})),this.setProcessingState("error"),this.pending=!1,!1;this.setProcessingState("success"),this.pending=!1}return this.checkoutService.collectDataPoint([this.mailingAddressDataPoint]),this.isPaymentScreen?this.pay():(this.pending=!1,!0)}))}skip(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.pending=!0,this.checkoutService.collectDataPoint([this.mailingAddressDataPoint]),this.isPaymentScreen?(yield this.pay())?this.leave({omitBeforeLeave:!0}):void 0:(this.pending=!1,this.leave({omitBeforeLeave:!0}))}))}search(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.isAutocompleteEnabled())return;this.produceViewState((e=>{e.isLoadingPlaces=!0}));const n=yield this.getPlaces(e,t);this.produceViewState((e=>{e.places=De()(n).call(n,(e=>k()(k()({},e),{innerId:(0,ex.x0)()}))),e.isLoadingPlaces=!1}))}))}getPlaceById(e){var t;const n=qe()(t=this.viewState.places).call(t,(t=>t.innerId===e));if(!n)throw new Error(`No place with selected innerId "${e}"`);return n}shouldFindSubplaces(e){return this.mailingAddressDataPoint.shouldFindSubplaces(e)}retrieveSubplaces(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){const n="line1"===t?this.viewState.line1:this.viewState.postal;return this.search(n,e)}))}retrieveDetails(e){return(0,y.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.mailingAddressDataPoint.getDetails(e,this.addressSessionToken)}finally{this.addressSessionToken=nx()}this.mailingAddressDataPoint.setLine1(t.line1),this.mailingAddressDataPoint.setCity(t.city),this.isPostalCodeAutocompleteEnabled(this.mailingAddressDataPoint.countryCode)&&this.mailingAddressDataPoint.setPostal(t.postal),t.line2&&this.mailingAddressDataPoint.setLine2(t.line2),t.region&&this.mailingAddressDataPoint.setRegion(t.region),this.produceViewState((e=>{e.line1=this.mailingAddressDataPoint.line1,e.line2=this.mailingAddressDataPoint.line2,e.city=this.mailingAddressDataPoint.city,e.region=this.mailingAddressDataPoint.region,e.postal=this.mailingAddressDataPoint.postal,e.validation=OA.defaultValidationResult}))}))}changeLine1(e){this.mailingAddressDataPoint.setLine1(e),this.produceViewState((e=>{e.validation.fields.line1.isValid||(e.validation.fields.line1=OA.defaultValidationResult.fields.line1),e.line1=this.mailingAddressDataPoint.line1}))}changeLine2(e){this.mailingAddressDataPoint.setLine2(e),this.produceViewState((e=>{e.validation.fields.line2.isValid||(e.validation.fields.line2=OA.defaultValidationResult.fields.line2),e.line2=this.mailingAddressDataPoint.line2}))}changeCity(e){this.mailingAddressDataPoint.setCity(e),this.produceViewState((e=>{e.validation.fields.city.isValid||(e.validation.fields.city=OA.defaultValidationResult.fields.city),e.city=this.mailingAddressDataPoint.city}))}changeRegion(e){this.mailingAddressDataPoint.setRegion(e),this.produceViewState((e=>{e.validation.fields.region.isValid||(e.validation.fields.region=OA.defaultValidationResult.fields.region),e.region=this.mailingAddressDataPoint.region}))}changePostalCode(e){this.mailingAddressDataPoint.setPostal(e),this.produceViewState((e=>{e.validation.fields.postal.isValid||(e.validation.fields.postal=OA.defaultValidationResult.fields.postal),e.postal=this.mailingAddressDataPoint.postal}))}changeSelectedCountry(e){const t=this.isLayoutPostalCodeFirst(this.mailingAddressDataPoint.countryCode),n=this.isRegionEnabled(this.mailingAddressDataPoint.countryCode);this.mailingAddressDataPoint.setCountryCode(e),this.mailingAddressDataPoint.setRegion(this.getPredefinedRegion(e,t,n)),this.produceViewState((t=>{var n,i;t.countryCode=this.mailingAddressDataPoint.countryCode,t.countryName=qe()(n=this.viewState.countries).call(n,(t=>t.countryCode===e)).countryName,t.region=this.mailingAddressDataPoint.region,On()(i=t.places).call(i,0,t.places.length),t.isRegionEnabled=this.isRegionEnabled(this.mailingAddressDataPoint.countryCode),t.isLayoutPostalCodeFirst=this.isLayoutPostalCodeFirst(this.mailingAddressDataPoint.countryCode),t.isAlternativeLabels=this.isAlternativeLabels(e)}))}getPredefinedRegion(e,t,n){var i,a;const r=this.getStates(e);if(r){if(Be()(r))return null===(i=r[0])||void 0===i?void 0:i.code;const e=r[ne()(r)[0]],t=null===(a=null==e?void 0:e[0])||void 0===a?void 0:a.code;if(t)return t}const s=this.isLayoutPostalCodeFirst(this.mailingAddressDataPoint.countryCode),o=this.isRegionEnabled(this.mailingAddressDataPoint.countryCode);return t!==s||n!==o?"":this.mailingAddressDataPoint.region}getInitialViewState(){return{locked:!1,isRequired:!1,isPaymentScreen:!0,isCryptoFlow:!1,donateLabel:"",processingState:"idle",hasServerValidationError:!1,line1:"",line2:"",city:"",region:"",postal:"",countryCode:h.C9.UNITED_STATES,countryName:"",isLayoutPostalCodeFirst:!1,isRegionEnabled:!1,isAlternativeLabels:!1,countries:[],places:[],isLoadingPlaces:!1,shakeKey:0,validation:OA.defaultValidationResult,formattedAmount:"",frequency:Oe.MONTHLY}}get hasMailingAddressError(){return this.checkoutService.getState().hasMailingAddressError}get mailingAddressDataPoint(){return this.checkoutService.getDataPoint("MailingAddress")}get isPaymentScreen(){return this.name===this.checkoutService.getPaymentScreen(this.name)}get isCryptoFlow(){return this.checkoutService.type===et.CRYPTO}get donationDataPoint(){return this.checkoutService.getDataPoint(ax[this.checkoutService.type])}isLayoutPostalCodeFirst(e){return this.mailingAddressCustomization.isLayoutPostalCodeFirst({country:e})}isRegionEnabled(e){return this.mailingAddressCustomization.isRegionEnabled({country:e})}isPostalCodeAutocompleteEnabled(e){return this.mailingAddressCustomization.isPostalCodeAutocompleteEnabled({country:e})}isAlternativeLabels(e){return this.mailingAddressCustomization.isAlternativeLabels({country:e})}isAutocompleteEnabled(){return this.mailingAddressCustomization.isAutocompleteEnabled({company:this.checkoutService.checkoutConfiguration.company.key})}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){this.pending=!0,this.setProcessingState("pending");const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return dn.isSuccess(e)?(this.isCryptoFlow||(this.setProcessingState("success"),yield rs(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave)),this.pending=!1,!0):e.failureResult.shouldLeave?(this.pending=!1,!0):(this.produceViewState((e=>{e.payErrorMessage=this.checkoutService.payErrorMessage,e.additionalPayErrorMessage=this.checkoutService.additionalPayErrorMessage})),this.setProcessingState("error"),this.pending=!1,!1)}))}getPlaces(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){const n={input:Gt()(e).call(e),restrictCountries:[this.viewState.countryCode],sessionToken:this.addressSessionToken};return t?this.mailingAddressDataPoint.getSubplaces(k()({place:t},n)):this.mailingAddressDataPoint.getPlaces(k()({},n))}))}}class sx extends QP{beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{var t;e.isPaymentScreen=this.isPaymentScreen,e.isStockFlow=this.isStockFlow,e.firstName=this.donorNameDataPoint.firstName,e.lastName=this.donorNameDataPoint.lastName,e.email=this.donorEmailDataPoint.email,e.emailConsent.isEnabled=this.donorEmailDataPoint.emailConsent.isEnabled,e.showPhone=this.phoneNumberDataPoint.isEnabled,e.phoneRequired=this.phoneNumberDataPoint.isRequired,e.phone=this.phoneNumberDataPoint.phone,e.phoneLegalText=this.phoneNumberDataPoint.phoneLegalText,e.showPhoneLegalText=this.phoneNumberDataPoint.isLegalTextEnabled,e.userCountryCode=this.phoneNumberDataPoint.countryCode,e.showAnonymous=this.donateAnonymousDataPoint.isEnabled,e.anonymousChecked=this.donateAnonymousDataPoint.anonymousChecked,e.mailingListSubscription.show=this.mailingListSubscriptionDataPoint.isEnabled,e.mailingListSubscription.checked=this.mailingListSubscriptionDataPoint.checked,e.mailingListSubscription.text=this.mailingListSubscriptionDataPoint.text,e.processingState="idle",e.onBehalfOf.companyName=this.onBehalfOfDataPoint.companyName,e.onBehalfOf.isEnabled=this.onBehalfOfDataPoint.isEnabled,e.onBehalfOf.isActive=this.onBehalfOfDataPoint.isActive,e.termsAndConditions.text=this.termsAndConditionsDataPoint.text,e.termsAndConditions.isEnabled=this.termsAndConditionsDataPoint.isEnabled,e.termsAndConditions.isAccepted=this.termsAndConditionsDataPoint.isAccepted;const{showPhone:n}=e,i=!!this.customerTitleDataPoint.isEnabled&&n&&e.onBehalfOf.isEnabled&&e.showAnonymous&&e.mailingListSubscription.show&&e.termsAndConditions.isEnabled;e.isApplePayAlertVisible=this.isApplePayAlertVisible,e.allOptionsEnabled=i,e.customerTitle.title=this.customerTitleDataPoint.title,e.customerTitle.list=this.customerTitleDataPoint.titleList,e.customerTitle.isEnabled=this.customerTitleDataPoint.isEnabled,e.customerTitle.isRequired=this.customerTitleDataPoint.isRequired,e.donation.formattedAmount=this.intl.formatCurrency(null!==(t=this.donationDataPoint.total)&&void 0!==t?t:0,{currency:this.donationDataPoint.currency,display:"trimzeroes"}),e.donation.frequency=this.donationDataPoint.frequency,this.isStockFlow&&(e.brokerageAccountNumber.accountNumber=this.brokerageAccountNumberDataPoint.accountNumber,e.brokerageAccountNumber.isEnabled=this.brokerageAccountNumberDataPoint.isEnabled,e.brokerageAccountNumber.isRequired=this.brokerageAccountNumberDataPoint.isRequired),e.autoFocus=this.getAutoFocusConfig(e.brokerageAccountNumber.isEnabled,e.customerTitle.isEnabled)}))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;this.pending=!0;let e=!1;if(this.produceViewState((t=>{t.validation.customerTitle=this.customerTitleDataPoint.validate(),t.validation.donorName=this.donorNameDataPoint.validate(),t.validation.donorEmail=this.donorEmailDataPoint.validate(),t.validation.phone=this.phoneNumberDataPoint.validate(),t.validation.isAccepted=this.termsAndConditionsDataPoint.validate(),t.validation.onBehalfOf=this.onBehalfOfDataPoint.validate(),this.isStockFlow&&(t.validation.brokerageAccountNumber=this.brokerageAccountNumberDataPoint.validate()),e=this.checkHasError(t),e&&(t.shakeKey+=1)})),e)return this.pending=!1,!1;this.setProcessingState("pending");const t=[this.donorNameDataPoint,this.donorEmailDataPoint,this.donateAnonymousDataPoint,this.mailingListSubscriptionDataPoint,this.phoneNumberDataPoint,this.onBehalfOfDataPoint];this.isStockFlow&&t.push(this.brokerageAccountNumberDataPoint);const n=yield this.checkoutService.collectDataPoint(t);if(dn.isFailure(n)&&n.failureResult.customerEmailError)return yield this.startServerErrorFlow(),!1;if(!this.isPaymentScreen)return this.setProcessingState("idle"),this.pending=!1,!0;const i=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return dn.isSuccess(i)?(this.isCryptoFlow||(this.setProcessingState("success"),yield rs(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave)),this.pending=!1,!0):i.failureResult.shouldLeave?(this.pending=!1,!0):(this.produceViewState((e=>{e.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText"),e.additionalPayErrorMessage=this.checkoutService.additionalPayErrorMessage||""})),this.setProcessingState("error"),this.pending=!1,!1)}))}changeCompanyName(e){this.onBehalfOfDataPoint.companyName=e,this.produceViewState((e=>{e.validation.onBehalfOf.isValid||(e.validation.onBehalfOf=_A.defaultValidationResult),e.onBehalfOf.companyName=this.onBehalfOfDataPoint.companyName}))}changeCustomerTitle(e){this.customerTitleDataPoint.title=e,this.produceViewState((e=>{e.validation.customerTitle.isValid||(e.validation.customerTitle=wA.defaultValidationResult),e.customerTitle.title=this.customerTitleDataPoint.title}))}changeFirstName(e){this.donorNameDataPoint.setFirstName(e),this.produceViewState((e=>{e.validation.donorName.fields.firstName.isValid||(e.validation.donorName.fields.firstName=BA.defaultValidationResult.fields.firstName),e.firstName=this.donorNameDataPoint.firstName}))}changeLastName(e){this.donorNameDataPoint.setLastName(e),this.produceViewState((e=>{e.validation.donorName.fields.lastName.isValid||(e.validation.donorName.fields.lastName=BA.defaultValidationResult.fields.lastName),e.lastName=this.donorNameDataPoint.lastName}))}changeEmail(e){this.donorEmailDataPoint.setEmail(e),this.produceViewState((e=>{e.validation.donorEmail.fields.email.isValid||(e.validation.donorEmail.fields.email=GA.defaultValidationResult.fields.email),e.email=this.donorEmailDataPoint.email}))}changePhone(e){this.phoneNumberDataPoint.setPhone(e),this.produceViewState((e=>{e.validation.phone.isValid||(e.validation.phone=qA.defaultValidationResult),e.phone=this.phoneNumberDataPoint.phone}))}changePlainPhone(e){this.phoneNumberDataPoint.setCleanPhone(e)}changeCountryCode(e){this.phoneNumberDataPoint.setCountryCode(e),this.produceViewState((e=>{e.userCountryCode=this.phoneNumberDataPoint.countryCode}))}changeBrokerageAccountNumber(e){this.isStockFlow&&(this.brokerageAccountNumberDataPoint.accountNumber=e,this.produceViewState((e=>{e.validation.brokerageAccountNumber.isValid||(e.validation.brokerageAccountNumber=HE.defaultValidationResult),e.brokerageAccountNumber.accountNumber=this.brokerageAccountNumberDataPoint.accountNumber})))}toggleOnBehalfOf(){this.onBehalfOfDataPoint.isActive=!this.onBehalfOfDataPoint.isActive,this.produceViewState((e=>{e.onBehalfOf.isActive=this.onBehalfOfDataPoint.isActive,e.isPaymentScreen=this.isPaymentScreen}))}toggleTermsAndConditionsAccepted(){this.termsAndConditionsDataPoint.isAccepted=!this.termsAndConditionsDataPoint.isAccepted,this.produceViewState((e=>{var t;(null===(t=e.validation.isAccepted)||void 0===t?void 0:t.isValid)||(e.validation.isAccepted=WA.defaultValidationResult),e.termsAndConditions.isAccepted=this.termsAndConditionsDataPoint.isAccepted}))}toggleAnonymousChecked(){const e=this.donateAnonymousDataPoint.anonymousChecked;this.donateAnonymousDataPoint.anonymousChecked=!e,this.produceViewState((t=>{t.anonymousChecked=!e}))}toggleSubscriptionChecked(){const e=this.mailingListSubscriptionDataPoint.checked;this.mailingListSubscriptionDataPoint.checked=!e,this.produceViewState((t=>{t.mailingListSubscription.checked=!e}))}getInitialViewState(){return{shakeKey:0,validation:{brokerageAccountNumber:HE.defaultValidationResult,customerTitle:wA.defaultValidationResult,donorName:BA.defaultValidationResult,donorEmail:GA.defaultValidationResult,onBehalfOf:_A.defaultValidationResult,phone:qA.defaultValidationResult,isAccepted:WA.defaultValidationResult},serverErrors:{},showPhone:!1,phoneRequired:!1,showPhoneLegalText:!1,phoneLegalText:"",showAnonymous:!1,anonymousChecked:!1,mailingListSubscription:{checked:!1,show:!1,text:""},textIsVisible:!1,isApplePayAlertVisible:!1,allOptionsEnabled:!1,firstName:"",lastName:"",email:"",emailConsent:{isEnabled:!1},phone:null,isPaymentScreen:!1,payErrorMessage:"",additionalPayErrorMessage:"",userCountryCode:h.C9.UNITED_STATES,processingState:"idle",termsAndConditions:{isAccepted:!1,isEnabled:!1,text:""},onBehalfOf:{isEnabled:!1,isActive:!1,companyName:""},customerTitle:{title:tA.NONE,list:[],isEnabled:!1,isRequired:!1},locked:!1,donation:{formattedAmount:"",frequency:Oe.MONTHLY},brokerageAccountNumber:{isEnabled:!1,isRequired:!1,accountNumber:""},isStockFlow:!1,autoFocus:this.createDefaultAutoFocusConfig()}}get isPaymentScreen(){return this.name===this.checkoutService.getPaymentScreen(this.name)}get isFiatFlow(){return this.checkoutService.type===et.MONEY}get isStockFlow(){return this.checkoutService.type===et.STOCK}get isCryptoFlow(){return this.checkoutService.type===et.CRYPTO}get donorNameDataPoint(){return this.checkoutService.getDataPoint("DonorName")}get donorEmailDataPoint(){return this.checkoutService.getDataPoint("DonorEmail")}get termsAndConditionsDataPoint(){return this.checkoutService.getDataPoint("TermsAndConditions")}get phoneNumberDataPoint(){return this.checkoutService.getDataPoint("PhoneNumber")}get donateAnonymousDataPoint(){return this.checkoutService.getDataPoint("DonateAnonymous")}get mailingListSubscriptionDataPoint(){return this.checkoutService.getDataPoint("MailingListSubscription")}get onBehalfOfDataPoint(){return this.checkoutService.getDataPoint("OnBehalfOf")}get customerTitleDataPoint(){return this.checkoutService.getDataPoint("CustomerTitle")}get donationDataPoint(){return this.checkoutService.getDataPoint(ax[this.checkoutService.type])}get brokerageAccountNumberDataPoint(){return this.checkoutService.getDataPoint("BrokerageAccountNumber")}get paymentOptionsDataPoint(){return this.checkoutService.getDataPoint("PaymentOptions")}get isApplePay(){return this.paymentOptionsDataPoint.clientPaymentMethod===h.GZ.APPLE_PAY}get isMobile(){return this.checkoutService.checkoutConfiguration.infrastructureParams.isMobile}get isApplePayAlertVisible(){return this.isMobile&&this.isFiatFlow&&this.isApplePay}checkHasError(e){var t;return E()(t=ne()(e.validation)).call(t,(t=>{const n=e.validation[t];return!!n&&!n.isValid}))}startServerErrorFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.serverErrors.email=!0,e.shakeKey+=1,e.processingState="error"})),this.pending=!1}))}setProcessingState(e){return this.produceViewState((t=>{t.processingState=e})),this}getAutoFocusConfig(e,t){const n=this.createDefaultAutoFocusConfig();return e?(n.firstName=!1,n.brokerageAccountNumber=!0):t&&(n.firstName=!1,n.customerTitle=!0),n}createDefaultAutoFocusConfig(){return{brokerageAccountNumber:!1,customerTitle:!1,firstName:!0}}}class ox extends QP{get showBackButton(){const e=1!==this.viewState.page||this.checkoutService.canGoBack,t=this.checkoutService.checkoutConfiguration.infrastructureParams.isMobile;return{header:!t&&e,footer:t&&e}}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{var t,n;e.questions=De()(t=[...ms()(n=this.questionsDataPoint.questions).call(n)]).call(t,(e=>{let[t,n]=e;return{key:t,type:n.type,required:n.required,code:n.code,question:n.question,answer:n.answer,page:null,options:[...n.options]}})),e.isMeasuring=!0}))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){var e,t;const n=this.viewState.page,i=Fe()(e=this.viewState.questions).call(e,(e=>{let{page:t}=e;return t===n})),a=this.questionsDataPoint.validateQuestionsByKeys(De()(i).call(i,(e=>{let{key:t}=e;return t})));return a.isValid?E()(t=this.viewState.questions).call(t,(e=>{let{page:t}=e;return null===t||t>n}))?(this.produceViewState((e=>{e.page+=1})),yield this.checkoutService.updateSession(),!1):(this.checkoutService.collectDataPoint([this.questionsDataPoint]),!0):(this.produceViewState((e=>{for(const[t,{isValid:n}]of xt()(a.fields))e.questionErrors[t]=!n;e.shakeKey+=1})),!1)}))}back(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.viewState.page;if(1===e&&this.flow.canGoBack&&this.checkoutService.canGoBack)return this.flow.prev();this.produceViewState((t=>{for(const n of t.questions)n.page===e&&(t.questionErrors[n.key]=!1);t.page-=1}))}))}answerQuestion(e,t){this.questionsDataPoint.setAnswer(e,t),this.produceViewState((t=>{var n;const i=qe()(n=t.questions).call(n,(t=>t.key===e));if(!i)throw new Error(`No question with such key: "${e}"`);t.questionErrors[e]=!1;const a=this.questionsDataPoint.getAnswer(e);var r;Be()(a)?Be()(i.answer)?On()(r=i.answer).call(r,0,i.answer.length,...a):i.answer=[...a]:i.answer=a}))}navigateInShowcaseToPage(e){if(!this.viewState.isShowcase)throw new Error("Can be used only in showcase");this.produceViewState((t=>{t.page=e}))}completeMeasurement(e){if(e.size!==this.viewState.questions.length)throw new Error('"questionIndexesToPages" map should have the same length as questions array');this.produceViewState((t=>{for(const[n,i]of e)void 0!==t.questions[n]&&(t.questions[n].page=i,this.viewState.isShowcase&&(t.page=i));const n=this.checkoutService.checkoutConfiguration.showcase,i=n&&n.currentQuestionsPage;i&&(t.page=i),t.isMeasuring=!1})),this.checkoutService.checkoutUIState.pagesOfQuestionsScreen=this.getPagesOfQuestionsScreen(e)}getInitialViewState(){return{locked:!1,page:1,questions:[],hasBackButton:!0,isMeasuring:!1,questionErrors:{},shakeKey:0,isShowcase:this.checkoutService.checkoutConfiguration.infrastructureParams.showcase}}get questionsDataPoint(){return this.checkoutService.getDataPoint("Questions")}getPagesOfQuestionsScreen(e){const t=[...ui()(e).call(e)];return t[t.length-1]}}class cx extends QP{beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.resetToDefaultState(),this.checkoutService.updateSession({canUseAmountDefaults:!0}),this.checkoutService.abandonSession(),this.remindMeLaterDataPoint.setState({used:Pe.NO,shown:!0})}))}resetToDefaultState(){this.remindMeLaterDataPoint.setState({shown:!0,used:Pe.NOT_GIVEN})}updateEmail(e){this.donorEmailDataPoint.setEmail(e),this.produceViewState((t=>{t.email.isValid||(t.email.isValid=GA.defaultValidationResult.fields.email.isValid),t.email.value=e}))}updateIsTermsAndConditionsAccepted(e){this.termsAndConditionsDataPoint.isAccepted=e,this.produceViewState((t=>{t.termsAndConditions.isValid||(t.termsAndConditions.isValid=WA.defaultValidationResult.fields.isAccepted.isValid),t.termsAndConditions.isAccepted=e}))}save(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.donorEmailDataPoint.validate().isValid,t=this.termsAndConditionsDataPoint.validate().isValid,n=this.remindMeLaterDataPoint.validate().isValid,i=e&&t&&n;if(this.produceViewState((n=>{n.processingState="idle",n.email.isValid=e,n.termsAndConditions.isValid=t,i||(n.shakeKey+=1)})),!i)return!1;this.remindMeLaterDataPoint.setState({used:Pe.YES,shown:!0});const a=yield this.checkoutService.updateSession({canUseAmountDefaults:!0});if(dn.isFailure(a)&&a.failureResult.customerEmailError)return this.showEmailServerValidationError(),!1;const r=yield this.checkoutService.abandonSession();return!dn.isFailure(r)||!r.failureResult.customerEmailError||(this.showEmailServerValidationError(),!1)}))}saveOnClose(){this.donorEmailDataPoint.validate().isValid||this.updateEmail(""),this.termsAndConditionsDataPoint.validate().isValid||this.updateIsTermsAndConditionsAccepted(!1),this.checkoutService.updateSession({canUseAmountDefaults:!0}),this.checkoutService.abandonSession()}getInitialViewState(){return{locked:!1,email:{value:this.donorEmailDataPoint.email,isValid:!0},termsAndConditions:{isAccepted:this.termsAndConditionsDataPoint.isAccepted,isValid:!0,text:this.termsAndConditionsDataPoint.text},isTermsAndConditionsEnabled:this.termsAndConditionsDataPoint.isEnabled,processingState:"idle",serverErrors:{},shakeKey:0}}get remindMeLaterDataPoint(){return this.checkoutService.getDataPoint("RemindMeLater")}get termsAndConditionsDataPoint(){return this.checkoutService.getDataPoint("TermsAndConditions")}get donorEmailDataPoint(){return this.checkoutService.getDataPoint("DonorEmail")}showEmailServerValidationError(){this.produceViewState((e=>{e.processingState="error",e.serverErrors.email=!0,e.shakeKey+=1}))}}class lx extends QP{constructor(e,t,n,i,a,r){super(r),this.donationDataPoint=e,this.tributeDataPoint=t,this.postDonationUpsellDataPoint=n,this.redirectApi=i,this.sharingApi=a}get hasTribute(){return this.tributeDataPoint.isActive&&!!this.tributeDataPoint.tributeeName}get hasPostDonationUpsell(){var e,t;return null!==(t=null===(e=this.postDonationUpsellDataPoint)||void 0===e?void 0:e.isAccepted)&&void 0!==t&&t}get sendCardButton(){return this.intl.translate("thankYouScreen.sendCard.buttonNew")}get makeAnotherTributeButton(){return this.intl.translate("thankYouScreen.makeAnotherTribute.buttonNew")}get descriptionSharing(){switch(this.viewState.flowType){case et.MONEY:return this.descriptionSharingFiat;case et.CRYPTO:return this.hasTribute?this.intl.translate("thankYouScreen.descriptionNew.withTribute.crypto",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.descriptionNew.withoutTribute.crypto",{amount:this.viewState.formattedTotal});case et.STOCK:return this.hasTribute?this.intl.translate("thankYouScreen.description.withTribute.stock",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.description.withoutTribute.stock",{amount:this.viewState.formattedTotal});default:{const e=this.viewState.flowType;throw new Error(`Unknown flow type "${e}"`)}}}get descriptionTribute(){if(!this.checkoutService.checkoutConfiguration.infrastructureParams.showcase&&this.viewState.flowType===et.MONEY&&this.donationDataPoint instanceof qE){const e=this.donationDataPoint.isRecurring,t=this.donationDataPoint.frequency;if(e&&t!==Oe.ONCE)return this.intl.translate("thankYouScreen.descriptionNew.withTribute.fiat.recurring",{amount:this.viewState.formattedTotal,recurringType:this.recurringTypes[t],dedicatedTo:this.viewState.tribute.inHonorOf})}return this.viewState.flowType===et.STOCK?this.intl.translate("thankYouScreen.description.withTribute.stock",{dedicatedTo:this.viewState.tribute.inHonorOf}):this.viewState.flowType===et.CRYPTO?this.intl.translate("thankYouScreen.descriptionNew.withTribute.crypto",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.descriptionNew.withTribute.fiat.once",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf})}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.redirectApi.canRedirect(this.checkoutService.getState())?(yield this.checkoutService.tryCloseSession(),yield this.redirectApi.tryRedirect(this.checkoutService)):this.checkoutService.tryCloseSession();const e=this.donationDataPoint.total||0,t=this.donationDataPoint.currency;this.produceViewState((n=>{var i,a;n.currency=t,n.total=e,n.formattedTotal=this.intl.formatCurrency(n.total,{currency:n.currency,display:"fulltrimzeroes"}),n.tributeDonorPortalLink=null!==(a=null===(i=this.checkoutService.getState().donationResultState)||void 0===i?void 0:i.tributeDonorPortalLink)&&void 0!==a?a:"",n.tribute.inHonorOf=this.tributeDataPoint.tributeeName,n.variant=this.variant;const{email:r,twitter:s,linkedin:o,facebook:c}=this.sharingApi.sharingChannels;n.sharing.showEmail=r,n.sharing.showTwitter=s,n.sharing.showLinkedin=o,n.sharing.showFacebook=c,n.postDonationUpsellData=this.postDonationUpsellData}))}))}getSharingLink(e){return this.sharingApi.getSharingLink(e,this.intl.translate("thankYouScreen.share.emailSubject"))}share(e,t){this.sharingApi.share(e,this.intl.translate("thankYouScreen.share.emailSubject"),t)}makeAnotherDonation(){}getInitialViewState(){return{locked:!1,variant:"Sharing",currency:"USD",total:0,formattedTotal:"",sharing:{showFacebook:!0,showTwitter:!0,showLinkedin:!0,showEmail:!0},tribute:{inHonorOf:""},postDonationUpsellData:{formattedAmount:"",formattedStartDate:"",recurringType:""},tributeDonorPortalLink:"",flowType:this.checkoutService.type}}get descriptionSharingFiat(){if(!this.checkoutService.checkoutConfiguration.infrastructureParams.showcase&&this.donationDataPoint instanceof qE){const e=this.donationDataPoint.frequency;if(this.hasPostDonationUpsell)return this.intl.translate("thankYouScreen.descriptionNew.withoutTribute.fiat.upsell",{amount:this.viewState.formattedTotal,recurringType:this.viewState.postDonationUpsellData.recurringType,date:this.viewState.postDonationUpsellData.formattedStartDate,guaranteedAmount:this.viewState.postDonationUpsellData.formattedAmount});if(e!==Oe.ONCE)return this.hasTribute?this.intl.translate("thankYouScreen.descriptionNew.withTribute.fiat.recurring",{amount:this.viewState.formattedTotal,recurringType:this.recurringTypes[e],dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.descriptionNew.withoutTribute.fiat.recurring",{amount:this.viewState.formattedTotal,recurringType:this.recurringTypes[e]})}return this.hasTribute?this.intl.translate("thankYouScreen.descriptionNew.withTribute.fiat.once",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.descriptionNew.withoutTribute.fiat.once",{amount:this.viewState.formattedTotal})}get postDonationUpsellFormattedAmount(){var e;return this.intl.formatCurrency((null===(e=this.postDonationUpsellDataPoint)||void 0===e?void 0:e.guaranteedAmount)||0,{currency:this.donationDataPoint.currency,display:"fulltrimzeroes"})}get postDonationUpsellFormattedStartDate(){var e;return this.intl.formatDate((null===(e=this.postDonationUpsellDataPoint)||void 0===e?void 0:e.startDate)||"",{type:z.nx.LONG})}get postDonationUpsellRecurringType(){var e;return(null===(e=this.postDonationUpsellDataPoint)||void 0===e?void 0:e.period)?this.recurringTypes[this.postDonationUpsellDataPoint.period]:""}get postDonationUpsellData(){return{recurringType:this.postDonationUpsellRecurringType,formattedAmount:this.postDonationUpsellFormattedAmount,formattedStartDate:this.postDonationUpsellFormattedStartDate}}get recurringTypes(){return this.checkoutService.checkoutConfiguration.checkoutType===at.MODAL?{[Oe.DAILY]:this.intl.translate("widgetSubscriptionPeriodLabel.daily.adverb"),[Oe.WEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.adverb"),[Oe.BIWEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.adverb"),[Oe.EVERY_4_WEEKS]:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.adverb"),[Oe.MONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.adverb"),[Oe.BIMONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.adverb"),[Oe.QUARTERLY]:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.adverb"),[Oe.SEMIANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.adverb"),[Oe.ANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.annual.adverb")}:this.checkoutService.checkoutConfiguration.checkoutType===at.PAGE?{[Oe.DAILY]:this.intl.translate("widgetSubscriptionPeriodLabel.daily.adjective"),[Oe.WEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.adjective"),[Oe.BIWEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.adjective"),[Oe.EVERY_4_WEEKS]:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.adjective"),[Oe.MONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.adjective"),[Oe.BIMONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.adjective"),[Oe.QUARTERLY]:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.adjective"),[Oe.SEMIANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.adjective"),[Oe.ANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.annual.adjective")}:{[Oe.DAILY]:this.intl.translate("widgetSubscriptionPeriodLabel.daily.adjective"),[Oe.WEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.adjective"),[Oe.BIWEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.adjective"),[Oe.EVERY_4_WEEKS]:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.adjective"),[Oe.MONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.adjective"),[Oe.BIMONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.adjective"),[Oe.QUARTERLY]:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.adjective"),[Oe.SEMIANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.adjective"),[Oe.ANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.annual.adjective")}}get isSharingEnabled(){return this.sharingApi.isSharingEnabled}get variant(){return this.hasTribute&&this.tributeDataPoint.isSharingEnabled?"Tribute":this.isSharingEnabled?"Sharing":"Default"}}!function(e){e[e.IN_HONOR_OF_MAX_LENGTH=200]="IN_HONOR_OF_MAX_LENGTH"}(ix||(ix={}));class ux{static getInHonorOfMaxLength(e){var t;return Z()(t=["AJGEZYBE","ATBTMWDS"]).call(t,e)?30:ix.IN_HONOR_OF_MAX_LENGTH}}class dx extends QP{constructor(e){super(e),this.donationDataPoint=e.donationDataPoint,this.tributeDataPoint=e.tributeDataPoint,this.commentDataPoint=e.commentDataPoint,this.designationDataPoint=e.designationDataPoint}getAllowedGoals(e,t){return Fe()(e).call(e,(e=>this.designationDataPoint.isGoalAllowedToShow(e,t)))}getGoalByKey(e){var t;return qe()(t=this.viewState.designation.goals).call(t,(t=>t.key===e))||null}shouldShowDesignation(){return this.viewState.designation.show&&!!this.getAllowedGoals(this.viewState.designation.goals,this.viewState.frequency).length}addComment(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.checkoutService.makeDataPointRequired("Comment"),this.leave({omitBeforeLeave:!0})}))}validateDesignation(){const e=this.designationDataPoint.validateDesignation(this.viewState.frequency);this.produceViewState((t=>{t.designation.isValid=e.isValid,t.errors.designation.required=e.fields.goal.errors.required}))}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.designationDataPoint.goalKey||this.designationDataPoint.changeGoalKeyByFrequency(Oe.ONCE),this.produceViewState((e=>{var t;e.currencyCode=this.donationDataPoint.currency,e.currencyName=this.currencyService.getName(this.donationDataPoint.currency),e.currencies=De()(t=this.donationDataPoint.currencyList).call(t,(e=>({code:e,name:this.donationDataPoint.getCurrencyName(e),type:e}))),e.defaultFiatCurrency=this.donationDataPoint.defaultFiatCurrency,e.frequency=Oe.ONCE,e.amount=this.donationDataPoint.amount||null,e.amountInUsd=this.donationDataPoint.amountInUSD||0,e.amountInDefaultFiat=this.donationDataPoint.amountInDefaultFiat,e.minAmount=this.donationDataPoint.minAmount,e.tribute.show=this.tributeDataPoint.isEnabled,e.tribute.isActive=this.tributeDataPoint.isActive,e.tribute.labelType=this.tributeDataPoint.labelType,e.tribute.sharingEnabled=this.tributeDataPoint.isSharingEnabled,e.tribute.name=this.tributeDataPoint.tributeeName,e.tribute.isFilled=this.tributeDataPoint.isFilled,e.tribute.isOptional=this.tributeDataPoint.isOptional,e.tribute.isTributeOriented=this.tributeDataPoint.isTributeOriented,e.designation.show=this.designationDataPoint.isEnabled,e.designation.goalKey=this.designationDataPoint.goalKey,e.designation.goals=this.designationDataPoint.goals,e.designation.isEditable=this.designationDataPoint.canChangeDesignation(this.getAllowedGoals(e.designation.goals,e.frequency).length),e.comment.isEnabled=this.commentDataPoint.isEnabled,e.comment.content=this.commentDataPoint.comment,e.comment.prevContent=this.commentDataPoint.prevComment,e.livemode=this.checkoutService.livemode,e.isCryptoAccountConnected=!!this.checkoutService.company.cryptoProvider}))}))}changeAmount(e){return(0,y.mG)(this,void 0,void 0,(function*(){this.donationDataPoint.amount=e,this.checkoutService.syncUpdateCheckoutState();const t=this.donationDataPoint.validate();this.produceViewState((n=>{n.amount=e,n.amountInUsd=this.donationDataPoint.amountInUSD||0,n.amountInDefaultFiat=this.donationDataPoint.amountInDefaultFiat,n.isDefaultAmount=!1,n.errors.amount.required=!1,n.errors.amount.min&&(n.errors.amount.min=t.fields.amount.errors.min),n.errors.amount.max&&(n.errors.amount.max=t.fields.amount.errors.max)}))}))}validateAmount(){const e=this.donationDataPoint.validate();this.produceViewState((t=>{t.isAmountValid=e.fields.amount.isValid,t.errors.amount.min=e.fields.amount.errors.min,t.errors.amount.max=e.fields.amount.errors.max,t.errors.amount.required=e.fields.amount.errors.required}))}savePrevComment(){this.checkoutService.checkoutConfiguration.infrastructureParams.showcase||this.commentDataPoint.savePrevComment()}changeCryptoCurrency(e){return(0,y.mG)(this,void 0,void 0,(function*(){this.donationDataPoint.currency=e,this.viewState.isDefaultAmount&&(this.donationDataPoint.setAmountByDefault(e),this.produceViewState((e=>{e.amount=this.donationDataPoint.total}))),this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((t=>{t.currencyCode=e,t.currencyName=this.currencyService.getName(e),t.amountInUsd=this.donationDataPoint.amountInUSD||0,t.amountInDefaultFiat=this.donationDataPoint.amountInDefaultFiat}))}))}toggleTribute(){this.tributeDataPoint.isActive=!this.tributeDataPoint.isActive,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((e=>{e.tribute.isActive=this.tributeDataPoint.isActive,e.tribute.isFilled=this.tributeDataPoint.isFilled}))}changeTributeName(e){this.tributeDataPoint.tributeeName=e,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((e=>{e.tribute.name=this.tributeDataPoint.tributeeName,e.tribute.isFilled=this.tributeDataPoint.isFilled}))}changeGoal(e){this.designationDataPoint.setGoalKey(e,this.viewState.frequency),this.produceViewState((e=>{e.designation.goalKey=this.designationDataPoint.goalKey})),this.validateDesignation()}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){return!this.pending&&(this.pending=!0,this.produceViewState((e=>{e.processingState="pending"})),this.validateAmount(),this.validateDesignation(),this.viewState.isAmountValid?this.viewState.designation.isValid?(this.checkoutService.collectDataPoint([this.donationDataPoint,this.tributeDataPoint,this.designationDataPoint,this.commentDataPoint]),this.hold()):(this.produceViewState((e=>{e.designationShakeKey+=1,e.processingState="idle"})),this.pending=!1,!1):(this.produceViewState((e=>{e.processingState="idle"})),this.pending=!1,!1))}))}getInitialViewState(){return{processingState:"idle",locked:!1,amount:null,amountInUsd:0,amountInDefaultFiat:0,minAmount:dx.MIN_DONATION_AMOUNT_IN_USD,maxAmount:dx.MAX_DONATION_AMOUNT_IN_USD,isAmountValid:!0,currencyCode:"BTC",currencyName:this.currencyService.getName("BTC"),defaultFiatCurrency:"USD",frequency:Oe.ONCE,errors:{amount:{min:!1,max:!1,required:!1},payment:{status:!1},designation:{required:!1}},tribute:{name:"",isActive:!1,show:!1,labelType:h.h2.IN_HONOR_MEMORY,sharingEnabled:!1,isFilled:!1,inHonorOfMaxLength:ux.getInHonorOfMaxLength(this.checkoutService.company.key),isOptional:!1,isTributeOriented:!1},designation:{show:!1,goalKey:null,goals:[],isEditable:!0,isValid:!0},currencies:[],enabledFlows:{money:this.checkoutService.checkoutConfiguration.enabledFlows.money,stock:this.checkoutService.checkoutConfiguration.enabledFlows.stock},comment:{isEnabled:this.checkoutService.campaignConfig.showComment,content:"",prevContent:""},flowType:this.checkoutService.type,livemode:!0,isCryptoAccountConnected:!0,isDefaultAmount:!0,designationShakeKey:0}}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.checkoutService.hold();return this.pending=!1,!dn.isFailure(e)||(this.handleHoldError(e),!1)}))}handleHoldError(e){dn.isSuccess(e)||this.produceViewState((e=>{e.errors.payment.status=!0,e.errors.payment.title=this.intl.translate("common.errorOccurredText"),e.errors.payment.message="",e.processingState="error"}))}}dx.MIN_DONATION_AMOUNT_IN_USD=100,dx.MAX_DONATION_AMOUNT_IN_USD=1e8;class hx extends QP{constructor(e){super(e),this.donationDataPoint=e.donationDataPoint}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){const{cryptoAddress:e}=this.checkoutService.getState();if(!e)throw new Error("cryptoAddress was not set");this.produceViewState((t=>{var n;t.formattedAmount=this.intl.formatCurrency(null!==(n=this.donationDataPoint.total)&&void 0!==n?n:0,{display:"trimzeroes",currency:this.donationDataPoint.currency,withoutPrefix:!0,withoutSuffix:!0}),t.currencyCode=this.donationDataPoint.currency,t.walletAddress=e,t.networkName=this.donationDataPoint.currencyNetworkData.networkName,t.protocol=this.donationDataPoint.currencyNetworkData.protocol})),this.leaveOnSuccessfulPayment()}))}getInitialViewState(){return{locked:!1,formattedAmount:"0",walletAddress:"",currencyCode:"",networkName:"",protocol:""}}leaveOnSuccessfulPayment(){const e=Ch()((()=>{this.checkoutService.isPaymentCompleted&&(clearInterval(e),this.leave())}),5e3)}}const mx={[Dr.CRYPTO_CURRENCY]:class extends dx{},[Dr.CRYPTO_WALLET]:class extends hx{},[un.COMMENT]:class extends JP{},[un.PRIVACY]:class extends sx{},[un.THANK_YOU]:class extends lx{},[un.REMIND_ME]:class extends cx{},[un.MAILING_ADDRESS]:class extends rx{},[un.QUESTIONS]:class extends ox{}};class px{static isCryptoCurrencyScreenController(e,t){return t===Dr.CRYPTO_CURRENCY}static isCryptoWalletScreenController(e,t){return t===Dr.CRYPTO_WALLET}static isThankYouScreenController(e,t){return t===un.THANK_YOU}static isMailingAddressScreenController(e,t){return t===un.MAILING_ADDRESS}constructor(e,t,n,i,a,r,s){this.checkoutService=e,this.intl=t,this.debug=n,this.currencyService=i,this.subscriptionPeriodLabelsService=a,this.mailingAddressCustomization=r,this.experiments=s}create(e,t){const n=mx[e],i={name:e,flow:t,checkoutService:this.checkoutService,debug:this.debug,intl:this.intl,subscriptionPeriodLabelsService:this.subscriptionPeriodLabelsService,currencyService:this.currencyService,experiments:this.experiments};return px.isCryptoCurrencyScreenController(n,e)?new n(k()(k()({},i),{donationDataPoint:this.checkoutService.getDataPoint("CryptoDonation"),tributeDataPoint:this.checkoutService.getDataPoint("Tribute"),commentDataPoint:this.checkoutService.getDataPoint("Comment"),designationDataPoint:this.checkoutService.getDataPoint("Designation")})):px.isCryptoWalletScreenController(n,e)?new n(k()(k()({},i),{donationDataPoint:this.checkoutService.getDataPoint("CryptoDonation")})):px.isThankYouScreenController(n,e)?new n(this.checkoutService.getDataPoint("CryptoDonation"),this.checkoutService.getDataPoint("Tribute"),null,this.redirectApi,this.sharingApi,i):px.isMailingAddressScreenController(n,e)?new n(this.checkoutService.getDataPoint("OnBehalfOf"),this.countriesService,this.mailingAddressCustomization,i):new n(i)}get redirectApi(){return this.checkoutService.redirectApi}get sharingApi(){return this._sharingApi||(this._sharingApi=WP({checkoutType:this.checkoutService.checkoutConfiguration.checkoutType,isShowcase:this.checkoutService.checkoutConfiguration.infrastructureParams.showcase,campaignConfig:this.checkoutService.campaignConfig})),this._sharingApi}get countriesService(){return this._countriesService||(this._countriesService=(0,CN.p)({intl:this.intl,excludePalestineFromCountriesList:this.checkoutService.checkoutConfiguration.featureConfig.excludePalestineFromCountriesList})),this._countriesService}}const gx=Dr.CRYPTO_CURRENCY,yx=wr(Tr);function fx(e){var t;let{checkoutConfiguration:n,intl:i,tracker:a,debug:r,currencyService:s,suggestionsService:o,targetWindow:c,globalWindow:l,sentry:u,subscriptionPeriodLabelsService:d,userSession:h,addressService:m,eventEmitter:p,checkoutAPIBridge:g,experiments:y,initialScreen:f,logger:v,requestService:S,paymentMethodAvailabilityManagerRepository:b,mailingAddressCustomization:E}=e;const A=new aE(PE.SESSION_UPDATE_DEBOUNCE),N=new xE(a,n,u,A,S),P=new uP(N,s,o),x=new rP(n,s,m,o,i,h,N,y,a,u,b,E,{flowType:et.CRYPTO},P),k=new sP(x),w=new wE(k,n,N),D=function(e,t,n){const i=e.campaign.config;return new fE(i,t,e,n)}(n,r,k),T=new vE(D,{screenSet:{mailingAddress:un.MAILING_ADDRESS,privacy:un.PRIVACY}}),O=yP(n.campaign.config),_=new cP(N),I=function(e,t){return new vP(e,t,{screens:{firstScreen:DP,unrestrictedExitScreens:MP,mobileExitScreens:BP,alwaysRenderedScreens:GP,screensWithoutTributeBadge:TP,mobileScreensWithoutAskTitle:UP,mobileScreensWithAskText:OP,mobileScreensWithoutFaqLinks:jP,mobileScreensWithoutAskPage:FP,screensWithoutAskOverlay:_P,canNotGoBackScreens:LP,alwaysShowCloseButtonScreens:IP,conditionallyShowCloseButtonScreens:RP}})}(O,D),R=new dP(l,n,s,k.getDataPoint("FiatDonation"),k.getDataPoint("PostDonationUpsell"),k.getDataPoint("DonorName"),k.getDataPoint("DonorEmail"),k.getDataPoint("Designation")),L=new gE(k,n,D,I,w,N,a,s,i,c,u,T,p,g,r,y,_,v,R,{screenSet:{thankYou:un.THANK_YOU}}),M=new px(L,i,r,s,d,E,y),j=f&&yx(f)?f:void 0;var F;return{checkoutService:L,formFlow:tE(M,(F=j,{defaultInitial:()=>gx,initial:()=>F||gx,screens:{[Dr.CRYPTO_CURRENCY]:{next:e=>e().comment.isRequired?un.COMMENT:un.PRIVACY},[un.COMMENT]:{next:()=>Dr.CRYPTO_CURRENCY},[un.PRIVACY]:{next:e=>e().mailingAddress.isEnabled?un.MAILING_ADDRESS:Dr.CRYPTO_WALLET},[un.MAILING_ADDRESS]:{next:()=>Dr.CRYPTO_WALLET},[Dr.CRYPTO_WALLET]:{next:e=>e().questions.isEnabled?un.QUESTIONS:un.THANK_YOU},[un.QUESTIONS]:{next:()=>un.THANK_YOU},[un.THANK_YOU]:{}}}),C()(t=D.get).call(t,D))}}Error;class vx extends Error{constructor(){super("Amount is required")}}class Sx extends Error{constructor(){super("Intent secret is not provided")}}Error;class Cx extends Error{constructor(){super("Could not retrieve iDEAL payment intent")}}Error;class bx{static handleError(e){return"validation_error"===e.type?dn.fail({}):dn.fail({message:e.message})}constructor(e,t,n,i,a){this.stripe=e,this.paymentOptionsDataPoint=t,this.intl=n,this.sentry=i,this.paymentAPI=a,this.name=h.GZ.ACSS,this.intentSecret=null,this.params=null}initiateFlow(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.params=e,!0}))}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.hold({clientPaymentMethod:h.GZ.ACSS});if(dn.isFailure(e))return e;const{intentSecret:t}=e.successResult;if(!t)throw new Sx;return this.intentSecret=t,dn.success(void 0)}))}startFlow(){var e,t,n,i,a;return(0,y.mG)(this,void 0,void 0,(function*(){if(this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.ACSS),yield this.hold(),!this.intentSecret)return dn.fail({});const r=yield this.stripe.retrieveSetupIntent(this.intentSecret);if((null===(e=r.setupIntent)||void 0===e?void 0:e.status)===IE.OQ.SUCCEEDED)return dn.success(void 0);let s;try{null===(n=null===(t=this.params)||void 0===t?void 0:t.onPopupOpen)||void 0===n||n.call(t),s=yield this.stripe.confirmAcssDebitSetup(this.intentSecret,{payment_method:{billing_details:{name:pe,email:ge}}},{skipMandate:!1})}catch(o){return this.sentry.captureException(o),dn.fail({message:this.commonErrorText})}finally{null===(a=null===(i=this.params)||void 0===i?void 0:i.onPopupClose)||void 0===a||a.call(i)}const o=s.error;return o?bx.handleError(o):dn.success(void 0)}))}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay();return dn.isSuccess(e)?e:dn.fail({shouldLeave:!1,message:e.failureResult.message})}))}get commonErrorText(){return this.intl.translate("common.errorOccurredText")}}var Ex;!function(e){e.PAYMENT_METHOD_MICRODEPOSIT_VERIFICATION_DESCRIPTOR_CODE_MISMATCH="payment_method_microdeposit_verification_descriptor_code_mismatch",e.PAYMENT_METHOD_MICRODEPOSIT_VERIFICATION_ATTEMPTS_EXCEEDED="payment_method_microdeposit_verification_attempts_exceeded",e.BANK_ACCOUNT_UNUSABLE="bank_account_unusable",e.ACCOUNT_NUMBER_INVALID="account_number_invalid",e.PAYMENT_INTENT_AUTHENTICATION_FAILURE="payment_intent_authentication_failure"}(Ex||(Ex={}));class Ax{static handleCardError(e,t,n){return{message:t?e.translate("creditCardScreen.cardError.title"):n,additionalMessage:t?e.translate("creditCardScreen.cardError.message"):void 0}}static handle3DsAuthResult(e){return e?e.code===Ex.PAYMENT_INTENT_AUTHENTICATION_FAILURE?dn.fail({message:e.message}):dn.fail({}):dn.success({})}constructor(e,t,n){this.stripe=e,this.stripePaymentMethod=t,this.paymentAPI=n}perform(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay({paymentMethod:this.stripePaymentMethod});if(dn.isSuccess(e))return e;const t=e.failureResult.errors,n=null==t?void 0:t.customCode,i=null==t?void 0:t.intentSecret;return t?n&&i&&"requires_action"===t.customCode?this.initiate3DS(t.intentSecret,this.stripePaymentMethod):dn.fail({}):dn.fail({hasBaseErrorMessage:!!e.failureResult.message})}))}initiate3DS(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){const n=yield this.stripe.handleCardAction(e),i=Ax.handle3DsAuthResult(n.error);if(dn.isFailure(i))return i;const a=yield this.paymentAPI.pay({paymentMethod:t});return dn.isFailure(a)?dn.fail({}):a}))}}class Nx{constructor(e){this.params=e}init(){return this.makePaymentRequest().then((e=>{let{canMakePaymentResult:t}=e;return!!(null==t?void 0:t.applePay)}))}create(e){return this.makePaymentRequest().then((t=>{let{paymentRequest:n}=t;const i=new(V())(((e,t)=>{n.once("token",(t=>{t.complete("success"),e({token:t.token,payerName:t.payerName,payerEmail:t.payerEmail})})).once("cancel",(()=>{t()}))})),{total:a,displayItems:r}=this.params.request;return n.update({total:{label:a.label,amount:e.amount},displayItems:r,currency:e.currency}),n.show(),i.finally((()=>{n.off("token").off("cancel")}))})).then((e=>({stripeVerifier:e})))}makePaymentRequest(){let e;if(this.paymentRequest)e=V().resolve(this.paymentRequest);else{const t=this.params.stripe();if(!t)throw new Error("Stripe is not provided");e=t.then((e=>{const t=k()(k()({},this.params.request),{requestPayerEmail:!0,requestPayerName:!0,wallets:["applePay"]});return this.paymentRequest=e.paymentRequest(t),this.paymentRequest}))}return e.then((e=>new(V())(((t,n)=>{e.canMakePayment().then((n=>{t({canMakePaymentResult:n,paymentRequest:e})})).catch((e=>{n(e)}))}))))}}class Px{constructor(e,t,n,i,a,r,s,o,c,l){this.config=e,this.applePayStripeLoadingPromise=t,this.donationDataPoint=n,this.paymentOptionsDataPoint=i,this.donorNameDataPoint=a,this.donorEmailDataPoint=r,this.mailingAddressDataPoint=s,this.sentry=o,this.intl=c,this.paymentAPI=l,this.name=h.GZ.APPLE_PAY,this.cardToken=null,this.applePayPaymentMethodService=new Nx({request:e,stripe:this.applePayStripeLoadingPromise})}checkAvailability(){return(0,y.mG)(this,void 0,void 0,(function*(){try{return yield this.applePayPaymentMethodService.init()}catch(e){return this.sentry.captureException(e),!1}}))}initiateFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){return!0}))}startFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.APPLE_PAY),this.cardToken=yield this.createToken(),!this.cardToken)return dn.fail({});const e=yield this.hold();return dn.isFailure(e)?dn.fail({message:this.intl.translate("common.errorOccurredText")}):dn.success(void 0)}))}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){try{const e=yield this.paymentAPI.hold({clientPaymentMethod:h.GZ.APPLE_PAY});if(dn.isFailure(e))return e}catch(e){return dn.fail({shouldLeave:!1})}return dn.success(void 0)}))}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.cardToken||(this.cardToken=yield this.createToken()),!this.cardToken)return dn.fail({shouldLeave:!1});const e=yield this.createStripePaymentMethod(this.cardToken);if(dn.isFailure(e))return this.cardToken=null,dn.fail({shouldLeave:!1,message:e.failureResult.message});const t=yield this.initiatePayment(e.successResult);if(this.cardToken=null,dn.isSuccess(t))return t;const{message:n,additionalMessage:i}=Ax.handleCardError(this.intl,t.failureResult.hasBaseErrorMessage,t.failureResult.message);return dn.fail({shouldLeave:!1,message:n,additionalMessage:i})}))}initiatePayment(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.applePayStripeLoadingPromise();if(!t)throw new Error("Stripe is not provided");return new Ax(t,e,this.paymentAPI).perform()}))}createStripePaymentMethod(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.applePayStripeLoadingPromise();if(!t)throw new Error("Stripe is not provided");let n;try{n=yield t.createPaymentMethod({type:h.Ey.CARD,card:{token:e}})}catch(e){return this.sentry.captureException(e),dn.fail({})}return n.error?dn.fail({message:n.error.message}):n.paymentMethod?dn.success(n.paymentMethod):dn.fail({})}))}createToken(){var e,t;return(0,y.mG)(this,void 0,void 0,(function*(){let n;try{n=yield this.applePayPaymentMethodService.create({amount:this.donationDataPoint.total,currency:this.donationDataPoint.currency.toLowerCase()}),n.stripeVerifier&&this.setDonorInfo(n.stripeVerifier)}catch(e){return this.sentry.captureException(e),null}return(null===(t=null===(e=n.stripeVerifier)||void 0===e?void 0:e.token)||void 0===t?void 0:t.id)||null}))}setDonorInfo(e){var t;const n=e.payerEmail;n&&this.donorEmailDataPoint.setEmailIfEmpty(n);const i=e.payerName||(null===(t=e.token.card)||void 0===t?void 0:t.name)||"";i&&this.donorNameDataPoint.setFullNameIfEmpty(i),this.setDonorMailingAddress(e)}setDonorMailingAddress(e){const{card:t}=e.token;t&&(t.address_country&&this.mailingAddressDataPoint.setCountryCodeIfEmptyAddress(t.address_country),this.mailingAddressDataPoint.setCityIfEmpty(t.address_city||""),this.mailingAddressDataPoint.setLine1IfEmpty(t.address_line1||""),this.mailingAddressDataPoint.setLine2IfEmpty(t.address_line2||""),this.mailingAddressDataPoint.setRegionIfEmpty(t.address_state||""),this.mailingAddressDataPoint.setPostalIfEmpty(t.address_zip||""))}}Error,Error;class xx extends Error{constructor(){super("AU BECS intent secret not found")}}class kx extends Error{constructor(){super("AU BECS personal information required")}}class wx{constructor(e,t,n,i,a,r,s){this.stripe=e,this.stripeElements=t,this.donorNameDataPoint=n,this.donorEmailDataPoint=i,this.sentry=a,this.paymentAPI=r,this.params=s,this.name=h.GZ.AU_BECS,this.intentSecret=null,this.completed=!1,this.elementReady=!1,this.hasElementError=!1,this.initiated=!1,this.onElementChange=e=>{this.completed=e.complete,this.hasElementError=!!e.error}}initiateFlow(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){return this.initiated||(this.auBankAccountElement=this.createElement(),this.auBankAccountElement.once("ready",(()=>{this.elementReady=!0,(null==t?void 0:t.onAuBankAccountElementReady)&&t.onAuBankAccountElementReady()})),this.auBankAccountElement.on("change",this.onElementChange),this.auBankAccountElement.mount(e),this.initiated=!0),!0}))}startFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.elementReady?!this.completed&&!(yield this.validatePayment())||this.hasElementError?dn.fail({}):dn.success(void 0):dn.fail({})}))}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.hold({clientPaymentMethod:h.GZ.AU_BECS});if(dn.isFailure(e))return e;const{intentSecret:t}=e.successResult;if(!t)throw new xx;return this.intentSecret=t,dn.success(void 0)}))}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.intentSecret)throw new xx;const{firstName:e,lastName:t}=this.donorNameDataPoint.toObject(),{email:n}=this.donorEmailDataPoint.toObject();if(!n||!e||!t)throw new kx;const i=yield this.retrieveSetupIntent(this.intentSecret);if(!i)return dn.fail({shouldLeave:!1});if(i.status===IE.OQ.SUCCEEDED)return this.requestPay();const a=yield this.confirmDebitSetup(this.intentSecret);return dn.isFailure(a)?dn.fail({shouldLeave:!1,message:a.failureResult.message}):a.successResult.status===IE.OQ.SUCCEEDED?this.requestPay():dn.fail({shouldLeave:!1})}))}destroy(){var e;return(0,y.mG)(this,void 0,void 0,(function*(){null===(e=this.auBankAccountElement)||void 0===e||e.destroy()}))}requestPay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay();return dn.isSuccess(e)?e:dn.fail({shouldLeave:!1,message:e.failureResult.message})}))}confirmDebitSetup(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=this.getElement(),{firstName:n,lastName:i}=this.donorNameDataPoint.toObject(),{email:a}=this.donorEmailDataPoint.toObject();let r;try{r=yield this.stripe.confirmAuBecsDebitSetup(e,{payment_method:{au_becs_debit:t,billing_details:{name:yn([n,i]),email:a}}})}catch(e){return this.sentry.captureException(e),dn.fail({shouldLeave:!1})}return r.error?"validation_error"===r.error.type||r.error.code===Ex.ACCOUNT_NUMBER_INVALID?dn.fail({shouldLeave:!1,message:r.error.message}):dn.fail({shouldLeave:!1}):dn.success(r.setupIntent)}))}retrieveSetupIntent(e){return(0,y.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.stripe.retrieveSetupIntent(e)}catch(e){return this.sentry.captureException(e),null}return t.error?null:t.setupIntent}))}validatePayment(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.getElement();let t;try{t=yield this.stripe.createPaymentMethod({type:h.Ey.AU_BECS,au_becs_debit:e,billing_details:{name:"customer",email:"test@test.ru"}})}catch(e){return this.sentry.captureException(e),!1}return!!t.paymentMethod&&!t.error}))}getElement(){if(!this.auBankAccountElement)throw new Error("auBankAccountElement is not initialized");return this.auBankAccountElement}createElement(){return this.stripeElements.create("auBankAccount",{iconStyle:"default",disabled:!1,hideIcon:!1,style:this.params.stripe.elementStyles,classes:this.params.stripe.elementClasses})}}class Dx extends Error{constructor(){super("Click to pay is not initialized")}}var Tx,Ox=n(56642);function _x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,y.mG)(this,void 0,void 0,(function*(){try{return yield e()}catch(i){if(n>=t.retries)throw i;return yield new(V())((e=>H()(e,t.delay))),_x(e,t,++n)}}))}class Ix extends Error{constructor(e){super(`ClickToPay is not initialized: ${e}`)}}class Rx{constructor(e,t){this.params=e,this.currencyService=t,this.sdkLoadWindow=null,this.verifierResolve=()=>{},this.verifierReject=()=>{},this.messageListener=e=>{try{const t=JSON.parse(e.data);if("clickToPayCallbackTransfer"!==t.type)return;const n=Ox.parse(t.query);"success"===n.mpstatus&&this.verifierResolve({clickToPayVerifier:n.oauth_verifier}),this.initializeTransferIframe().catch((e=>console.error(e)))}catch(e){console.error(e)}}}init(){return this.initializeTransferIframe()}create(e){const t=new(V())(((e,t)=>{this.verifierResolve=e,this.verifierReject=t}));return this.initializeTransferIframe().then((()=>{var n;if(!this.sdkLoadWindow)throw new Error("ClickToPay is not initialized");this.showIframe(),this.sdkLoadWindow.addEventListener("beforeunload",C()(n=this.hideIframe).call(n,this),{once:!0});try{this.sdkLoadWindow.masterpass.checkout(this.buildCheckoutParams(e))}catch(e){this.hideIframe(),this.verifierReject(e)}return t}))}destroy(){window.removeEventListener("message",this.messageListener)}get callbackUrl(){return this.params.env===h.CB.DEVELOPMENT?`${window.location.protocol}//checkout.funstaging.com:9001/callbacks/click-to-pay`:this.params.env===h.CB.STAGING?"https://checkout.funstaging.com/callbacks/click-to-pay":"https://checkout.fundraiseup.com/callbacks/click-to-pay"}get scriptUrl(){var e;return!this.params.livemode||Z()(e=[h.CB.DEVELOPMENT,h.CB.STAGING]).call(e,this.params.env)?"https://sandbox.src.mastercard.com/srci/integration/merchant.js":"https://src.mastercard.com/srci/integration/merchant.js"}testAccessToClickToPayFrame(){if(!this.sdkLoadWindow)return!1;try{this.sdkLoadWindow.masterpass}catch(e){if("SecurityError"===e.name)return!1;throw e}return!0}initializeTransferIframe(){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.testAccessToClickToPayFrame())return!0;if(this.clickToPayIframe&&window.document.documentElement.removeChild(this.clickToPayIframe),window.removeEventListener("message",this.messageListener),this.clickToPayIframe=document.createElement("iframe"),!this.clickToPayIframe)throw new Error("IFRAME is not initialized");this.clickToPayIframe.src=window.location.origin,this.clickToPayIframe.setAttribute("frameborder","0"),this.hideIframe(),window.document.documentElement.appendChild(this.clickToPayIframe),this.sdkLoadWindow=this.clickToPayIframe.contentWindow,this.sdkLoadWindow.document.open("text/html","replace"),this.sdkLoadWindow.document.write("<html><head></head><body></body></html>"),this.sdkLoadWindow.document.close(),window.addEventListener("message",this.messageListener);const e=function(e){const t=e=>e.toLowerCase().replace(/-/g,"_");return Z()(W).call(W,e)?t(e):t(z.c0.EN_US)}(this.params.locale);return _x((()=>{if(!this.sdkLoadWindow)throw new Ix("no contentWindow in iframe");return me(`${this.scriptUrl}?locale=${e}&checkoutid=${this.params.clickToPayCheckoutId}`,this.params.deferred,this.sdkLoadWindow)}),{retries:5,delay:1500})}))}buildCheckoutParams(e){const{amount:t,currency:n}=e;return{checkoutId:this.params.clickToPayCheckoutId,allowedCardTypes:["master","amex","diners","discover","jcb","maestro","visa"],amount:this.currencyService.toFloatUnformattedStr(t,n),currency:n.toLowerCase(),cartId:Math.random().toString(36).substring(2,15),callbackUrl:this.callbackUrl}}hideIframe(){var e,t;this.getIframe().setAttribute("style","display:none; width:0; height:0; z-index: 2147483647"),null===(t=(e=this.params).onHide)||void 0===t||t.call(e)}showIframe(){var e,t;this.getIframe().setAttribute("style","position: fixed; top: 0; left: 0; width:100%; height:100%; z-index: 2147483647"),null===(t=(e=this.params).onShow)||void 0===t||t.call(e)}getIframe(){if(!this.clickToPayIframe)throw new Error("clickToPayIframe is not initialized");return this.clickToPayIframe}}class Lx{constructor(e,t,n,i,a,r,s){this.config=e,this.currencyService=t,this.stripe=n,this.donationDataPoint=i,this.sentry=a,this.intl=r,this.paymentAPI=s,this.name=h.GZ.CLICK_TO_PAY,this.clickToPayPaymentMethodService=null}initiateFlow(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.clickToPayPaymentMethodService=new Rx(k()(k()({},this.config),e),this.currencyService),this.clickToPayPaymentMethodService.init()}))}startFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.donationDataPoint.amount)throw new vx;if(!this.clickToPayPaymentMethodService)throw new Dx;const e=yield this.clickToPayPaymentMethodService.create({amount:this.donationDataPoint.amount,currency:this.donationDataPoint.currency});return this.clickToPayVerifier=e.clickToPayVerifier,this.clickToPayVerifier?dn.success(void 0):dn.fail({message:this.intl.translate("common.errorOccurredText")})}))}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.hold({clientPaymentMethod:h.GZ.CLICK_TO_PAY});return dn.isFailure(e)?e:dn.success(void 0)}))}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.createStripePaymentMethod();if(dn.isFailure(e))return dn.fail({shouldLeave:!1,message:e.failureResult.message});const t=yield this.initiatePayment(e.successResult);return dn.isSuccess(t)?t:dn.fail({shouldLeave:!1,message:t.failureResult.message})}))}destroy(){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.clickToPayPaymentMethodService)throw new Dx;this.clickToPayPaymentMethodService.destroy()}))}initiatePayment(e){return(0,y.mG)(this,void 0,void 0,(function*(){return new Ax(this.stripe,e,this.paymentAPI).perform()}))}createStripePaymentMethod(){return(0,y.mG)(this,void 0,void 0,(function*(){let e;try{const t={type:h.Ey.CARD,card:{masterpass:{cart_id:(0,ex.x0)(),transaction_id:this.clickToPayVerifier}}};e=yield this.stripe.createPaymentMethod(t)}catch(e){return this.sentry.captureException(e),dn.fail({})}return e.error?dn.fail({message:e.error.message}):e.paymentMethod?dn.success(e.paymentMethod):dn.fail({})}))}}class Mx extends Error{constructor(){super("Card element not found")}}class jx{constructor(e,t,n,i,a,r,s){this.stripe=e,this.stripeElements=t,this.sentry=n,this.intl=i,this.failureHandler=a,this.paymentAPI=r,this.params=s,this.name=h.GZ.CARD,this.elementsSource=null,this.elementsState=this.getElementsInitialState(),this.handleElementChange=(e,t)=>{this.elementsState[e].completed=t.complete,this.elementsState[e].hasError=!!t.error},this.handleElementReady=(e,t)=>{this.elementsState[e].ready=!0,t&&t(e)}}initiateFlow(e){var t,n,i;return(0,y.mG)(this,void 0,void 0,(function*(){var a,r,s,o,c,l;const{source:u,cardCvcContainer:d,cardExpiryContainer:h,cardNumberContainer:m,cardCvcOptions:p,cardNumberOptions:g,stripeElementStyleOverride:y,onCardElementReady:f}=e;if(this.elementsSource===u)return!0;this.elementsSource=u,this.elementsState=this.getElementsInitialState(),null===(t=this.stripeElements.getElement("cardNumber"))||void 0===t||t.destroy(),null===(n=this.stripeElements.getElement("cardExpiry"))||void 0===n||n.destroy(),null===(i=this.stripeElements.getElement("cardCvc"))||void 0===i||i.destroy();const v=this.stripeElements.create("cardNumber",{iconStyle:"default",showIcon:void 0===(null==g?void 0:g.showIcon)||g.showIcon,style:void 0!==y?y:this.params.stripe.elementStyles,classes:this.params.stripe.elementClasses,placeholder:void 0!==(null==g?void 0:g.placeholder)?g.placeholder:this.intl.translate("creditCardScreen.cardForm.numberInput.placeholder"),disableLink:!0}),S=this.stripeElements.create("cardExpiry",{style:void 0!==y?y:this.params.stripe.elementStyles,classes:this.params.stripe.elementClasses}),b=this.stripeElements.create("cardCvc",{style:void 0!==y?y:this.params.stripe.elementStyles,classes:this.params.stripe.elementClasses,placeholder:void 0!==(null==p?void 0:p.placeholder)?p.placeholder:void 0});return v.on("change",C()(a=this.handleElementChange).call(a,this,"cardNumber")),S.on("change",C()(r=this.handleElementChange).call(r,this,"cardExpiry")),b.on("change",C()(s=this.handleElementChange).call(s,this,"cardCvc")),v.once("ready",C()(o=this.handleElementReady).call(o,this,"cardNumber",f)),S.once("ready",C()(c=this.handleElementReady).call(c,this,"cardExpiry",f)),b.once("ready",C()(l=this.handleElementReady).call(l,this,"cardCvc",f)),v.mount(m),S.mount(h),b.mount(d),!0}))}startFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.elementsReady?!this.elementsCompleted||this.hasElementsError?(yield this.stripe.createToken(this.getCardNumberElement()),dn.fail({})):dn.success(void 0):dn.fail({})}))}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.paymentAPI.hold({clientPaymentMethod:h.GZ.CARD})}))}destroy(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.stripeElements.getElement("cardNumber"),t=this.stripeElements.getElement("cardExpiry"),n=this.stripeElements.getElement("cardCvc");null==e||e.destroy(),null==t||t.destroy(),null==n||n.destroy()}))}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.createStripePaymentMethod();if(dn.isFailure(e))return this.failureHandler(),dn.fail({shouldLeave:!0,message:e.failureResult.message});const t=yield this.initiatePayment(e.successResult);return dn.isFailure(t)?(this.failureHandler(),dn.fail({shouldLeave:!0,message:t.failureResult.message})):t}))}get elementsReady(){var e;return pi()(e=Me()(this.elementsState)).call(e,(e=>{let{ready:t}=e;return t}))}get elementsCompleted(){var e;return pi()(e=Me()(this.elementsState)).call(e,(e=>{let{completed:t}=e;return t}))}get hasElementsError(){var e;return E()(e=Me()(this.elementsState)).call(e,(e=>{let{hasError:t}=e;return t}))}getCardNumberElement(){const e=this.stripeElements.getElement("cardNumber");if(!e)throw new Mx;return e}initiatePayment(e){return(0,y.mG)(this,void 0,void 0,(function*(){return new Ax(this.stripe,e,this.paymentAPI).perform()}))}createStripePaymentMethod(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.getCardNumberElement();let t;try{t=yield this.stripe.createPaymentMethod({type:h.Ey.CARD,card:e})}catch(e){return this.sentry.captureException(e),dn.fail({})}return t.error?dn.fail({message:t.error.message}):t.paymentMethod?dn.success(t.paymentMethod):dn.fail({})}))}getElementsInitialState(){return{cardNumber:{ready:!1,completed:!1,hasError:!1},cardExpiry:{ready:!1,completed:!1,hasError:!1},cardCvc:{ready:!1,completed:!1,hasError:!1}}}}!function(e){e.CANCELED="CANCELED"}(Tx||(Tx={}));var Fx=n(75334);class Ux extends Error{constructor(e){super(e.message||"Google Pay payment flow error"),this.meta=e,this.name="GooglePayPaymentFlowError"}}class Bx{constructor(e,t,n,i,a,r,s,o,c,l,u,d,m){this.config=e,this.livemode=t,this.env=n,this.stripe=i,this.currencyService=a,this.donationDataPoint=r,this.paymentOptionsDataPoint=s,this.donorNameDataPoint=o,this.donorEmailDataPoint=c,this.sentry=l,this.intl=u,this.paymentAPI=d,this.googlePayAPI=m,this.name=h.GZ.GOOGLE_PAY,this.cardToken=null,this.googlePayJwt=null,this.client=null,this.googlePaySdkEnv="TEST",this.stripeLivemode="test",this.livemode&&this.env===h.CB.PRODUCTION&&(this.googlePaySdkEnv="PRODUCTION",this.stripeLivemode="live")}checkAvailability(){return(0,y.mG)(this,void 0,void 0,(function*(){try{if(!this.client)return console.log("[GooglePayPaymentFlow]: GPay client not found"),!1;const e=this.makeReadyToPayRequest(),t=yield this.client.isReadyToPay(e);return console.log("[GooglePayPaymentFlow]: GPayAPI.IsReadyToPayResponse ",t),t.result}catch(e){return this.sentry.captureException(new Error(e.statusMessage),e),console.log(`[GooglePayPaymentFlow]: Error while checking GPay availability: ${e}`),!1}}))}initiateFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){try{this.googlePayJwt=yield this.getJwt()}catch(e){return!1}return this.client=yield this.loadClient(),!0}))}startFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.GOOGLE_PAY),this.cardToken=yield this.createToken(),!this.cardToken)return dn.fail({});const e=yield this.hold();return dn.isFailure(e)?dn.fail({message:this.intl.translate("common.errorOccurredText")}):dn.success(void 0)}))}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.cardToken||(this.cardToken=yield this.createToken()),!this.cardToken)return dn.fail({shouldLeave:!1});const e=yield this.createStripePaymentMethod(this.cardToken);if(dn.isFailure(e))return this.cardToken=null,dn.fail({shouldLeave:!1,message:e.failureResult.message});const t=yield this.initiatePayment(e.successResult);if(this.cardToken=null,dn.isSuccess(t))return t;const{message:n,additionalMessage:i}=Ax.handleCardError(this.intl,t.failureResult.hasBaseErrorMessage,t.failureResult.message);return dn.fail({shouldLeave:!1,message:n,additionalMessage:i})}))}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){try{const e=yield this.paymentAPI.hold({clientPaymentMethod:h.GZ.GOOGLE_PAY});if(dn.isFailure(e))return e}catch(e){return dn.fail({shouldLeave:!1})}return dn.success(void 0)}))}get merchantInfo(){if(!this.googlePayJwt)throw new Error("GPay token is required");return{merchantId:this.config.googlePayInfo.merchantId,merchantName:this.config.companyName,merchantOrigin:window.location.hostname,authJwt:this.googlePayJwt}}initiatePayment(e){return(0,y.mG)(this,void 0,void 0,(function*(){return new Ax(this.stripe,e,this.paymentAPI).perform()}))}createStripePaymentMethod(e){return(0,y.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.stripe.createPaymentMethod({type:h.Ey.CARD,card:{token:e}})}catch(e){return this.sentry.captureException(e),dn.fail({})}return t.error?dn.fail({message:t.error.message}):t.paymentMethod?dn.success(t.paymentMethod):dn.fail({})}))}create(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.client)throw new Error("GPay client not found");const t=this.makePaymentRequest(e),n=yield this.client.loadPaymentData(t);if(console.log("[GooglePayPaymentFlow]: GPay payment data ",n),n.errorCode)throw new Error("GPay payment data is not loaded");return{token:JSON.parse(n.paymentMethodData.tokenizationData.token),email:n.email}}))}makePaymentRequest(e){const{amount:t,currency:n}=e;return{apiVersion:2,apiVersionMinor:0,emailRequired:!0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:this.config.googlePayInfo.allowedAuthMethods,allowedCardNetworks:this.config.googlePayInfo.allowedCardNetworks},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"stripe",gatewayMerchantId:this.merchantInfo.merchantId,"stripe:version":this.config.googlePayInfo.stripeAPIVersion,"stripe:publishableKey":this.config.stripePublicKey[this.stripeLivemode]+"/"+this.config.stripeAccount}}}],transactionInfo:{countryCode:this.config.countryCode,currencyCode:n.toUpperCase(),totalPriceStatus:"FINAL",totalPrice:this.currencyService.toFloatUnformattedStr(t,n.toUpperCase())},merchantInfo:this.merchantInfo}}makeReadyToPayRequest(){return{allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:this.config.googlePayInfo.allowedAuthMethods,allowedCardNetworks:this.config.googlePayInfo.allowedCardNetworks}}],apiVersion:2,apiVersionMinor:0}}getJwt(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.googlePayAPI.getToken(window.location.hostname)}))}loadClient(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=(0,Fx.Z)();yield me("https://pay.google.com/gp/p/js/pay.js",!1,window);const t=window.google;return e&&!t?null:new t.payments.api.PaymentsClient({environment:this.googlePaySdkEnv})}))}createToken(){var e;return(0,y.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.create({currency:this.donationDataPoint.currency,amount:this.donationDataPoint.total}),t.token&&this.setDonorInfo(t)}catch(e){const t=e&&"object"==typeof e?e:{},n={toString:t.toString(),stringify:In()(t),message:t.message,name:t.name,code:t.code};return console.log("[GooglePayPaymentFlow]: create token error: ",n),t.statusCode!==Tx.CANCELED&&this.sentry.captureException(new Ux(n),{extra:n}),null}return(null===(e=t.token)||void 0===e?void 0:e.id)||null}))}setDonorInfo(e){var t,n;const i=e.email;i&&this.donorEmailDataPoint.setEmailIfEmpty(i);const a=(null===(n=null===(t=e.token)||void 0===t?void 0:t.card)||void 0===n?void 0:n.name)||"";a&&this.donorNameDataPoint.setFullNameIfEmpty(a)}}class Gx{static removeAuthorizePaymentHandler(e){e&&window.removeEventListener("message",e)}constructor(e,t,n,i,a,r,s,o,c,l){this.sessionAPI=e,this.stripe=t,this.env=n,this.donorNameDataPoint=i,this.donorEmailDataPoint=a,this.donationDataPoint=r,this.idealDataPoint=s,this.intl=o,this.sentry=c,this.paymentAPI=l,this.name=IE.GZ.IDEAL,this.intentSecret=null,this.paymentIntent=null,this.popup=null,this.popupParams={},this.counter=0}initiateFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){return!0}))}startFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){return dn.success(void 0)}))}hold(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{initOnly:!0};return(0,y.mG)(this,void 0,void 0,(function*(){let t;try{if(t=yield this.paymentAPI.hold({clientPaymentMethod:IE.GZ.IDEAL,token:{initOnly:e.initOnly}}),dn.isFailure(t))return t}catch(e){return dn.fail({message:this.commonErrorText})}const{intentSecret:n}=t.successResult;if(!n){if(e.initOnly)return dn.success(void 0);throw new Sx}this.intentSecret=n;const i=yield this.confirmPaymentIntent(n);return dn.isSuccess(i)?(this.paymentIntent=i.successResult,dn.success(void 0)):i}))}pay(){var e;return(0,y.mG)(this,void 0,void 0,(function*(){if(this.intentSecret){const e=yield this.retrievePaymentIntent(this.intentSecret);if((null==e?void 0:e.status)===IE.OQ.SUCCEEDED)return this.closePopup(),this.requestPay()}const t=yield this.hold({initOnly:!1});if(dn.isFailure(t))return this.closePopup(),t;if(!this.paymentIntent||!this.intentSecret)throw this.closePopup(),new Sx;if(this.paymentIntent.status===IE.OQ.SUCCEEDED)return this.closePopup(),this.requestPay();const n=this.paymentIntent.next_action;return"redirect_to_url"===(null==n?void 0:n.type)&&(null===(e=n.redirect_to_url)||void 0===e?void 0:e.url)?this.handleAction(this.intentSecret,n.redirect_to_url.url):(this.closePopup(),this.requestPay())}))}openConfirmationWindow(e){var t;if(this.popup)return this.popup;(null===(t=this.paymentIntent)||void 0===t?void 0:t.status)!==IE.OQ.SUCCEEDED?(this.popupParams=e,this.popup=window.open(this.popupPreLoadingPage,"_blank"),this.assertPopup(this.popup)):e.onClose&&e.onClose()}focusConfirmationWindow(){this.popup&&(this.popup.blur(),this.popup.focus())}destroy(){return(0,y.mG)(this,void 0,void 0,(function*(){}))}isPaid(){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.paymentIntent)return!1;if(this.paymentIntent.status===IE.OQ.SUCCEEDED)return!0;this.assert(this.paymentIntent.client_secret);const e=yield this.retrievePaymentIntent(this.paymentIntent.client_secret);return(null==e?void 0:e.status)===IE.OQ.SUCCEEDED}))}isPaymentStarted(){return null!==this.paymentIntent}get commonErrorText(){return this.intl.translate("common.errorOccurredText")}get paymentErrorText(){return this.intl.translate("common.paymentNotAuthorizedError")}get popupPreLoadingPage(){switch(this.env){case j.C.PRODUCTION:return"https://checkout.fundraiseup.com/ideal";case j.C.STAGING:return"https://checkout.funstaging.com/ideal";case j.C.TESTING:return"http://checkout.fun.internal/ideal";default:return"https://checkout.localtest.me/ideal"}}confirmPaymentIntent(e){var t;return(0,y.mG)(this,void 0,void 0,(function*(){const n=this.donorNameDataPoint.toObject(),i=this.donorEmailDataPoint.toObject(),a=this.idealDataPoint.toObject().bank.id;if(!a)throw new Error("Bank should be provided");try{const r=yield this.stripe.confirmIdealPayment(e,{payment_method:{ideal:{bank:a},billing_details:{name:yn([n.firstName,n.lastName]),email:i.email}},return_url:this.popupPreLoadingPage},{handleActions:!1});return r.error?(null===(t=r.error.payment_intent)||void 0===t?void 0:t.status)===IE.OQ.SUCCEEDED?dn.success(r.error.payment_intent):dn.fail({message:r.error.message}):dn.success(r.paymentIntent)}catch(e){return dn.fail({message:e.message})}}))}handleAction(e,t){var n;return(0,y.mG)(this,void 0,void 0,(function*(){switch(yield this.authorizePayment(t),this.paymentIntent=yield this.retrievePaymentIntent(e),null===(n=this.paymentIntent)||void 0===n?void 0:n.status){case IE.OQ.SUCCEEDED:return this.requestPay();case IE.OQ.REQUIRES_PAYMENT_METHOD:{const t=yield this.confirmPaymentIntent(e);return dn.isSuccess(t)&&(this.paymentIntent=t.successResult),dn.fail({message:this.paymentErrorText})}case IE.OQ.REQUIRES_ACTION:return dn.fail({message:this.paymentErrorText});default:return this.notifyAboutError(new Error("Unexpected payment intent status"),{paymentIntent:this.paymentIntent}),this.closePopup(),dn.fail({message:this.paymentErrorText})}}))}retrievePaymentIntent(e){return(0,y.mG)(this,void 0,void 0,(function*(){try{return yield this.retrievePaymentIntentWithRetry(e)}catch(e){return e instanceof Cx&&this.notifyAboutWarning(e,{stripeError:e.resultError}),null}}))}retrievePaymentIntentWithRetry(e){return(0,y.mG)(this,void 0,void 0,(function*(){return _x((()=>(0,y.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.stripe.retrievePaymentIntent(e)}catch(e){return this.sentry.captureException(e),null}if(t.error)throw new Cx;return t.paymentIntent?t.paymentIntent:null}))),{retries:2,delay:500})}))}authorizePayment(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=this.popup;let n,i,a;return this.assertPopup(t),this.focusConfirmationWindow(),t.location=e,new(V())((e=>{a=this.authorizePaymentHandlerFn(e),n=Ch()((()=>{if(t.closed)return this.closePopup(),e()}),20),window.addEventListener("message",a),H()((()=>{this.resetCounter(),i=Ch()((()=>this.waitWhileIntentWillUpdated(e,1e3,i)),1e3)}),5e3)})).then((()=>{clearInterval(n),clearInterval(i),Gx.removeAuthorizePaymentHandler(a)}))}))}authorizePaymentHandlerFn(e){const t=new(zt())(this.popupPreLoadingPage).origin;return n=>{if(n.origin===t)return this.closePopup(),e()}}waitWhileIntentWillUpdated(e,t,n){var i;return(0,y.mG)(this,void 0,void 0,(function*(){this.assert(this.intentSecret);const a=Math.round(9e5/t);if(this.counter>=a&&n)return clearInterval(n),this.closePopup(),e();this.counter++;const r=yield this.retrievePaymentIntent(this.intentSecret);return r&&r.status!==(null===(i=this.paymentIntent)||void 0===i?void 0:i.status)?(this.closePopup(),e()):void 0}))}resetCounter(){this.counter=0}requestPay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay();return dn.isSuccess(e)?e:dn.fail({shouldLeave:!1,message:e.failureResult.message})}))}closePopup(){this.popup&&(this.popup.close(),this.popupParams.onClose&&this.popupParams.onClose(),this.resetPopup())}resetPopup(){this.popup=null,this.popupParams={}}assertPopup(e){var t;const n=new Error(this.commonErrorText);if(!e)throw this.notifyAboutError(new Error("Can not create iDEAL popup"),{intent:null===(t=this.paymentIntent)||void 0===t?void 0:t.id}),n}assert(e){const t=new Error(this.commonErrorText);if(!e)throw t}notifyAboutError(e,t){this.sentry.captureException(e,{extra:k()(k()({},t),{widgetSession:this.sessionAPI.sessionToken})})}notifyAboutWarning(e,t){this.sentry.captureException(e,{level:"warning",extra:k()(k()({},t),{widgetSession:this.sessionAPI.sessionToken})})}}class qx extends Error{constructor(){super("Paypal hold payload is invalid")}}const Vx=["Component closed","Detected container element removed from DOM"],Kx=["Window closed before response","Window closed for postrobot_method before ack"];class Hx{constructor(e,t,n,i){this.config=e,this.sentry=t,this.locale=n,this.iframeWindow=i,this.scriptParams=null,this.buttonParams=null,this.actions=null,this.rendered=!1,this.paypalButtons=null,this.shouldLoadScript=!1}setCurrency(e,t){var n;const{paypalMerchantId:i,paypalClientId:a,subscriptionsEnabled:r}=this.config;if(!i){const e=new Error("Paypal merchant ID is not provided");throw this.sentry.captureException(e),e}const s={"client-id":a,"merchant-id":i,currency:this.getPaypalCurrency(e,t).toUpperCase(),"disable-funding":"venmo",locale:"automatic",intent:"capture",vault:"false"},o=Q(this.locale);return o&&(s.locale=o),r&&(s.intent="tokenize",s.vault="true"),s.currency!==(null===(n=this.scriptParams)||void 0===n?void 0:n.currency)&&(this.shouldLoadScript=!0),this.scriptParams=s,this}setButtonParams(e){let{onCreate:t,onApprove:n,onButtonClick:i,buttonColor:a,onCancel:r,onFail:s}=e;return this.buttonParams={fundingSource:h.GZ.PAYPAL,style:{color:a,tagline:!1,shape:"rect",height:48,size:"responsive"},[this.paypalIdentifierMethod]:()=>t(this.clientPaymentMethod),onApprove:e=>(0,y.mG)(this,void 0,void 0,(function*(){const t=e[this.paypalIdentifierKey];if(!t)return this.handleEmptyTokenError(e);yield n(this.clientPaymentMethod,t)})),onInit:(e,t)=>{this.actions=t},onClick:()=>{i&&i(h.GZ.PAYPAL)},onError:e=>{const t=e.message;if(!t||!(Z()(t).call(t,"popup close")||Z()(t).call(t,"cross-domain")||Z()(t).call(t,"Window is closed")))throw e;s({message:"Window is closed"})},onCancel:()=>{null==r||r()}},this}disable(){var e;return(0,y.mG)(this,void 0,void 0,(function*(){try{yield null===(e=this.actions)||void 0===e?void 0:e.disable()}catch(e){if(Z()(Kx).call(Kx,e.message))return;throw e}}))}enable(){var e;return(0,y.mG)(this,void 0,void 0,(function*(){try{yield null===(e=this.actions)||void 0===e?void 0:e.enable()}catch(e){if(Z()(Kx).call(Kx,e.message))return;throw e}}))}preloadPayPalScript(){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.scriptParams)throw new Error("Call `setCurrency` before you mount");this.shouldLoadScript&&(yield me(`https://www.paypal.com/sdk/js?${(0,ot.f0)(this.scriptParams)}`,!1,this.iframeWindow),this.shouldLoadScript=!1)}))}mount(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.buttonParams)throw new Error("Call `setHandlers` before you mount");if(e&&this.checkAvailability()){this.paypalButtons=this.iframeWindow.paypal.Buttons(this.buttonParams);try{yield this.paypalButtons.render(e),this.rendered=!0}catch(e){if(Z()(Vx).call(Vx,null==e?void 0:e.message))return;throw e}}}))}destroy(){return(0,y.mG)(this,void 0,void 0,(function*(){this.rendered&&this.paypalButtons&&(yield this.paypalButtons.close(),this.rendered=!1,this.actions=null)}))}checkAvailability(){return!0}get clientPaymentMethod(){return h.GZ.PAYPAL}get paypalIdentifierMethod(){return this.config.subscriptionsEnabled?"createBillingAgreement":"createOrder"}get paypalIdentifierKey(){return this.config.subscriptionsEnabled?"billingToken":"orderID"}getPaypalCurrency(e,t){const n=this.config.paypalCurrencies;return Z()(n).call(n,e)?e:Z()(n).call(n,t)?t:"USD"}handleEmptyTokenError(e){this.sentry.captureException(new Error(`Got an undefined token by paypalIdentifierKey: ${this.paypalIdentifierKey}`),{extra:{paypalIdentifierKey:this.paypalIdentifierKey,paypalData:e}})}}class Yx{constructor(e,t,n,i,a,r,s,o,c,l,u,d,h,m){this.config=e,this.sentry=t,this.locale=n,this.iframeWindow=i,this.paymentOptionsDataPoint=a,this.donorNameDataPoint=r,this.donorEmailDataPoint=s,this.phoneNumberDataPoint=o,this.mailingAddressDataPoint=c,this.donationDataPoint=l,this.updateSession=u,this.paypalAPI=d,this.paymentAPI=h,this.paymentFailureHandler=m,this.name=IE.GZ.PAYPAL,this.paypalButtonBuilder=new Hx(this.config,this.sentry,this.locale,this.iframeWindow)}initiateFlow(e){let{element:t,holdDone:n,onFail:i,buttonColor:a,onButtonClick:r,onCancel:s}=e;return(0,y.mG)(this,void 0,void 0,(function*(){return yield this.paypalButtonBuilder.setCurrency(this.donationDataPoint.currency,this.donationDataPoint.defaultCurrency).setButtonParams({buttonColor:a,onCreate:e=>(0,y.mG)(this,void 0,void 0,(function*(){yield this.updateSession();const t=yield this.paypalAPI.createOrder(e);if(!dn.isFailure(t))return t.successResult;i(t.failureResult)})),onApprove:(e,t)=>(0,y.mG)(this,void 0,void 0,(function*(){this.paymentOptionsDataPoint.setPaymentMethod(e),this.clientPaymentMethod=e,this.token=t;const a=yield this.hold();dn.isFailure(a)?i(a.failureResult):n()})),onButtonClick:r,onCancel:s,onFail:i}).mount(t),!0}))}preloadPayPalScript(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.paypalButtonBuilder.setCurrency(this.donationDataPoint.currency,this.donationDataPoint.defaultCurrency).preloadPayPalScript()}))}checkAvailability(){return this.paypalButtonBuilder.checkAvailability()}startFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){return dn.success(void 0)}))}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.token||!this.clientPaymentMethod)throw new qx;const e={token:this.token,clientPaymentMethod:this.clientPaymentMethod};try{const t=yield this.paymentAPI.hold(e);return dn.isFailure(t)?t:(this.setDonorInfo(t.successResult),dn.success(void 0))}catch(e){return dn.fail({})}}))}pay(){var e,t,n;return(0,y.mG)(this,void 0,void 0,(function*(){const i=yield this.paymentAPI.pay();return dn.isSuccess(i)?i:(null===(e=i.failureResult.errors)||void 0===e?void 0:e.code)===IE.xB.ORDER_EXPIRED?(this.paymentFailureHandler(),dn.fail({shouldLeave:!0,message:null===(t=i.failureResult.errors)||void 0===t?void 0:t.message})):dn.fail({shouldLeave:!1,message:null===(n=i.failureResult.errors)||void 0===n?void 0:n.message})}))}closePaypal(){this.paypalButtonBuilder.destroy()}togglePaypalActions(e){e?this.paypalButtonBuilder.enable():this.paypalButtonBuilder.disable()}setDonorInfo(e){var t,n,i,a,r,s,o,c;this.donorNameDataPoint.setFirstNameIfEmpty(e.firstName||""),this.donorNameDataPoint.setLastNameIfEmpty(e.lastName||""),this.donorEmailDataPoint.setEmailIfEmpty(e.email||""),(null===(t=e.address)||void 0===t?void 0:t.countryCode)&&this.phoneNumberDataPoint.setCountryCodeIfEmptyPhone(e.address.countryCode),this.phoneNumberDataPoint.setPhoneIfEmpty(e.phone||""),(null===(n=e.address)||void 0===n?void 0:n.countryCode)&&this.mailingAddressDataPoint.setCountryCodeIfEmptyAddress(e.address.countryCode),this.mailingAddressDataPoint.setCityIfEmpty((null===(i=e.address)||void 0===i?void 0:i.city)||""),this.mailingAddressDataPoint.setLine1IfEmpty((null===(a=e.address)||void 0===a?void 0:a.line1)||""),this.mailingAddressDataPoint.setLine2IfEmpty((null===(r=e.address)||void 0===r?void 0:r.line2)||""),this.mailingAddressDataPoint.setRegionIfEmpty((null===(s=e.address)||void 0===s?void 0:s.region)||""),this.mailingAddressDataPoint.setPostalIfEmpty((null===(c=null===(o=e.address)||void 0===o?void 0:o.postal)||void 0===c?void 0:c.toString())||"")}}class Zx{constructor(e,t,n,i,a,r,s,o,c,l,u,d){this.stripe=e,this.stripeElements=t,this.donorNameDataPoint=n,this.donorEmailDataPoint=i,this.mailingAddressDataPoint=a,this.paymentOptionsDataPoint=r,this.sentry=s,this.paymentMethodManager=o,this.checkoutConfiguration=c,this.mailingAddressFailureHandler=l,this.paymentAPI=u,this.params=d,this.name=IE.GZ.SEPA,this.intentSecret=null,this.completed=!1,this.elementReady=!1,this.ibanElement=null,this.hasElementError=!1,this.initiated=!1,this.onElementChange=e=>{this.paymentOptionsDataPoint.paymentMethodCountry=e.country,this.mailingAddressDataPoint.setPaymentMethodParams({paymentMethod:this.paymentOptionsDataPoint.clientPaymentMethod,paymentCountry:this.paymentOptionsDataPoint.paymentMethodCountry}),this.completed=e.complete,this.hasElementError=!!e.error}}initiateFlow(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){return this.initiated||(this.ibanElement=this.createElement(t),this.ibanElement.once("ready",(()=>{this.elementReady=!0,(null==t?void 0:t.onIbanElementReady)&&t.onIbanElementReady()})),this.ibanElement.on("change",this.onElementChange),this.ibanElement.mount(e),this.initiated=!0),!0}))}startFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.elementReady?!this.completed&&!(yield this.validatePayment())||this.hasElementError?dn.fail({}):dn.success(void 0):dn.fail({})}))}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.hold({clientPaymentMethod:IE.GZ.SEPA});if(dn.isFailure(e))return dn.fail(e.failureResult);const{intentSecret:t}=e.successResult;if(!t)throw new Sx;return this.intentSecret=t,dn.success(void 0)}))}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.intentSecret)throw new Sx;const{isValid:e}=this.mailingAddressDataPoint.validate();if(this.paymentMethodManager.isRequired("address",{ibanCountry:this.country})&&!e)throw new Error(`Wrong address format for ${this.country} IBAN`);const t=yield this.retrieveSetupIntent(this.intentSecret);if(!t)return dn.fail({shouldLeave:!1});if(t.status===IE.OQ.SUCCEEDED)return this.requestPay();const n=yield this.confirmSepaDebitSetup(this.intentSecret);if(dn.isFailure(n))return n;const i=n.successResult;return i&&i.status===IE.OQ.SUCCEEDED?this.requestPay():dn.fail({shouldLeave:!1})}))}destroy(){var e;return(0,y.mG)(this,void 0,void 0,(function*(){try{null===(e=this.ibanElement)||void 0===e||e.destroy()}catch(e){}}))}get country(){if(!this.paymentOptionsDataPoint.paymentMethodCountry)throw new Error("Country is not set");return this.paymentOptionsDataPoint.paymentMethodCountry}retrieveSetupIntent(e){return(0,y.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.stripe.retrieveSetupIntent(e)}catch(e){return this.sentry.captureException(e),null}return t.setupIntent?t.setupIntent:null}))}confirmSepaDebitSetup(e){var t;return(0,y.mG)(this,void 0,void 0,(function*(){var n;const i=this.getElement();if(!this.country)throw new Error("country was not set");const a=this.donorNameDataPoint.toObject(),r=this.donorEmailDataPoint.toObject(),s=this.mailingAddressDataPoint.toObject();let o;try{o=yield this.stripe.confirmSepaDebitSetup(e,{payment_method:{sepa_debit:i,billing_details:{name:yn([a.firstName,a.lastName]),email:r.email,address:{line1:s.line1,city:s.city,country:s.countryCode,postal_code:s.postal}}}})}catch(e){return this.sentry.captureException(e),dn.fail({})}return o.error?"validation_error"===o.error.type?dn.fail({shouldLeave:!1,message:o.error.message}):Z()(n=["invalid_owner_address","country-code-invalid"]).call(n,null!==(t=o.error.message)&&void 0!==t?t:"")?(this.mailingAddressFailureHandler(),dn.fail({shouldLeave:!0,message:o.error.message})):dn.fail({shouldLeave:!1}):dn.success(o.setupIntent)}))}requestPay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay();return dn.isSuccess(e)?e:dn.fail({shouldLeave:!1,message:e.failureResult.message})}))}getElement(){if(!this.ibanElement)throw new Error("ibanElement is not initialized");return this.ibanElement}createElement(e){const{stripeElementStyleOverride:t,showIcon:n}=null!=e?e:{};return this.stripeElements.create("iban",{iconStyle:"default",disabled:!1,hideIcon:void 0!==n&&!n,placeholderCountry:this.checkoutConfiguration.company.country,style:void 0!==t?t:k()(k()({},this.params.stripe.elementStyles),{base:k()(k()({},this.params.stripe.elementStyles.base),{fontSize:"14px"})}),classes:this.params.stripe.elementClasses,supportedCountries:["SEPA"]})}validatePayment(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.getElement();let t;try{t=yield this.stripe.createPaymentMethod({type:h.Ey.SEPA,sepa_debit:e,billing_details:{name:pe,email:ge}})}catch(e){return this.sentry.captureException(e),!1}return!!t.paymentMethod&&!t.error}))}}class zx{constructor(e,t,n,i,a,r,s,o,c){this.stripe=e,this.donorEmailDataPoint=t,this.mailingAddressDataPoint=n,this.ukBacsDataPoint=i,this.sentry=a,this.intl=r,this.mailingAddressFailureHandler=s,this.ukBacsFailureHandler=o,this.paymentAPI=c,this.name=h.GZ.UK_BACS,this.intentSecret=null}initiateFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){return!0}))}startFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){return dn.success(void 0)}))}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.hold({clientPaymentMethod:h.GZ.UK_BACS});if(dn.isFailure(e))return e;const{intentSecret:t}=e.successResult;if(!t)throw new Sx;return this.intentSecret=t,dn.success(void 0)}))}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.intentSecret)throw new Sx;const e=yield this.retrieveSetupIntent(this.intentSecret);if(!e)return dn.fail({shouldLeave:!1});if(e.status===IE.OQ.SUCCEEDED)return this.requestPay();const t=yield this.confirmBacsDebitSetup(this.intentSecret);if(dn.isFailure(t))return t;const n=t.successResult;return n&&n.status===IE.OQ.SUCCEEDED?this.requestPay():dn.fail({shouldLeave:!0})}))}retrieveSetupIntent(e){return(0,y.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.stripe.retrieveSetupIntent(e)}catch(e){return this.sentry.captureException(e),null}return t.setupIntent?t.setupIntent:null}))}confirmBacsDebitSetup(e){var t,n,i;return(0,y.mG)(this,void 0,void 0,(function*(){var a,r;let s;const o=this.donorEmailDataPoint.toObject(),c=this.mailingAddressDataPoint.toObject(),l=this.ukBacsDataPoint.toObject();try{s=yield this.stripe.confirmBacsDebitSetup(e,{payment_method:{bacs_debit:{sort_code:l.sortCode,account_number:l.accountNumber},billing_details:{name:l.accountHolderName,email:o.email,address:{line1:c.line1,city:c.city,country:c.countryCode,postal_code:c.postal}}}})}catch(e){return this.sentry.captureException(e),dn.fail({})}return s.error?Z()(a=["invalid_owner_address","country-code-invalid"]).call(a,null!==(n=s.error.code)&&void 0!==n?n:"")?(this.mailingAddressFailureHandler(),dn.fail({shouldLeave:!0,additionalMessage:s.error.message,message:this.intl.translate("mailingAddressScreen.validationError.title")})):(this.ukBacsFailureHandler(),Z()(r=["invalid_bank_account_account_number","invalid_bank_account"]).call(r,null!==(i=s.error.code)&&void 0!==i?i:"")?dn.fail({shouldLeave:!0,message:s.error.message}):s.error.message?dn.fail({shouldLeave:!1,message:s.error.message}):dn.fail({shouldLeave:!0})):dn.success(null!==(t=s.setupIntent)&&void 0!==t?t:null)}))}requestPay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay();return dn.isSuccess(e)?e:dn.fail({shouldLeave:!1,message:e.failureResult.message})}))}}const Wx="venmo";class $x{constructor(e,t,n,i){this.config=e,this.sentry=t,this.locale=n,this.iframeWindow=i,this.available=!0,this.scriptParams=null,this.buttonParams=null,this.actions=null,this.rendered=!1}init(){const{paypalMerchantId:e,paypalClientId:t}=this.config;if(!e){const e=new Error("Paypal merchant ID is not provided");throw this.sentry.captureException(e),e}const n={"client-id":t,"merchant-id":e,currency:"USD","enable-funding":Wx,"disable-funding":"card"},i=Q(this.locale);return i&&(n.locale=i),this.scriptParams=n,this}setHandlers(e){let{onCreate:t,onApprove:n,onButtonClick:i,onCancel:a}=e;return this.buttonParams={fundingSource:Wx,style:{tagline:!1,shape:"rect",height:48,size:"responsive"},createOrder:()=>t(h.GZ.VENMO),onApprove:e=>(0,y.mG)(this,void 0,void 0,(function*(){if(!this.venmoButtons)throw new Error("Venmo Buttons not initialized");const t=e.orderID;if(!t)return this.handleEmptyTokenError(e);yield n(this.clientPaymentMethod,t)})),onInit:(e,t)=>{this.actions=t},onClick:()=>{i&&i(h.GZ.VENMO)},onError:e=>{const t=e.message;if(!t||!Z()(t).call(t,"popup close")&&!Z()(t).call(t,"cross-domain"))throw e},onCancel:()=>{null==a||a()}},this}disable(){var e;null===(e=this.actions)||void 0===e||e.disable()}enable(){var e;null===(e=this.actions)||void 0===e||e.enable()}mount(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.scriptParams)throw new Error("Call `setCurrency` before you mount");if(!this.buttonParams)throw new Error("Call `setHandlers` before you mount");if(yield me(`https://www.paypal.com/sdk/js?${(0,ot.f0)(this.scriptParams)}`,!1,this.iframeWindow,{"data-namespace":"venmo"}),e)if(this.venmoButtons=this.iframeWindow.venmo.Buttons(this.buttonParams),this.venmoButtons.isEligible())try{yield this.venmoButtons.render(e),this.rendered=!0}catch(e){var t;if(Z()(t=["Component closed","Detected container element removed from DOM"]).call(t,null==e?void 0:e.message))return;throw e}else this.available=!1}))}destroy(){return(0,y.mG)(this,void 0,void 0,(function*(){this.rendered&&this.venmoButtons&&(yield this.venmoButtons.close(),this.rendered=!1)}))}get clientPaymentMethod(){return h.GZ.VENMO}handleEmptyTokenError(e){this.sentry.captureException(new Error("Got an undefined token"),{extra:{data:e}})}}class Xx{constructor(e,t,n,i,a,r,s,o,c,l,u,d,h,m){this.livemode=e,this.showcase=t,this.config=n,this.sentry=i,this.locale=a,this.iframeWindow=r,this.paymentOptionsDataPoint=s,this.donorNameDataPoint=o,this.donorEmailDataPoint=c,this.phoneNumberDataPoint=l,this.mailingAddressDataPoint=u,this.updateSession=d,this.paypalAPI=h,this.paymentAPI=m,this.name=IE.GZ.VENMO,this.venmoButtonBuilder=new $x(this.config,this.sentry,this.locale,this.iframeWindow)}checkAvailability(){return this.venmoButtonBuilder.available}initiateFlow(e){let{element:t,holdDone:n,onFail:i,onButtonClick:a,onCancel:r}=e;return(0,y.mG)(this,void 0,void 0,(function*(){return yield this.venmoButtonBuilder.init().setHandlers({onCreate:e=>(0,y.mG)(this,void 0,void 0,(function*(){yield this.updateSession();const t=yield this.paypalAPI.createOrder(e);if(!dn.isFailure(t))return t.successResult;i(t.failureResult)})),onApprove:(e,t)=>(0,y.mG)(this,void 0,void 0,(function*(){this.paymentOptionsDataPoint.setPaymentMethod(e),this.clientPaymentMethod=e,this.token=t;const a=yield this.hold();dn.isFailure(a)?i(a.failureResult):n()})),onButtonClick:a,onCancel:()=>{null==r||r()}}).mount(t),this.venmoButtonBuilder.available}))}startFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){return dn.success(void 0)}))}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.token||!this.clientPaymentMethod)throw new qx;const e={token:this.token,clientPaymentMethod:this.clientPaymentMethod},t=yield this.paymentAPI.hold(e);return dn.isFailure(t)?dn.fail(t.failureResult):(this.setDonorInfo(t.successResult),dn.success(void 0))}))}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay();return dn.isSuccess(e)?e:dn.fail({shouldLeave:!1})}))}closeButton(){this.venmoButtonBuilder.destroy()}setDonorInfo(e){var t,n,i,a,r,s,o,c;this.donorNameDataPoint.setFirstNameIfEmpty(e.firstName||""),this.donorNameDataPoint.setLastNameIfEmpty(e.lastName||""),this.donorEmailDataPoint.setEmailIfEmpty(e.email||""),(null===(t=e.address)||void 0===t?void 0:t.countryCode)&&this.phoneNumberDataPoint.setCountryCodeIfEmptyPhone(e.address.countryCode),this.phoneNumberDataPoint.setPhoneIfEmpty(e.phone||""),(null===(n=e.address)||void 0===n?void 0:n.countryCode)&&this.mailingAddressDataPoint.setCountryCodeIfEmptyAddress(e.address.countryCode),this.mailingAddressDataPoint.setCityIfEmpty((null===(i=e.address)||void 0===i?void 0:i.city)||""),this.mailingAddressDataPoint.setLine1IfEmpty((null===(a=e.address)||void 0===a?void 0:a.line1)||""),this.mailingAddressDataPoint.setLine2IfEmpty((null===(r=e.address)||void 0===r?void 0:r.line2)||""),this.mailingAddressDataPoint.setRegionIfEmpty((null===(s=e.address)||void 0===s?void 0:s.region)||""),this.mailingAddressDataPoint.setPostalIfEmpty((null===(c=null===(o=e.address)||void 0===o?void 0:o.postal)||void 0===c?void 0:c.toString())||"")}}class Qx{constructor(e){this.sessionAPI=e}getToken(e){return(0,y.mG)(this,void 0,void 0,(function*(){try{return yield this.sessionAPI.get("googlePay/token",{merchantOrigin:e},{retries:5,delay:200,rejectsOnInvalid:!0})}catch(e){throw Error("Error while receiving google pay token")}}))}}class Jx{constructor(e){this.sessionAPI=e}createOrder(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.sessionAPI.post("paypal/order",{clientPaymentMethod:e})}))}}class ek{constructor(e,t,n,i,a,r,s,o){this.stripe=e,this.usBankAccountDataPoint=t,this.donationDataPoint=n,this.sentry=i,this.paymentAPI=a,this.intl=r,this.params=s,this.paymentFailureHandler=o,this.name=IE.GZ.US_BANK_ACCOUNT,this.intentSecret=null,this.initiateParams=null}initiateFlow(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.initiateParams=e,!0}))}startFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.usBankAccountDataPoint.usBankAccountVerificationSetup;if(e.isMicroDepositOnly||e.isAbavOnly)return dn.success(void 0);const t=yield this.hold();if(dn.isFailure(t))return dn.fail({message:t.failureResult.message||this.commonErrorText});if(!this.intentSecret)return dn.fail({message:this.commonErrorText});const n=yield this.collectBankAccountForSetup(this.intentSecret);if(dn.isFailure(n))return n;const i=n.successResult;if(i.status===IE.OQ.REQUIRES_PAYMENT_METHOD)return dn.fail({});const a=i.payment_method;return this.assertUSBankAccountPaymentMethod(a),this.paymentMethod=a,this.usBankAccountDataPoint.financialInstitution=a.us_bank_account.bank_name,this.usBankAccountDataPoint.accountNumber=a.us_bank_account.last4,this.usBankAccountDataPoint.routingNumber=a.us_bank_account.routing_number,this.usBankAccountDataPoint.accountType=a.us_bank_account.account_holder_type,dn.success(void 0)}))}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.shouldCreatePaymentMethod){const e=yield this.createPaymentMethod();if(dn.isFailure(e))return e}const e=yield this.paymentAPI.hold({clientPaymentMethod:IE.GZ.US_BANK_ACCOUNT,token:{verificationType:this.verificationType}});if(dn.isFailure(e))return dn.fail(e.failureResult);const{intentSecret:t}=e.successResult;if(!t)throw new Sx;return this.intentSecret=t,dn.success(void 0)}))}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.intentSecret)throw new Sx;const e=yield this.retrieveSetupIntent(this.intentSecret);if(dn.isFailure(e))return e;if(e.successResult.status===IE.OQ.SUCCEEDED)return this.requestPay();const t=yield this.confirmUsBankAccountSetup(this.intentSecret);if(dn.isFailure(t))return t;const n=t.successResult;return!n||n.status!==IE.OQ.SUCCEEDED&&n.status!==IE.OQ.REQUIRES_ACTION?dn.fail({shouldLeave:!0}):(n.next_action&&(this.assertUSBankAccountNextAction(n.next_action),this.usBankAccountDataPoint.verificationType=n.next_action.verify_with_microdeposits.microdeposit_type),this.requestPay())}))}get verificationType(){var e;if(null===(e=this.initiateParams)||void 0===e?void 0:e.verificationType)return this.initiateParams.verificationType;const t=this.usBankAccountDataPoint.usBankAccountVerificationSetup;return t.isAbavOnly?"instant_or_skip":t.isInstantOnly?"instant":t.isInstantAndMicroDeposit?UA(IA(this.params.companyKey,this.donationDataPoint.total,this.donationDataPoint.currency))?"automatic":"instant":t.isInstantAndAbav?"instant_or_skip":"microdeposits"}get shouldCreatePaymentMethod(){return"microdeposits"===this.verificationType||"instant_or_skip"===this.verificationType}get commonErrorText(){return this.intl.translate("common.errorOccurredText")}get captureErrorContext(){return{extra:{widgetSession:this.params.sessionToken}}}createPaymentMethod(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.usBankAccountDataPoint.toObject();let t;try{t=yield this.stripe.createPaymentMethod({type:IE.Ey.US_BANK_ACCOUNT,billing_details:{name:this.usBankAccountDataPoint.accountHolderName},us_bank_account:{account_number:e.accountNumber,routing_number:e.routingNumber,account_holder_type:e.accountType}})}catch(e){return this.sentry.captureException(e,this.captureErrorContext),dn.fail({shouldLeave:!1})}if(t.error)return dn.fail({shouldLeave:!1,message:t.error.message||this.commonErrorText});const n=t.paymentMethod;return this.assertUSBankAccountPaymentMethod(n),this.paymentMethod=n,this.usBankAccountDataPoint.financialInstitution=n.us_bank_account.bank_name,dn.success(n)}))}retrieveSetupIntent(e){return(0,y.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.stripe.retrieveSetupIntent(e)}catch(e){return this.sentry.captureException(e,this.captureErrorContext),dn.fail({shouldLeave:!1})}return t.setupIntent?dn.success(t.setupIntent):dn.fail({shouldLeave:!1})}))}confirmUsBankAccountSetup(e){var t;return(0,y.mG)(this,void 0,void 0,(function*(){var n;let i;this.assertUSBankAccountPaymentMethod(this.paymentMethod);try{i=yield this.stripe.confirmUsBankAccountSetup(e,{payment_method:this.paymentMethod.id,expand:["payment_method"]})}catch(e){return this.sentry.captureException(e,this.captureErrorContext),dn.fail({shouldLeave:!1})}return i.setupIntent?dn.success(i.setupIntent):(this.paymentFailureHandler(),Z()(n=["invalid_bank_account_account_number","invalid_bank_account"]).call(n,null!==(t=i.error.code)&&void 0!==t?t:"")||i.error.message?dn.fail({shouldLeave:!0,message:i.error.message}):dn.fail({shouldLeave:!0}))}))}collectBankAccountForSetup(e){var t,n,i,a;return(0,y.mG)(this,void 0,void 0,(function*(){let r;try{null===(n=null===(t=this.initiateParams)||void 0===t?void 0:t.onPopupOpen)||void 0===n||n.call(t),r=yield this.stripe.collectBankAccountForSetup({clientSecret:e,params:{payment_method_type:IE.Ey.US_BANK_ACCOUNT,payment_method_data:{billing_details:{name:pe}}},expand:["payment_method"]})}catch(e){return this.sentry.captureException(e,this.captureErrorContext),dn.fail({shouldLeave:!1})}finally{null===(a=null===(i=this.initiateParams)||void 0===i?void 0:i.onPopupClose)||void 0===a||a.call(i)}return r.setupIntent?dn.success(r.setupIntent):r.error?dn.fail({shouldLeave:!1,message:r.error.message||this.commonErrorText}):dn.fail({shouldLeave:!1})}))}requestPay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay();return dn.isSuccess(e)?e:dn.fail({shouldLeave:!1,message:e.failureResult.message})}))}assertUSBankAccountPaymentMethod(e){if("us_bank_account"!==e.type)throw this.sentry.captureException(new Error(`Expected us_bank_account payment method, but ${e.type} has been retrieved`),this.captureErrorContext),new Error(this.commonErrorText)}assertUSBankAccountNextAction(e){if("verify_with_microdeposits"!==e.type)throw this.sentry.captureException(new Error(`Expected verify_with_microdeposits next action, but ${e.type} has been retrieved`),this.captureErrorContext),new Error(this.commonErrorText)}}class tk{constructor(e,t,n,i){this.sentry=e,this.intl=t,this.paymentMethodAvailabilityManagerRepository=n,this.params=i,this.paymentFlows={}}destroy(){return(0,y.mG)(this,void 0,void 0,(function*(){for(const e of Me()(this.paymentFlows))e.destroy&&(yield e.destroy())}))}resolveClickToPay(e){let{env:t,currencyService:n,stripe:i,livemode:a,locale:r,clickToPayCheckoutId:s,sessionAPI:o,donationDataPoint:c}=e;return this.getOrCreatePaymentFlow(h.GZ.CLICK_TO_PAY,(()=>{if(!i)throw new Error("Click to pay dependencies are not provided");return new Lx({env:t,livemode:a,clickToPayCheckoutId:s,deferred:!1,locale:r},n,i,c,this.sentry,this.intl,new cP(o))}))}resolveCard(e){let{sessionAPI:t,stripe:n,stripeElements:i,failureHandler:a}=e;return this.getOrCreatePaymentFlow(h.GZ.CARD,(()=>{if(!n||!i)throw new Error("Credit card dependencies are not provided");return new jx(n,i,this.sentry,this.intl,a,new cP(t),{stripe:{elementClasses:this.params.stripe.elementClasses,elementStyles:this.params.stripe.elementStyles}})}))}resolvePaypal(e){let{sessionAPI:t,locale:n,iframeWindow:i,paypalClientId:a,paypalMerchantId:r,paypalCurrencies:s,subscriptionsEnabled:o,paymentOptionsDataPoint:c,donorNameDataPoint:l,donorEmailDataPoint:u,phoneNumberDataPoint:d,donationDataPoint:m,mailingAddressDataPoint:p,updateSession:g,paymentFailureHandler:y}=e;return this.getOrCreatePaymentFlow(h.GZ.PAYPAL,(()=>new Yx({paypalClientId:a,paypalMerchantId:r,paypalCurrencies:s,subscriptionsEnabled:o},this.sentry,n,i,c,l,u,d,p,m,g,new Jx(t),new cP(t),y)))}resolveGooglePay(e){let{sessionAPI:t,livemode:n,env:i,googlePayInfo:a,stripeAccount:r,companyName:s,stripePublicKey:o,countryCode:c,stripe:l,currencyService:u,donationDataPoint:d,paymentOptionsDataPoint:m,donorNameDataPoint:p,donorEmailDataPoint:g}=e;return this.getOrCreatePaymentFlow(h.GZ.GOOGLE_PAY,(()=>{if(!l||!r)throw new Error("Stripe and Stripe account are required for GPay");return new Bx({googlePayInfo:a,stripeAccount:r,stripePublicKey:o,companyName:s,countryCode:c},n,i,l,u,d,m,p,g,this.sentry,this.intl,new cP(t),new Qx(t))}))}resolveUkBacs(e){let{sessionAPI:t,stripe:n,donorEmailDataPoint:i,mailingAddressDataPoint:a,ukBacsDataPoint:r,mailingAddressFailureHandler:s,ukBacsFailureHandler:o}=e;return this.getOrCreatePaymentFlow(h.GZ.UK_BACS,(()=>{if(!n)throw new Error("Stripe is not provided");return new zx(n,i,a,r,this.sentry,this.intl,s,o,new cP(t))}))}resolveApplePay(e){let{sessionAPI:t,companyName:n,applePayStripeLoadingPromise:i,donationDataPoint:a,paymentOptionsDataPoint:r,donorNameDataPoint:s,donorEmailDataPoint:o,mailingAddressDataPoint:c}=e;return this.getOrCreatePaymentFlow(h.GZ.APPLE_PAY,(()=>{const e={country:h.C9.UNITED_STATES,currency:a.currency.toLowerCase(),total:{label:n,amount:a.total||0}};return new Px(e,i,a,r,s,o,c,this.sentry,this.intl,new cP(t))}))}resolveAuBECS(e){let{sessionAPI:t,stripe:n,stripeElements:i,donorNameDataPoint:a,donorEmailDataPoint:r}=e;return this.getOrCreatePaymentFlow(h.GZ.AU_BECS,(()=>{if(!n||!i)throw new Error("Elements are not provided");return new wx(n,i,a,r,this.sentry,new cP(t),{stripe:{elementClasses:this.params.stripe.elementClasses,elementStyles:this.params.stripe.elementStyles}})}))}resolveSepa(e){let{sessionAPI:t,stripe:n,stripeElements:i,mailingAddressDataPoint:a,donorNameDataPoint:r,donorEmailDataPoint:s,paymentOptionsDataPoint:o,checkoutConfiguration:c,mailingAddressFailureHandler:l}=e;return this.getOrCreatePaymentFlow(h.GZ.SEPA,(()=>{if(!n||!i)throw new Error("Elements are not provided");const e=this.paymentMethodAvailabilityManagerRepository.getManager(h.GZ.SEPA,lA.WIDGET);return new Zx(n,i,r,s,a,o,this.sentry,e,c,l,new cP(t),{stripe:{elementClasses:this.params.stripe.elementClasses,elementStyles:this.params.stripe.elementStyles}})}))}resolveIDEAL(e){let{sessionAPI:t,stripe:n,stripeElements:i,donorNameDataPoint:a,donorEmailDataPoint:r,donationDataPoint:s,idealDataPoint:o,env:c}=e;return this.getOrCreatePaymentFlow(h.GZ.IDEAL,(()=>{if(!n||!i)throw new Error("Elements are not provided");return new Gx(t,n,c,a,r,s,o,this.intl,this.sentry,new cP(t))}))}resolveUSBankAccount(e){let{stripe:t,usBankAccountDataPoint:n,donationDataPoint:i,sessionAPI:a,checkoutConfiguration:r,paymentFailureHandler:s}=e;return this.getOrCreatePaymentFlow(h.GZ.US_BANK_ACCOUNT,(()=>{if(!t)throw new Error("Stripe is not provided");return new ek(t,n,i,this.sentry,new cP(a),this.intl,{companyKey:r.company.key,sessionToken:a.sessionToken},s)}))}resolveACSS(e){let{sessionAPI:t,stripe:n,paymentOptionsDataPoint:i}=e;return this.getOrCreatePaymentFlow(h.GZ.ACSS,(()=>{if(!n)throw new Error("Stripe is not provided");return new bx(n,i,this.intl,this.sentry,new cP(t))}))}resolveVenmo(e){let{sessionAPI:t,livemode:n,showcase:i,locale:a,iframeWindow:r,paypalClientId:s,paypalMerchantId:o,paymentOptionsDataPoint:c,donorNameDataPoint:l,donorEmailDataPoint:u,phoneNumberDataPoint:d,mailingAddressDataPoint:m,updateSession:p}=e;return this.getOrCreatePaymentFlow(h.GZ.VENMO,(()=>new Xx(n,i,{paypalClientId:s,paypalMerchantId:o},this.sentry,a,r,c,l,u,d,m,p,new Jx(t),new cP(t))))}getPaymentFlow(e){return this.paymentFlows[e]}getOrCreatePaymentFlow(e,t){return this.paymentFlows[e]||(this.paymentFlows[e]=t()),this.paymentFlows[e]}}class nk extends ri{constructor(e){super(),this.merge({customEventType:e.customEventType,customEventData:In()(e.customEventData)})}get eventType(){return ai}}class ik extends pr{constructor(e,t,n,i,a,r){super(e,t),this.merge({checkoutScreen:n,checkoutError:i,chargePaymentMethod:a,duration:r})}get eventType(){return"checkoutError"}}class ak extends gi{get isTestGroup(){return this.isActive&&this.isVariant(Ri.TEST)}tryStart(e){this.isActive||this.canBeStarted(e)&&super.start()}canBeStarted(e){var t;return!!e.isPostDonationUpsellEnabled&&!!e.isPaid&&!!Z()(t=ak.ALLOWED_CURRENCIES).call(t,e.currency)}isEnabled(e){return this.canBeStarted(e)&&this.isTestGroup}trackAmountSuggestion(e){this.tracker.customTrack({type:"postDonationUpsellAmountSuggestion",data:e})}}ak.ALLOWED_CURRENCIES=["USD"];class rk extends gi{get isTestGroup(){return this.isActive&&this.isVariant(Ri.TEST)}tryStart(e){this.isActive||this.canBeStarted(e)&&super.start()}canBeStarted(e){var t;return!!e.isPostDonationUpsellEnabled&&!!e.isPaid&&!!Z()(t=rk.ALLOWED_CURRENCIES).call(t,e.currency)}isEnabled(e){return this.canBeStarted(e)&&this.isTestGroup}trackAmountSuggestion(e){this.tracker.customTrack({type:"postDonationUpsellAmountSuggestion",data:e})}}rk.ALLOWED_CURRENCIES=["USD"];class sk extends gi{get isTestGroup(){return this.isActive&&this.isVariant(Gi.TEST)}tryStart(e){this.isActive||this.canBeStarted(e)&&super.start()}canBeStarted(e){var t;if(!e.isEnabledCampaignAi)return!1;if(e.isEnabledCampaignHints)return!1;if(e.hasExternalAmount)return!1;if("USD"!==e.currency)return!1;if(!e.mlSuggestion)return!1;if(e.p2pUsed)return!1;if(e.mlSuggestion.isFallback)return!1;for(const n of e.enabledFrequencies){if(n!==Oe.ONCE&&n!==Oe.MONTHLY)return!1;if(!Rt()(null===(t=e.mlSuggestion.donation.defaultAmounts[n])||void 0===t?void 0:t.amount))return!1}return!0}}class ok extends gi{get isTestGroup(){return this.isActive&&this.isVariant(Ki.TEST)}tryStart(e){this.isActive||this.canBeStarted(e)&&super.start()}canBeStarted(e){var t;if(!e.isEnabledCampaignAi)return!1;if(e.isEnabledCampaignHints)return!1;if(e.hasExternalAmount)return!1;if("USD"!==e.currency)return!1;if(!e.mlSuggestion)return!1;if(e.p2pUsed)return!1;if(e.mlSuggestion.isFallback)return!1;for(const n of e.enabledFrequencies){if(n!==Oe.ONCE&&n!==Oe.MONTHLY)return!1;if(!Rt()(null===(t=e.mlSuggestion.donation.defaultAmounts[n])||void 0===t?void 0:t.amount))return!1}return!0}}class ck extends gi{get isTestGroup(){return this.isActive&&this.isVariant(Qi.TEST)}tryStart(e){this.isActive||this.canBeStarted(e)&&super.start()}canBeStarted(e){return e.isSmartCoveringFeeEnabled&&!e.feeCoveringTouched}isEnabled(e){return this.canBeStarted(e)&&this.isTestGroup}}class lk extends gi{get isTestGroup(){return this.isActive&&this.isVariant(Ji.TEST)}tryStart(e){this.isActive||this.canBeStarted(e)&&super.start()}canBeStarted(e){return e.isSmartCoveringFeeEnabled&&!e.feeCoveringTouched}isEnabled(e){return this.canBeStarted(e)&&this.isTestGroup}}class uk extends uE{constructor(e,t,n,i,a,r,s,o,c,l,u,d,h,m,p,g,y,f,v,S,C,b,E,A,N,P){super(e,t,n,s,i,a,o,c,l,u,d,m,p,g,y,f,v,C,b,P),this.dataPointRegistry=e,this._checkoutConfiguration=t,this.checkoutState=n,this.sessionService=i,this.sessionAPI=a,this.paymentService=r,this._checkoutUIState=s,this.tracker=o,this.currencyService=c,this.intl=l,this.iframeWindow=u,this.sentry=d,this.paymentFlowManager=h,this.paymentScreen=m,this.eventEmitter=p,this.checkoutAPIBridge=g,this.debug=y,this.experiments=f,this.paymentAPI=v,this.postDonationUpsellAPI=S,this.logger=C,this._redirectApi=b,this.postDonationUpsellMlSuggestion=E,this.mlCheckoutDefaultParamsService=A,this.smartCoveringFeeDecider=N,this.params=P,this.shouldFindMandatoryScreen=!1,this._mlCheckoutDefaultParamsTrackData=null,this.experiments.register(yi.X.ML_POST_DONATION_UPSELL_CHECKOUT_EXPERIMENT,ak),this.experiments.register(yi.X.ML_POST_DONATION_UPSELL_CAMPAIGN_PAGES_EXPERIMENT,rk),this.experiments.register(yi.X.ML_DEFAULT_AMOUNT_CHECKOUT_EXPERIMENT,sk),this.experiments.register(yi.X.ML_DEFAULT_AMOUNT_CAMPAIGN_PAGES_EXPERIMENT,ok)}get isReadyToRetryPay(){return this.getState().isReadyToRetryPay}get type(){return this.checkoutState.flowType}get checkoutUIState(){return this._checkoutUIState}get isPaymentStarted(){return this.paymentService.isIDEALPaymentStarted()}getPaymentScreen(e){return this.paymentScreen.get(e)}getState(){return this.checkoutState.get()}hasPaymentError(e){return this.getState().paymentErrors[e]}dispose(){return this.paymentFlowManager.destroy()}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.checkoutConfiguration.infrastructureParams.showcase)return dn.fail({});const e=this.getDataPoint("PaymentOptions").clientPaymentMethod,t=yield this.resolvePaymentFlow(e);let n;try{yield this.sessionService.updateSession(),n=yield t.hold()}catch(e){return dn.fail({shouldLeave:!1})}return dn.isFailure(n)?(this.payErrorMessage=n.failureResult.message,dn.fail({shouldLeave:!1})):dn.success(void 0)}))}pay(e){let{screen:t,predictedNextScreen:n}=e;return(0,y.mG)(this,void 0,void 0,(function*(){if(this.checkoutConfiguration.infrastructureParams.showcase)return dn.fail({});this.setPaymentError(IE.GZ.CARD,!1),this.setPaymentError(IE.GZ.UK_BACS,!1),this.setPaymentError(IE.GZ.US_BANK_ACCOUNT,!1),this.setPaymentError(IE.GZ.PAYPAL,!1),this.setMailingAddressError(!1),this.payErrorMessage=void 0,this.additionalPayErrorMessage=void 0,this.setPaymentAttempt();const e=this.getDataPoint("PaymentOptions").clientPaymentMethod,i=yield this.resolvePaymentFlow(e),a=Jn()(),r=yield this.sessionService.updateSession();if(dn.isFailure(r))return this.payErrorMessage=this.intl.translate("common.errorOccurredText"),dn.fail({});let s;try{s=yield i.pay()}catch(e){return this.shouldFindMandatoryScreen=!0,this.payErrorMessage=this.intl.translate("common.errorOccurredText"),this.capturePayErrorToSentry(e),yield this.trackError(this.payErrorMessage,a-Jn()(),t),dn.fail({shouldLeave:this.hasPaymentError(IE.GZ.CARD)})}if(dn.isFailure(s)){this.shouldFindMandatoryScreen=!0,this.payErrorMessage=s.failureResult.message,this.additionalPayErrorMessage=s.failureResult.additionalMessage;const n=this.payErrorMessage||(e===IE.GZ.CARD?this.intl.translate("creditCardScreen.cardError.title"):this.intl.translate("common.errorOccurredText"));return yield this.trackError(n,a-Jn()(),t),dn.fail({shouldLeave:s.failureResult.shouldLeave})}return s.successResult.data?(this.setDonationResultState(s.successResult.data),this.handleDonationCompleted({donationId:s.successResult.data.donationId,clientPaymentMethod:e||IE.GZ.CARD,duration:a-Jn()(),screen:t}),yield this.handlePaymentRedirect(n),yield this.fetchPostDonationUpsellScreenDecision(),dn.success(void 0)):dn.fail({shouldLeave:!1})}))}saveCheckoutClosePublicParams(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.getDataPoint("Designation"),t=this.getDataPoint("RemindMeLater"),n=e.toObject(),i=t.toObject(),a=yield this.getPublicCheckoutDonationParams(),r=yield this.getCommonPublicCheckoutIntentParams();r&&(r.checkoutSettings.modifyDesignation=e.modifyDesignation,r.checkoutSettings.designation=n.goalKey,r.isSavedEmailOnExit=i.used),this.checkoutAPIBridge.setDonationParams(a),this.checkoutAPIBridge.setIntentParams(r)}))}trackCurrencyChange(e){this.tracker.track(new nk({customEventType:"selectCurrency",customEventData:{currency:e}}))}trackCheckoutCharge(e){const t=this.getDataPoint("FiatDonation"),n=t.toObject(),i=this.getDataPoint("Tribute"),a=this.getDataPoint("Comment"),r=this.getDataPoint("Designation"),s=this.checkoutConfiguration.campaign,o=this.checkoutConfiguration.element,c={[n.frequency]:n.amountOptions},l=n.hintAmounts[n.frequency].length?n.hintAmounts:c,u={};t.currentHint&&(u.hintAmount=t.currentHint.amount,u.hintDescription=t.currentHint.description,u.default=t.currentHint.default,u.amountUsd=t.currentHint.amountUsd,u.hintVariantName=t.hintsVariantName),this.tracker.track(new dE({frequency:n.frequency,currency:n.currency,amount:n.amount||0,amountOptions:l},{elementType:o.type,elementKey:o.key,elementReminderKey:o.reminderKey},e.screen,{chargeKey:e.donationId,chargeInUSDAmount:t.totalInUSD||0,chargeInDefaultCurrencyAmount:t.totalInDefaultCurrency,chargeAmount:t.total,chargeCurrency:t.currency,chargeFeeCovered:t.isFeeCovered,chargePaymentMethod:e.clientPaymentMethod,chargeIsRecurring:t.frequency!==Oe.ONCE,chargeHasComment:Boolean(a.comment),chargeHasTribute:i.isFilled,chargeGoal:r.goalKey||void 0,chargeCampaignKey:s.key},e.duration,u))}trackCheckoutView(){var e,t;const n=this.getDataPoint("FiatDonation").toObject(),i=this.checkoutConfiguration.element,a={[n.frequency]:n.amountOptions},r=n.hintAmounts[n.frequency].length?n.hintAmounts:a,s=this.checkoutConfiguration.externalConfig,o=Boolean((null===(e=s.launcher)||void 0===e?void 0:e.elementKey)&&(null===(t=s.checkoutData)||void 0===t?void 0:t.amount)),c=this.getOpeningTime();this.debug.log("checkout opening time:eventCheckoutView",`${c} ms`),this.tracker.track(new pE({frequency:n.frequency,currency:n.currency,amount:n.amount,amountOptions:r},{elementType:i.type,elementKey:i.key,elementReminderKey:i.reminderKey},c,{isAmountFromElement:o}))}trackCheckoutClose(e){const t=this.getDataPoint("FiatDonation").toObject(),n=this.checkoutConfiguration.element,i={[t.frequency]:t.amountOptions},a=t.hintAmounts[t.frequency].length?t.hintAmounts:i;this.tracker.track(new hE({frequency:t.frequency,currency:t.currency,amount:t.amount,amountOptions:a},{elementType:n.type,elementKey:n.key,elementReminderKey:n.reminderKey},e))}trackCheckoutScreenView(e,t,n,i){const a=this.getDataPoint("FiatDonation").toObject(),r=this.getDataPoint("PaymentOptions"),s=ne()(r.allowedPaymentMethods),o=Fe()(s).call(s,(e=>{var t;return!Z()(t=[IE.GZ.STOCK,IE.GZ.CRYPTO]).call(t,e)&&r.allowedPaymentMethods[e].available&&r.allowedPaymentMethods[e].show})),c=this.checkoutConfiguration.element,l={[a.frequency]:a.amountOptions},u=a.hintAmounts[a.frequency].length?a.hintAmounts:l,d={paymentMethods:o,renderDuration:null};t&&n&&(d.transitionDuration=n.getTime()-t.getTime()),i&&n&&(d.renderDuration=i.getTime()-n.getTime()),this.tracker.track(new mE({frequency:a.frequency,currency:a.currency,amount:a.amount,amountOptions:u},{elementType:c.type,elementKey:c.key,elementReminderKey:c.reminderKey},e,d))}trackMlCheckoutDefaultParams(){this.exposeMlDefaultAmountExperiment(),this._mlCheckoutDefaultParamsTrackData&&this.trackCustomEvent({type:"checkoutDefaultParamsML",data:this._mlCheckoutDefaultParamsTrackData})}trackCustomEvent(e){this.tracker.customTrack(e)}getCheckoutTrackerData(){const e=this.getDataPoint("FiatDonation"),t=this.getDataPoint("Tribute");return{donation:{amount:e.amount,currency:e.currency,frequency:e.frequency,defaultAmount:e.defaultAmount,amountOptions:e.amountOptions,currentHint:e.currentHint,hintOptions:e.hintOptions,hintVariantName:e.hintsVariantName===SE.NONE?null:e.hintsVariantName},tribute:{isActive:t.isActive}}}setPaymentError(e,t){return this.checkoutState.setPaymentError(e,t)}acceptPostDonationUpsell(){const e=this.getDataPoint("PostDonationUpsell").toObject();return this.postDonationUpsellAPI.update({donation:{total:e.recurring.total,tip:e.recurring.tip,amount:e.recurring.amount,currency:e.currency},goalKey:e.goalKey,firstChargeAt:e.firstChargeAt,period:e.period})}restoreDTDUpsellFromSnapshot(){this.checkoutState.restoreDTDUpsellFromSnapshot()}ensureFrequencyEnabled(e){const t=this.dataPointRegistry.getDataPoint("FiatDonation"),n=this.dataPointRegistry.getDataPoint("PreDonationUpsell");if(t.isFrequencyEnabled(e))return;let i,a;n.isAccepted?(i=n.donationFrequency,a=n.donationAmount):(i=t.defaultFrequency,a=t.getDefaultAmountsInCurrency(i)),t.frequency=i,t.amount=a}isMlSmartCoveringFeeExperimentEnabled(){const e=this.experiments.get(yi.X.ML_SMART_COVERING_FEE_CHECKOUT_EXPERIMENT),t=this.experiments.get(yi.X.ML_SMART_COVERING_FEE_CAMPAIGN_PAGES_EXPERIMENT),n={isSmartCoveringFeeEnabled:this.checkoutConfiguration.campaign.config.includeFees===h.__.SMART_COVERING,feeCoveringTouched:this.checkoutUIState.feeCoveringTouched},i=e.isEnabled(n),a=t.isEnabled(n);return!(!i&&!a)}fetchFeeCoveringSuggestion(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.isMlSmartCoveringFeeExperimentEnabled())return;const t=this.dataPointRegistry.getDataPoint("FiatDonation");if(null===t.amount)return;let n;n=(null==e?void 0:e.debounced)?yield this.smartCoveringFeeDecider.debouncedFetchDecision({amount:t.amount,currency:t.currency,frequency:t.frequency}):yield this.smartCoveringFeeDecider.fetchDecision({amount:t.amount,currency:t.currency,frequency:t.frequency}),n.isFallback||(t.isFeeCovered=n.feeCoveringSuggestion===h.__.DEFAULT_YES)}))}initialize(e){super.initialize(e),this.tryApplyMlDefaultParamsSuggestion(),this.initializeSmartCoveringFeeExperiments();const t=this.checkoutConfiguration.externalConfig.checkoutIntent;t&&!e.shouldRestoreFromIntent&&this.applyCheckoutIntent(t),this.paymentService.ensurePaymentMethodsInitialized()}getDonationParams(){var e;const t=this.getDataPoint("FiatDonation"),n=t.toObject();return{amount:n.amount,total:n.total,currency:n.currency,frequency:n.frequency,publicFee:n.publicFee,canModifyAmount:t.canModifyAmount,feeCovered:t.isFeeCovered,selectedHintId:null===(e=t.currentHint)||void 0===e?void 0:e.id}}getPublicCheckoutDonationParams(){return this.getCommonPublicCheckoutDonationParams({clientPaymentMethod:this.getDataPoint("PaymentOptions").clientPaymentMethod,payResult:this.checkoutState.get().donationResultState})}applyCheckoutIntent(e){var t,n,i,a;const r=this.getDataPoint("FiatDonation");if(e.donation){if(e.donation.currency&&(r.currency=e.donation.currency),e.donation.frequency){const{enabled:t}=this._checkoutConfiguration.campaign.config.frequencies[e.donation.frequency];t&&(r.frequency=e.donation.frequency)}if(e.donation.amount&&(r.amount=e.donation.amount,r.resetHintsByDefault()),e.donation.selectedHintId){const n=null===(t=r.hintOptions)||void 0===t?void 0:qe()(t).call(t,(t=>{var n;return t.id===(null===(n=e.donation)||void 0===n?void 0:n.selectedHintId)}));n&&(r.updateHintsByDefault(n),r.setDefaultAmounts())}}if("boolean"==typeof e.feeCovered&&(r.isFeeCovered=e.feeCovered,this.checkoutUIState.feeCoveringTouched=!0),e.supporter){const t=this.getDataPoint("DonorName"),n=this.getDataPoint("DonorEmail");e.supporter.firstName&&t.setFirstName(e.supporter.firstName),e.supporter.lastName&&t.setLastName(e.supporter.lastName),e.supporter.email&&n.setEmail(e.supporter.email)}if(e.comment&&(this.getDataPoint("Comment").comment=e.comment),e.tribute){const t=this.getDataPoint("Tribute");e.tribute.inHonorOf&&(t.tributeeName=null===(n=e.tribute)||void 0===n?void 0:n.inHonorOf),t.isActive=!0}(null===(i=e.checkoutSettings)||void 0===i?void 0:i.designation)&&(this.getDataPoint("Designation").goalKey=null===(a=e.checkoutSettings)||void 0===a?void 0:a.designation),this.checkoutState.filledFromIntent=!0}get mlPostDonationUpsellCheckoutExperiment(){return this.experiments.get(yi.X.ML_POST_DONATION_UPSELL_CHECKOUT_EXPERIMENT)}get mlPostDonationUpsellCampaignPagesExperiment(){return this.experiments.get(yi.X.ML_POST_DONATION_UPSELL_CAMPAIGN_PAGES_EXPERIMENT)}get mlDefaultAmountCheckoutExperiment(){return this.experiments.get(yi.X.ML_DEFAULT_AMOUNT_CHECKOUT_EXPERIMENT)}get mlDefaultAmountCampaignPagesExperiment(){return this.experiments.get(yi.X.ML_DEFAULT_AMOUNT_CAMPAIGN_PAGES_EXPERIMENT)}get mlPostDonationUpsellExperimentParams(){const e=this.getState();return{isPostDonationUpsellEnabled:e.postDonationUpsell.isEnabled,isPaid:e.isPaid,currency:e.donation.currency}}get isMlPostDonationUpsellExperimentEnabled(){return!!this.mlPostDonationUpsellCheckoutExperiment.isEnabled(this.mlPostDonationUpsellExperimentParams)||!!this.mlPostDonationUpsellCampaignPagesExperiment.isEnabled(this.mlPostDonationUpsellExperimentParams)}tryStartMlPostDonationUpsellExperiment(){this.mlPostDonationUpsellCheckoutExperiment.tryStart(this.mlPostDonationUpsellExperimentParams),this.mlPostDonationUpsellCampaignPagesExperiment.tryStart(this.mlPostDonationUpsellExperimentParams)}trackPostDonationUpsellAmountSuggestion(e){this.mlPostDonationUpsellCheckoutExperiment.isEnabled(this.mlPostDonationUpsellExperimentParams)&&this.mlPostDonationUpsellCheckoutExperiment.trackAmountSuggestion(e),this.mlPostDonationUpsellCampaignPagesExperiment.isEnabled(this.mlPostDonationUpsellExperimentParams)&&this.mlPostDonationUpsellCampaignPagesExperiment.trackAmountSuggestion(e)}fetchPostDonationUpsellScreenDecision(){var e,t;return(0,y.mG)(this,void 0,void 0,(function*(){if(this.tryStartMlPostDonationUpsellExperiment(),!this.isMlPostDonationUpsellExperimentEnabled)return;const n=this.getDataPoint("FiatDonation"),i=this.getDataPoint("PostDonationUpsell"),a=new Date;yield this.postDonationUpsellMlSuggestion.fetchAmountSuggestion({eventTime:(new Date).toISOString(),checkoutCurrency:n.currency,checkoutAmount:null!==(e=n.amount)&&void 0!==e?e:0,checkoutInUsdAmount:null!==(t=n.amountInUSD)&&void 0!==t?t:0,clientTimeZone:NE(),clientHour:a.getHours(),clientWeekday:a.getDay(),clientLocale:this.intl.locale,minRecurringAmount:i.recurringMinAmount});const r=this.postDonationUpsellMlSuggestion.getOriginalAmountSuggestion();r.isFallback||this.trackPostDonationUpsellAmountSuggestion(r)}))}tryApplyMlDefaultParamsSuggestion(){var e;if(!this.mlCheckoutDefaultParamsService)return;if(this.tryStartMlDefaultAmountExperiment(),this.saveMlCheckoutDefaultParamsTrackData(),!this.isMlDefaultAmountExperimentEnabled())return;const t=this.getDataPoint("FiatDonation"),n=this.mlCheckoutDefaultParamsService.getSuggestion();v()(e=this.checkoutConfiguration.enabledFrequencies).call(e,(e=>{const i=n.donation.defaultAmounts[e].amount,a=t.getMinAmount(e),r=Math.max(i,a);t.changeDefaultAmountForFrequency(r,e)}))}initializeSmartCoveringFeeExperiments(){this.experiments.register(yi.X.ML_SMART_COVERING_FEE_CAMPAIGN_PAGES_EXPERIMENT,lk),this.experiments.get(yi.X.ML_SMART_COVERING_FEE_CAMPAIGN_PAGES_EXPERIMENT).tryStart({isSmartCoveringFeeEnabled:this.checkoutConfiguration.campaign.config.includeFees===h.__.SMART_COVERING,feeCoveringTouched:this.checkoutUIState.feeCoveringTouched}),this.experiments.register(yi.X.ML_SMART_COVERING_FEE_CHECKOUT_EXPERIMENT,ck),this.experiments.get(yi.X.ML_SMART_COVERING_FEE_CHECKOUT_EXPERIMENT).tryStart({isSmartCoveringFeeEnabled:this.checkoutConfiguration.campaign.config.includeFees===h.__.SMART_COVERING,feeCoveringTouched:this.checkoutUIState.feeCoveringTouched})}tryStartMlDefaultAmountExperiment(){const e=this.getMlDefaultAmountExperimentParams();this.mlDefaultAmountCheckoutExperiment.tryStart(e),this.mlDefaultAmountCampaignPagesExperiment.tryStart(e)}exposeMlDefaultAmountExperiment(){this.mlDefaultAmountCheckoutExperiment.exposure(),this.mlDefaultAmountCampaignPagesExperiment.exposure()}getMlDefaultAmountExperimentParams(){var e,t,n;const i=this.getDataPoint("FiatDonation"),a=this.checkoutConfiguration.enabledFrequencies,r=E()(a).call(a,(e=>this.checkoutConfiguration.campaign.config.frequencies[e].hintsEnabled));return{isEnabledCampaignAi:this.checkoutConfiguration.campaign.config.enableAI,isEnabledCampaignHints:r,hasExternalAmount:this.checkoutConfiguration.hasExternalAmount,p2pUsed:!!(null===(e=this.checkoutConfiguration.fundraisingPage)||void 0===e?void 0:e.key),currency:i.currency,enabledFrequencies:a,mlSuggestion:null!==(n=null===(t=this.mlCheckoutDefaultParamsService)||void 0===t?void 0:t.getSuggestion())&&void 0!==n?n:null}}isMlDefaultAmountExperimentEnabled(){return this.mlDefaultAmountCheckoutExperiment.isTestGroup||this.mlDefaultAmountCampaignPagesExperiment.isTestGroup}saveMlCheckoutDefaultParamsTrackData(){var e,t;if(!this.mlCheckoutDefaultParamsService)return;if(!this.mlCheckoutDefaultParamsService.isSuggestionRequested())return;const n=this.mlCheckoutDefaultParamsService.getSuggestion(),{isFallback:i}=n,a=(0,y._T)(n,["isFallback"]),r=this.mlCheckoutDefaultParamsService.getSuggestionRequestDurationMs(),s=this.getDataPoint("FiatDonation"),o=s.defaultAmounts,c=s.currency,l={donation:{defaultAmounts:{[Oe.ONCE]:{amount:null!==(e=o[Oe.ONCE])&&void 0!==e?e:0,currency:c},[Oe.MONTHLY]:{amount:null!==(t=o[Oe.MONTHLY])&&void 0!==t?t:0,currency:c}}}};this._mlCheckoutDefaultParamsTrackData={isSuggestionUsed:this.isMlDefaultAmountExperimentEnabled(),isSuggestionFallback:i,suggestionRequestDurationMs:r,suggestion:a,defaults:l}}setMailingAddressError(e){this.checkoutState.hasMailingAddressError=e}trackError(e,t,n){const i=this.getDataPoint("PaymentOptions"),a=this.getDataPoint("FiatDonation"),r=a.toObject(),s=this.checkoutConfiguration.element,o={[r.frequency]:r.amountOptions},c=r.hintAmounts[r.frequency].length?r.hintAmounts:o;this.tracker.track(new ik({frequency:a.frequency,currency:a.currency,amount:a.amount||0,amountOptions:c},{elementType:s.type,elementKey:s.key,elementReminderKey:s.reminderKey},n,e,i.clientPaymentMethod||IE.GZ.CARD,t))}resolvePaymentFlow(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.paymentService.resolvePaymentFlow(e)}))}}class dk extends yE{constructor(e,t,n,i,a){super(e,t,n,i),this.campaignConfig=e,this.debug=t,this.dataPointRegistry=i,this.experiments=a,this.flowType=et.MONEY,this.paymentErrors={[h.GZ.CARD]:!1,[h.GZ.UK_BACS]:!1,[h.GZ.US_BANK_ACCOUNT]:!1,[h.GZ.PAYPAL]:!1},this.dtdUpsellSnapshots=null}get isReadyToRetryPay(){var e;if(!this.hasPaymentAttempt)return!1;const t=this.dataPointRegistry.getDataPoint("PaymentOptions").clientPaymentMethod;return!!t&&Z()(e=[h.GZ.CARD,h.GZ.UK_BACS]).call(e,t)}get isPaypalCurrencyConversionApplied(){return this.dataPointRegistry.getDataPoint("PaypalConversion").isCurrencyConversionApplied}get(){var e;return{hasPaymentAttempt:this.hasPaymentAttempt,isReadyToRetryPay:this.isReadyToRetryPay,hasMailingAddressError:this.hasMailingAddressError,donation:this.donationState,personalInformation:this.personalInformationState,mailingListSubscription:this.mailingListSubscriptionState,paymentErrors:this.paymentErrors,giftAid:this.giftAidState,tribute:this.tributeState,comment:this.commentState,donateAnonymous:this.donateAnonymousState,designation:this.designationState,paymentOptions:this.paymentOptionsState,mailingAddress:this.mailingAddressState,preDonationUpsell:this.preDonationUpsellState,phoneNumber:this.phoneNumberState,onBehalfOf:this.onBehalfOfState,termsAndConditions:this.termsAndConditionsState,remindMeLater:this.remindMeLaterState,postDonationUpsell:this.postDonationUpsellState,questions:this.questionsState,doubleDonation:this.doubleDonationState,isPaypalCurrencyConversionApplied:this.isPaypalCurrencyConversionApplied,donationResultState:this.donationResultState,isPaid:Boolean(null===(e=this.donationResultState)||void 0===e?void 0:e.donationId)}}onGiftAidAccepted(){return this.dataPointRegistry.getDataPoint("MailingAddress").setIsGiftAidAccepted(!0),this}resetGiftAid(){const e=this.dataPointRegistry.getDataPoint("GiftAid"),t=this.dataPointRegistry.getDataPoint("MailingAddress");return e.reject(),t.setIsGiftAidAccepted(!1),this}makeDTDUpsellSnapshot(){const e=this.dataPointRegistry.getDataPoint("FiatDonation"),t=this.dataPointRegistry.getDataPoint("DTD");this.dtdUpsellSnapshots?this.debug.log("A snapshot for DTD Upsell is already created"):this.dtdUpsellSnapshots={isCollected:this.collectedDataPoints.has(t),amount:e.amount}}restoreDTDUpsellFromSnapshot(){if(!this.dtdUpsellSnapshots)return void this.debug.log("No snapshot for DTD Upsell is created");const e=this.dtdUpsellSnapshots,t=this.dataPointRegistry.getDataPoint("FiatDonation"),n=this.dataPointRegistry.getDataPoint("DTD");t.amount=e.amount,this.setMailingAddressDonationParams(),e.isCollected?this.collectedDataPoints.add(n):this.collectedDataPoints.delete(n),this.dtdUpsellSnapshots=null}onDonationDataPointCollected(){const e=this.dataPointRegistry.getDataPoint("FiatDonation"),t=this.dataPointRegistry.getDataPoint("PostDonationUpsell"),n=this.dataPointRegistry.getDataPoint("DTD"),i=this.dataPointRegistry.getDataPoint("PreDonationUpsell"),a=this.dataPointRegistry.getDataPoint("Tribute"),r=this.dataPointRegistry.getDataPoint("Designation"),s=e.amount||0,o=e.total,c=e.frequency,l=e.getMinAmount(e.highFrequency),u=e.currency;if(this.setMailingAddressDonationParams(),t.setDonationAmount(s),t.setMinAmount(l),t.setPaymentFrequency(c),t.setCurrency(u),!n.isAccepted&&(n.amount=o,n.setCurrency(u),n.calculateUpsellFee(),c===Oe.ONCE)){if(i.used=!1,!i.canShowUpsellScreen(e.toObject(),a.toObject(),r.toObject()))return;i.setCurrency(u),i.setDonationAmount(s),i.setDonationFrequency(c)}}onTributeDataPointCollected(){const e=this.dataPointRegistry.getDataPoint("Tribute");this.dataPointRegistry.getDataPoint("PostDonationUpsell").setTributeName(e.tributeeName)}onPaymentOptionsDataPointCollected(){const e=this.dataPointRegistry.getDataPoint("PaymentOptions"),t=this.dataPointRegistry.getDataPoint("PostDonationUpsell"),n=this.dataPointRegistry.getDataPoint("MailingAddress");if(!e.clientPaymentMethod)throw new Error("ClientPaymentMethod should not be empty");t.setPaymentMethod(e.clientPaymentMethod),n.setPaymentMethodParams({paymentMethod:e.clientPaymentMethod,paymentCountry:e.paymentMethodCountry})}onBehalfOfDataPointCollected(){const e=this.dataPointRegistry.getDataPoint("OnBehalfOf"),t=this.dataPointRegistry.getDataPoint("DTD"),n=this.dataPointRegistry.getDataPoint("GiftAid");t.setOnBehalfOf(e.isOnBehalfOf),n.setOnBehalfOf(e.isOnBehalfOf)}setPaymentError(e,t){this.paymentErrors[e]=t}onPreDonationUpsellDataPointCollected(e){const t=this.dataPointRegistry.getDataPoint("FiatDonation");t.frequency=e.frequency,t.amount=e.amount,this.setMailingAddressDonationParams()}onDesignationDataPointCollected(){const e=this.dataPointRegistry.getDataPoint("Designation");this.dataPointRegistry.getDataPoint("PostDonationUpsell").setDesignation({goalKey:e.goalKey,allowRecurring:e.allowRecurring})}onDoubleTheDonationAccepted(e){this.makeDTDUpsellSnapshot(),this.dataPointRegistry.getDataPoint("FiatDonation").amount=e,this.setMailingAddressDonationParams()}get phoneNumberState(){const e=this.dataPointRegistry.getDataPoint("PhoneNumber");return{isEnabled:e.isEnabled,isRequired:e.isRequired}}get remindMeLaterState(){const e=this.dataPointRegistry.getDataPoint("RemindMeLater"),t=this.dataPointRegistry.getDataPoint("DonorEmail"),n=this.dataPointRegistry.getDataPoint("TermsAndConditions"),i={show:!1,isEnabled:e.isEnabled,isRequired:e.isRequired};return e.isEnabled&&(t.isEnabled&&!t.validate().isValid||n.isEnabled&&!n.isAccepted)?k()(k()({},i),{show:!0}):i}get mailingListSubscriptionState(){return{isEnabled:this.dataPointRegistry.getDataPoint("MailingAddress").isEnabled}}get donationState(){const e=this.dataPointRegistry.getDataPoint("FiatDonation");return{isEnabled:e.isEnabled,isRequired:e.isRequired,amount:e.amount,currency:e.currency,frequency:e.frequency,defaultAmount:e.defaultAmount||0,amountOptions:e.amountOptions,amountInUsd:e.amountInUSD||0}}get personalInformationState(){const e=this.dataPointRegistry.getDataPoint("FiatDonation"),t=this.dataPointRegistry.getDataPoint("DonorName"),n=this.dataPointRegistry.getDataPoint("DonorEmail");return{isEnabled:e.isEnabled,isRequired:e.isRequired,isCollected:this.collectedDataPoints.has(t)&&this.collectedDataPoints.has(n)}}get donateAnonymousState(){const e=this.dataPointRegistry.getDataPoint("DonateAnonymous");return{isEnabled:e.isEnabled,isRequired:e.isRequired}}get onBehalfOfState(){const e=this.dataPointRegistry.getDataPoint("OnBehalfOf");return{isEnabled:e.isEnabled,isRequired:e.isRequired,isActive:e.isActive}}get termsAndConditionsState(){return{isEnabled:this.dataPointRegistry.getDataPoint("TermsAndConditions").isEnabled}}get commentState(){const e=this.dataPointRegistry.getDataPoint("Comment");return{isEnabled:e.isEnabled,isRequired:e.isRequired}}get giftAidState(){const e=this.dataPointRegistry.getDataPoint("GiftAid");return{isEnabled:e.isEnabled,isAccepted:e.isAccepted,isCollected:this.collectedDataPoints.has(e)}}get tributeState(){const e=this.dataPointRegistry.getDataPoint("Tribute");return{isEnabled:e.isEnabled,isRequired:e.isRequired,name:e.tributeeName,labelType:e.labelType,isActive:e.isActive}}get designationState(){const e=this.dataPointRegistry.getDataPoint("Designation");return{isEnabled:e.isEnabled,isRequired:e.isRequired}}get paymentOptionsState(){const e=this.dataPointRegistry.getDataPoint("PaymentOptions"),t=this.dataPointRegistry.getDataPoint("USBankAccount");return{isEnabled:e.isEnabled,isRequired:e.isRequired,clientPaymentMethod:e.clientPaymentMethod,selectedPaymentOption:e.selectedPaymentOption,preSelectedPaymentOption:e.preSelectedPaymentOption,usBankAccountVerificationSetup:{isInstantOnly:t.usBankAccountVerificationSetup.isInstantOnly,isAbavOnly:t.usBankAccountVerificationSetup.isAbavOnly,isMicroDepositOnly:t.usBankAccountVerificationSetup.isMicroDepositOnly,isInstantAndMicroDeposit:t.usBankAccountVerificationSetup.isInstantAndMicroDeposit,isInstantAndAbav:t.usBankAccountVerificationSetup.isInstantAndAbav,verificationType:t.verificationType}}}get mailingAddressState(){const e=this.dataPointRegistry.getDataPoint("MailingAddress");return{isEnabled:e.isEnabled,isRequired:e.isRequired,isCollected:this.collectedDataPoints.has(e)}}get postDonationUpsellState(){const e=this.dataPointRegistry.getDataPoint("PostDonationUpsell");return{isEnabled:e.isEnabled,isShowed:e.isShowed}}get preDonationUpsellState(){const e=this.dataPointRegistry.getDataPoint("FiatDonation"),t=this.dataPointRegistry.getDataPoint("Tribute"),n=this.dataPointRegistry.getDataPoint("PreDonationUpsell"),i=this.dataPointRegistry.getDataPoint("Designation"),a=n.canShowUpsellScreen(e.toObject(),t.toObject(),i.toObject());return{isEnabled:a,upsellCurtainUsed:this.experiments.get(yi.X.UPSELL_CURTAIN_EXPERIMENT).canOpenUpsellCurtain({tributeIsFilled:t.isFilled,targetFrequency:n.getTargetFrequency(t.toObject(),n.donationAmount,n.currency,n.donationFrequency,i.allowRecurring),preDonationUpsellIsEnabled:a})}}get doubleDonationState(){const e=this.dataPointRegistry.getDataPoint("DTD");return{isEnabled:e.isEnabled,isIntegrationEnabled:e.isIntegrationEnabled,isCollected:this.collectedDataPoints.has(e),isAccepted:e.isAccepted}}get questionsState(){return{isEnabled:this.dataPointRegistry.getDataPoint("Questions").isEnabled}}setMailingAddressDonationParams(){var e;const t=this.dataPointRegistry.getDataPoint("FiatDonation");this.dataPointRegistry.getDataPoint("MailingAddress").setDonationParams({amount:null!==(e=t.amount)&&void 0!==e?e:0,total:t.total,currency:t.currency})}}class hk{constructor(e,t,n){this.checkoutConfiguration=e,this.checkoutState=t,this.params=n}get(){var e;const t=this.checkoutState.get();if(!(null===(e=null==t?void 0:t.paymentOptions)||void 0===e?void 0:e.clientPaymentMethod))return this.params.screenSet.privacy;const n=t.paymentOptions.clientPaymentMethod;return this.shouldPayOnUsBankAccountConfirmation(n)?this.params.screenSet.usBankAccountConfirmation:this.shouldPayOnUkBacsScreen(n)?this.params.screenSet.ukBacsConfirmation:this.shouldPayOnIDEALConfirmationScreen(n)?this.params.screenSet.idealConfirmation:this.shouldPayOnDoubleScreen(n)?this.params.screenSet.double:this.shouldPayOnMailingAddressScreen()?this.params.screenSet.mailingAddress:this.shouldPayOnGiftAidScreen()?this.params.screenSet.giftAid:this.params.screenSet.privacy}shouldPayOnUsBankAccountConfirmation(e){return e===h.GZ.US_BANK_ACCOUNT}shouldPayOnUkBacsScreen(e){return e===h.GZ.UK_BACS}shouldPayOnIDEALConfirmationScreen(e){return e===h.GZ.IDEAL}shouldPayOnDoubleScreen(e){const t=this.checkoutState.get().doubleDonation,n=this.checkoutState.get().donation;if(this.checkoutState.get().onBehalfOf.isActive)return!1;if(!t.isAccepted&&n.amountInUsd>=2500)return!1;if(!t.isEnabled||!this.checkoutConfiguration.integrations.dtdEnabled)return!1;const i=this.checkoutConfiguration.company;return!(e===h.GZ.PAYPAL&&!i.paypal.subscriptionsEnabled)&&(e!==h.GZ.VENMO&&!this.checkoutState.get().giftAid.isEnabled)}shouldPayOnMailingAddressScreen(){const e=this.checkoutState.get().mailingAddress,t=this.checkoutState.get().giftAid;return e.isEnabled&&e.isRequired||t.isEnabled&&t.isAccepted}shouldPayOnGiftAidScreen(){const e=this.checkoutConfiguration.infrastructureParams.showcase,t=this.checkoutState.get().giftAid,n=this.checkoutState.get().onBehalfOf;return t.isEnabled&&!n.isActive&&!e}}class mk extends PE{}function pk(e){if(!e.isSkipped)return e.employer.name?{name:e.employer.name}:void 0}function gk(e){var t;if(!e.isSkipped)return(null===(t=e.employerDTD)||void 0===t?void 0:t.companyName)?{id:e.employerDTD.id,company_name:e.employer.name,minimumMatchedAmount:e.employerDTD.minimumMatchedAmount,ratio:e.employerDTD.ratio}:void 0}function yk(e){return{currency:e.upsell.currency,fromAmount:e.upsell.fromAmount,matchingFromAmount:e.upsell.matchingFromAmount,matchingPromisedAmount:e.upsell.matchingPromisedAmount,matchingRatio:e.upsell.matchingRatio,minimumMatchedAmount:e.upsell.minimumMatchedAmount,proposedAmount:e.upsell.proposedAmount,proposedAmountBeforeFeeCovered:e.upsell.proposedAmountBeforeFeeCovered,showed:e.upsell.showed,visible:e.upsell.visible,used:e.upsell.isAccepted}}class fk extends kE{updateSession(e){var t,n;return(0,y.mG)(this,void 0,void 0,(function*(){if(this.checkoutConfiguration.infrastructureParams.showcase)return dn.success({});const i=this.getDataPoint("FiatDonation"),a=i.toObject(),r=this.getDonationAmount(i,e),s=this.getDataPoint("Tribute").toObject(),o=this.getDataPoint("Comment").toObject(),c=this.getDataPoint("Questions").toObject(),l=this.getDataPoint("DonorName").toObject(),u=this.getDataPoint("DonorEmail").toObject(),d=this.getDataPoint("GiftAid").toObject(),h=this.getDataPoint("PreDonationUpsell").toObject(),m=this.getDataPoint("DonateAnonymous").toObject(),p=this.getDataPoint("PhoneNumber").toObject(),g=this.getDataPoint("MailingListSubscription").toObject(),y=this.getDataPoint("PostDonationUpsell").toObject(),f=this.getDataPoint("TermsAndConditions").toObject(),v=this.getDataPoint("OnBehalfOf").toObject(),S=this.getDataPoint("DTD").toObject(),C=this.getDataPoint("CustomerTitle").toObject(),b=this.getDataPoint("PaypalConversion").toObject(),E=this.getDataPoint("Designation").toObject();return this.sessionAPI.update({donationType:et.MONEY,comment:o.comment,tribute:s.inHonorOf&&s.isActive?{labelType:s.labelType,type:s.type,inHonorOf:s.inHonorOf}:null,questions:c.questions,customer:{firstName:l.firstName,lastName:l.lastName,title:C.title,email:u.email,phone:p.phone,onBehalfOf:v.companyName,subscriptionChecked:g.checked,anonymousChecked:m.anonymousChecked,termsChecked:f.isAccepted},donation:{amount:r.amount,total:r.total,publicFee:a.publicFee,currency:a.currency,frequency:a.frequency,goalKey:E.goalKey,goalName:E.goalName,paypalCurrencyChanged:b.isCurrencyConversionApplied,giftAid:{shown:d.isShown,claimed:d.isAccepted},upsell:{currency:h.currency,fromAmount:h.fromAmount,showed:h.showed,used:h.used},employerUpsell:yk(S),feeCoveringSuggestion:a.feeCoveringSuggestion,hintsVariantName:a.hintsVariantName,hintDescription:(null===(t=a.currentHint)||void 0===t?void 0:t.description)||"",_suggestedAmountHint:(null===(n=a.currentHint)||void 0===n?void 0:n.id)||null},employer:pk(S),employerDTD:gk(S),postDonationUpsell:{period:y.period,firstChargeAt:y.firstChargeAt,fromAmount:y.fromAmount,showed:y.showed,currency:y.currency,recurringAmount:y.recurring.amount,recurringTip:y.recurring.tip,recurringTotal:y.recurring.total,used:y.isAccepted},checkoutDefaults:this.getCheckoutDefaults(i)})}))}updateSessionWidgetDefaults(){const e=this.getDataPoint("FiatDonation"),t=e.toObject();this.sessionAPI.updateSessionWidgetDefaults(t.amount,this.getCheckoutDefaults(e))}getCheckoutDefaults(e){return{defaultAmount:e.defaultAmount||0,frequencyAmountOptions:e.amountOptions,amountOptions:e.allAmountOptions,frequency:e.frequency,currency:e.currency,defaultAmounts:e.defaultAmounts}}getDonationAmount(e,t){if((null==t?void 0:t.canUseAmountDefaults)&&!e.amount)return e.defaultAmount?{amount:e.defaultAmount,total:e.defaultTotal}:{amount:e.minAmount,total:e.minTotal};const n=e.toObject();return{amount:n.amount,total:n.total}}}class vk extends Error{constructor(e){super(`${e} payment flow is not initialized`)}}class Sk{constructor(e,t,n,i,a,r,s,o,c,l,u,d,h){this.checkoutConfiguration=e,this.checkoutState=t,this.paymentFlowManager=n,this.dataPointRegistry=i,this.sessionAPI=a,this.sessionService=r,this.currencyService=s,this.intl=o,this.paymentMethods=c,this.iframeWindow=l,this.stripeLoadingPromise=u,this.applePayStripeLoadingPromise=d,this.params=h,this._stripeElementsPromise=null,this.googlePayChecked=!1,this.applePayChecked=!1,this.paypalChecked=!1,this.initializePaymentMethodsPromise=null}initiateCreditCard(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.resolvePaymentFlow(h.GZ.CARD);return yield t.initiateFlow(e),{stripeElements:yield this.stripeElementsPromise}}))}startCreditCardFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(h.GZ.CARD),t=yield e.startFlow();return dn.isSuccess(t)}))}initiatePaypal(e){return(0,y.mG)(this,void 0,void 0,(function*(){yield this.checkPaypal();const t=yield this.resolvePaymentFlow(h.GZ.PAYPAL);return yield this.sessionService.updateSession(),t.initiateFlow(e)}))}preloadPayPalScript(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(h.GZ.PAYPAL);yield e.preloadPayPalScript()}))}closePaypalButton(){if(this.isShowcase)return;const e=this.paymentFlowManager.getPaymentFlow(h.GZ.PAYPAL);if(!e)throw new vk(h.GZ.PAYPAL);e.closePaypal()}togglePaypalActions(e){const t=this.paymentFlowManager.getPaymentFlow(h.GZ.PAYPAL);t&&t.togglePaypalActions(e)}initiateGooglePay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(h.GZ.GOOGLE_PAY);yield e.initiateFlow(),yield this.checkGooglePay()}))}startGooglePay(){return(0,y.mG)(this,void 0,void 0,(function*(){return(yield this.resolvePaymentFlow(h.GZ.GOOGLE_PAY)).startFlow()}))}initiateApplePay(){return(0,y.mG)(this,void 0,void 0,(function*(){yield this.checkApplePay()}))}startApplePay(){return(0,y.mG)(this,void 0,void 0,(function*(){return(yield this.resolvePaymentFlow(h.GZ.APPLE_PAY)).startFlow()}))}initiateUSBankAccount(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.resolvePaymentFlow(h.GZ.US_BANK_ACCOUNT);yield t.initiateFlow(e)}))}startUSBankAccount(){return(0,y.mG)(this,void 0,void 0,(function*(){return yield this.sessionService.updateSession(),(yield this.resolvePaymentFlow(h.GZ.US_BANK_ACCOUNT)).startFlow()}))}initiateACSS(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.resolvePaymentFlow(h.GZ.ACSS);yield t.initiateFlow(e)}))}startACSS(){return(0,y.mG)(this,void 0,void 0,(function*(){return yield this.sessionService.updateSession(),(yield this.resolvePaymentFlow(h.GZ.ACSS)).startFlow()}))}initiateSepa(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){const n=yield this.resolvePaymentFlow(h.GZ.SEPA);return yield n.initiateFlow(e,t),{stripeElements:yield this.stripeElementsPromise}}))}startSepaFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(h.GZ.SEPA),t=yield e.startFlow();return dn.isSuccess(t)}))}initiateVenmo(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.resolvePaymentFlow(h.GZ.VENMO);yield t.initiateFlow(e),yield this.checkVenmo()}))}closeVenmoButton(){const e=this.paymentFlowManager.getPaymentFlow(h.GZ.VENMO);if(!e)throw new vk(h.GZ.VENMO);e.closeButton()}initiateIDEAL(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(h.GZ.IDEAL);yield e.initiateFlow()}))}openIDEALConfirmationWindow(e){const t=this.paymentFlowManager.getPaymentFlow(h.GZ.IDEAL);if(!t)throw new vk(h.GZ.IDEAL);return t.openConfirmationWindow(e)}isIDEALPaid(){const e=this.paymentFlowManager.getPaymentFlow(h.GZ.IDEAL);if(!e)throw new vk(h.GZ.IDEAL);return e.isPaid()}isIDEALPaymentStarted(){const e=this.paymentFlowManager.getPaymentFlow(h.GZ.IDEAL);return!!e&&e.isPaymentStarted()}focusIDEALConfirmationWindow(){const e=this.paymentFlowManager.getPaymentFlow(h.GZ.IDEAL);if(!e)throw new vk(h.GZ.IDEAL);e.focusConfirmationWindow()}initiateClickToPay(e){return(0,y.mG)(this,void 0,void 0,(function*(){return(yield this.resolvePaymentFlow(h.GZ.CLICK_TO_PAY)).initiateFlow(e)}))}startClickToPay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(h.GZ.CLICK_TO_PAY);yield e.startFlow()}))}destroyClickToPay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(h.GZ.CLICK_TO_PAY);yield e.destroy()}))}initiateAuBECS(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){const n=yield this.resolvePaymentFlow(h.GZ.AU_BECS);return yield n.initiateFlow(e,t),{stripeElements:yield this.stripeElementsPromise}}))}startAuBECSFlow(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(h.GZ.AU_BECS),t=yield e.startFlow();return dn.isSuccess(t)}))}ensurePaymentMethodsInitialized(){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.isShowcase){if(this.initializePaymentMethodsPromise)return this.initializePaymentMethodsPromise;this.initializePaymentMethodsPromise=this.initiatePaymentMethods(this.getDataPoint("PaymentOptions"),this.getDataPoint("FiatDonation")),yield this.initializePaymentMethodsPromise,this.initializePaymentMethodsPromise=null}}))}resolvePaymentFlow(e){var t,n,i;return(0,y.mG)(this,void 0,void 0,(function*(){if(!e)throw new Error("Client payment method is not specified");const a=this.checkoutConfiguration.company,r=this.checkoutConfiguration.user,s=this.getDataPoint("PaymentOptions"),o=this.getDataPoint("DonorName"),c=this.getDataPoint("DonorEmail"),l=this.getDataPoint("FiatDonation"),u=this.getDataPoint("MailingAddress"),d=this.getDataPoint("UKBacs"),m=this.getDataPoint("IDEAL"),p=this.getDataPoint("PhoneNumber"),g=this.getDataPoint("USBankAccount");switch(e){case h.GZ.CARD:return this.paymentFlowManager.resolveCard({sessionAPI:this.sessionAPI,stripe:yield this.stripeLoadingPromise(),stripeElements:yield this.stripeElementsPromise,failureHandler:()=>{this.setPaymentError(h.GZ.CARD,!0)}});case h.GZ.CLICK_TO_PAY:return this.paymentFlowManager.resolveClickToPay({env:this.checkoutConfiguration.infrastructureParams.env,currencyService:this.currencyService,stripe:yield this.stripeLoadingPromise(),livemode:this.livemode,locale:null===(t=this.intl)||void 0===t?void 0:t.locale,clickToPayCheckoutId:a.clickToPayCheckoutId,sessionAPI:this.sessionAPI,donationDataPoint:l});case h.GZ.PAYPAL:return this.paymentFlowManager.resolvePaypal({sessionAPI:this.sessionAPI,locale:null===(n=this.intl)||void 0===n?void 0:n.locale,iframeWindow:this.iframeWindow,paypalClientId:this.paymentMethods.paypalClientId,paypalMerchantId:a.paypal.merchantId,paypalCurrencies:[...a.paypalCurrencies],subscriptionsEnabled:a.paypal.subscriptionsEnabled,paymentOptionsDataPoint:s,donorNameDataPoint:o,donorEmailDataPoint:c,phoneNumberDataPoint:p,mailingAddressDataPoint:u,donationDataPoint:l,updateSession:()=>this.sessionService.updateSession(),paymentFailureHandler:()=>{this.setPaymentError(h.GZ.PAYPAL,!0)}});case h.GZ.GOOGLE_PAY:return this.paymentFlowManager.resolveGooglePay({sessionAPI:this.sessionAPI,livemode:this.livemode,stripePublicKey:this.paymentMethods.stripePublicKey,countryCode:r.address.countryCode,googlePayInfo:this.paymentMethods.googlePayInfo,stripeAccount:a.stripeAccount,companyName:a.name,env:this.checkoutConfiguration.infrastructureParams.env,stripe:yield this.stripeLoadingPromise(),currencyService:this.currencyService,donationDataPoint:l,paymentOptionsDataPoint:s,donorNameDataPoint:o,donorEmailDataPoint:c});case h.GZ.APPLE_PAY:return this.paymentFlowManager.resolveApplePay({sessionAPI:this.sessionAPI,companyName:a.name,applePayStripeLoadingPromise:this.applePayStripeLoadingPromise,donationDataPoint:l,paymentOptionsDataPoint:s,donorNameDataPoint:o,donorEmailDataPoint:c,mailingAddressDataPoint:u});case h.GZ.UK_BACS:return this.paymentFlowManager.resolveUkBacs({sessionAPI:this.sessionAPI,stripe:yield this.stripeLoadingPromise(),donorEmailDataPoint:c,mailingAddressDataPoint:u,ukBacsDataPoint:d,mailingAddressFailureHandler:()=>{this.setMailingAddressError(!0)},ukBacsFailureHandler:()=>{this.setPaymentError(h.GZ.UK_BACS,!0)}});case h.GZ.ACSS:return this.paymentFlowManager.resolveACSS({sessionAPI:this.sessionAPI,stripe:yield this.stripeLoadingPromise(),paymentOptionsDataPoint:s});case h.GZ.AU_BECS:return this.paymentFlowManager.resolveAuBECS({sessionAPI:this.sessionAPI,stripe:yield this.stripeLoadingPromise(),stripeElements:yield this.stripeElementsPromise,donorNameDataPoint:o,donorEmailDataPoint:c});case h.GZ.SEPA:return this.paymentFlowManager.resolveSepa({sessionAPI:this.sessionAPI,stripe:yield this.stripeLoadingPromise(),stripeElements:yield this.stripeElementsPromise,donorNameDataPoint:o,donorEmailDataPoint:c,mailingAddressDataPoint:u,paymentOptionsDataPoint:s,checkoutConfiguration:this.checkoutConfiguration,mailingAddressFailureHandler:()=>{this.setMailingAddressError(!0)}});case h.GZ.IDEAL:return this.paymentFlowManager.resolveIDEAL({sessionAPI:this.sessionAPI,stripe:yield this.stripeLoadingPromise(),env:this.checkoutConfiguration.infrastructureParams.env,stripeElements:yield this.stripeElementsPromise,donorNameDataPoint:o,donorEmailDataPoint:c,donationDataPoint:l,idealDataPoint:m});case h.GZ.VENMO:return this.paymentFlowManager.resolveVenmo({sessionAPI:this.sessionAPI,livemode:this.livemode,showcase:this.isShowcase,locale:null===(i=this.intl)||void 0===i?void 0:i.locale,iframeWindow:this.iframeWindow,paypalClientId:this.paymentMethods.paypalClientId,paypalMerchantId:a.paypal.merchantId,paymentOptionsDataPoint:s,donorNameDataPoint:o,donorEmailDataPoint:c,phoneNumberDataPoint:p,mailingAddressDataPoint:u,updateSession:()=>this.sessionService.updateSession()});case h.GZ.US_BANK_ACCOUNT:return this.paymentFlowManager.resolveUSBankAccount({stripe:yield this.stripeLoadingPromise(),usBankAccountDataPoint:g,donationDataPoint:l,sessionAPI:this.sessionAPI,checkoutConfiguration:this.checkoutConfiguration,paymentFailureHandler:()=>{this.setPaymentError(h.GZ.US_BANK_ACCOUNT,!0)}});default:throw new Error(`Payment flow for ${e} is not implemented`)}}))}get livemode(){return this.checkoutConfiguration.infrastructureParams.livemode}get isShowcase(){return this.checkoutConfiguration.infrastructureParams.showcase}get stripeElementsPromise(){return this._stripeElementsPromise||(this._stripeElementsPromise=this.getStripeElements()),this._stripeElementsPromise}initiatePaymentMethods(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){e.calculatePaymentOptionsAvailability({currency:t.currency,frequency:t.frequency,total:t.total||0});const n=[];e.allowedPaymentMethods.googlePay.available&&n.push(this.initiateGooglePay()),e.allowedPaymentMethods.applePay.available&&n.push(this.initiateApplePay()),e.allowedPaymentMethods.paypal.available&&n.push(this.preloadPayPalScript()),yield V().all(n)}))}getStripeElements(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.stripeLoadingPromise();if(!e)throw new Error("Stripe is not provided");return e.elements(this.params.stripe.elementsOptions)}))}checkGooglePay(){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.googlePayChecked)return;const e=yield this.resolvePaymentFlow(h.GZ.GOOGLE_PAY);(yield e.checkAvailability())&&(this.getDataPoint("PaymentOptions").canGooglePay=!0),this.googlePayChecked=!0}))}checkApplePay(){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.applePayChecked)return;const e=yield this.resolvePaymentFlow(h.GZ.APPLE_PAY);(yield e.checkAvailability())&&(this.getDataPoint("PaymentOptions").canApplePay=!0),this.applePayChecked=!0}))}checkVenmo(){return(0,y.mG)(this,void 0,void 0,(function*(){(yield this.resolvePaymentFlow(h.GZ.VENMO)).checkAvailability()&&(this.getDataPoint("PaymentOptions").canVenmo=!0)}))}checkPaypal(){return(0,y.mG)(this,void 0,void 0,(function*(){(yield this.resolvePaymentFlow(h.GZ.PAYPAL)).checkAvailability()&&(this.getDataPoint("PaymentOptions").canPaypal=!0)}))}setPaymentError(e,t){return this.checkoutState.setPaymentError(e,t)}setMailingAddressError(e){this.checkoutState.hasMailingAddressError=e}getDataPoint(e){return this.dataPointRegistry.getDataPoint(e)}}class Ck{constructor(e){this.sessionAPI=e}update(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.sessionAPI.post("postDonationUpsell",{postDonationUpsell:e},{rejectsOnInvalid:!0});return!!dn.isSuccess(t)}))}}const bk={isFallback:!0};class Ek extends $N{constructor(e){var t;super(bk,C()(t=e.getFeeCovering).call(t,e)),this.sessionApi=e,this._fetchDecision=e=>V().race([this.getCachedOrFetchValue(e),new(V())((e=>H()((()=>e(bk)),1500)))]),this._debouncedGetDecision=WN(this._fetchDecision,300)}fetchDecision(e){return this._fetchDecision(e)}debouncedFetchDecision(e){return this._debouncedGetDecision(e)}}class Ak{constructor(e,t){this.checkoutState=e,this.params=t}get(e){const t=this.checkoutState.get();switch(t.paymentOptions.clientPaymentMethod){case IE.GZ.UK_BACS:return this.params.screenSet.ukBacsConfirmation;case IE.GZ.US_BANK_ACCOUNT:return this.params.screenSet.usBankAccountConfirmation;case IE.GZ.IDEAL:return this.params.screenSet.idealConfirmation;case IE.GZ.CARD:return this.getScreenForCardPaymentMethod(t);case IE.GZ.AU_BECS:return this.params.screenSet.auBecs;case IE.GZ.SEPA:return this.getScreenForSepaPaymentMethod(t,e);case IE.GZ.ACSS:case IE.GZ.APPLE_PAY:case IE.GZ.GOOGLE_PAY:return this.params.screenSet.paymentOptions;case IE.GZ.PAYPAL:return this.getScreenForPayPalPaymentMethod(t);case IE.GZ.VENMO:default:return this.params.screenSet.paymentOptions}}getScreenForCardPaymentMethod(e){return e.paymentOptions.preSelectedPaymentOption===Ey.CARD?this.params.screenSet.paymentOptions:this.params.screenSet.card}getScreenForSepaPaymentMethod(e,t){const n=t===this.params.screenSet.sepa,i=t===this.params.screenSet.mailingAddress,a=e.mailingAddress;return n&&a.isRequired&&!a.isCollected||i&&a.isRequired?this.params.screenSet.mailingAddress:this.params.screenSet.sepa}getScreenForPayPalPaymentMethod(e){return e.isPaypalCurrencyConversionApplied?this.params.screenSet.payPalConversion:this.params.screenSet.paymentOptions}}const Nk=(e,t,n)=>{if(e.paymentOptions.clientPaymentMethod!==t)throw new Error(`Can not move to ${n} screen if "clientPaymentMethod" is not "${t}"`);return!1},Pk=e=>pi()(e).call(e,Boolean),xk=e=>E()(e).call(e,Boolean),kk=(e,t)=>Pk([!t.has($n.DOUBLE),e.doubleDonation.isEnabled,xk([e.isPaid,Pk([e.doubleDonation.isIntegrationEnabled,e.donation.amountInUsd<2500])])]),wk=(e,t)=>Pk([!t.has($n.GIFT_AID),e.giftAid.isEnabled]),Dk=(e,t)=>Pk([!t.has(un.MAILING_ADDRESS),e.mailingAddress.isEnabled,xk([Pk([e.isPaid,!e.mailingAddress.isRequired]),Pk([!e.isPaid,e.mailingAddress.isRequired])])]),Tk=e=>Pk([!e.isPaid]),Ok=e=>Pk([!e.isPaid,e.paymentOptions.clientPaymentMethod===h.GZ.UK_BACS]),_k=e=>Pk([!e.isPaid,e.paymentOptions.clientPaymentMethod===h.GZ.US_BANK_ACCOUNT,e.paymentOptions.selectedPaymentOption===Ey.US_BANK_ACCOUNT_VERIFICATION]),Ik=e=>Pk([!e.isPaid,e.paymentOptions.clientPaymentMethod===h.GZ.US_BANK_ACCOUNT]),Rk=e=>Pk([e.postDonationUpsell.isEnabled]),Lk=$n.DONATE;function Mk(e){return{defaultInitial:()=>Lk,initial:()=>e||Lk,screens:{[$n.DONATE]:{next:(e,t)=>{const n=e();switch(!0){case(e=>Pk([e.comment.isEnabled,e.comment.isRequired]))(n):return un.COMMENT;case(e=>Pk([e.preDonationUpsell.isEnabled,!e.preDonationUpsell.upsellCurtainUsed]))(n):return $n.UPSELL;default:return un.PRIVACY}}},[un.COMMENT]:{next:()=>$n.DONATE},[$n.UPSELL]:{next:()=>un.PRIVACY},[un.PRIVACY]:{next:(e,t)=>{const n=e();switch(!0){case kk(n,t):return $n.DOUBLE;case wk(n,t):return $n.GIFT_AID;case Dk(n,t):return un.MAILING_ADDRESS;default:return $n.PAYMENT_OPTIONS}}},[$n.DOUBLE]:{next:(e,t)=>{const n=e();switch(!0){case wk(n,t):return $n.GIFT_AID;case Dk(n,t):return un.MAILING_ADDRESS;case Tk(n):return $n.PAYMENT_OPTIONS;default:return jk(n,t)}}},[$n.GIFT_AID]:{next:(e,t)=>{const n=e();return!0===Dk(n,t)?un.MAILING_ADDRESS:$n.PAYMENT_OPTIONS}},[un.MAILING_ADDRESS]:{mandatory:e=>{return t=e(),Pk([t.hasPaymentAttempt,t.hasMailingAddressError]);var t},next:(e,t)=>{const n=e();switch(!0){case Ok(n):return $n.UK_BACS_CONFIRMATION;case Ik(n):return $n.US_BANK_ACCOUNT_CONFIRMATION;case(e=>Pk([!e.isPaid,e.paymentOptions.clientPaymentMethod===h.GZ.IDEAL]))(n):return $n.IDEAL_CONFIRMATION;case Tk(n):return $n.PAYMENT_OPTIONS;default:return jk(n,t)}}},[$n.PAYMENT_OPTIONS]:{mandatory:e=>{return t=e(),xk([Pk([t.hasPaymentAttempt,t.paymentErrors[h.GZ.PAYPAL]]),Pk([t.hasPaymentAttempt,t.paymentErrors[h.GZ.CARD],t.paymentOptions.preSelectedPaymentOption===Ey.CARD]),Pk([t.hasPaymentAttempt,t.paymentErrors[h.GZ.US_BANK_ACCOUNT],t.paymentOptions.selectedPaymentOption===Ey.US_BANK_ACCOUNT_INSTANT,!t.paymentOptions.usBankAccountVerificationSetup.isInstantAndAbav])]);var t},next:(e,t)=>{const n=e();switch((e=>{const t=e.paymentOptions.clientPaymentMethod,n=e.paymentOptions.selectedPaymentOption;if(!t&&!n)throw new Error('"clientPaymentMethod" and "selectedPaymentOption" can not be null at the same time')})(n),!0){case(e=>Pk([!e.isPaid,!e.paymentOptions.clientPaymentMethod,e.paymentOptions.selectedPaymentOption===Ey.PAYPAL_CONVERSION]))(n):return $n.PAYPAL_CONVERSION;case(e=>Pk([!e.isPaid,e.paymentOptions.clientPaymentMethod===h.GZ.CARD,e.paymentOptions.preSelectedPaymentOption!==Ey.CARD]))(n):return $n.CREDIT_CARD;case(e=>Pk([!e.isPaid,e.paymentOptions.clientPaymentMethod===h.GZ.AU_BECS]))(n):return $n.AU_BECS;case(e=>Pk([!e.isPaid,e.paymentOptions.clientPaymentMethod===h.GZ.UK_BACS]))(n):return $n.UK_BACS;case(e=>Pk([!e.isPaid,e.paymentOptions.clientPaymentMethod===h.GZ.SEPA]))(n):return $n.SEPA;case(e=>Pk([!e.isPaid,e.paymentOptions.clientPaymentMethod===h.GZ.IDEAL]))(n):return $n.IDEAL;case(e=>Pk([!e.isPaid,e.paymentOptions.clientPaymentMethod===h.GZ.US_BANK_ACCOUNT,xk([e.paymentOptions.selectedPaymentOption===Ey.US_BANK_ACCOUNT,Pk([e.paymentOptions.selectedPaymentOption===Ey.US_BANK_ACCOUNT_INSTANT,e.paymentErrors[h.GZ.US_BANK_ACCOUNT]])])]))(n):return $n.US_BANK_ACCOUNT_DONATE_OPTIONS;case _k(n):return $n.US_BANK_ACCOUNT;case Ik(n):return $n.US_BANK_ACCOUNT_CONFIRMATION;default:return jk(n,t)}}},[$n.PAYPAL_CONVERSION]:{guard:e=>((e,t,n)=>{if(e.paymentOptions.selectedPaymentOption!==t)throw new Error(`Can not move to ${n} screen if "clientPaymentOption" is not "${t}"`);return!1})(e(),Ey.PAYPAL_CONVERSION,$n.PAYPAL_CONVERSION),next:(e,t)=>{const n=e();return!0===Tk(n)?$n.PAYMENT_OPTIONS:jk(n,t)}},[$n.CREDIT_CARD]:{mandatory:e=>{return t=e(),Pk([t.hasPaymentAttempt,t.paymentErrors[h.GZ.CARD],t.paymentOptions.preSelectedPaymentOption!==Ey.CARD]);var t},guard:e=>Nk(e(),h.GZ.CARD,$n.CREDIT_CARD),next:(e,t)=>jk(e(),t)},[$n.AU_BECS]:{guard:e=>Nk(e(),h.GZ.AU_BECS,$n.AU_BECS),next:(e,t)=>jk(e(),t)},[$n.SEPA]:{guard:e=>Nk(e(),h.GZ.SEPA,$n.SEPA),next:(e,t)=>{const n=e();return!0===(!n.isPaid&&Dk(n,t))?un.MAILING_ADDRESS:jk(n,t)}},[$n.UK_BACS]:{mandatory:e=>{return t=e(),Pk([t.hasPaymentAttempt,t.paymentErrors[h.GZ.UK_BACS]]);var t},guard:e=>Nk(e(),h.GZ.UK_BACS,$n.UK_BACS),next:(e,t)=>{const n=e();switch(!0){case Dk(n,t):return un.MAILING_ADDRESS;case Ok(n):return $n.UK_BACS_CONFIRMATION;default:return jk(n,t)}}},[$n.UK_BACS_CONFIRMATION]:{guard:e=>Nk(e(),h.GZ.UK_BACS,$n.UK_BACS_CONFIRMATION),next:(e,t)=>jk(e(),t)},[$n.IDEAL]:{guard:e=>Nk(e(),h.GZ.IDEAL,$n.IDEAL),next:()=>$n.IDEAL_CONFIRMATION},[$n.IDEAL_CONFIRMATION]:{guard:e=>Nk(e(),h.GZ.IDEAL,$n.IDEAL_CONFIRMATION),next:(e,t)=>jk(e(),t)},[$n.US_BANK_ACCOUNT_DONATE_OPTIONS]:{mandatory:e=>{return t=e(),Pk([t.hasPaymentAttempt,t.paymentErrors[h.GZ.US_BANK_ACCOUNT],t.paymentOptions.selectedPaymentOption===Ey.US_BANK_ACCOUNT_INSTANT,t.paymentOptions.usBankAccountVerificationSetup.isInstantAndAbav]);var t},guard:e=>Nk(e(),h.GZ.US_BANK_ACCOUNT,$n.US_BANK_ACCOUNT_DONATE_OPTIONS),next:(e,t)=>{const n=e();return!0===_k(n)?$n.US_BANK_ACCOUNT:$n.US_BANK_ACCOUNT_CONFIRMATION}},[$n.US_BANK_ACCOUNT]:{mandatory:e=>{return t=e(),Pk([t.hasPaymentAttempt,t.paymentErrors[h.GZ.US_BANK_ACCOUNT],t.paymentOptions.selectedPaymentOption===Ey.US_BANK_ACCOUNT_VERIFICATION]);var t},guard:e=>Nk(e(),h.GZ.US_BANK_ACCOUNT,$n.US_BANK_ACCOUNT),next:()=>$n.US_BANK_ACCOUNT_CONFIRMATION},[$n.US_BANK_ACCOUNT_CONFIRMATION]:{guard:e=>Nk(e(),h.GZ.US_BANK_ACCOUNT,$n.US_BANK_ACCOUNT_CONFIRMATION),next:(e,t)=>{const n=e();return!0===(e=>Pk([e.isPaid,e.paymentOptions.clientPaymentMethod===h.GZ.US_BANK_ACCOUNT,e.paymentOptions.usBankAccountVerificationSetup.isMicroDepositOnly]))(n)?$n.US_BANK_ACCOUNT_VERIFICATION_GUIDE:jk(n,t)}},[$n.US_BANK_ACCOUNT_VERIFICATION_GUIDE]:{guard:e=>Nk(e(),h.GZ.US_BANK_ACCOUNT,$n.US_BANK_ACCOUNT_VERIFICATION_GUIDE),next:(e,t)=>jk(e(),t)},[$n.CLICK_TO_PAY_SPLASH]:{},[un.QUESTIONS]:{next:(e,t)=>{const n=e();return!0===Rk(n)?$n.POST_DONATION_UPSELL:un.THANK_YOU}},[$n.POST_DONATION_UPSELL]:{next:()=>un.THANK_YOU},[un.THANK_YOU]:{},[un.REMIND_ME]:{guard:e=>!e().remindMeLater.show,final:!0}}}}function jk(e,t){switch(!0){case kk(e,t):return $n.DOUBLE;case Dk(e,t):return un.MAILING_ADDRESS;case(e=>Pk([e.questions.isEnabled]))(e):return un.QUESTIONS;case Rk(e):return $n.POST_DONATION_UPSELL;default:return un.THANK_YOU}}class Fk extends fP{constructor(){super(...arguments),this.feeCoveringTouched=!1}}const Uk=$n.DONATE,Bk=[...bP,$n.DONATE,$n.POST_DONATION_UPSELL],Gk=[$n.CREDIT_CARD,$n.PAYMENT_OPTIONS,$n.AU_BECS,$n.SEPA],qk=[...AP,$n.DONATE,un.REMIND_ME],Vk=[...PP,$n.DONATE],Kk=[...wP,$n.DONATE],Hk=[$n.DONATE,un.THANK_YOU],Yk=[$n.UPSELL,$n.PAYMENT_OPTIONS,un.COMMENT],Zk=[...SP,un.REMIND_ME,$n.DONATE],zk=[...CP,$n.DONATE],Wk=[un.THANK_YOU,un.REMIND_ME],$k=[...NP],Xk=[...xP,un.REMIND_ME],Qk=[...kP,un.REMIND_ME],Jk={[Oe.ANNUAL]:"upsellScreen.button.donateAnnual",[Oe.MONTHLY]:"upsellScreen.button.donateMonthly",[Oe.EVERY_4_WEEKS]:"upsellScreen.button.donate4Weeks"},ew={[Oe.ANNUAL]:"upsellScreen.button.donateAnnual",[Oe.MONTHLY]:"upsellScreen.button.donateMonthly",[Oe.EVERY_4_WEEKS]:"upsellScreen.button.donate4Weeks"},tw={[Oe.ANNUAL]:"upsellScreen.titleAnnual",[Oe.MONTHLY]:"upsellScreen.title",[Oe.EVERY_4_WEEKS]:"upsellScreen.titleEvery4Weeks"},nw={[Oe.ANNUAL]:"upsellScreen.questionAnnual",[Oe.MONTHLY]:"upsellScreen.question",[Oe.EVERY_4_WEEKS]:"upsellScreen.questionEvery4Weeks"},iw={[Oe.ANNUAL]:"upsellScreen.questionAnnual",[Oe.MONTHLY]:"upsellScreen.questionShort",[Oe.EVERY_4_WEEKS]:"upsellScreen.questionShortEvery4Weeks"},aw={[Oe.ANNUAL]:"upsellScreen.descriptionAnnual",[Oe.MONTHLY]:"upsellScreen.description",[Oe.EVERY_4_WEEKS]:"upsellScreen.descriptionEvery4Weeks"};class rw{constructor(e,t,n,i,a){this.checkoutService=e,this.intl=t,this.preDonationUpsellDataPoint=n,this.tributeDataPoint=i,this.designationDataPoint=a}get currency(){return this.preDonationUpsellDataPoint.currency}get isMonthly(){return this.getTargetFrequency()===Oe.MONTHLY}getBeforeEnterViewState(){const e=this.getDonationAmount(),t=this.getTargetFrequency(),{lowAmount:n,highAmount:i}=this.getUpsellAmounts(),a=this.getViewTexts({currency:this.currency,targetFrequency:t,highAmount:i,lowAmount:n,donationAmount:e});return{currency:this.currency,targetFrequency:t,lowMonthlyAmount:n,highMonthlyAmount:i,isAnnualTribute:this.isAnnual,highButtonText:a.highButtonText,lowButtonText:a.lowButtonText,screenTitle:a.screenTitle,questionText:a.questionText,questionShortText:a.questionShortText,descriptionText:a.descriptionText,upsell:{fromAmount:e}}}setShowed(){this.isShowcase||(this.preDonationUpsellDataPoint.showed=!0)}selectUpsell(e,t){if(this.preDonationUpsellDataPoint.used=null!==e,this.preDonationUpsellDataPoint.used){const n="high"===e?t.highMonthlyAmount:t.lowMonthlyAmount;this.preDonationUpsellDataPoint.accept(n||0,this.preDonationUpsellDataPoint,this.tributeDataPoint.toObject(),this.designationDataPoint.toObject())}else this.preDonationUpsellDataPoint.isAccepted=!1;this.checkoutService.collectDataPoint([this.preDonationUpsellDataPoint]),this.checkoutService.syncUpdateCheckoutState()}get isShowcase(){return this.checkoutService.checkoutConfiguration.infrastructureParams.showcase}get isAnnual(){return this.getTargetFrequency()===Oe.ANNUAL}getTargetFrequency(){return this.preDonationUpsellDataPoint.getTargetFrequency(this.tributeDataPoint.toObject(),this.preDonationUpsellDataPoint.donationAmount,this.currency,this.preDonationUpsellDataPoint.donationFrequency,this.designationDataPoint.allowRecurring)}getUpsellAmounts(){let[e,t]=this.preDonationUpsellDataPoint.getUpsellAmounts(this.tributeDataPoint.toObject(),this.preDonationUpsellDataPoint.donationAmount,this.currency,this.preDonationUpsellDataPoint.donationFrequency,this.designationDataPoint.allowRecurring);return e||(e=this.isShowcase?UE[0]:null),t||(t=this.isShowcase?UE[1]:null),{lowAmount:e,highAmount:t}}getDonationAmount(){return this.preDonationUpsellDataPoint.donationAmount||(this.isShowcase?1e4:0)}getViewTexts(e){const t={amount:this.intl.formatCurrency(e.highAmount||0,{currency:e.currency,display:"floatcents"})},n={amount:this.intl.formatCurrency(e.lowAmount||0,{currency:e.currency,display:"floatcents"})},i={amount:this.intl.formatCurrency(e.donationAmount||(this.checkoutService.checkoutConfiguration.showcase?5e3:0),{currency:e.currency,display:"floatcents"})};return{highButtonText:this.intl.translate(Jk[e.targetFrequency],t),lowButtonText:this.intl.translate(ew[e.targetFrequency],n),screenTitle:this.intl.translate(tw[e.targetFrequency]),questionText:this.intl.translate(nw[e.targetFrequency],i),questionShortText:this.intl.translate(iw[e.targetFrequency],i),descriptionText:this.intl.translate(aw[e.targetFrequency])}}}class sw extends QP{constructor(e){super(e),this.paymentService=e.paymentService,this.donationDataPoint=e.donationDataPoint}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{var t;e.isPaymentScreen=this.isPaymentScreen,e.formattedAmount=this.intl.formatCurrency(null!==(t=this.donationDataPoint.total)&&void 0!==t?t:0,{currency:this.donationDataPoint.currency,display:"floatcents"}),e.frequency=this.donationDataPoint.frequency}))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;if(this.pending=!0,this.setProcessingState("pending"),!(yield this.paymentService.startAuBECSFlow()))return this.produceViewState((e=>{e.shakeKey+=1,e.processingState="idle"})),this.pending=!1,!1;const e=yield this.checkoutService.hold();return dn.isFailure(e)?(this.pending=!1,yield this.showError(),!1):this.isPaymentScreen?this.pay():(this.pending=!1,!0)}))}initiateAuBECS(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){return this.paymentService.initiateAuBECS(e,t)}))}getInitialViewState(){return{locked:!1,accountNumber:null,bsbNumber:null,shakeKey:0,accountHolderName:"",termsChecked:!0,errors:{},processingState:"idle",isPaymentScreen:!1,formattedAmount:"",frequency:Oe.ONCE}}get isPaymentScreen(){return this.name===this.checkoutService.getPaymentScreen(this.name)}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return dn.isFailure(e)?e.failureResult.shouldLeave?(this.pending=!1,!0):(this.pending=!1,yield this.showError(),!1):(this.setProcessingState("success"),yield rs(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),this.pending=!1,!0)}))}showError(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="error",e.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")})),this.produceViewState((e=>{e.payErrorMessage=""}),!0)}))}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}}class ow extends QP{constructor(e){super(e),this.readyClickToPay=!1,this.clickToPayRequested=!1,this.paymentService=e.paymentService}startClickToPay(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.readyClickToPay?this.paymentService.startClickToPay():(this.clickToPayRequested=!0,V().reject("ClickToPay is not ready"))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.checkoutService.hold();return this.pending=!1,!dn.isFailure(e)}))}initiateClickToPay(e){return(0,y.mG)(this,void 0,void 0,(function*(){yield this.paymentService.initiateClickToPay(e),this.readyClickToPay=!0,this.clickToPayRequested&&(yield this.startClickToPay())}))}destroyClickToPay(){this.paymentService.destroyClickToPay()}getInitialViewState(){return{locked:!1}}}class cw extends QP{constructor(e){super(e),this.paymentService=e.paymentService,this.donationDataPoint=e.donationDataPoint}get errorMessage(){return this.viewState.payErrorTitle?"":this.viewState.payErrorMessage||this.intl.translate("creditCardScreen.cardError.message")}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){return!this.pending&&(this.pending=!0,this.produceViewState((e=>{e.processingState="pending"})),(yield this.paymentService.startCreditCardFlow())?this.isPaymentScreen?this.pay():this.hold():(this.produceViewState((e=>{e.shakeKey+=1,e.processingState="idle"})),this.pending=!1,!1))}))}initiateCreditCard(e){return this.paymentService.initiateCreditCard(e)}changeFieldFilled(e,t){this.produceViewState((n=>{n.filledFields[e]=t}),!0)}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{var t;e.processingState="idle",e.isPaymentScreen=this.isPaymentScreen,e.formattedAmount=this.intl.formatCurrency(null!==(t=this.donationDataPoint.total)&&void 0!==t?t:0,{currency:this.donationDataPoint.currency,display:"floatcents"}),e.frequency=this.donationDataPoint.frequency})),this.produceViewState((e=>{e.showTestModeTooltipInfo=!this.checkoutService.checkoutConfiguration.infrastructureParams.livemode&&!this.checkoutService.checkoutConfiguration.infrastructureParams.showcase})),this.checkoutService.hasPaymentError(h.GZ.CARD)&&(this.produceViewState((e=>{e.payErrorMessage=this.checkoutService.payErrorMessage,e.processingState="error"})),this.checkoutService.setPaymentError(h.GZ.CARD,!1))}))}getInitialViewState(){return{processingState:"idle",shakeKey:0,locked:!1,filledFields:{cardNumber:!1,cardExpiry:!1,cardCvc:!1},showTestModeTooltipInfo:!1,isPaymentScreen:!1,formattedAmount:"",frequency:Oe.ONCE}}get isPaymentScreen(){var e,t;const n=this.checkoutService.isReadyToRetryPay&&(null===(t=null===(e=this.checkoutService.getState())||void 0===e?void 0:e.paymentOptions)||void 0===t?void 0:t.clientPaymentMethod)===h.GZ.CARD,i=this.name===this.checkoutService.getPaymentScreen(this.name);return n||i}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.checkoutService.hold();if(dn.isFailure(e))return this.pending=!1,this.handleHoldError(e),!1;const t=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return dn.isFailure(t)?(this.produceViewState((e=>{e.payErrorMessage=this.checkoutService.payErrorMessage,e.processingState="error"})),this.checkoutService.setPaymentError(h.GZ.CARD,!1),this.pending=!1,!1):(this.produceViewState((e=>{e.processingState="success"})),yield rs(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),this.pending=!1,!0)}))}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.checkoutService.hold();return this.pending=!1,!dn.isFailure(e)||(this.handleHoldError(e),!1)}))}handleHoldError(e){dn.isSuccess(e)||this.produceViewState((e=>{e.payErrorTitle=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText"),e.payErrorMessage="",e.processingState="error"}))}}class lw extends gi{tryStart(e){this.isActive||this.canBeStarted(e)&&super.start()}isEnabled(e){return this.canBeStarted(e)&&this.isTestGroup}get isTestGroup(){return this.isActive&&this.isVariant(Hi.TEST)}canBeStarted(e){var t;return!!e.canShowUpsellScreen&&!!Z()(t=lw.ALLOWED_TARGET_FREQUENCIES).call(t,e.targetFrequency)}}lw.ALLOWED_TARGET_FREQUENCIES=[Oe.MONTHLY,Oe.EVERY_4_WEEKS];class uw extends gi{tryStart(e){this.isActive||this.canBeStarted(e)&&super.start()}isEnabled(e){return this.canBeStarted(e)&&this.isTestGroup}get isTestGroup(){return this.isActive&&this.isVariant(Yi.TEST)}canBeStarted(e){var t;return!!e.canShowUpsellScreen&&!!Z()(t=uw.ALLOWED_TARGET_FREQUENCIES).call(t,e.targetFrequency)}}uw.ALLOWED_TARGET_FREQUENCIES=[Oe.MONTHLY,Oe.EVERY_4_WEEKS];class dw extends QP{constructor(e,t){super(e),this.upsellAggregate=t,this.donationDataPoint=e.donationDataPoint,this.tributeDataPoint=e.tributeDataPoint,this.commentDataPoint=e.commentDataPoint,this.designationDataPoint=e.designationDataPoint,this.preDonationUpsellDataPoint=e.preDonationUpsellDataPoint,this.experiments.register(yi.X.CHECKOUT_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT,lw),this.experiments.register(yi.X.CAMPAIGN_PAGES_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT,uw)}get upsellCurtainExperiment(){return this.experiments.get(yi.X.UPSELL_CURTAIN_EXPERIMENT)}get donateButtonLabel(){return function(e,t){switch(t){case Oe.DAILY:return e.translate("donateForm.donateButton.daily");case Oe.WEEKLY:return e.translate("donateForm.donateButton.weekly");case Oe.BIWEEKLY:return e.translate("donateForm.donateButton.biweekly");case Oe.EVERY_4_WEEKS:return e.translate("donateForm.donateButton.every4weeks");case Oe.MONTHLY:return e.translate("donateForm.donateButton.monthly");case Oe.BIMONTHLY:return e.translate("donateForm.donateButton.bimonthly");case Oe.QUARTERLY:return e.translate("donateForm.donateButton.quarterly");case Oe.SEMIANNUAL:return e.translate("donateForm.donateButton.semiannual");case Oe.ANNUAL:return e.translate("donateForm.donateButton.annual");default:return e.translate("donateForm.donateButton.once")}}(this.intl,this.donationDataPoint.frequency)}get shouldShowAverageDonationHint(){return(this.checkoutService.checkoutConfiguration.infrastructureParams.showcase||this.viewState.donation.frequency===Oe.ONCE)&&!1}get shouldShowAverageDonationHintTooltip(){const e=this.viewState.tribute.sharingEnabled&&this.viewState.tribute.isActive&&this.viewState.isTributeInputFocused;return this.shouldShowAverageDonationHint&&!this.viewState.errors.amount.min&&!e&&!this.viewState.forceHideAverageDonationHintTooltip}get amountAverageDonationHint(){return this.currencyService.convert(1e4,"USD",this.viewState.donation.currency)}get isRateMatchingCountdownEnabled(){return!!this.viewState.rateMatching.show&&(!!this.viewState.rateMatching.endDate&&new Date(this.viewState.rateMatching.endDate).getTime()>Jn()())}get isLocked(){return!!this.getScreenData().locked||this.upsellCurtainExperiment.isTestGroup&&this.viewState.upsellCurtainShown}get minRateMatchingAmount(){return this.currencyService.convert(this.viewState.rateMatching.minAmount||0,this.checkoutService.campaignConfig.defaultCurrency,this.viewState.donation.currency)}get isMlPreDonationUpsellEnabled(){return!this.checkoutWithoutPreDonationUpsellExperiment.isEnabled(this.mlPreDonationUpsellParams)&&this.preDonationUpsellDataPoint.isMlPreDonationUpsellEnabled(this.mlPreDonationUpsellParams)}beforeEnter(e){return(0,y.mG)(this,void 0,void 0,(function*(){this.preDonationUpsellDataPoint.resetUpsellScreenDecision(),this.checkoutService.ensureFrequencyEnabled(this.donationDataPoint.frequency),this.donationDataPoint.syncHintsAmounts(),this.designationDataPoint.goalKey||this.designationDataPoint.changeGoalKeyByFrequency(this.donationDataPoint.frequency),this.produceViewState((e=>{e.tribute.show=this.tributeDataPoint.isEnabled,e.tribute.isActive=this.tributeDataPoint.isActive,e.tribute.labelType=this.tributeDataPoint.labelType,e.tribute.sharingEnabled=this.tributeDataPoint.isSharingEnabled,e.tribute.isOptional=this.tributeDataPoint.isOptional,e.tribute.name=this.tributeDataPoint.tributeeName,e.tribute.isFilled=this.tributeDataPoint.isFilled,e.tribute.isTributeOriented=this.tributeDataPoint.isTributeOriented,e.comment.isEnabled=this.commentDataPoint.isEnabled,e.comment.content=this.commentDataPoint.comment,e.comment.prevContent=this.commentDataPoint.prevComment,e.donation.amount=this.donationDataPoint.amount,e.donation.minAmount=this.donationDataPoint.minAmount,e.donation.amountOptions=[...this.donationDataPoint.amountOptions],e.donation.frequency=this.donationDataPoint.frequency,e.donation.canModifyAmount=this.donationDataPoint.canModifyAmount,e.donation.canSelectCurrency=this.donationDataPoint.canSelectCurrency,e.donation.currency=this.donationDataPoint.currency,e.donation.hintOptions=this.donationDataPoint.hintOptions,e.donation.canModifyFrequency=this.donationDataPoint.canModifyFrequency,e.designation.show=this.designationDataPoint.isEnabled,e.designation.goalKey=this.designationDataPoint.goalKey,e.designation.goals=this.designationDataPoint.goals,e.designation.isEditable=this.designationDataPoint.canChangeDesignation(this.getAllowedGoals(e.designation.goals,e.donation.frequency).length),e.allCurrenciesList=this.donationDataPoint.currencyList,e.guessedCurrenciesList=this.donationDataPoint.guessedCurrencyList,e.donateButtonLabel=this.donateButtonLabel,e.leftButtonLabel=this.leftButtonLabel,e.leftButtonFrequency=this.donationDataPoint.lowFrequency,e.rightButtonLabel=this.rightButtonLabel,e.rightButtonFrequency=this.donationDataPoint.highFrequency,e.rateMatching=this.rateMatching,e.isRateMatchingEnabled=this.isRateMatchingEnabled(e.rateMatching),e.showFrequencyCustomAmountInput=!this.donationDataPoint.currentHint})),this.validateAmount(),this.experiments.has(yi.X.ML_FREQUENCY_DATA_COLLECT_CHECKOUT_EXPERIMENT)&&this.experiments.get(yi.X.ML_FREQUENCY_DATA_COLLECT_CHECKOUT_EXPERIMENT).exposure(),this.experiments.has(yi.X.ML_FREQUENCY_DATA_COLLECT_CAMPAIGN_PAGES_EXPERIMENT)&&this.experiments.get(yi.X.ML_FREQUENCY_DATA_COLLECT_CAMPAIGN_PAGES_EXPERIMENT).exposure()}))}setIsTributeInputFocused(e){return(0,y.mG)(this,void 0,void 0,(function*(){yield rs(200),this.produceViewState((t=>{t.isTributeInputFocused=e}))}))}getAllowedGoals(e,t){return Fe()(e).call(e,(e=>this.designationDataPoint.isGoalAllowedToShow(e,t)))}getGoalByKey(e){var t;return qe()(t=this.viewState.designation.goals).call(t,(t=>t.key===e))||null}shouldShowDesignation(){return this.viewState.designation.show&&!!this.getAllowedGoals(this.viewState.designation.goals,this.viewState.donation.frequency).length}changeFrequency(e){this.donationDataPoint.frequency=e,this.donationDataPoint.syncHintsAmounts(),this.checkoutService.syncUpdateCheckoutState(),this.designationDataPoint.changeGoalKeyByFrequency(e),this.produceViewState((e=>{e.donation.frequency=this.donationDataPoint.frequency,e.donation.amount=this.donationDataPoint.amount,e.donation.currency=this.donationDataPoint.currency,e.donation.amountOptions=[...this.donationDataPoint.amountOptions],e.donation.hintOptions=this.donationDataPoint.hintOptions,e.donation.canSelectCurrency=this.donationDataPoint.canSelectCurrency,e.designation.goalKey=this.designationDataPoint.goalKey,e.designation.isEditable=this.designationDataPoint.canChangeDesignation(this.getAllowedGoals(e.designation.goals,e.donation.frequency).length),e.donation.minAmount=this.donationDataPoint.minAmount,e.donateButtonLabel=this.donateButtonLabel,e.showFrequencyCustomAmountInput=!this.donationDataPoint.currentHint})),this.validateAmount(),this.resetDesignationValidation(),this.fetchUpsellScreenDecision(),this.checkoutService.fetchFeeCoveringSuggestion()}validateAmount(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.checkoutService.checkoutConfiguration.infrastructureParams.showcase)return;const t=this.donationDataPoint.validate(),n=null===this.donationDataPoint.amount,i=e&&t.fields.amount.errors.required;this.produceViewState((e=>{e.donation.isAmountValid=t.fields.amount.isValid,e.errors.amount.required=i,e.errors.amount.min=!n&&t.fields.amount.errors.min,e.errors.amount.max=!n&&t.fields.amount.errors.max,e.showError=t.fields.amount.errors.min||t.fields.amount.errors.max||i}))}validateDesignation(){const e=this.designationDataPoint.validateDesignation(this.viewState.donation.frequency);this.produceViewState((t=>{t.designation.isValid=e.isValid,t.errors.designation.required=e.fields.goal.errors.required}))}resetDesignationValidation(){this.produceViewState((e=>{e.designation.isValid=!0,e.errors.designation.required=!1}))}changeAmount(e){this.resetAmountValidationError(),this.donationDataPoint.resetHintsByDefault(),this.donationDataPoint.amount=e,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((e=>{e.donation.amount=this.donationDataPoint.amount,e.donation.hintOptions=this.donationDataPoint.hintOptions,e.showFrequencyCustomAmountInput=!this.donationDataPoint.currentHint})),this.fetchUpsellScreenDecision(),this.checkoutService.fetchFeeCoveringSuggestion({debounced:!0})}changeCurrentHint(e){this.resetAmountValidationError(),this.donationDataPoint.updateHintsByDefault(e),this.donationDataPoint.amount=e.amount,this.donationDataPoint.setDefaultAmounts(),this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((e=>{e.donation.amount=this.donationDataPoint.amount,e.donation.hintOptions=this.donationDataPoint.hintOptions,e.showFrequencyCustomAmountInput=!this.donationDataPoint.currentHint})),this.fetchUpsellScreenDecision(),this.checkoutService.fetchFeeCoveringSuggestion()}changeGoal(e){this.designationDataPoint.setGoalKey(e,this.viewState.donation.frequency),this.produceViewState((e=>{e.designation.goalKey=this.designationDataPoint.goalKey})),this.validateDesignation(),this.fetchUpsellScreenDecision(),this.checkoutService.fetchFeeCoveringSuggestion()}changeCurrency(e){this.donationDataPoint.currency=e,this.donationDataPoint.syncHintsAmounts(),this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((e=>{e.donation.currency=this.donationDataPoint.currency,e.donation.amountOptions=[...this.donationDataPoint.amountOptions],e.donation.amount=this.donationDataPoint.amount,e.donation.minAmount=this.donationDataPoint.minAmount,e.donation.hintOptions=this.donationDataPoint.hintOptions})),this.checkoutService.trackCurrencyChange(e),this.fetchUpsellScreenDecision(),this.checkoutService.fetchFeeCoveringSuggestion()}toggleTribute(){this.tributeDataPoint.isActive=!this.tributeDataPoint.isActive,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((e=>{e.tribute.isActive=this.tributeDataPoint.isActive,e.tribute.isFilled=this.tributeDataPoint.isFilled}))}changeTributeName(e){this.tributeDataPoint.tributeeName=e,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((e=>{e.tribute.name=this.tributeDataPoint.tributeeName,e.tribute.isFilled=this.tributeDataPoint.isFilled}))}addComment(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.checkoutService.makeDataPointRequired("Comment"),this.leave({omitBeforeLeave:!0})}))}savePrevComment(){this.checkoutService.checkoutConfiguration.infrastructureParams.showcase||this.commentDataPoint.savePrevComment()}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.tryStartCheckoutWithoutPreDonationUpsellExperiment(),this.produceViewState((e=>{e.forceHideAverageDonationHintTooltip=!0})),this.validateAmount(!0),this.validateDesignation(),!this.viewState.donation.isAmountValid)return this.produceViewState((e=>{e.amountShakeKey+=1,e.showError=!0})),!1;if(!this.viewState.designation.isValid)return this.produceViewState((e=>{e.designationShakeKey+=1})),!1;if(this.checkoutService.updateSessionWidgetDefaults(),null==e?void 0:e.isSynthetic)return this.checkoutService.collectDataPoint([this.tributeDataPoint,this.donationDataPoint,this.designationDataPoint]),!0;if(this.isMlPreDonationUpsellEnabled){this.pending=!0,this.setProcessingState("pending");const e=yield this.fetchUpsellScreenDecision();e&&this.checkoutService.trackCustomEvent({type:"preDonationUpsellMlResponse",data:e}),this.setProcessingState("idle"),this.pending=!1}else this.preDonationUpsellDataPoint.resetUpsellScreenDecision();return yield this.fetchOrGetCoveringSuggestionBeforeLeave(),this.checkoutService.collectDataPoint([this.tributeDataPoint,this.donationDataPoint,this.designationDataPoint]),!this.openUpsellCurtain()}))}isRateMatchingEnabled(e){if(!e.show)return!1;const t=Jn()();return null===e.endDate||new Date(e.endDate).getTime()>t}openUpsellCurtain(){const e=this.upsellAggregate.getBeforeEnterViewState(),t={tributeIsFilled:this.tributeDataPoint.isFilled,targetFrequency:e.targetFrequency,preDonationUpsellIsEnabled:this.checkoutService.getState().preDonationUpsell.isEnabled,locale:this.intl.locale,currentFrequency:this.donationDataPoint.frequency};return!!this.upsellCurtainExperiment.canBeStarted(t)&&(this.upsellCurtainExperiment.tryStart(t),!!this.upsellCurtainExperiment.canOpenUpsellCurtain(t)&&(this.produceViewState((t=>{t.preDonationUpsell=e,t.upsellCurtainShown=!0})),this.upsellAggregate.setShowed(),this.upsellCurtainExperiment.openCurtain(),!0))}closeUpsellCurtain(){this.produceViewState((e=>{e.upsellCurtainShown=!1})),this.upsellCurtainExperiment.closeCurtain()}confirmUpsell(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.upsellAggregate.selectUpsell(e,{lowMonthlyAmount:this.viewState.preDonationUpsell.lowMonthlyAmount,highMonthlyAmount:this.viewState.preDonationUpsell.highMonthlyAmount}),this.leave({omitBeforeLeave:!0})}))}getInitialViewState(){return{locked:!1,isShowcase:!1,amountShakeKey:0,designationShakeKey:0,allCurrenciesList:[],guessedCurrenciesList:[],allowCentsForCharges:this.checkoutService.company.allowCentsForCharges,donation:{frequency:Oe.ONCE,amountOptions:[0,0,0,0,0,0],amount:null,minAmount:0,canModifyAmount:!0,canSelectCurrency:!0,currency:"USD",isAmountValid:!0,canModifyFrequency:!0,hintOptions:null},errors:{amount:{min:!1,max:!1,required:!1},designation:{required:!1}},showError:!1,comment:{isEnabled:!1,content:"",prevContent:""},tribute:{name:"",isActive:!1,show:!1,isOptional:!1,labelType:h.h2.IN_HONOR_MEMORY,sharingEnabled:!1,isFilled:!1,inHonorOfMaxLength:ux.getInHonorOfMaxLength(this.checkoutService.company.key),isTributeOriented:!1},designation:{show:!1,goalKey:null,goals:[],isEditable:!0,isValid:!0},enabledFlows:{crypto:this.checkoutService.checkoutConfiguration.enabledFlows.crypto,stock:this.checkoutService.checkoutConfiguration.enabledFlows.stock},companyName:this.checkoutService.company.name,donateButtonLabel:"",leftButtonLabel:"",leftButtonFrequency:Oe.ONCE,rightButtonLabel:"",rightButtonFrequency:Oe.MONTHLY,flowType:this.checkoutService.type,isTributeInputFocused:!1,forceHideAverageDonationHintTooltip:!1,isRateMatchingEnabled:!1,rateMatching:{show:!1,rate:2,sponsor:null,minAmount:0,endDate:null},showFrequencyCustomAmountInput:!1,upsellCurtainShown:!1,preDonationUpsell:{upsell:{fromAmount:0},currency:"USD",highButtonText:"",lowButtonText:"",highMonthlyAmount:0,lowMonthlyAmount:0,screenTitle:"",questionText:"",questionShortText:"",descriptionText:"",targetFrequency:Oe.MONTHLY,isAnnualTribute:!1},processingState:"idle"}}get mlPreDonationUpsellParams(){return this.preDonationUpsellDataPoint.getMlPreDonationUpsellParams(this.tributeDataPoint.toObject(),this.donationDataPoint.amount,this.donationDataPoint.currency,this.donationDataPoint.frequency,this.designationDataPoint.allowRecurring)}get leftButtonLabel(){return Mc(this.intl,this.donationDataPoint.lowFrequency)}get rightButtonLabel(){return Mc(this.intl,this.donationDataPoint.highFrequency)}get rateMatching(){const e=this.checkoutService.checkoutConfiguration.campaignPage.rateMatching;return{show:e.show,rate:e.rate,sponsor:e.sponsor,minAmount:e.minAmount,endDate:e.endDate}}get checkoutWithoutPreDonationUpsellExperiment(){return this.experiments.get(yi.X.CHECKOUT_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT)}get campaignPagesWithoutPreDonationUpsellExperiment(){return this.experiments.get(yi.X.CAMPAIGN_PAGES_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT)}resetAmountValidationError(){this.produceViewState((e=>{e.errors.amount.min=!1,e.errors.amount.max=!1,e.errors.amount.required=!1,e.showError=!1}))}tryStartCheckoutWithoutPreDonationUpsellExperiment(){this.checkoutWithoutPreDonationUpsellExperiment.tryStart(this.mlPreDonationUpsellParams),this.checkoutWithoutPreDonationUpsellExperiment.isEnabled(this.mlPreDonationUpsellParams)?this.preDonationUpsellDataPoint.isEnabled=!1:(this.campaignPagesWithoutPreDonationUpsellExperiment.tryStart(this.mlPreDonationUpsellParams),this.campaignPagesWithoutPreDonationUpsellExperiment.isEnabled(this.mlPreDonationUpsellParams)&&(this.preDonationUpsellDataPoint.isEnabled=!1))}fetchUpsellScreenDecision(){var e;if(this.tryStartCheckoutWithoutPreDonationUpsellExperiment(),null!==this.donationDataPoint.amount&&null!==this.donationDataPoint.amountInUSD){if(this.isMlPreDonationUpsellEnabled)return this.preDonationUpsellDataPoint.fetchUpsellScreenDecision(k()(k()({},function(){const e=new Date;return{eventTime:e.toISOString().split(".")[0]+"Z",clientWeekday:e.getDay(),clientHour:e.getHours()}}()),{companyName:this.checkoutService.company.name,clientTimeZone:AE(),clientLocale:this.intl.locale,checkoutCampaignKey:this.checkoutService.checkoutConfiguration.campaign.key,checkoutCurrency:this.donationDataPoint.currency,checkoutAmount:this.donationDataPoint.amount,checkoutInUsdAmount:this.donationDataPoint.amountInUSD,checkoutCurrencyRate:this.currencyService.getRate(this.donationDataPoint.currency),checkoutDefaultAmount:null!==(e=this.donationDataPoint.defaultAmount)&&void 0!==e?e:0}));this.preDonationUpsellDataPoint.resetUpsellScreenDecision()}}fetchOrGetCoveringSuggestionBeforeLeave(){return(0,y.mG)(this,void 0,void 0,(function*(){this.checkoutService.isMlSmartCoveringFeeExperimentEnabled()&&(this.pending=!0,this.setProcessingState("pending"),yield this.checkoutService.fetchFeeCoveringSuggestion(),this.setProcessingState("idle"),this.pending=!1)}))}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}}class hw extends QP{constructor(e){super(e),this.donationDataPoint=e.donationDataPoint,this.dtdDataPoint=e.dtdDataPoint}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.checkoutService.restoreDTDUpsellFromSnapshot(),this.dtdDataPoint.amount=this.donationDataPoint.total,this.dtdDataPoint.setCurrency(this.donationDataPoint.currency),this.dtdDataPoint.calculateUpsellFee(),this.dtdDataPoint.reject();const e=this.intl.formatCurrency(this.donationDataPoint.total,{currency:this.donationDataPoint.currency,display:"floatcents"}),t=this.intl.formatCurrency(this.dtdDataPoint.upsellTotal,{currency:this.donationDataPoint.currency,display:"floatcents"});let n="",i="",a="";const r=this.donationDataPoint.frequency;r!==Oe.ONCE?(n=this.intl.translate("doubleDonationScreen.button.donate.recurring",{amount:e,recurringType:this.recurringTypes[r]}),i=this.intl.translate("doubleDonationScreen.button.changeAmount.recurring",{amount:t,recurringType:this.recurringTypes[r]}),a=this.intl.translate("doubleDonationScreen.button.doNotChangeAmount.recurring",{amount:e,recurringType:this.recurringTypes[r]})):(n=this.intl.translate("doubleDonationScreen.button.donate.once",{amount:e}),i=this.intl.translate("doubleDonationScreen.button.changeAmount.once",{amount:t}),a=this.intl.translate("doubleDonationScreen.button.doNotChangeAmount.once",{amount:e})),this.produceViewState((r=>{r.buttonType=this.getButtonType(!1),r.isPaymentScreen=this.isPaymentScreen,r.total=this.donationDataPoint.total,r.frequency=this.donationDataPoint.frequency,r.currency=this.donationDataPoint.currency,r.isFeeCovered=this.donationDataPoint.isFeeCovered,r.employer.name=this.dtdDataPoint.employer.name,r.minimumMatchedAmount=this.dtdDataPoint.minimumMatchedAmount,r.isIntegrationEnabled=this.dtdDataPoint.isIntegrationEnabled,r.showSkipButton=!this.dtdDataPoint.isIntegrationEnabled||!this.isPaymentScreen,r.matchingPromisedAmount=this.dtdDataPoint.upsellDoubledAmount,r.matchingRatio=this.dtdDataPoint.matchingRatio,r.proposedAmount=this.dtdDataPoint.upsellTotal,r.proposedAmountBeforeFeeCovered=this.dtdDataPoint.rawMinimumMatchedAmount,r.formattedTotal=e,r.formattedUpsellTotal=t,r.declineButtonLabel=n,r.changeAmountButtonLabel=i,r.noChangeAmountButtonLabel=a,r.isAlreadyPaidAmountNotMatched=this.isAlreadyPaidAmountNotMatched()})),this.dtdDataPoint.employerDTD&&this.setEmployerViewState(this.dtdDataPoint.employer.name)}))}changeEmployerName(e){e||this.resetEmployerDTD(),this.dtdDataPoint.setEmployer(e),this.produceViewState((e=>{e.employer.name=this.dtdDataPoint.employer.name}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;if(this.pending=!0,this.checkoutService.collectDataPoint([this.dtdDataPoint]),this.checkoutService.syncUpdateCheckoutState(),!this.isPaymentScreen)return this.pending=!1,!0;this.setProcessingState("pending");const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return dn.isSuccess(e)?(this.setProcessingState("success"),yield rs(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),this.pending=!1,!0):e.failureResult.shouldLeave?(this.pending=!1,!0):(this.produceViewState((e=>{e.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText"),e.additionalPayErrorMessage=this.checkoutService.additionalPayErrorMessage||""})),this.setProcessingState("error"),this.pending=!1,!1)}))}skip(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.dtdDataPoint.setSkipped(),this.leave()}))}getDTDCompanies(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.dtdDataPoint.getDTDCompanies(e);bE()(t,this.viewState.companies)||this.produceViewState((e=>{e.companies=t}))}))}setEmployerDTD(e){var t;const n=qe()(t=this.viewState.companies).call(t,(t=>t.id===e));return!n||(this.dtdDataPoint.setEmployerDTD(n),this.setEmployerViewState(n.company_name),this.dtdDataPoint.showed=this.viewState.showDTDUpsell&&this.viewState.showDTDUpsellExperiment,!1)}setEmployerViewState(e){const t=this.intl.formatCurrency(this.dtdDataPoint.upsellTotal,{currency:this.donationDataPoint.currency,display:"floatcents"});let n="";const i=this.donationDataPoint.frequency;n=i!==Oe.ONCE?this.intl.translate("doubleDonationScreen.button.changeAmount.recurring",{amount:t,recurringType:this.recurringTypes[i]}):this.intl.translate("doubleDonationScreen.button.changeAmount.once",{amount:t}),this.produceViewState((i=>{i.employer.name=e,i.showDTDDescription=!1,i.showDTDUpsell=this.dtdDataPoint.minimumMatchedAmount>this.donationDataPoint.total,i.showDTDUpsellExperiment=!this.isAlreadyPaidAmountNotMatched(),i.showSkipButton=!(this.dtdDataPoint.isIntegrationEnabled&&this.isPaymentScreen||i.showDTDUpsell),i.showEmployerMatchedBlock=this.dtdDataPoint.minimumMatchedAmount<=this.donationDataPoint.total,i.DTDDoubledAmount=this.dtdDataPoint.DTDDoubledAmount,i.minimumMatchedAmount=this.dtdDataPoint.minimumMatchedAmount,i.upsellTotal=this.dtdDataPoint.upsellTotal,i.formattedUpsellTotal=t,i.changeAmountButtonLabel=n,i.DTDUpsellDoubledAmount=this.dtdDataPoint.upsellDoubledAmount,i.buttonType=this.getButtonType(i.showDTDUpsell),i.matchingPromisedAmount=this.dtdDataPoint.upsellDoubledAmount,i.matchingRatio=this.dtdDataPoint.matchingRatio,i.proposedAmount=this.dtdDataPoint.upsellTotal,i.proposedAmountBeforeFeeCovered=this.dtdDataPoint.rawMinimumMatchedAmount,i.isAlreadyPaidAmountNotMatched=this.isAlreadyPaidAmountNotMatched()}))}acceptUpsell(){return(0,y.mG)(this,void 0,void 0,(function*(){this.dtdDataPoint.accept(),yield this.leave()}))}resetEmployerDTD(){this.dtdDataPoint.resetEmployerDTD(),this.produceViewState((e=>{e.showDTDDescription=!0,e.showDTDUpsell=!1,e.showSkipButton=!this.dtdDataPoint.isIntegrationEnabled||!this.isPaymentScreen,e.showEmployerMatchedBlock=!1,e.buttonType=this.getButtonType(e.showDTDUpsell),e.isAlreadyPaidAmountNotMatched=this.isAlreadyPaidAmountNotMatched()}))}getInitialViewState(){return{locked:!1,showDTDDescription:!0,showEmployerMatchedBlock:!1,employer:{name:""},showDTDUpsell:!1,showDTDUpsellExperiment:!1,minimumMatchedAmount:0,DTDUpsellDoubledAmount:0,DTDDoubledAmount:0,currency:"USD",upsellTotal:0,showSkipButton:!0,total:0,processingState:"idle",companies:[],buttonType:"continue",isFeeCovered:!1,matchingPromisedAmount:0,matchingRatio:[1,1],proposedAmount:0,proposedAmountBeforeFeeCovered:0,isIntegrationEnabled:!1,frequency:Oe.ONCE,formattedTotal:"",formattedUpsellTotal:"",declineButtonLabel:"",changeAmountButtonLabel:"",noChangeAmountButtonLabel:"",isAlreadyPaidAmountNotMatched:!1,isPaymentScreen:!1,payErrorMessage:"",additionalPayErrorMessage:""}}get isPaymentScreen(){return this.name===this.checkoutService.getPaymentScreen(this.name)}get recurringTypes(){return{[Oe.DAILY]:this.intl.translate("widgetSubscriptionPeriodLabel.daily.noun"),[Oe.WEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.noun"),[Oe.BIWEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.noun"),[Oe.EVERY_4_WEEKS]:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.noun"),[Oe.MONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.noun"),[Oe.BIMONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.noun"),[Oe.QUARTERLY]:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.noun"),[Oe.SEMIANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.noun"),[Oe.ANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.annual.noun")}}getButtonType(e){return e?this.isPaymentScreen?"upsell_pay_now":"upsell_pay_later":this.isPaymentScreen?"amount_matched":"continue"}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}isAlreadyPaidAmountNotMatched(){return!this.checkoutService.checkoutConfiguration.infrastructureParams.showcase&&this.checkoutService.isPaid&&this.dtdDataPoint.minimumMatchedAmount>this.donationDataPoint.total}}class mw extends QP{constructor(e){super(e),this.paymentService=e.paymentService,this.donationDataPoint=e.donationDataPoint}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{var t;e.isPaymentScreen=this.isPaymentScreen,e.formattedAmount=this.intl.formatCurrency(null!==(t=this.donationDataPoint.total)&&void 0!==t?t:0,{currency:this.donationDataPoint.currency,display:"floatcents"}),e.frequency=this.donationDataPoint.frequency}))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;if(this.pending=!0,this.setProcessingState("pending"),!(yield this.paymentService.startSepaFlow()))return this.produceViewState((e=>{e.shakeKey+=1,e.processingState="idle"})),this.pending=!1,!1;const e=yield this.checkoutService.hold();return dn.isFailure(e)?(this.pending=!1,yield this.showError(),!1):this.isPaymentScreen?this.pay():(this.pending=!1,!0)}))}initiateSepa(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){return this.paymentService.initiateSepa(e,t)}))}recalculatePaymentScreen(){this.produceViewState((e=>{e.isPaymentScreen=this.isPaymentScreen}))}getInitialViewState(){return{processingState:"idle",shakeKey:0,locked:!1,isPaymentScreen:!1,formattedAmount:"",frequency:Oe.ONCE}}get isPaymentScreen(){return this.name===this.checkoutService.getPaymentScreen(this.name)}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return dn.isFailure(e)?e.failureResult.shouldLeave?(this.pending=!1,!0):(this.pending=!1,yield this.showError(),!1):(this.setProcessingState("success"),yield rs(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),this.pending=!1,!0)}))}showError(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="error",e.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")})),this.produceViewState((e=>{e.payErrorMessage=""}),!0)}))}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}}class pw extends QP{constructor(e){super(e),this.donationDataPoint=e.donationDataPoint,this.giftAidDataPoint=e.giftAidDataPoint}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){yield this.checkoutService.resetDataPoint("GiftAid"),this.produceViewState((e=>{var t;e.formattedAmount=this.intl.formatCurrency(null!==(t=this.donationDataPoint.total)&&void 0!==t?t:0,{currency:this.donationDataPoint.currency,display:"floatcents"}),e.frequency=this.donationDataPoint.frequency,e.legalText=this.giftAidDataPoint.legalText,e.isPaymentScreen=this.isPaymentScreen}))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;if(this.pending=!0,this.checkoutService.collectDataPoint([this.giftAidDataPoint]),!this.isPaymentScreen)return this.pending=!1,!0;this.produceViewState((e=>{e.processingState="pending"}));const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return dn.isSuccess(e)||e.failureResult.shouldLeave?(this.pending=!1,!0):(this.produceViewState((e=>{e.payErrorMessage=this.checkoutService.payErrorMessage,e.processingState="error"})),this.pending=!1,!1)}))}changeGiftAid(e){e?this.giftAidDataPoint.accept():this.giftAidDataPoint.reject()}setShown(){this.giftAidDataPoint.setShown(!0)}changeLegalTextOverflowed(e){this.produceViewState((t=>{t.legalTextOverflowed=e}))}getInitialViewState(){return{locked:!1,showcase:this.checkoutService.checkoutConfiguration.infrastructureParams.showcase,formattedAmount:"",frequency:Oe.MONTHLY,legalText:"",isPaymentScreen:!1,processingState:"idle",legalTextOverflowed:!1}}get isPaymentScreen(){return this.name===this.checkoutService.getPaymentScreen(this.name)}}class gw extends QP{constructor(e){super(e),this.paymentService=e.paymentService,this.idealDataPoint=e.idealDataPoint}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.checkoutService.getDataPoint("FiatDonation");yield this.paymentService.initiateIDEAL(),this.produceViewState((t=>{t.isSubscription=e.isRecurring,t.bank=this.idealDataPoint.bank}))}))}setBank(e){var t;const n=qe()(t=this.getInitialViewState().options).call(t,(t=>t.id===e));n&&(this.resetValidation(),this.idealDataPoint.bank=n,this.produceViewState((e=>{e.bank=n})))}resetValidation(){this.produceViewState((e=>{e.validation=TA.defaultValidationResult}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;if(this.validate(),!this.viewState.validation.fields.bank.isValid)return this.produceViewState((e=>{e.shakeKey+=1})),!1;this.checkoutService.collectDataPoint([this.idealDataPoint]),this.pending=!0,this.setProcessingState("pending");const e=yield this.checkoutService.hold();return this.pending=!1,!dn.isFailure(e)||(yield this.showError(),!1)}))}getInitialViewState(){return{processingState:"idle",shakeKey:0,locked:!1,isSubscription:!1,bank:{id:"",label:""},options:[{label:"ABN AMRO",id:"abn_amro"},{label:"ASN Bank",id:"asn_bank"},{label:"bunq",id:"bunq"},{label:"ING",id:"ing"},{label:"Knab",id:"knab"},{label:"Rabobank",id:"rabobank"},{label:"RegioBank",id:"regiobank"},{label:"Revolut",id:"revolut"},{label:"SNS",id:"sns_bank"},{label:"Triodos Bank",id:"triodos_bank"},{label:"Van Lanschot",id:"van_lanschot"}],validation:TA.defaultValidationResult}}validate(){this.produceViewState((e=>{e.validation=this.idealDataPoint.validate()}))}showError(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="error",e.errorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")})),this.produceViewState((e=>{e.errorMessage=""}),!0)}))}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}}class yw extends QP{constructor(e){super(e),this.paymentService=e.paymentService,this.donationDataPoint=e.donationDataPoint,this.donorNameDataPoint=e.donorNameDataPoint,this.donorEmailDataPoint=e.donorEmailDataPoint,this.idealDataPoint=e.idealDataPoint}get showNextStepOverview(){const e="success"===this.viewState.processingState;return!this.pending&&!e}back(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.checkoutService.canGoBack;if(this.flow.canGoBack&&e)return(yield this.withPending((()=>this.paymentService.isIDEALPaid())))?this.leave():this.flow.prev()}))}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{var t;e.email=this.donorEmailDataPoint.email,e.name=this.donorNameDataPoint.fullName,e.ideal.bank=this.idealDataPoint.bank.label,e.ideal.id=this.idealDataPoint.bank.id,e.formattedAmount=this.intl.formatCurrency(null!==(t=this.donationDataPoint.total)&&void 0!==t?t:0,{currency:this.donationDataPoint.currency,display:"floatcents"}),e.frequency=this.donationDataPoint.frequency}))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;this.pending=!0,this.setProcessingState("pending"),this.produceViewState((e=>{e.showReturnBankInfo=!0})),this.paymentService.openIDEALConfirmationWindow({onClose:()=>{this.produceViewState((e=>{e.showReturnBankInfo=!1}))}});const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return dn.isSuccess(e)?(this.setProcessingState("success"),yield rs(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),this.pending=!1,!0):e.failureResult.shouldLeave?(this.pending=!1,!0):(this.setProcessingState("error"),this.pending=!1,!1)}))}returnToBankWindow(){this.paymentService.focusIDEALConfirmationWindow()}getInitialViewState(){return{locked:!1,ideal:{bank:"",id:""},email:"",name:"",processingState:"idle",formattedAmount:"",frequency:Oe.ONCE,errorMessage:"",showReturnBankInfo:!1}}setProcessingState(e){return"error"===e&&this.produceViewState((e=>{e.errorMessage=this.checkoutService.payErrorMessage})),this.produceViewState((t=>{t.processingState=e})),this}}class fw extends gi{get isTestGroup(){return this.isVariant1TestGroup||this.isVariant2TestGroup||this.isVariant3TestGroup||this.isVariant4TestGroup}get isVariant1TestGroup(){return this.isActive&&this.isVariant(Wi.TEST_1)}get isVariant2TestGroup(){return this.isActive&&this.isVariant(Wi.TEST_2)}get isVariant3TestGroup(){return this.isActive&&this.isVariant(Wi.TEST_3)}get isVariant4TestGroup(){return this.isActive&&this.isVariant(Wi.TEST_4)}isInTestGroups(e){return this.isActive&&E()(e).call(e,(e=>this.isVariant(e)))}tryStart(e){this.isActive||e.availableVisiblePaymentOptions.length<2||this.start()}}const vw=[h.GZ.APPLE_PAY,h.GZ.CARD,h.GZ.PAYPAL,h.GZ.GOOGLE_PAY,h.GZ.VENMO,h.GZ.CLICK_TO_PAY,h.GZ.US_BANK_ACCOUNT,h.GZ.UK_BACS,h.GZ.AU_BECS,h.GZ.ACSS,h.GZ.SEPA,h.GZ.IDEAL];class Sw{sort(e){var t;const n=De()(t=xt()(e)).call(t,(e=>{let[t,n]=e;return{paymentMethod:t,available:n.available,show:n.show}})),i=this.getSortedPaymentMethods();return Ke()(n).call(n,((e,t)=>(Z()(i).call(i,e.paymentMethod)?nn()(i).call(i,e.paymentMethod):1/0)-(Z()(i).call(i,t.paymentMethod)?nn()(i).call(i,t.paymentMethod):1/0)))}getSortedPaymentMethods(){return vw}}class Cw extends QP{constructor(e){super(e),this.frequency=Oe.ONCE,this._paymentMethodSorter=null,this.paymentService=e.paymentService,this.donationDataPoint=e.donationDataPoint,this.paymentOptionsDataPoint=e.paymentOptionsDataPoint,this.mailingAddressDataPoint=e.mailingAddressDataPoint}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.experiments.register(yi.X.LESS_PAYMENT_OPTIONS_EXPERIMENT,fw),this.handleErrors(),this.paymentOptionsDataPoint.calculatePaymentOptionsAvailability({currency:this.donationDataPoint.currency,frequency:this.donationDataPoint.frequency,total:this.donationDataPoint.total||0}),this.syncPaymentButtons(),this.initializePaymentOptions(),this.donationDataPoint.calculateFeeAvailability(),this.checkoutService.isMlSmartCoveringFeeExperimentEnabled()||this.donationDataPoint.calculateSmartCoveringFee(this.checkoutService.checkoutUIState.feeCoveringTouched),this.donationDataPoint.snapshotFeeCoveringSuggestion(this.checkoutService.checkoutUIState.feeCoveringTouched),this.checkoutService.updateSession(),this.paymentOptionsDataPoint.setPaymentMethod(null),this.paymentOptionsDataPoint.setPaymentOption(null),this.mailingAddressDataPoint.setPaymentMethodParams({paymentMethod:null,paymentCountry:null}),this.produceViewState((e=>{e.isInited=!0,e.currency=this.donationDataPoint.currency,e.currencySymbol=this.donationDataPoint.currencySymbol,e.defaultCurrency=this.donationDataPoint.defaultCurrency,e.amount=this.donationDataPoint.amount||(this.checkoutService.checkoutConfiguration.infrastructureParams.showcase?1e4:0),e.frequency=this.donationDataPoint.frequency,e.total=!this.donationDataPoint.amount&&this.checkoutService.checkoutConfiguration.infrastructureParams.showcase?10600:this.donationDataPoint.total,e.processingFee=!this.donationDataPoint.amount&&this.checkoutService.checkoutConfiguration.infrastructureParams.showcase?600:this.donationDataPoint.fee,e.isFeeCovered=this.donationDataPoint.isFeeCovered,e.includeFees=this.donationDataPoint.includeFees,e.showIncludeFee=this.isIncludeFeesSectionVisible(this.donationDataPoint.includeFees),e.prefixCurrencySymbol=this.intl.formatSymbol(this.donationDataPoint.currencySymbol,Nt.PREFIX),e.postfixCurrencySymbol=this.intl.formatSymbol(this.donationDataPoint.currencySymbol,Nt.POSTFIX),e.isStripeAccountConnected=this.paymentOptionsDataPoint.isStripeAccountConnected,e.livemode=this.checkoutService.livemode,e.isRecurring=this.donationDataPoint.isRecurring,e.recurringLabel=this.recurringLabel,e.isPaymentScreen=this.isPaymentScreen,e.showTestModeTooltipInfo=!this.checkoutService.checkoutConfiguration.infrastructureParams.livemode&&!this.checkoutService.checkoutConfiguration.infrastructureParams.showcase,e.experiments.lessPaymentOptions=this.lessPaymentOptionsExperiment.variantName}))}))}beforeLeave(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.checkoutService.collectDataPoint([this.donationDataPoint,this.paymentOptionsDataPoint]),this.isPaymentScreen?this.pay():(this.unlock(),!0)}))}choosePaymentOption(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.pending){switch(this.lock(),this.paymentOptionsDataPoint.setPaymentMethod(null),this.paymentOptionsDataPoint.setPaymentOption(e),e){case Ey.CARD:if(this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.CARD),this.paymentOptionsDataPoint.preSelectedPaymentOption===Ey.CARD)return void(yield this.startCreditCard());break;case Ey.GOOGLE_PAY:return this.checkoutService.checkoutConfiguration.infrastructureParams.showcase?void this.unlock():(this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.GOOGLE_PAY),void(yield this.startGooglePay()));case Ey.APPLE_PAY:return this.checkoutService.checkoutConfiguration.infrastructureParams.showcase?void this.unlock():(this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.APPLE_PAY),void(yield this.startApplePay()));case Ey.CLICK_TO_PAY:this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.CLICK_TO_PAY);break;case Ey.UK_BACS:this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.UK_BACS);break;case Ey.AU_BECS:this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.AU_BECS);break;case Ey.ACSS:return this.checkoutService.checkoutConfiguration.infrastructureParams.showcase?void this.unlock():(this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.ACSS),this.produceViewState((e=>{e.processingACSSState="pending"})),yield this.paymentService.initiateACSS({onPopupOpen:null==t?void 0:t.onModalShow,onPopupClose:null==t?void 0:t.onModalHide}),yield this.startACSS(),void this.produceViewState((e=>{e.processingACSSState="idle"})));case Ey.US_BANK_ACCOUNT:return this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.US_BANK_ACCOUNT),this.paymentOptionsDataPoint.setPaymentOption(Ey.US_BANK_ACCOUNT),this.produceViewState((e=>{e.processingUSBankAccountState="pending"})),yield this.paymentService.initiateUSBankAccount({}),this.produceViewState((e=>{e.processingUSBankAccountState="idle"})),this.unlock(),this.leave();case Ey.US_BANK_ACCOUNT_VERIFICATION:return this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.US_BANK_ACCOUNT),this.paymentOptionsDataPoint.setPaymentOption(Ey.US_BANK_ACCOUNT_VERIFICATION),this.produceViewState((e=>{e.processingUSBankAccountState="pending"})),yield this.paymentService.initiateUSBankAccount({}),this.produceViewState((e=>{e.processingUSBankAccountState="idle"})),this.unlock(),this.leave();case Ey.US_BANK_ACCOUNT_INSTANT:return this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.US_BANK_ACCOUNT),this.paymentOptionsDataPoint.setPaymentOption(Ey.US_BANK_ACCOUNT_INSTANT),this.produceViewState((e=>{e.processingUSBankAccountState="pending"})),yield this.paymentService.initiateUSBankAccount({onPopupOpen:null==t?void 0:t.onModalShow,onPopupClose:null==t?void 0:t.onModalHide}),this.startUSBankAccount(Ey.US_BANK_ACCOUNT_INSTANT);case Ey.PAYPAL:throw new Error("Paypal method can not be chosen");case Ey.VENMO:throw new Error("Venmo method can not be chosen");case Ey.PAYPAL_CONVERSION:return this.paymentOptionsDataPoint.setPaymentOption(Ey.PAYPAL_CONVERSION),this.leaveWithoutPaymentOptionsCollect();case Ey.SEPA:this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.SEPA);break;case Ey.IDEAL:this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.IDEAL);break;default:throw new ae(e)}return this.unlock(),this.leave()}}))}changeCardFilledFields(e,t){this.produceViewState((n=>{n.cardFilledFields[e]=t}),!0)}initiateCreditCard(e){return this.paymentService.initiateCreditCard(e)}startCreditCard(){return(0,y.mG)(this,void 0,void 0,(function*(){if(!(yield this.paymentService.startCreditCardFlow()))return this.unlock(),void this.produceViewState((e=>{e.shakeKey+=1}));const e=yield this.checkoutService.hold();if(dn.isFailure(e))return this.unlock(),void this.showError({message:this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText"),option:Ey.CARD});yield this.leave()}))}initiateVenmo(e){let{element:t,onClick:n,onHide:i}=e;return(0,y.mG)(this,void 0,void 0,(function*(){yield this.paymentService.initiateVenmo({element:t,holdDone:()=>{null==i||i(),this.leave()},onFail:e=>{null==i||i(),this.showError({message:e.message||this.intl.translate("common.errorOccurredText"),option:Ey.VENMO})},onCancel:()=>{this.unlock(),null==i||i()},onButtonClick:()=>{this.lock(),this.paymentOptionsDataPoint.setPaymentOption(null),null==n||n()}}),this.syncButtonsAvailability(),this.syncPreSelectedPaymentOption()}))}closePaypalButton(){return this.paymentService.closePaypalButton()}closeVenmoButton(){return this.paymentService.closeVenmoButton()}initiatePaypal(e){let{element:t,buttonColor:n,onClick:i,onHide:a}=e;return this.paymentService.initiatePaypal({element:t,buttonColor:n,holdDone:()=>{null==a||a(),this.leave()},onFail:e=>{null==a||a(),this.unlock(),this.showError({message:e.message||this.intl.translate("common.errorOccurredText"),option:Ey.PAYPAL})},onCancel:()=>{this.unlock(),null==a||a()},onButtonClick:()=>{this.lock(),this.paymentOptionsDataPoint.selectedPaymentOption!==Ey.PAYPAL_CONVERSION&&this.paymentOptionsDataPoint.setPaymentOption(null),null==i||i()}})}togglePaypalActions(e){return(0,y.mG)(this,void 0,void 0,(function*(){yield this.paymentService.togglePaypalActions(e)}))}startGooglePay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentService.startGooglePay();if(this.unlock(),dn.isSuccess(e))return void(yield this.leave());const t=e.failureResult.message;t&&this.showError({message:t,option:Ey.GOOGLE_PAY})}))}startApplePay(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentService.startApplePay();if(this.unlock(),dn.isSuccess(e))return void(yield this.leave());const t=e.failureResult.message;t&&this.showError({message:t,option:Ey.APPLE_PAY})}))}startACSS(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentService.startACSS();if(this.unlock(),dn.isSuccess(e))return void(yield this.leave());const t=e.failureResult.message;t&&this.showError({message:t,option:Ey.ACSS})}))}startUSBankAccount(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.paymentService.startUSBankAccount();if(this.unlock(),dn.isSuccess(t))return void(yield this.leave());const n=t.failureResult.message;n?this.showError({message:n,option:e}):this.produceViewState((e=>{e.processingUSBankAccountState="idle"}))}))}toggleFeeCovered(){this.donationDataPoint.isFeeCovered=!this.donationDataPoint.isFeeCovered,this.checkoutService.checkoutUIState.feeCoveringTouched=!0,this.produceViewState((e=>{e.isFeeCovered=this.donationDataPoint.isFeeCovered,e.total=this.donationDataPoint.total})),this.paymentOptionsDataPoint.calculatePaymentOptionsAvailability({currency:this.donationDataPoint.currency,frequency:this.donationDataPoint.frequency,total:this.donationDataPoint.total||0}),this.syncButtonsAvailability(),this.syncPreSelectedPaymentOption()}setPreSelectedPaymentOption(e){this.paymentOptionsDataPoint.setPreSelectedPaymentOption(e),this.produceViewState((t=>{t.preSelectedPaymentOption=e}))}getInitialViewState(){var e;return{isInited:!1,showIncludeFee:!0,stripeElementsAvailable:this.isStripeElementsAvailable,amount:0,currency:"USD",currencySymbol:"$",prefixCurrencySymbol:"",postfixCurrencySymbol:"",allowCentsForCharges:this.checkoutService.company.allowCentsForCharges,frequency:Oe.ONCE,includeFees:h.__.DEFAULT_YES,processingFee:0,total:0,defaultCurrency:"USD",isFeeCovered:!1,availableOptions:[],buttonOptions:ke()(De()(e=Me()(Ey)).call(e,(e=>[e,{show:!1}]))),locked:!1,processingACSSState:"idle",processingUSBankAccountState:"idle",shakeKey:0,showTestModeTooltipInfo:!1,cardFilledFields:{cardNumber:!1,cardExpiry:!1,cardCvc:!1},isStripeAccountConnected:!1,livemode:!0,isRecurring:!0,recurringLabel:"",showPaymentLoader:!1,isPaymentScreen:!1,preSelectedPaymentOption:null,experiments:{}}}get paymentMethodSorter(){return this._paymentMethodSorter||(this._paymentMethodSorter=new Sw),this._paymentMethodSorter}get recurringLabel(){return function(e,t){switch(t){case Oe.DAILY:return e.translate("paymentMethodScreen.perDay");case Oe.WEEKLY:return e.translate("paymentMethodScreen.perWeek");case Oe.BIWEEKLY:return e.translate("paymentMethodScreen.per2Weeks");case Oe.EVERY_4_WEEKS:return e.translate("paymentMethodScreen.per4Weeks");case Oe.MONTHLY:return e.translate("paymentMethodScreen.perMonth");case Oe.BIMONTHLY:return e.translate("paymentMethodScreen.per2Months");case Oe.QUARTERLY:return e.translate("paymentMethodScreen.perQuarter");case Oe.SEMIANNUAL:return e.translate("paymentMethodScreen.per6Months");case Oe.ANNUAL:return e.translate("paymentMethodScreen.perYear");default:return""}}(this.intl,this.donationDataPoint.frequency)}get isStripeElementsAvailable(){return this.checkoutService.checkoutConfiguration.infrastructureParams.env!==h.CB.PRODUCTION||this.checkoutService.checkoutConfiguration.infrastructureParams.isSSLEnabled}get isPaymentScreen(){const e=this.checkoutService.getState().paymentOptions;return this.checkoutService.isReadyToRetryPay&&e.clientPaymentMethod===h.GZ.CARD&&e.preSelectedPaymentOption===Ey.CARD||this.name===this.checkoutService.getPaymentScreen(this.name)}get lessPaymentOptionsExperiment(){return this.experiments.get(yi.X.LESS_PAYMENT_OPTIONS_EXPERIMENT)}get availableVisiblePaymentOptions(){var e;return Fe()(e=this.viewState.availableOptions).call(e,(e=>this.viewState.buttonOptions[e].show))}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){this.setPaymentLoader();const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});if(dn.isFailure(e)){if(this.removePaymentLoader(),this.unlock(),e.failureResult.shouldLeave)return!0;const t=(()=>{switch(!0){case!!this.paymentOptionsDataPoint.selectedPaymentOption:return this.paymentOptionsDataPoint.selectedPaymentOption;case this.paymentOptionsDataPoint.clientPaymentMethod===h.GZ.PAYPAL:return Ey.PAYPAL;case this.paymentOptionsDataPoint.clientPaymentMethod===h.GZ.VENMO:return Ey.VENMO;default:return null}})();return t&&this.showError({message:this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText"),option:t}),!1}return yield rs(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),this.unlock(),!0}))}getPaymentButtons(){var e;const t=new(Ee()),n=new(Ee()),i=Ke()(e=this.paymentMethodSorter).call(e,this.paymentOptionsDataPoint.allowedPaymentMethods);return v()(i).call(i,(e=>{let{paymentMethod:i,available:a,show:r}=e;if(i===h.GZ.APPLE_PAY&&a&&(t.add(Ey.APPLE_PAY),r&&n.add(Ey.APPLE_PAY)),i===h.GZ.CARD&&(t.add(Ey.CARD),n.add(Ey.CARD)),i===h.GZ.PAYPAL&&a){const e=this.checkoutService.checkoutConfiguration.company.paypalCurrencies;Z()(e).call(e,this.donationDataPoint.currency)?(t.add(Ey.PAYPAL),r&&n.add(Ey.PAYPAL)):(t.add(Ey.PAYPAL_CONVERSION),r&&n.add(Ey.PAYPAL_CONVERSION))}if(i===h.GZ.GOOGLE_PAY&&a&&(t.add(Ey.GOOGLE_PAY),r&&n.add(Ey.GOOGLE_PAY)),i===h.GZ.VENMO&&a&&(t.add(Ey.VENMO),r&&n.add(Ey.VENMO)),i===h.GZ.CLICK_TO_PAY&&a&&(t.add(Ey.CLICK_TO_PAY),r&&n.add(Ey.CLICK_TO_PAY)),i===h.GZ.US_BANK_ACCOUNT&&a){const e=this.checkoutService.checkoutConfiguration.company.stripe.usBankAccount.verification,i=jA(e)||RA(e),a=FA(e);i?(t.add(Ey.US_BANK_ACCOUNT_INSTANT),r&&n.add(Ey.US_BANK_ACCOUNT_INSTANT)):a?(t.add(Ey.US_BANK_ACCOUNT),r&&n.add(Ey.US_BANK_ACCOUNT)):(t.add(Ey.US_BANK_ACCOUNT_VERIFICATION),r&&n.add(Ey.US_BANK_ACCOUNT_VERIFICATION))}i===h.GZ.UK_BACS&&a&&(t.add(Ey.UK_BACS),r&&n.add(Ey.UK_BACS)),i===h.GZ.AU_BECS&&a&&(t.add(Ey.AU_BECS),r&&n.add(Ey.AU_BECS)),i===h.GZ.ACSS&&a&&(t.add(Ey.ACSS),r&&n.add(Ey.ACSS)),i===h.GZ.SEPA&&a&&(t.add(Ey.SEPA),r&&n.add(Ey.SEPA)),i===h.GZ.IDEAL&&a&&(t.add(Ey.IDEAL),r&&n.add(Ey.IDEAL))})),Xf.allSlotsAreTaken(n.size)&&(t.delete(Ey.CLICK_TO_PAY),n.delete(Ey.CLICK_TO_PAY)),{available:t,show:n}}leaveWithoutPaymentOptionsCollect(){return this.checkoutService.collectDataPoint([this.donationDataPoint]),this.unlock(),this.leave({omitBeforeLeave:!0})}syncButtonsAvailability(){const e=this.getPaymentButtons();this.produceViewState((t=>{var n;bE()(t.availableOptions,[...e.available])||(On()(n=t.availableOptions).call(n,0,t.availableOptions.length),t.availableOptions.push(...e.available));for(const[n,i]of xt()(t.buttonOptions))i.show=e.show.has(n)}))}syncPreSelectedPaymentOption(){var e;if(!this.lessPaymentOptionsExperiment.isInTestGroups([Wi.TEST_1,Wi.TEST_2,Wi.TEST_3]))return;const t=this.availableVisiblePaymentOptions;null!==this.paymentOptionsDataPoint.preSelectedPaymentOption&&Z()(t).call(t,this.paymentOptionsDataPoint.preSelectedPaymentOption)?this.setPreSelectedPaymentOption(this.paymentOptionsDataPoint.preSelectedPaymentOption):this.setPreSelectedPaymentOption(null!==(e=t[0])&&void 0!==e?e:null)}showError(e){let{title:t,message:n,option:i}=e;this.produceViewState((e=>{i!==Ey.US_BANK_ACCOUNT_INSTANT&&i!==Ey.US_BANK_ACCOUNT_VERIFICATION&&i!==Ey.US_BANK_ACCOUNT||(e.processingUSBankAccountState="error"),e.buttonOptions[i].errorTitle=t,e.buttonOptions[i].error=n})),H()((()=>{this.produceViewState((e=>{i!==Ey.US_BANK_ACCOUNT_INSTANT&&i!==Ey.US_BANK_ACCOUNT_VERIFICATION&&i!==Ey.US_BANK_ACCOUNT||(e.processingUSBankAccountState="idle"),e.buttonOptions[i].errorTitle=void 0,e.buttonOptions[i].error=void 0}))}),bt)}isIncludeFeesSectionVisible(e){var t;return Z()(t=[h.__.DEFAULT_YES,h.__.DEFAULT_NO,h.__.SMART_COVERING]).call(t,e)}lock(){this.togglePaypalActions(!1),this.pending=!0}unlock(){this.togglePaypalActions(!0),this.pending=!1}setPaymentLoader(){this.produceViewState((e=>{e.showPaymentLoader=!0}))}removePaymentLoader(){this.produceViewState((e=>{e.showPaymentLoader=!1}))}handleErrors(){const e=this.checkoutService.getState().paymentOptions,t=this.checkoutService.getState().paymentErrors;e.clientPaymentMethod===h.GZ.US_BANK_ACCOUNT&&(t[h.GZ.US_BANK_ACCOUNT]&&e.selectedPaymentOption&&this.showError({message:this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText"),option:e.selectedPaymentOption}),this.checkoutService.setPaymentError(h.GZ.US_BANK_ACCOUNT,!1)),t[h.GZ.PAYPAL]&&e.clientPaymentMethod===h.GZ.PAYPAL&&(this.showError({message:this.intl.translate("common.errorOccurredText"),option:Ey.PAYPAL}),this.checkoutService.setPaymentError(h.GZ.PAYPAL,!1)),t[h.GZ.CARD]&&e.clientPaymentMethod===h.GZ.CARD&&e.preSelectedPaymentOption===Ey.CARD&&(this.showError({title:this.intl.translate("creditCardScreen.cardError.title"),message:this.checkoutService.payErrorMessage||this.intl.translate("creditCardScreen.cardError.message"),option:Ey.CARD}),this.checkoutService.setPaymentError(h.GZ.CARD,!1))}tryStartLessPaymentOptionsExperiment(){this.lessPaymentOptionsExperiment.tryStart({availableVisiblePaymentOptions:this.availableVisiblePaymentOptions}),this.lessPaymentOptionsExperiment.exposure()}syncPaymentButtons(){this.syncButtonsAvailability(),this.tryStartLessPaymentOptionsExperiment(),this.syncPreSelectedPaymentOption()}initializePaymentOptions(){return(0,y.mG)(this,void 0,void 0,(function*(){yield this.paymentService.ensurePaymentMethodsInitialized(),this.syncPaymentButtons()}))}}class bw extends QP{constructor(e){super(e),this.paymentService=e.paymentService,this.donationDataPoint=e.donationDataPoint,this.paypalDataPoint=e.paypalDataPoint}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.paypalDataPoint.isCurrencyConversionApplied=!1;const e=this.checkoutService.checkoutConfiguration.campaign.config,{amount:t,total:n}=this.paypalDataPoint.calculateNewPaypalAmounts(this.donationDataPoint.amount||0,this.donationDataPoint.currency,e.defaultCurrency);this.produceViewState((i=>{i.defaultCurrency=e.defaultCurrency,i.currency=e.defaultCurrency,i.amount=t,i.total=n,i.from.currency=this.donationDataPoint.currency,i.from.amount=this.donationDataPoint.amount||0,i.from.total=this.donationDataPoint.total}))}))}initiatePaypal(e){let{element:t,buttonColor:n,onClick:i,onHide:a}=e;return this.donationDataPoint.currency=this.viewState.currency,this.donationDataPoint.amount=this.viewState.amount,this.paymentService.initiatePaypal({element:t,buttonColor:n,holdDone:()=>{null==a||a(),this.paypalDataPoint.isCurrencyConversionApplied=!0,this.leave()},onFail:e=>{null==a||a(),this.showError(e.message||this.intl.translate("common.errorOccurredText"))},onCancel:a,onButtonClick:i})}beforeLeave(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.paypalDataPoint.isCurrencyConversionApplied;return e||(this.donationDataPoint.currency=this.viewState.from.currency,this.donationDataPoint.amount=this.viewState.from.amount),this.closePaypalButton(),this.checkoutService.collectDataPoint([this.donationDataPoint]),!e||!this.isPaymentScreen||this.pay()}))}closePaypalButton(){return this.paymentService.closePaypalButton()}getInitialViewState(){return{locked:!1,currency:"",defaultCurrency:"",amount:0,total:0,from:{currency:"",amount:0,total:0},showPaymentLoader:!1}}get isPaymentScreen(){return this.name===this.checkoutService.getPaymentScreen(this.name)}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){this.setPaymentLoader();const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return dn.isFailure(e)?(this.removePaymentLoader(),!!e.failureResult.shouldLeave||(this.showError(this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")),!1)):(yield rs(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),!0)}))}showError(e){this.produceViewState((t=>{t.errorMessage=e})),H()((()=>{this.produceViewState((e=>{e.errorMessage=void 0}))}),bt)}setPaymentLoader(){this.produceViewState((e=>{e.showPaymentLoader=!0}))}removePaymentLoader(){this.produceViewState((e=>{e.showPaymentLoader=!1}))}}class Ew extends QP{constructor(e){super(e),this.donationDataPoint=e.donationDataPoint,this.postDonationUpsellDataPoint=e.postDonationUpsellDataPoint}get periodLabel(){return this.recurringTypes[this.viewState.period]}get titleLabel(){return this.intl.translate("postDonationUpsellScreen.titleNew",{amount:this.intl.formatCurrency(this.viewState.total,{currency:this.viewState.currency,display:"fulltrimzeroes"})})}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.total=this.donationDataPoint.total,e.currency=this.donationDataPoint.currency,e.recurringMinAmount=this.postDonationUpsellDataPoint.recurringMinAmount,e.amount=this.postDonationUpsellDataPoint.guaranteedAmount,e.amountInUSD=this.postDonationUpsellDataPoint.guaranteedAmountInUSD,e.startDate=this.postDonationUpsellDataPoint.startDate}))}))}makeAmountInputVisible(){this.produceViewState((e=>{e.showAmountInput=!0}))}changeAmount(e){this.postDonationUpsellDataPoint.amount=e,this.produceViewState((e=>{e.amount=this.postDonationUpsellDataPoint.amount,e.amountInUSD=this.postDonationUpsellDataPoint.amountInUSD})),this.validateAmount()}setShowedInSession(){return(0,y.mG)(this,void 0,void 0,(function*(){this.checkoutService.checkoutConfiguration.infrastructureParams.showcase||(this.postDonationUpsellDataPoint.setShowed(),yield this.checkoutService.updateSession(),yield this.checkoutService.tryCloseSession())}))}validateAmount(){const e=this.postDonationUpsellDataPoint.validateMinAmount(),t=this.postDonationUpsellDataPoint.validateMaxAmount();this.produceViewState((n=>{n.isAmountValid=e&&t,n.errors.min=!e,n.errors.max=!t}))}isAmountValid(){return(0,y.mG)(this,void 0,void 0,(function*(){return!!this.viewState.isAmountValid||(this.produceViewState((e=>{e.shakeKey+=1})),!1)}))}accept(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.checkoutService.checkoutConfiguration.infrastructureParams.showcase?this.leave():!this.pending&&(yield this.isAmountValid())?(yield this.checkoutService.acceptPostDonationUpsell())?(this.postDonationUpsellDataPoint.accept(),this.pending=!1,this.leave()):void this.produceViewState((e=>{e.confirmError=!0})):void 0}))}getInitialViewState(){return{locked:!1,total:0,currency:"USD",amount:0,amountInUSD:0,period:Oe.MONTHLY,showAmountInput:!1,confirmError:!1,recurringMinAmount:0,startDate:(new Date).toString(),isAmountValid:!0,errors:{min:!1,max:!1},shakeKey:0,isShowcase:!1,flowType:this.checkoutService.type}}get recurringTypes(){return{[Oe.DAILY]:this.intl.translate("widgetSubscriptionPeriodLabel.daily.adverb"),[Oe.WEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.adverb"),[Oe.BIWEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.adverb"),[Oe.EVERY_4_WEEKS]:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.adverb"),[Oe.MONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.adverb"),[Oe.BIMONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.adverb"),[Oe.QUARTERLY]:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.adverb"),[Oe.SEMIANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.adverb"),[Oe.ANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.annual.adverb")}}}class Aw extends QP{constructor(e){super(e),this.ukBacsDataPoint=e.ukBacsDataPoint}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.accountHolderName=this.ukBacsDataPoint.accountHolderName,e.accountNumber=this.ukBacsDataPoint.accountNumber,e.sortCode=this.ukBacsDataPoint.sortCode,e.termsChecked=this.ukBacsDataPoint.termsAccepted,this.checkoutService.getState().paymentErrors[h.GZ.UK_BACS]&&(e.shakeKey+=1)})),this.checkoutService.getState().paymentErrors[h.GZ.UK_BACS]&&this.setProcessingState("error"),this.checkoutService.setPaymentError(h.GZ.UK_BACS,!1)}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){this.pending=!0;const e=this.ukBacsDataPoint.validate();return e.isValid?(this.setProcessingState("pending"),this.isPaymentScreen?this.pay():this.hold()):(this.produceViewState((t=>{t.errors.sortCode=!e.fields.sortCode.isValid,t.errors.accountNumber=!e.fields.accountNumber.isValid,t.errors.accountHolderName=!e.fields.accountHolderName.isValid,t.errors.termsChecked=!e.fields.termsAccepted.isValid,t.shakeKey+=1})),this.pending=!1,!1)}))}changeSortCode(e){e.length>6||(this.ukBacsDataPoint.sortCode=e,this.produceViewState((e=>{e.errors.sortCode=!1,e.sortCode=this.ukBacsDataPoint.sortCode})))}changeAccountNumber(e){e.length>17||(this.ukBacsDataPoint.accountNumber=e,this.produceViewState((e=>{e.errors.accountNumber=!1,e.accountNumber=this.ukBacsDataPoint.accountNumber})))}changeAccountHolderName(e){this.ukBacsDataPoint.accountHolderName=e,this.produceViewState((e=>{e.errors.accountHolderName=!1,e.accountHolderName=this.ukBacsDataPoint.accountHolderName}))}toggleTermsChecked(){this.ukBacsDataPoint.termsAccepted=!this.ukBacsDataPoint.termsAccepted,this.produceViewState((e=>{e.errors.termsChecked=!1,e.termsChecked=this.ukBacsDataPoint.termsAccepted}))}fillDemoData(e){const t=Aw.demoData.sortCode.split(""),n=Aw.demoData.accountNumber.split(""),i=Aw.demoData.accountHolderName.split(""),a=Ch()((()=>{var r,s,o;if(t.length)null===(r=e.sortCode.current)||void 0===r||r.focus(),this.changeSortCode(this.viewState.sortCode+t.shift());else if(n.length)null===(s=e.accountNumber.current)||void 0===s||s.focus(),this.changeAccountNumber(this.viewState.accountNumber+n.shift());else{if(!i.length)return clearInterval(a);null===(o=e.accountHolderName.current)||void 0===o||o.focus(),this.changeAccountHolderName(this.viewState.accountHolderName+i.shift())}}),50);return()=>clearInterval(a)}getInitialViewState(){return{locked:!1,accountNumber:"",sortCode:"",shakeKey:0,accountHolderName:"",termsChecked:!0,errors:{},processingState:"idle",livemode:this.checkoutService.checkoutConfiguration.infrastructureParams.livemode,companyName:this.checkoutService.checkoutConfiguration.company.name}}get isPaymentScreen(){var e,t;return this.checkoutService.isReadyToRetryPay&&(null===(t=null===(e=this.checkoutService.getState())||void 0===e?void 0:e.paymentOptions)||void 0===t?void 0:t.clientPaymentMethod)===h.GZ.UK_BACS}setProcessingState(e){this.produceViewState((t=>{t.payErrorMessage=this.checkoutService.payErrorMessage,t.processingState=e}))}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){this.pending=!0;const e=yield this.checkoutService.hold();if(dn.isFailure(e))return this.handlePayFailure(e);const t=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return dn.isFailure(t)?this.handlePayFailure(t):(this.setProcessingState("success"),yield rs(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),this.pending=!1,!0)}))}handlePayFailure(e){return(0,y.mG)(this,void 0,void 0,(function*(){return e.failureResult.shouldLeave?(this.pending=!1,!0):(yield this.showError(),this.pending=!1,!1)}))}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.withPending((()=>this.checkoutService.hold()));return!dn.isFailure(e)||(yield this.showError(),!1)}))}showError(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="error",e.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")})),this.produceViewState((e=>{e.payErrorMessage=""}),!0)}))}}Aw.demoData={sortCode:"108800",accountNumber:"00012345",accountHolderName:"Michael Smith"};class Nw extends QP{constructor(e){super(e),this.donationDataPoint=e.donationDataPoint,this.donorEmailDataPoint=e.donorEmailDataPoint,this.ukBacsDataPoint=e.ukBacsDataPoint}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{var t;e.ukBacs.accountHolderName=this.ukBacsDataPoint.accountHolderName,e.ukBacs.accountNumber=this.ukBacsDataPoint.accountNumber,e.ukBacs.sortCode=this.ukBacsDataPoint.sortCode,e.email=this.donorEmailDataPoint.email,e.company.stripe.ukBacsDisplayName=this.checkoutService.checkoutConfiguration.company.stripe.ukBacsDisplayName,e.formattedAmount=this.intl.formatCurrency(null!==(t=this.donationDataPoint.total)&&void 0!==t?t:0,{currency:this.donationDataPoint.currency,display:"floatcents"}),e.frequency=this.donationDataPoint.frequency}))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;this.pending=!0,this.setProcessingState("pending");const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return dn.isSuccess(e)?(this.pending=!1,this.setProcessingState("success"),yield rs(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),!0):e.failureResult.shouldLeave?(this.pending=!1,!0):(this.pending=!1,yield this.showError(),!1)}))}getInitialViewState(){return{locked:!1,ukBacs:{sortCode:"",accountHolderName:"",accountNumber:""},email:"",company:{stripe:{ukBacsDisplayName:"Stripe"}},processingState:"idle",formattedAmount:"",frequency:Oe.MONTHLY}}showError(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="error",e.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")})),this.produceViewState((e=>{e.payErrorMessage=""}),!0)}))}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}}class Pw extends gi{tryStart(e){this.isActive||this.canBeStarted(e)&&super.start()}isEnabled(e){return this.canBeStarted(e)&&this.isTestGroup}get isTestGroup(){return this.isActive&&this.isVariant(Ni.TEST)}canBeStarted(e){var t;return!!Z()(t=Pw.INCLUDED_LOCALES).call(t,e.locale)&&!e.isTributeFilled}}Pw.INCLUDED_LOCALES=[z.c0.EN_US,z.c0.EN_GB,z.c0.EN_CA];class xw extends QP{constructor(e,t,n,i){super(i),this.preDonationUpsellDataPoint=e,this.tributeDataPoint=t,this.upsellAggregate=n,this.experiments.register(yi.X.UPSELL_SCREEN_V_3_EXPERIMENT,Pw)}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.startExperiments();const e=this.upsellAggregate.getBeforeEnterViewState();this.produceViewState((t=>{t.currency=e.currency,t.targetFrequency=e.targetFrequency,t.upsell.fromAmount=e.upsell.fromAmount,t.lowMonthlyAmount=e.lowMonthlyAmount,t.highMonthlyAmount=e.highMonthlyAmount,t.isAnnualTribute=e.isAnnualTribute,t.highButtonText=e.highButtonText,t.lowButtonText=e.lowButtonText,t.screenTitle=e.screenTitle,t.questionText=e.questionText,t.questionShortText=e.questionShortText,t.descriptionText=e.descriptionText,t.experiments.upsellScreenV3=this.isUpsellScreenV3ExperimentEnabled()}))}))}setShowed(){this.upsellAggregate.setShowed()}confirm(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.upsellAggregate.selectUpsell(e,{lowMonthlyAmount:this.viewState.lowMonthlyAmount,highMonthlyAmount:this.viewState.highMonthlyAmount}),this.checkoutService.collectDataPoint([this.preDonationUpsellDataPoint]),this.checkoutService.syncUpdateCheckoutState(),this.leave({omitBeforeLeave:!0})}))}getInitialViewState(){return{locked:!1,upsell:{fromAmount:0},currency:"USD",highButtonText:"",lowButtonText:"",highMonthlyAmount:0,lowMonthlyAmount:0,screenTitle:"",questionText:"",questionShortText:"",descriptionText:"",targetFrequency:Oe.MONTHLY,isAnnualTribute:!1,experiments:{upsellScreenV3:!1}}}get upsellScreenV3Experiment(){return this.experiments.get(yi.X.UPSELL_SCREEN_V_3_EXPERIMENT)}startExperiments(){this.tryStartUpsellScreenV3Experiment()}tryStartUpsellScreenV3Experiment(){this.upsellScreenV3Experiment.tryStart({locale:this.intl.locale,isTributeFilled:this.tributeDataPoint.isFilled})}isUpsellScreenV3ExperimentEnabled(){return this.upsellScreenV3Experiment.isEnabled({locale:this.intl.locale,isTributeFilled:this.tributeDataPoint.isFilled})}}class kw extends QP{constructor(e,t){super(t),this.usBankAccountDataPoint=e}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.routingNumber=this.usBankAccountDataPoint.routingNumber,e.accountNumber=this.usBankAccountDataPoint.accountNumber,e.accountHolderName=this.usBankAccountDataPoint.accountHolderName})),this.hasPaymentError&&this.showError(),this.checkoutService.setPaymentError(h.GZ.US_BANK_ACCOUNT,!1)}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;this.pending=!0,this.setProcessingState("pending");const e=this.usBankAccountDataPoint.validate();if(!e.isValid)return this.produceViewState((t=>{t.errors.routingNumber=!e.fields.routingNumber.isValid,t.errors.accountNumber=!e.fields.accountNumber.isValid,t.errors.accountHolderName=!e.fields.accountHolderName.isValid,t.shakeKey+=1,t.processingState="idle"})),this.pending=!1,!1;const t=yield this.checkoutService.hold();return dn.isSuccess(t)?(this.pending=!1,!0):(this.showError(),this.pending=!1,!1)}))}changeAccountNumber(e){e.length>17||(this.usBankAccountDataPoint.accountNumber=e,this.produceViewState((e=>{e.errors.accountNumber=!1,e.accountNumber=this.usBankAccountDataPoint.accountNumber})))}changeRoutingNumber(e){e.length>9||(this.usBankAccountDataPoint.routingNumber=e,this.produceViewState((e=>{e.errors.routingNumber=!1,e.routingNumber=this.usBankAccountDataPoint.routingNumber})))}changeAccountHolderName(e){this.usBankAccountDataPoint.accountHolderName=e,this.produceViewState((e=>{e.errors.accountHolderName=!1,e.accountHolderName=this.usBankAccountDataPoint.accountHolderName}))}changeAccountType(e){this.usBankAccountDataPoint.accountType=e,this.produceViewState((e=>{e.accountType=this.usBankAccountDataPoint.accountType}))}fillDemoData(e){const t=kw.demoData.routingNumber.split(""),n=kw.demoData.accountNumber.split(""),i=kw.demoData.accountHolderName.split(""),a=Ch()((()=>{var r,s,o;if(t.length)null===(r=e.routingNumber.current)||void 0===r||r.focus(),this.changeRoutingNumber(this.viewState.routingNumber+t.shift());else if(n.length)null===(s=e.accountNumber.current)||void 0===s||s.focus(),this.changeAccountNumber(this.viewState.accountNumber+n.shift());else{if(!i.length)return clearInterval(a);null===(o=e.accountHolderName.current)||void 0===o||o.focus(),this.changeAccountHolderName(this.viewState.accountHolderName+i.shift())}}),50);return()=>clearInterval(a)}getInitialViewState(){return{locked:!1,routingNumber:"",accountNumber:"",accountHolderName:"",accountType:"individual",shakeKey:0,processingState:"idle",errors:{},livemode:this.checkoutService.checkoutConfiguration.infrastructureParams.livemode}}get hasPaymentError(){return this.checkoutService.getState().paymentErrors[h.GZ.US_BANK_ACCOUNT]}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}showError(){this.produceViewState((e=>{e.shakeKey+=1,e.processingState="error",e.errorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")}))}}kw.demoData={routingNumber:"110000000",accountNumber:"000123456789",accountHolderName:"Michael Smith"};class ww extends QP{constructor(e,t,n,i){super(i),this.usBankAccountDataPoint=e,this.donorNameDataPoint=t,this.donationDataPoint=n}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.usBankAccount.accountHolderName=this.usBankAccountDataPoint.accountHolderName||this.donorNameDataPoint.fullName,e.usBankAccount.accountNumberLast4=this.usBankAccountDataPoint.accountNumberLast4,e.usBankAccount.routingNumber=this.usBankAccountDataPoint.routingNumber,e.usBankAccount.financialInstitution=this.usBankAccountDataPoint.financialInstitution,e.isRecurring=this.donationDataPoint.isRecurring}))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;this.pending=!0,this.setProcessingState("pending");const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return dn.isSuccess(e)?(this.pending=!1,this.setProcessingState("success"),yield rs(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),!0):(this.pending=!1,!!e.failureResult.shouldLeave||(yield this.showError(),!1))}))}getInitialViewState(){return{locked:!1,usBankAccount:{accountHolderName:"",accountNumberLast4:"",routingNumber:"",financialInstitution:"",agreementDate:this.intl.formatDate(new Date,{type:z.nx.LONG_WITH_YEAR})},companyName:this.checkoutService.company.name,processingState:"idle",isRecurring:!1}}showError(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="error",e.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")})),this.produceViewState((e=>{e.payErrorMessage=""}),!0)}))}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}}class Dw extends QP{constructor(e,t,n){super(n),this.paymentOptionsDataPoint=e,this.paymentService=t}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.hasPaymentError&&this.showError(),this.checkoutService.setPaymentError(h.GZ.US_BANK_ACCOUNT,!1)}))}authorizeToBank(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.pending)return;this.pending=!0,this.setProcessingState("pending"),this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.US_BANK_ACCOUNT),this.paymentOptionsDataPoint.setPaymentOption(Ey.US_BANK_ACCOUNT_INSTANT),yield this.paymentService.initiateUSBankAccount({onPopupOpen:null==e?void 0:e.onModalShow,onPopupClose:null==e?void 0:e.onModalHide,verificationType:"instant"});const t=yield this.paymentService.startUSBankAccount();if(dn.isSuccess(t))return this.setProcessingState("idle"),this.pending=!1,this.leave();const n=t.failureResult.message;n?this.showError(n):this.setProcessingState("idle"),this.pending=!1}))}fillDetailsManually(){return(0,y.mG)(this,void 0,void 0,(function*(){if(!this.pending)return this.pending=!0,this.setProcessingState("pending"),this.paymentOptionsDataPoint.setPaymentMethod(h.GZ.US_BANK_ACCOUNT),this.paymentOptionsDataPoint.setPaymentOption(Ey.US_BANK_ACCOUNT_VERIFICATION),yield this.paymentService.initiateUSBankAccount({}),this.pending=!1,this.setProcessingState("idle"),this.leave({omitBeforeLeave:!0})}))}getInitialViewState(){return{test:1,processingState:"idle",loginToBankError:"",locked:!1}}get hasPaymentError(){return this.checkoutService.getState().paymentErrors[h.GZ.US_BANK_ACCOUNT]}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}showError(e){this.produceViewState((t=>{t.processingState="error",t.loginToBankError=e||this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")}))}}class Tw extends QP{constructor(e,t){super(t),this.usBankAccountDataPoint=e}get amountExample(){return`+${this.intl.formatCurrency(0,{currency:"USD"}).replace("00","xx")}`}get descriptorCodeExample(){return{prefix:"SM",amount:`+${this.intl.formatCurrency(1,{currency:"USD"})}`}}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.statementDescriptor=this.statementDescriptor,e.verificationType=this.verificationType}))}))}getInitialViewState(){return{locked:!1,statementDescriptor:"",verificationType:"amounts"}}get verificationType(){const e=this.usBankAccountDataPoint.verificationType;if(!e)throw new Error("Verification type is not defined");return e}get statementDescriptor(){switch(this.usBankAccountDataPoint.verificationType){case"descriptor_code":return this.checkoutService.company.stripe.statementDescriptor||this.checkoutService.company.name;case"amounts":return"ACCTVERIFY";default:return""}}}const Ow={[$n.US_BANK_ACCOUNT]:class extends kw{},[$n.US_BANK_ACCOUNT_DONATE_OPTIONS]:class extends Dw{},[$n.US_BANK_ACCOUNT_CONFIRMATION]:class extends ww{},[$n.US_BANK_ACCOUNT_VERIFICATION_GUIDE]:class extends Tw{},[$n.AU_BECS]:class extends sw{},[$n.CLICK_TO_PAY_SPLASH]:class extends ow{},[$n.CREDIT_CARD]:class extends cw{},[$n.DONATE]:class extends dw{},[$n.DOUBLE]:class extends hw{},[$n.GIFT_AID]:class extends pw{},[$n.PAYMENT_OPTIONS]:class extends Cw{},[$n.PAYPAL_CONVERSION]:class extends bw{},[$n.POST_DONATION_UPSELL]:class extends Ew{},[$n.SEPA]:class extends mw{},[$n.IDEAL]:class extends gw{},[$n.IDEAL_CONFIRMATION]:class extends yw{},[$n.UK_BACS]:class extends Aw{},[$n.UK_BACS_CONFIRMATION]:class extends Nw{},[$n.UPSELL]:class extends xw{},[un.QUESTIONS]:class extends ox{},[un.COMMENT]:class extends JP{},[un.MAILING_ADDRESS]:class extends rx{},[un.PRIVACY]:class extends sx{},[un.THANK_YOU]:class extends lx{},[un.REMIND_ME]:cx};class _w{static isDonateScreenController(e,t){return t===$n.DONATE}static isPaymentOptionScreenController(e,t){return t===$n.PAYMENT_OPTIONS}static isCreditCardScreenController(e,t){return t===$n.CREDIT_CARD}static isDoubleDonationScreenController(e,t){return t===$n.DOUBLE}static isGiftAidScreenController(e,t){return t===$n.GIFT_AID}static isUSBankAccountScreenController(e,t){return t===$n.US_BANK_ACCOUNT}static isUSBankAccountDonateOptionsScreenController(e,t){return t===$n.US_BANK_ACCOUNT_DONATE_OPTIONS}static isUSBankAccountConfirmationScreenController(e,t){return t===$n.US_BANK_ACCOUNT_CONFIRMATION}static isUSBankAccountVerificationGuideScreenController(e,t){return t===$n.US_BANK_ACCOUNT_VERIFICATION_GUIDE}static isIDEALScreenController(e,t){return t===$n.IDEAL}static isIDEALConfirmationScreenController(e,t){return t===$n.IDEAL_CONFIRMATION}static isPaypalConversionScreenController(e,t){return t===$n.PAYPAL_CONVERSION}static isSepaConversionScreenController(e,t){return t===$n.SEPA}static isPostDonationUpsellScreenController(e,t){return t===$n.POST_DONATION_UPSELL}static isUKBacsScreenController(e,t){return t===$n.UK_BACS}static isUKBacsConfirmationScreenController(e,t){return t===$n.UK_BACS_CONFIRMATION}static isUpsellScreenController(e,t){return t===$n.UPSELL}static isClickToPaySplashScreenController(e,t){return t===$n.CLICK_TO_PAY_SPLASH}static isAUBecsScreenController(e,t){return t===$n.AU_BECS}static isThankYouScreenController(e,t){return t===un.THANK_YOU}static isMailingAddressScreenController(e,t){return t===un.MAILING_ADDRESS}constructor(e,t,n,i,a,r,s,o,c){this.checkoutService=e,this.paymentService=t,this.intl=n,this.debug=i,this.subscriptionPeriodLabelsService=a,this.mailingAddressCustomization=r,this.currencyService=s,this.suggestionsService=o,this.experiments=c}create(e,t){const n=Ow[e],i={name:e,flow:t,checkoutService:this.checkoutService,debug:this.debug,intl:this.intl,subscriptionPeriodLabelsService:this.subscriptionPeriodLabelsService,currencyService:this.currencyService,experiments:this.experiments};return _w.isDonateScreenController(n,e)?new n(k()(k()({},i),{donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),tributeDataPoint:this.checkoutService.getDataPoint("Tribute"),commentDataPoint:this.checkoutService.getDataPoint("Comment"),designationDataPoint:this.checkoutService.getDataPoint("Designation"),preDonationUpsellDataPoint:this.checkoutService.getDataPoint("PreDonationUpsell")}),this.upsellAggregate):_w.isPaymentOptionScreenController(n,e)?new n(k()(k()({},i),{paymentService:this.paymentService,donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),paymentOptionsDataPoint:this.checkoutService.getDataPoint("PaymentOptions"),mailingAddressDataPoint:this.checkoutService.getDataPoint("MailingAddress")})):_w.isCreditCardScreenController(n,e)||_w.isAUBecsScreenController(n,e)||_w.isSepaConversionScreenController(n,e)?new n(k()(k()({},i),{paymentService:this.paymentService,donationDataPoint:this.checkoutService.getDataPoint("FiatDonation")})):_w.isDoubleDonationScreenController(n,e)?new n(k()(k()({},i),{donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),dtdDataPoint:this.checkoutService.getDataPoint("DTD")})):_w.isGiftAidScreenController(n,e)?new n(k()(k()({},i),{donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),giftAidDataPoint:this.checkoutService.getDataPoint("GiftAid")})):_w.isUSBankAccountScreenController(n,e)?new n(this.checkoutService.getDataPoint("USBankAccount"),i):_w.isUSBankAccountDonateOptionsScreenController(n,e)?new n(this.checkoutService.getDataPoint("PaymentOptions"),this.paymentService,i):_w.isUSBankAccountConfirmationScreenController(n,e)?new n(this.checkoutService.getDataPoint("USBankAccount"),this.checkoutService.getDataPoint("DonorName"),this.checkoutService.getDataPoint("FiatDonation"),i):_w.isUSBankAccountVerificationGuideScreenController(n,e)?new n(this.checkoutService.getDataPoint("USBankAccount"),i):_w.isIDEALScreenController(n,e)?new n(k()(k()({},i),{paymentService:this.paymentService,idealDataPoint:this.checkoutService.getDataPoint("IDEAL")})):_w.isIDEALConfirmationScreenController(n,e)?new n(k()(k()({},i),{paymentService:this.paymentService,donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),donorNameDataPoint:this.checkoutService.getDataPoint("DonorName"),donorEmailDataPoint:this.checkoutService.getDataPoint("DonorEmail"),idealDataPoint:this.checkoutService.getDataPoint("IDEAL")})):_w.isPaypalConversionScreenController(n,e)?new n(k()(k()({},i),{paymentService:this.paymentService,donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),paypalDataPoint:this.checkoutService.getDataPoint("PaypalConversion")})):_w.isPostDonationUpsellScreenController(n,e)?new n(k()(k()({},i),{donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),postDonationUpsellDataPoint:this.checkoutService.getDataPoint("PostDonationUpsell")})):_w.isUKBacsScreenController(n,e)?new n(k()(k()({},i),{ukBacsDataPoint:this.checkoutService.getDataPoint("UKBacs")})):_w.isUKBacsConfirmationScreenController(n,e)?new n(k()(k()({},i),{donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),donorEmailDataPoint:this.checkoutService.getDataPoint("DonorEmail"),ukBacsDataPoint:this.checkoutService.getDataPoint("UKBacs")})):_w.isUpsellScreenController(n,e)?new n(this.checkoutService.getDataPoint("PreDonationUpsell"),this.checkoutService.getDataPoint("Tribute"),this.upsellAggregate,i):_w.isClickToPaySplashScreenController(n,e)?new n(k()(k()({},i),{paymentService:this.paymentService})):_w.isThankYouScreenController(n,e)?new n(this.checkoutService.getDataPoint("FiatDonation"),this.checkoutService.getDataPoint("Tribute"),this.checkoutService.getDataPoint("PostDonationUpsell"),this.redirectApi,this.sharingApi,i):_w.isMailingAddressScreenController(n,e)?new n(this.checkoutService.getDataPoint("OnBehalfOf"),this.countriesService,this.mailingAddressCustomization,i):new n(i)}get redirectApi(){return this.checkoutService.redirectApi}get sharingApi(){return this._sharingApi||(this._sharingApi=WP({checkoutType:this.checkoutService.checkoutConfiguration.checkoutType,isShowcase:this.checkoutService.checkoutConfiguration.infrastructureParams.showcase,campaignConfig:this.checkoutService.campaignConfig})),this._sharingApi}get countriesService(){return this._countriesService||(this._countriesService=(0,CN.p)({intl:this.intl,excludePalestineFromCountriesList:this.checkoutService.checkoutConfiguration.featureConfig.excludePalestineFromCountriesList})),this._countriesService}get upsellAggregate(){return this._upsellAggregate||(this._upsellAggregate=new rw(this.checkoutService,this.intl,this.checkoutService.getDataPoint("PreDonationUpsell"),this.checkoutService.getDataPoint("Tribute"),this.checkoutService.getDataPoint("Designation"))),this._upsellAggregate}}const Iw={mandatory:e=>{const t=e(),n=t.paymentOptions,i=t.paymentErrors[h.GZ.CARD]&&n.preSelectedPaymentOption===Ey.CARD,a=t.paymentErrors[h.GZ.PAYPAL]&&n.clientPaymentMethod===h.GZ.PAYPAL,r=t.paymentErrors[h.GZ.US_BANK_ACCOUNT]&&n.selectedPaymentOption===Ey.US_BANK_ACCOUNT_INSTANT&&!n.usBankAccountVerificationSetup.isInstantAndAbav;return a||r||i},next:e=>{const t=e(),n=t.paymentOptions.clientPaymentMethod,i=t.paymentOptions.selectedPaymentOption;if(!n&&!i)throw new Error("clientPaymentMethod and selectedPaymentOption can not be null at the same time");return n?function(e){const t=e.paymentOptions.clientPaymentMethod,n=e.paymentOptions.selectedPaymentOption;switch(t){case h.GZ.CARD:return $n.CREDIT_CARD;case h.GZ.PAYPAL:return un.PRIVACY;case h.GZ.CLICK_TO_PAY:return $n.CLICK_TO_PAY_SPLASH;case h.GZ.US_BANK_ACCOUNT:return n===Ey.US_BANK_ACCOUNT?$n.US_BANK_ACCOUNT_DONATE_OPTIONS:n===Ey.US_BANK_ACCOUNT_INSTANT?e.paymentErrors[h.GZ.US_BANK_ACCOUNT]?$n.US_BANK_ACCOUNT_DONATE_OPTIONS:un.PRIVACY:$n.US_BANK_ACCOUNT;case h.GZ.UK_BACS:return $n.UK_BACS;case h.GZ.AU_BECS:return $n.AU_BECS;case h.GZ.SEPA:return $n.SEPA;case h.GZ.IDEAL:return $n.IDEAL;case h.GZ.ACSS:case h.GZ.GOOGLE_PAY:case h.GZ.APPLE_PAY:case h.GZ.VENMO:return un.PRIVACY;default:return $n.CREDIT_CARD}}(t):function(e){const t=e.paymentOptions.selectedPaymentOption;switch(t){case Ey.PAYPAL_CONVERSION:return $n.PAYPAL_CONVERSION;case Ey.US_BANK_ACCOUNT:return $n.US_BANK_ACCOUNT_DONATE_OPTIONS;case Ey.US_BANK_ACCOUNT_INSTANT:return un.PRIVACY;case Ey.US_BANK_ACCOUNT_VERIFICATION:return $n.US_BANK_ACCOUNT;default:throw new Error(`Unhandled selectedPaymentOption "${t}"`)}}(t)}},Rw=$n.DONATE;class Lw extends Error{constructor(e,t){super(`Can not move to ${e} screen if ${t}`)}}const Mw=wr(Or);function jw(e){var t;let{checkoutConfiguration:n,intl:i,tracker:a,debug:r,currencyService:s,suggestionsService:o,targetWindow:c,globalWindow:l,sentry:u,paymentMethods:d,stripeLoadingPromise:m,applePayStripeLoadingPromise:p,subscriptionPeriodLabelsService:g,userSession:y,addressService:f,eventEmitter:v,checkoutAPIBridge:S,experiments:b,initialScreen:E,logger:A,stripe:N,requestService:P,paymentMethodAvailabilityManagerRepository:x,mailingAddressCustomization:k,mlCheckoutDefaultParamsService:w}=e;const D=b.get(yi.X.RADICAL_SCREENS_ORDER_CHANGE_EXPERIMENT),T=new aE(PE.SESSION_UPDATE_DEBOUNCE),O=new mk(a,n,u,T,P),_=new uP(O,s,o),I=new Ek(O),R=new rP(n,s,f,o,i,y,O,b,a,u,x,k,{flowType:et.MONEY,isRadicalScreensOrderChangeExperimentTestGroup:D.isTestGroup},_),L=new sP(R),M=new fk(L,n,O),j=function(e,t,n,i){const a=e.campaign.config;return new dk(a,t,e,n,i)}(n,r,L,b),F=D.isTestGroup?new Ak(j,{screenSet:{usBankAccountConfirmation:$n.US_BANK_ACCOUNT_CONFIRMATION,ukBacsConfirmation:$n.UK_BACS_CONFIRMATION,idealConfirmation:$n.IDEAL_CONFIRMATION,mailingAddress:un.MAILING_ADDRESS,card:$n.CREDIT_CARD,auBecs:$n.AU_BECS,sepa:$n.SEPA,paymentOptions:$n.PAYMENT_OPTIONS,payPalConversion:$n.PAYPAL_CONVERSION}}):new hk(n,j,{screenSet:{privacy:un.PRIVACY,usBankAccountConfirmation:$n.US_BANK_ACCOUNT_CONFIRMATION,ukBacsConfirmation:$n.UK_BACS_CONFIRMATION,idealConfirmation:$n.IDEAL_CONFIRMATION,double:$n.DOUBLE,mailingAddress:un.MAILING_ADDRESS,giftAid:$n.GIFT_AID}}),U=yP(n.campaign.config),B=new cP(O),G=new Ck(O),q=function(e,t){return new Fk(e,t,{screens:{firstScreen:Uk,unrestrictedExitScreens:Zk,remindMeLaterUnavailableScreens:Wk,mobileExitScreens:zk,alwaysRenderedScreens:Gk,screensWithoutTributeBadge:qk,mobileScreensWithoutAskTitle:$k,mobileScreensWithAskText:Vk,mobileScreensWithoutFaqLinks:Xk,mobileScreensWithoutAskPage:Qk,screensWithoutAskOverlay:Kk,canNotGoBackScreens:Bk,conditionallyShowCloseButtonScreens:Yk,alwaysShowCloseButtonScreens:Qt()(Hk).call(Hk,$n.POST_DONATION_UPSELL)}})}(U,j),V=new tk(u,i,x,{stripe:{elementStyles:N.elementStyles,elementClasses:N.elementClasses}}),K=new Sk(n,j,V,L,O,M,s,i,d,c,m,p,{stripe:{elementsOptions:N.elementsOptions}}),H=new dP(l,n,s,L.getDataPoint("FiatDonation"),L.getDataPoint("PostDonationUpsell"),L.getDataPoint("DonorName"),L.getDataPoint("DonorEmail"),L.getDataPoint("Designation")),Y=new uk(L,n,j,M,O,K,q,a,s,i,c,u,V,F,v,S,r,b,B,G,A,H,_,w,I,{screenSet:{thankYou:un.THANK_YOU}}),Z=new _w(Y,K,i,r,g,k,s,o,b),z=E&&Mw(E)?E:void 0;var W;return{checkoutService:Y,formFlow:tE(Z,D.isTestGroup?Mk(z):(W=z,{defaultInitial:()=>Rw,initial:()=>W||Rw,screens:{[$n.DONATE]:{next:e=>e().comment.isRequired?un.COMMENT:$n.UPSELL},[un.COMMENT]:{guard:e=>{const t=e();if(!t.comment.isEnabled)throw new Lw(un.COMMENT,`"comment.isEnabled" is ${t.comment.isEnabled}`);return!1},next:()=>$n.DONATE},[$n.UPSELL]:{guard:e=>{const t=e();return!!t.preDonationUpsell.upsellCurtainUsed||!t.preDonationUpsell.isEnabled},next:()=>$n.PAYMENT_OPTIONS},[$n.PAYMENT_OPTIONS]:Iw,[$n.CREDIT_CARD]:{mandatory:e=>{const t=e();return t.paymentOptions.preSelectedPaymentOption!==Ey.CARD&&t.isReadyToRetryPay&&t.paymentErrors[h.GZ.CARD]},guard:e=>{const t=e();if(t.paymentOptions.preSelectedPaymentOption===Ey.CARD)return!0;if(t.paymentOptions.clientPaymentMethod!==h.GZ.CARD)throw new Lw($n.CREDIT_CARD,`"clientPaymentMethod" is not "${h.GZ.CARD}"`);return!1},next:()=>un.PRIVACY},[$n.PAYPAL_CONVERSION]:{guard:e=>{if(e().paymentOptions.selectedPaymentOption!==Ey.PAYPAL_CONVERSION)throw new Lw($n.PAYPAL_CONVERSION,`"selectedPaymentOption" is not "${Ey.PAYPAL_CONVERSION}"`);return!1},next:e=>e().isPaypalCurrencyConversionApplied?un.PRIVACY:$n.PAYMENT_OPTIONS},[$n.CLICK_TO_PAY_SPLASH]:{guard:e=>{if(e().paymentOptions.clientPaymentMethod!==h.GZ.CLICK_TO_PAY)throw new Lw($n.CLICK_TO_PAY_SPLASH,`"clientPaymentMethod" is not "${h.GZ.CLICK_TO_PAY}"`);return!1},next:()=>un.PRIVACY},[$n.US_BANK_ACCOUNT]:{mandatory:e=>{const t=e(),n=t.paymentOptions;return t.paymentErrors[h.GZ.US_BANK_ACCOUNT]&&n.selectedPaymentOption===Ey.US_BANK_ACCOUNT_VERIFICATION},guard:e=>{if(e().paymentOptions.clientPaymentMethod!==h.GZ.US_BANK_ACCOUNT)throw new Lw($n.US_BANK_ACCOUNT,`"clientPaymentMethod" is not "${h.GZ.US_BANK_ACCOUNT}"`);return!1},next:e=>un.PRIVACY},[$n.US_BANK_ACCOUNT_DONATE_OPTIONS]:{mandatory:e=>{const t=e(),n=t.paymentOptions;return t.paymentErrors[h.GZ.US_BANK_ACCOUNT]&&n.selectedPaymentOption===Ey.US_BANK_ACCOUNT_INSTANT&&n.usBankAccountVerificationSetup.isInstantAndAbav},guard:e=>{if(e().paymentOptions.clientPaymentMethod!==h.GZ.US_BANK_ACCOUNT)throw new Lw($n.US_BANK_ACCOUNT_DONATE_OPTIONS,`"clientPaymentMethod" is not "${h.GZ.US_BANK_ACCOUNT}"`);return!1},next:e=>e().paymentOptions.selectedPaymentOption===Ey.US_BANK_ACCOUNT_VERIFICATION?$n.US_BANK_ACCOUNT:un.PRIVACY},[$n.US_BANK_ACCOUNT_CONFIRMATION]:{guard:e=>{const t=e();if(t.paymentOptions.clientPaymentMethod!==h.GZ.US_BANK_ACCOUNT)throw new Lw($n.US_BANK_ACCOUNT_CONFIRMATION,`"clientPaymentMethod" is not "${h.GZ.US_BANK_ACCOUNT}"`);return!!t.isPaid},next:e=>e().paymentOptions.usBankAccountVerificationSetup.isMicroDepositOnly?$n.US_BANK_ACCOUNT_VERIFICATION_GUIDE:un.QUESTIONS},[$n.US_BANK_ACCOUNT_VERIFICATION_GUIDE]:{guard:e=>{if(e().paymentOptions.clientPaymentMethod!==h.GZ.US_BANK_ACCOUNT)throw new Lw($n.US_BANK_ACCOUNT_VERIFICATION_GUIDE,`"clientPaymentMethod" is not "${h.GZ.US_BANK_ACCOUNT}"`);return!1},next:()=>un.QUESTIONS},[$n.UK_BACS]:{mandatory:e=>e().paymentErrors[h.GZ.UK_BACS],guard:e=>{if(e().paymentOptions.clientPaymentMethod!==h.GZ.UK_BACS)throw new Lw($n.UK_BACS,`"clientPaymentMethod" is not "${h.GZ.UK_BACS}"`);return!1},next:e=>{const t=e();return t.isReadyToRetryPay&&!t.hasMailingAddressError?$n.UK_BACS_CONFIRMATION:un.PRIVACY}},[$n.UK_BACS_CONFIRMATION]:{guard:e=>{const t=e();if(t.paymentOptions.clientPaymentMethod!==h.GZ.UK_BACS)throw new Lw($n.UK_BACS_CONFIRMATION,`"clientPaymentMethod" is not "${h.GZ.UK_BACS}"`);return!!t.isPaid},next:()=>un.QUESTIONS},[$n.AU_BECS]:{guard:e=>{if(e().paymentOptions.clientPaymentMethod!==h.GZ.AU_BECS)throw new Lw($n.AU_BECS,`"clientPaymentMethod" is not "${h.GZ.AU_BECS}"`);return!1},next:()=>un.PRIVACY},[$n.SEPA]:{guard:e=>{if(e().paymentOptions.clientPaymentMethod!==h.GZ.SEPA)throw new Lw($n.SEPA,`"clientPaymentMethod" is not "${h.GZ.SEPA}"`);return!1},next:()=>un.PRIVACY},[$n.IDEAL]:{guard:e=>{if(e().paymentOptions.clientPaymentMethod!==h.GZ.IDEAL)throw new Lw($n.IDEAL,`"clientPaymentMethod" is not "${h.GZ.IDEAL}"`);return!1},next:()=>un.PRIVACY},[$n.IDEAL_CONFIRMATION]:{guard:e=>{const t=e();if(t.paymentOptions.clientPaymentMethod!==h.GZ.IDEAL)throw new Lw($n.IDEAL,`"clientPaymentMethod" is not "${h.GZ.IDEAL}"`);return!!t.isPaid},next:e=>{const t=e();return t.mailingAddress.isEnabled&&!t.mailingAddress.isCollected?un.MAILING_ADDRESS:un.QUESTIONS}},[un.PRIVACY]:{guard:e=>e().isReadyToRetryPay&&e().personalInformation.isCollected,next:e=>{const t=e();return t.mailingAddress.isRequired&&!t.giftAid.isEnabled?un.MAILING_ADDRESS:$n.DOUBLE}},[$n.DOUBLE]:{guard:e=>{const t=e();return!(!t.isReadyToRetryPay||!t.doubleDonation.isCollected)||!t.doubleDonation.isEnabled},next:()=>$n.GIFT_AID},[$n.GIFT_AID]:{guard:e=>{const t=e();return!(!t.isReadyToRetryPay||!t.giftAid.isCollected)||!t.giftAid.isEnabled},next:(e,t)=>{const n=e(),i=n.paymentOptions.selectedPaymentOption;if((n.mailingAddress.isRequired||n.giftAid.isAccepted)&&!t.has(un.MAILING_ADDRESS))return un.MAILING_ADDRESS;if(t.has(un.MAILING_ADDRESS))switch(i){case Ey.UK_BACS:return $n.UK_BACS_CONFIRMATION;case Ey.IDEAL:return $n.IDEAL_CONFIRMATION;case Ey.US_BANK_ACCOUNT:case Ey.US_BANK_ACCOUNT_INSTANT:case Ey.US_BANK_ACCOUNT_VERIFICATION:return $n.US_BANK_ACCOUNT_CONFIRMATION;default:return un.QUESTIONS}return i===Ey.IDEAL?$n.IDEAL_CONFIRMATION:un.MAILING_ADDRESS}},[un.MAILING_ADDRESS]:{mandatory:e=>e().hasMailingAddressError,guard:e=>{const t=e();return!(!t.isReadyToRetryPay||!t.mailingAddress.isCollected||t.hasMailingAddressError)||!t.mailingAddress.isEnabled&&!t.giftAid.isAccepted},next:(e,t)=>{const n=e();return n.doubleDonation.isEnabled&&!t.has($n.DOUBLE)&&n.mailingAddress.isRequired&&!n.giftAid.isAccepted?$n.DOUBLE:n.paymentOptions.selectedPaymentOption===Ey.UK_BACS?$n.UK_BACS_CONFIRMATION:n.paymentOptions.clientPaymentMethod===h.GZ.US_BANK_ACCOUNT?$n.US_BANK_ACCOUNT_CONFIRMATION:(n.mailingAddress.isRequired||n.giftAid.isAccepted)&&n.paymentOptions.selectedPaymentOption===Ey.IDEAL?$n.IDEAL_CONFIRMATION:un.QUESTIONS}},[un.QUESTIONS]:{guard:e=>!e().questions.isEnabled,next:()=>$n.POST_DONATION_UPSELL},[$n.POST_DONATION_UPSELL]:{guard:e=>!e().postDonationUpsell.isEnabled,next:()=>un.THANK_YOU},[un.THANK_YOU]:{},[un.REMIND_ME]:{final:!0,guard:e=>!e().remindMeLater.show}}}),C()(t=j.get).call(t,j))}}class Fw extends uE{constructor(e,t,n,i,a,r,s,o,c,l,u,d,h,m,p,g,y,f,v,S,C,b){super(e,t,n,i,a,r,s,o,c,l,u,d,h,m,p,f,v,S,C,b),this.dataPointRegistry=e,this._checkoutConfiguration=t,this.checkoutState=n,this._checkoutUIState=i,this.sessionService=a,this.sessionAPI=r,this.tracker=s,this.currencyService=o,this.intl=c,this.iframeWindow=l,this.sentry=u,this.paymentScreen=d,this.eventEmitter=h,this.checkoutAPIBridge=m,this.debug=p,this.securitiesAPI=g,this.signatureAPI=y,this.experiments=f,this.paymentAPI=v,this.logger=S,this._redirectApi=C,this.params=b}get queryParams(){return this.checkoutConfiguration.queryParams}get type(){return this.checkoutState.flowType}initialize(e){this.enableDataPoint("BrokerageAccountNumber"),this.disableDataPoint("OnBehalfOf"),super.initialize(e)}dispose(){const e=rn()(null,{dispose:{get:()=>super.dispose}});return(0,y.mG)(this,void 0,void 0,(function*(){this.disableDataPoint("BrokerageAccountNumber"),yield e.dispose.call(this)}))}getPaymentScreen(e){return this.paymentScreen.get(e)}trackCheckoutCharge(e){const t=this.getDataPoint("StockDonation"),n=this.getDataPoint("Tribute"),i=this.getDataPoint("Comment"),a=this.getDataPoint("Designation"),r=this.checkoutConfiguration.campaign,s=this.checkoutConfiguration.element,o=this.defaultAmountOptions;this.tracker.track(new dE({frequency:t.frequency,currency:t.currency,amount:t.amount||0,amountOptions:o},{elementType:s.type,elementKey:s.key,elementReminderKey:s.reminderKey},e.screen,{chargeKey:e.donationId,chargeInUSDAmount:t.getTotalInCustomCurrency("USD")||0,chargeInDefaultCurrencyAmount:t.getTotalInCustomCurrency(this.checkoutConfiguration.campaign.config.defaultCurrency),chargeAmount:t.total,chargeCurrency:t.currency,chargeFeeCovered:!1,chargePaymentMethod:e.clientPaymentMethod,chargeIsRecurring:t.frequency!==Oe.ONCE,chargeHasComment:Boolean(i.comment),chargeHasTribute:n.isFilled,chargeGoal:a.goalKey||void 0,chargeCampaignKey:r.key},e.duration))}trackCheckoutView(){var e,t;const n=this.getDataPoint("StockDonation").toObject(),i=this.checkoutConfiguration.element,a=this.checkoutConfiguration.externalConfig,r=Boolean((null===(e=a.launcher)||void 0===e?void 0:e.elementKey)&&(null===(t=a.checkoutData)||void 0===t?void 0:t.amount)),s=this.getOpeningTime();this.debug.log("checkout opening time:eventCheckoutView",`${s} ms`),this.tracker.track(new pE({frequency:n.frequency,currency:n.currency,amount:n.amount,amountOptions:Fw.emptyAmountOptions},{elementType:i.type,elementKey:i.key,elementReminderKey:i.reminderKey},s,{isAmountFromElement:r}))}trackCheckoutClose(e){const t=this.getDataPoint("StockDonation").toObject(),n=this.checkoutConfiguration.element;this.tracker.track(new hE({frequency:t.frequency,currency:t.currency,amount:t.amount,amountOptions:Fw.emptyAmountOptions},{elementType:n.type,elementKey:n.key,elementReminderKey:n.reminderKey},e))}trackCheckoutScreenView(e,t,n,i){const a=this.getDataPoint("StockDonation").toObject(),r=this.checkoutConfiguration.element,s={renderDuration:null};t&&n&&(s.transitionDuration=n.getTime()-t.getTime()),i&&n&&(s.renderDuration=i.getTime()-n.getTime()),this.tracker.track(new mE({frequency:a.frequency,currency:a.currency,amount:a.amount,amountOptions:Fw.emptyAmountOptions},{elementType:r.type,elementKey:r.key,elementReminderKey:r.reminderKey},e,s))}getCheckoutTrackerData(){const e=this.getDataPoint("StockDonation"),t=this.getDataPoint("Tribute");return{donation:{amount:e.amount,currency:e.currency,frequency:e.frequency},tribute:{isActive:t.isActive}}}getState(){return this.checkoutState.get()}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.checkoutConfiguration.infrastructureParams.showcase)return dn.fail({});const e=this.getDataPoint("Broker");try{yield this.sessionService.updateSession();const t={broker:{name:e.broker.name}},n=yield this.paymentAPI.hold({clientPaymentMethod:IE.GZ.STOCK,token:t});return dn.isFailure(n)?n:(e.broker=n.successResult.broker,dn.success(void 0))}catch(e){return dn.fail({})}}))}submitOwnerSignature(){const e=this.getDataPoint("Signature").toObject();return this.signatureAPI.postOwnerSignature(e.transcript)}submitCoOwnerSignature(){const e=this.getDataPoint("CoOwner").toObject();return this.signatureAPI.postCoOwnerSignature(e)}submitSecurities(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.securitiesAPI.update(e)}))}pay(e){let{screen:t,predictedNextScreen:n}=e;return(0,y.mG)(this,void 0,void 0,(function*(){this.setPaymentAttempt();const e=Jn()(),i=yield this.sessionService.updateSession();if(dn.isFailure(i))return this.payErrorMessage=this.intl.translate("common.errorOccurredText"),dn.fail({});let a;try{a=yield this.paymentAPI.pay()}catch(e){return this.capturePayErrorToSentry(e),dn.fail({})}return dn.isFailure(a)?dn.fail({}):a.successResult.data.donationId?(this.setDonationResultState(a.successResult.data),this.handleDonationCompleted({donationId:a.successResult.data.donationId,duration:e-Jn()(),clientPaymentMethod:IE.GZ.STOCK,screen:t}),yield this.handlePaymentRedirect(n),dn.success(void 0)):dn.fail({})}))}saveCheckoutClosePublicParams(){return(0,y.mG)(this,void 0,void 0,(function*(){const e=yield this.getPublicCheckoutDonationParams(),t=yield this.getCommonPublicCheckoutIntentParams();this.checkoutAPIBridge.setDonationParams(e),this.checkoutAPIBridge.setIntentParams(t)}))}getDonationParams(){const e=this.getDataPoint("StockDonation").toObject();return{amount:e.amount,total:e.total,currency:e.currency,frequency:e.frequency,publicFee:0,canModifyAmount:!0}}getPublicCheckoutDonationParams(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.getCommonPublicCheckoutDonationParams({clientPaymentMethod:IE.GZ.STOCK,payResult:this.checkoutState.get().donationResultState})}))}}class Uw extends yE{constructor(){super(...arguments),this.flowType=et.STOCK}get(){var e;return{donation:this.donationState,personalInformation:this.personalInformationState,tribute:this.tributeState,comment:this.commentState,mailingAddress:this.mailingAddressState,questions:this.questionsState,broker:this.brokerState,coOwner:this.coOwnerState,remindMeLater:this.remindMeLaterState,hasPaymentAttempt:this.hasPaymentAttempt,hasMailingAddressError:this.hasMailingAddressError,donationResultState:this.donationResultState,isPaid:Boolean(null===(e=this.donationResultState)||void 0===e?void 0:e.donationId),termsAndConditions:this.termsAndConditionsState}}onSecuritiesDataPointCollected(){const e=this.dataPointRegistry.getDataPoint("StockDonation"),t=this.dataPointRegistry.getDataPoint("Securities"),n=this.dataPointRegistry.getDataPoint("MailingAddress");e.amount=t.getAmount(),n.setDonationParams({amount:e.amount,total:e.total,currency:e.currency})}onTributeDataPointCollected(){}onBehalfOfDataPointCollected(){}onDesignationDataPointCollected(){}get remindMeLaterState(){const e=this.dataPointRegistry.getDataPoint("RemindMeLater"),t=this.dataPointRegistry.getDataPoint("DonorEmail"),n=this.dataPointRegistry.getDataPoint("TermsAndConditions"),i={show:!1,isEnabled:e.isEnabled,isRequired:e.isRequired};return e.isEnabled&&(t.isEnabled&&!t.validate().isValid||n.isEnabled&&!n.isAccepted)?k()(k()({},i),{show:!0}):i}get termsAndConditionsState(){return{isEnabled:this.dataPointRegistry.getDataPoint("TermsAndConditions").isEnabled}}get donationState(){const e=this.dataPointRegistry.getDataPoint("StockDonation");return{isEnabled:e.isEnabled,isRequired:e.isRequired,amount:e.total,currency:e.currency,frequency:e.frequency,defaultAmount:0,amountOptions:[],amountInUsd:e.amount||0}}get personalInformationState(){const e=this.dataPointRegistry.getDataPoint("DonorName"),t=this.dataPointRegistry.getDataPoint("DonorEmail");return{isEnabled:e.isEnabled&&t.isEnabled,isRequired:e.isRequired&&t.isRequired,isCollected:this.collectedDataPoints.has(e)&&this.collectedDataPoints.has(t)}}get tributeState(){const e=this.dataPointRegistry.getDataPoint("Tribute");return{isEnabled:e.isEnabled,isRequired:e.isRequired,name:e.tributeeName,labelType:e.labelType,isActive:e.isActive}}get commentState(){const e=this.dataPointRegistry.getDataPoint("Comment");return{isEnabled:e.isEnabled,isRequired:e.isRequired}}get mailingAddressState(){const e=this.dataPointRegistry.getDataPoint("MailingAddress");return{isEnabled:e.isEnabled,isRequired:e.isRequired,isCollected:this.collectedDataPoints.has(e)}}get questionsState(){return{isEnabled:this.dataPointRegistry.getDataPoint("Questions").isEnabled}}get brokerState(){const e=this.dataPointRegistry.getDataPoint("Broker");return{isEnabled:e.isEnabled,isRequired:e.isRequired}}get coOwnerState(){const e=this.dataPointRegistry.getDataPoint("CoOwner");return{isEnabled:e.isEnabled,isRequired:e.isRequired}}}class Bw extends PE{}class Gw extends kE{updateSession(){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.checkoutConfiguration.infrastructureParams.showcase)return dn.success({});const e=this.getDataPoint("Tribute"),t=this.getDataPoint("Comment"),n=this.getDataPoint("Designation"),i=this.dataPointRegistry.getDataPoint("BrokerageAccountNumber").toObject(),a=this.getDataPoint("StockDonation"),r=a.toObject(),s=this.dataPointRegistry.getDataPoint("DonorName").toObject(),o=this.dataPointRegistry.getDataPoint("DonorEmail").toObject(),c=this.getDataPoint("CustomerTitle").toObject(),l=this.getDataPoint("PhoneNumber").toObject(),u=e.toObject(),d=this.getDataPoint("Questions").toObject(),h=this.dataPointRegistry.getDataPoint("TermsAndConditions").toObject(),m=this.getDataPoint("OnBehalfOf").toObject(),p=this.dataPointRegistry.getDataPoint("DonateAnonymous").toObject(),g=this.dataPointRegistry.getDataPoint("MailingListSubscription").toObject();return this.sessionAPI.update({donationType:et.STOCK,comment:t.comment,tribute:u.inHonorOf&&e.isActive?{labelType:u.labelType,type:u.type,inHonorOf:u.inHonorOf}:null,questions:d.questions,customer:{firstName:s.firstName,lastName:s.lastName,title:c.title,email:o.email,phone:l.phone,onBehalfOf:m.companyName,subscriptionChecked:g.checked,anonymousChecked:p.anonymousChecked,termsChecked:h.isAccepted},donation:{frequency:Oe.ONCE,amount:r.amount,currency:r.currency,total:r.total,publicFee:0,goalKey:n.goalKey,goalName:n.goalName,hintsVariantName:SE.NONE,hintDescription:"",_suggestedAmountHint:null},payment:{brokerageAccountNumber:i.accountNumber},checkoutDefaults:this.getCheckoutDefaults(a)})}))}getCheckoutDefaults(e){return{amountOptions:this.checkoutConfiguration.defaultAmountOptions,defaultAmounts:this.checkoutConfiguration.defaultAmounts,frequency:e.frequency,currency:e.currency,frequencyAmountOptions:this.checkoutConfiguration.campaign.config.frequencies[e.frequency].amountOptions,defaultAmount:this.checkoutConfiguration.defaultAmounts[e.frequency]||0}}}class qw{constructor(e){this.params=e}get(){return this.params.screenSet.stockConfirmation}}class Vw{constructor(e){this.sessionAPI=e}postOwnerSignature(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.sessionAPI.post("stock/signOwner",{transcript:e})}))}postCoOwnerSignature(e){return(0,y.mG)(this,void 0,void 0,(function*(){return this.sessionAPI.post("stock/signCoOwner",e)}))}}class Kw extends fP{}const Hw=_r.STOCK_BROKERAGE,Yw=[...AP,_r.STOCK_BROKERAGE,un.REMIND_ME],Zw=[...PP,_r.STOCK_BROKERAGE],zw=[...wP,_r.STOCK_BROKERAGE],Ww=[_r.STOCK_BROKERAGE,un.THANK_YOU],$w=[un.COMMENT],Xw=[...bP,_r.STOCK_BROKERAGE,un.QUESTIONS],Qw=[...SP,un.REMIND_ME,_r.STOCK_BROKERAGE],Jw=[un.THANK_YOU,un.REMIND_ME],eD=[...CP],tD=[...EP],nD=[...NP],iD=[...xP,un.REMIND_ME],aD=[...kP,un.REMIND_ME];class rD extends QP{constructor(e){super(e),this.brokerDataPoint=e.brokerDataPoint,this.tributeDataPoint=e.tributeDataPoint,this.commentDataPoint=e.commentDataPoint,this.designationDataPoint=e.designationDataPoint}get isStockAccountConnected(){return!!this.checkoutService.company.stockProvider}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.designationDataPoint.goalKey||this.designationDataPoint.changeGoalKeyByFrequency(Oe.ONCE),this.searchBrokers(""),this.produceViewState((e=>{e.showBrokerIcon=!this.brokerDataPoint.isCustomBroker,e.broker=this.brokerDataPoint.broker,e.designation.show=this.designationDataPoint.isEnabled,e.designation.goalKey=this.designationDataPoint.goalKey,e.designation.goals=this.designationDataPoint.goals,e.designation.isEditable=this.designationDataPoint.canChangeDesignation(this.getAllowedGoals(e.designation.goals,e.frequency).length),e.comment.isEnabled=this.commentDataPoint.isEnabled,e.comment.content=this.commentDataPoint.comment,e.comment.prevContent=this.commentDataPoint.prevComment,e.tribute.name=this.tributeDataPoint.tributeeName,e.tribute.isActive=this.tributeDataPoint.isActive,e.tribute.show=this.tributeDataPoint.isEnabled,e.tribute.labelType=this.tributeDataPoint.labelType,e.tribute.sharingEnabled=this.tributeDataPoint.isSharingEnabled,e.tribute.isFilled=this.tributeDataPoint.isFilled,e.tribute.isOptional=this.tributeDataPoint.isOptional,e.tribute.isTributeOriented=this.tributeDataPoint.isTributeOriented}))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.validate(),!this.viewState.validation.fields.broker.isValid)return this.produceViewState((e=>{e.stockBrokerageShakeKey+=1})),!1;if(!this.viewState.designation.isValid)return this.produceViewState((e=>{e.designationShakeKey+=1})),!1;const e=yield this.hold();return!dn.isFailure(e)&&(this.checkoutService.collectDataPoint([this.designationDataPoint,this.commentDataPoint,this.tributeDataPoint,this.brokerDataPoint]),!0)}))}searchBrokers(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.brokerDataPoint.getBrokers(e);this.produceViewState((e=>{e.brokers=t}))}))}savePrevComment(){this.checkoutService.checkoutConfiguration.infrastructureParams.showcase||this.commentDataPoint.savePrevComment()}resetValidation(){this.produceViewState((e=>{e.validation=KE.defaultValidationResult}))}changeBrokerName(e){var t;this.viewState.validation.isValid||this.resetValidation();const n=qe()(t=this.viewState.brokers).call(t,(t=>t.name===e));return n?(this.brokerDataPoint.setIsCustomBroker(!1),this.brokerDataPoint.broker=n,this.produceViewState((e=>{e.broker=n,e.showBrokerIcon=!this.brokerDataPoint.isCustomBroker})),!1):(this.brokerDataPoint.setBrokerName(e),this.brokerDataPoint.setIsCustomBroker(!0),this.produceViewState((e=>{e.broker=this.brokerDataPoint.broker,e.showBrokerIcon=!this.brokerDataPoint.isCustomBroker})),!0)}changeGoal(e){this.designationDataPoint.setGoalKey(e,this.viewState.frequency),this.produceViewState((e=>{e.designation.goalKey=this.designationDataPoint.goalKey})),this.validateDesignation()}getAllowedGoals(e,t){return Fe()(e).call(e,(e=>this.designationDataPoint.isGoalAllowedToShow(e,t)))}getGoalByKey(e){var t;return qe()(t=this.viewState.designation.goals).call(t,(t=>t.key===e))||null}toggleTribute(){this.tributeDataPoint.isActive=!this.tributeDataPoint.isActive,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((e=>{e.tribute.isActive=this.tributeDataPoint.isActive,e.tribute.isFilled=this.tributeDataPoint.isFilled}))}changeTributeName(e){this.tributeDataPoint.tributeeName=e,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((e=>{e.tribute.name=this.tributeDataPoint.tributeeName,e.tribute.isFilled=this.tributeDataPoint.isFilled}))}shouldShowDesignation(){return this.viewState.designation.show&&!!this.getAllowedGoals(this.viewState.designation.goals,this.viewState.frequency).length}addComment(){return(0,y.mG)(this,void 0,void 0,(function*(){return this.checkoutService.makeDataPointRequired("Comment"),this.leave({omitBeforeLeave:!0})}))}validateDesignation(){const e=this.designationDataPoint.validateDesignation(this.viewState.frequency);this.produceViewState((t=>{t.designation.isValid=e.isValid,t.errors.designation.required=e.fields.goal.errors.required}))}getInitialViewState(){return{locked:!1,enabledFlows:{crypto:this.checkoutService.checkoutConfiguration.enabledFlows.crypto,money:this.checkoutService.checkoutConfiguration.enabledFlows.money},broker:{name:"",logo:null},brokers:[],frequency:Oe.ONCE,designation:{show:!1,goalKey:null,goals:[],isEditable:!0,isValid:!0},comment:{isEnabled:!1,content:"",prevContent:""},tribute:{name:"",isActive:!1,show:!1,labelType:h.h2.IN_HONOR_MEMORY,sharingEnabled:!1,isFilled:!1,inHonorOfMaxLength:ux.getInHonorOfMaxLength(this.checkoutService.company.key),isOptional:!1,isTributeOriented:!1},processingState:"idle",payButtonTooltip:{title:""},stockBrokerageShakeKey:0,designationShakeKey:0,validation:KE.defaultValidationResult,designationValidation:DA.defaultValidationResult,showBrokerIcon:!1,errors:{designation:{required:!1}}}}hold(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="pending"}));const e=yield this.withPending((()=>this.checkoutService.hold()));return dn.isFailure(e)?yield this.showHoldError():this.produceViewState((e=>{e.processingState="idle"})),e}))}validate(){this.produceViewState((e=>{e.validation=this.brokerDataPoint.validate()})),this.validateDesignation()}showHoldError(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.payButtonTooltip.title=this.intl.translate("common.errorOccurredText")})),this.produceViewState((e=>{e.processingState="error"})),this.produceViewState((e=>{e.payButtonTooltip.title=""}),!0)}))}}class sD extends QP{constructor(e){super(e),this.brokerDataPoint=e.brokerDataPoint,this.brokerageAccountNumberDataPoint=e.brokerageAccountNumberDataPoint,this.stockDonationDataPoint=e.stockDonationDataPoint,this.coOwnerDataPoint=e.coOwnerDataPoint,this.securitiesDataPoint=e.securitiesDataPoint,this.donorNameDataPoint=e.donorNameDataPoint,this.donorEmailDataPoint=e.donorEmailDataPoint,this.phoneNumberDataPoint=e.phoneNumberDataPoint}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.owner.fullName=this.donorNameDataPoint.fullName,e.owner.email=this.donorEmailDataPoint.email,e.owner.phone=this.phoneNumberDataPoint.phone,e.coOwner.isEnabled=this.coOwnerDataPoint.isEnabled,e.coOwner.fullName=this.coOwnerDataPoint.fullName,e.coOwner.email=this.coOwnerDataPoint.email,e.broker=this.brokerDataPoint.broker,e.securities=this.securitiesDataPoint.securitiesWithSubtotals,e.accountNumber=this.brokerageAccountNumberDataPoint.accountNumber,e.total=this.stockDonationDataPoint.total,e.currency=this.stockDonationDataPoint.currency,e.processingState="idle"}))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;const e=yield this.withPending((()=>this.pay()));return dn.isSuccess(e)?(this.setProcessingState("success"),!0):!!e.failureResult.shouldLeave}))}getInitialViewState(){return{locked:!1,owner:{fullName:"",email:"",phone:null},coOwner:{isEnabled:!1,fullName:"",email:""},broker:{name:"",logo:""},securities:[],accountNumber:"",total:0,processingState:"idle",payErrorMessage:"",currency:"USD"}}setProcessingState(e){return this.produceViewState((t=>{t.processingState=e})),this}pay(){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.checkoutService.checkoutConfiguration.infrastructureParams.showcase)return dn.success(void 0);this.setProcessingState("pending");const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return dn.isSuccess(e)||e.failureResult.shouldLeave?e:(this.produceViewState((e=>{e.payErrorMessage=this.intl.translate("common.errorOccurredText")})),this.setProcessingState("error"),dn.fail({shouldLeave:!1}))}))}}class oD extends QP{leaveScreen(e){return(0,y.mG)(this,void 0,void 0,(function*(){e?this.checkoutService.enableDataPoint("CoOwner"):this.checkoutService.disableDataPoint("CoOwner"),yield this.leave()}))}getInitialViewState(){return{locked:!1}}}class cD extends QP{constructor(e){super(e),this.coOwnerDataPoint=e.coOwnerDataPoint}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.firstName=this.coOwnerDataPoint.firstName,e.lastName=this.coOwnerDataPoint.lastName,e.fullName=this.coOwnerDataPoint.fullName,e.signature=this.coOwnerDataPoint.signature,e.email=this.coOwnerDataPoint.email}))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.validate(),!this.viewState.validation.isValid)return this.produceViewState((e=>{e.shakeKey+=1})),!1;const e=yield this.submitCoOwnerSignatureData();return!dn.isFailure(e)&&(this.checkoutService.collectDataPoint([this.coOwnerDataPoint]),!0)}))}changeFirstName(e){this.coOwnerDataPoint.firstName=e,this.produceViewState((e=>{e.firstName=this.coOwnerDataPoint.firstName,e.fullName=this.coOwnerDataPoint.fullName,e.validation.fields.firstName.isValid=!0}))}changeLastName(e){this.coOwnerDataPoint.lastName=e,this.produceViewState((e=>{e.lastName=this.coOwnerDataPoint.lastName,e.fullName=this.coOwnerDataPoint.fullName,e.validation.fields.lastName.isValid=!0}))}changeEmail(e){this.coOwnerDataPoint.email=e,this.produceViewState((e=>{e.email=this.coOwnerDataPoint.email,e.validation.fields.email.isValid=!0}))}changeSignature(e){this.coOwnerDataPoint.signature=e,this.produceViewState((e=>{e.signature=this.coOwnerDataPoint.signature,e.validation.fields.signature.isValid=!0}))}getInitialViewState(){return{locked:!1,firstName:"",lastName:"",fullName:"",signature:"",email:"",validation:ZE.defaultValidationResult,shakeKey:0,processingState:"idle",submitError:""}}validate(){const e=this.coOwnerDataPoint.validate();this.produceViewState((t=>{t.validation=e}))}submitCoOwnerSignatureData(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="pending"})),this.pending=!0;const e=yield this.checkoutService.submitCoOwnerSignature();return this.pending=!1,dn.isFailure(e)?(this.produceViewState((e=>{e.shakeKey+=1})),this.showError(this.intl.translate("common.errorOccurredText"))):this.produceViewState((e=>{e.processingState="idle"})),e}))}showError(e){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((t=>{t.processingState="error",t.submitError=e})),this.produceViewState((e=>{e.submitError=""}),!0)}))}}class lD extends QP{constructor(e){super(e),this.securitiesDataPoint=e.securitiesDataPoint,this.stockDonationDataPoint=e.stockDonationDataPoint}get quantityErrorTexts(){return{maxQuantity:this.intl.translate("stockSecuritiesScreen.shareErrors.maxQuantity"),minQuantity:this.intl.translate("stockSecuritiesScreen.shareErrors.minQuantity")}}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.currency=this.stockDonationDataPoint.currency,e.selectedSecurities=this.securitiesDataPoint.securities,e.totalAmount=this.securitiesDataPoint.getAmount()}))}))}searchSecurities(e){return(0,y.mG)(this,void 0,void 0,(function*(){const t=yield this.securitiesDataPoint.getSecurities(e);this.produceViewState((e=>{e.securities=t}))}))}resetSecuritiesSearch(){this.produceViewState((e=>{e.securities=[]}))}addSecurity(e){var t;const n=qe()(t=this.viewState.securities).call(t,(t=>t.ticker===e));n&&(this.securitiesDataPoint.add(n),this.syncSecuritiesAmount(),this.produceViewState((e=>{e.selectedSecurities=this.securitiesDataPoint.securities,e.totalAmount=this.securitiesDataPoint.getAmount()})))}removeSecurity(e){this.securitiesDataPoint.remove(e),this.syncSecuritiesAmount(),this.produceViewState((e=>{e.selectedSecurities=this.securitiesDataPoint.securities,e.totalAmount=this.securitiesDataPoint.getAmount()}))}changeQuantity(e,t){this.securitiesDataPoint.changeQuantity(e,t),this.syncSecuritiesAmount(),this.produceViewState((e=>{e.selectedSecurities=this.securitiesDataPoint.securities,e.totalAmount=this.securitiesDataPoint.getAmount()}))}resetNoSelectedSecuritiesError(){this.produceViewState((e=>{e.validation=ZA.defaultValidationResult}))}setLocked(e){if(e!==this.viewState.locked)return super.setLocked(e)}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){const e=this.securitiesDataPoint.validate();if(this.produceViewState((t=>{t.validation=e})),!e.fields.securities.isValid)return this.produceViewState((e=>{e.shakeKey+=1})),!1;if(!e.fields.totalAmount.isValid)return this.showError(this.intl.translate("stockSecuritiesScreen.totalAmountError.max.title"),this.intl.translate("stockSecuritiesScreen.totalAmountError.max.message",{amount:this.intl.formatCurrency(ZA.MAX_TOTAL_AMOUNT_IN_USD,{currency:"USD",display:"round"})})),!1;this.checkoutService.collectDataPoint([this.securitiesDataPoint]),this.produceViewState((e=>{e.processingState="pending"}));const t=yield this.withPending((()=>this.checkoutService.submitSecurities(this.securitiesDataPoint.securities)));return!dn.isFailure(t)||(this.showError(this.intl.translate("common.errorOccurredText")),this.produceViewState((e=>{e.processingState="idle",e.shakeKey+=1})),!1)}))}getInitialViewState(){return{locked:!1,totalAmount:0,securities:[],selectedSecurities:[],shakeKey:0,validation:ZA.defaultValidationResult,processingState:"idle",submitError:"",submitErrorMessage:"",currency:"USD"}}showError(e,t){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((n=>{n.processingState="error",n.submitError=e,n.submitErrorMessage=t||""})),this.produceViewState((e=>{e.submitError="",e.submitErrorMessage=""}),!0)}))}syncSecuritiesAmount(){this.stockDonationDataPoint.amount=this.securitiesDataPoint.getAmount(),this.checkoutService.syncUpdateCheckoutState()}}class uD extends QP{constructor(e){super(e),this.signatureDataPoint=e.signatureDataPoint,this.donorNameDataPoint=e.donorNameDataPoint}beforeEnter(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.signature=this.signatureDataPoint.signature,e.fullName=this.donorNameDataPoint.fullName}))}))}beforeLeave(e){return(0,y.mG)(this,void 0,void 0,(function*(){if(this.validate(),!this.viewState.validation.fields.signature.isValid)return this.produceViewState((e=>{e.shakeKey+=1})),!1;const e=yield this.submitOwnerSignature();return!dn.isFailure(e)&&(this.checkoutService.collectDataPoint([this.signatureDataPoint]),!0)}))}changeSignature(e){this.viewState.validation.isValid||this.resetValidation(),this.signatureDataPoint.changeSignature(e),this.produceViewState((e=>{e.signature=this.signatureDataPoint.signature}))}resetValidation(){this.produceViewState((e=>{e.validation=zA.defaultValidationResult}))}getInitialViewState(){return{locked:!1,fullName:"",signature:"",validation:zA.defaultValidationResult,shakeKey:0,processingState:"idle",submitError:""}}submitOwnerSignature(){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="pending"})),this.pending=!0;const e=yield this.checkoutService.submitOwnerSignature();return this.pending=!1,dn.isFailure(e)?(this.produceViewState((e=>{e.shakeKey+=1})),this.showError(this.intl.translate("common.errorOccurredText"))):this.produceViewState((e=>{e.processingState="idle"})),e}))}validate(){const e=this.signatureDataPoint.validate();this.produceViewState((t=>{t.validation=e}))}showError(e){return(0,y.mG)(this,void 0,void 0,(function*(){this.produceViewState((t=>{t.processingState="error",t.submitError=e})),this.produceViewState((e=>{e.submitError=""}),!0)}))}}const dD={[_r.STOCK_BROKERAGE]:class extends rD{},[_r.STOCK_CO_OWNER_SIGNATURE]:class extends cD{},[_r.STOCK_CO_OWNER]:class extends oD{},[_r.STOCK_CONFIRMATION]:class extends sD{},[_r.STOCK_SECURITIES]:class extends lD{},[_r.STOCK_SIGNATURE]:class extends uD{},[un.COMMENT]:class extends JP{},[un.MAILING_ADDRESS]:class extends rx{},[un.QUESTIONS]:class extends ox{},[un.PRIVACY]:class extends sx{},[un.THANK_YOU]:class extends lx{},[un.REMIND_ME]:class extends cx{}};class hD{static isStockBrokerageScreenController(e,t){return t===_r.STOCK_BROKERAGE}static isStockConfirmationScreenController(e,t){return t===_r.STOCK_CONFIRMATION}static isStockCoOwnerSignatureScreenController(e,t){return t===_r.STOCK_CO_OWNER_SIGNATURE}static isStockSecuritiesScreenController(e,t){return t===_r.STOCK_SECURITIES}static isStockSignatureScreenController(e,t){return t===_r.STOCK_SIGNATURE}static isThankYouScreenController(e,t){return t===un.THANK_YOU}static isMailingAddressScreenController(e,t){return t===un.MAILING_ADDRESS}constructor(e,t,n,i,a,r,s){this.checkoutService=e,this.intl=t,this.debug=n,this.subscriptionPeriodLabelsService=i,this.mailingAddressCustomization=a,this.currencyService=r,this.experiments=s}create(e,t){const n=dD[e],i={name:e,flow:t,checkoutService:this.checkoutService,debug:this.debug,intl:this.intl,subscriptionPeriodLabelsService:this.subscriptionPeriodLabelsService,currencyService:this.currencyService,experiments:this.experiments};return hD.isStockBrokerageScreenController(n,e)?new n(k()(k()({},i),{brokerDataPoint:this.checkoutService.getDataPoint("Broker"),tributeDataPoint:this.checkoutService.getDataPoint("Tribute"),commentDataPoint:this.checkoutService.getDataPoint("Comment"),designationDataPoint:this.checkoutService.getDataPoint("Designation")})):hD.isStockConfirmationScreenController(n,e)?new n(k()(k()({},i),{brokerDataPoint:this.checkoutService.getDataPoint("Broker"),brokerageAccountNumberDataPoint:this.checkoutService.getDataPoint("BrokerageAccountNumber"),stockDonationDataPoint:this.checkoutService.getDataPoint("StockDonation"),coOwnerDataPoint:this.checkoutService.getDataPoint("CoOwner"),securitiesDataPoint:this.checkoutService.getDataPoint("Securities"),donorNameDataPoint:this.checkoutService.getDataPoint("DonorName"),donorEmailDataPoint:this.checkoutService.getDataPoint("DonorEmail"),phoneNumberDataPoint:this.checkoutService.getDataPoint("PhoneNumber")})):hD.isStockCoOwnerSignatureScreenController(n,e)?new n(k()(k()({},i),{coOwnerDataPoint:this.checkoutService.getDataPoint("CoOwner")})):hD.isStockSecuritiesScreenController(n,e)?new n(k()(k()({},i),{securitiesDataPoint:this.checkoutService.getDataPoint("Securities"),stockDonationDataPoint:this.checkoutService.getDataPoint("StockDonation")})):hD.isStockSignatureScreenController(n,e)?new n(k()(k()({},i),{signatureDataPoint:this.checkoutService.getDataPoint("Signature"),donorNameDataPoint:this.checkoutService.getDataPoint("DonorName")})):hD.isThankYouScreenController(n,e)?new n(this.checkoutService.getDataPoint("StockDonation"),this.checkoutService.getDataPoint("Tribute"),null,this.redirectApi,this.sharingApi,i):hD.isMailingAddressScreenController(n,e)?new n(this.checkoutService.getDataPoint("OnBehalfOf"),this.countriesService,this.mailingAddressCustomization,i):new n(i)}get redirectApi(){return this.checkoutService.redirectApi}get sharingApi(){return this._sharingApi||(this._sharingApi=WP({checkoutType:this.checkoutService.checkoutConfiguration.checkoutType,isShowcase:this.checkoutService.checkoutConfiguration.infrastructureParams.showcase,campaignConfig:this.checkoutService.campaignConfig})),this._sharingApi}get countriesService(){return this._countriesService||(this._countriesService=(0,CN.p)({intl:this.intl,excludePalestineFromCountriesList:this.checkoutService.checkoutConfiguration.featureConfig.excludePalestineFromCountriesList})),this._countriesService}}const mD=_r.STOCK_BROKERAGE,pD=wr(Ir);function gD(e){var t;let{checkoutConfiguration:n,intl:i,tracker:a,debug:r,currencyService:s,suggestionsService:o,targetWindow:c,globalWindow:l,sentry:u,subscriptionPeriodLabelsService:d,userSession:h,addressService:m,eventEmitter:p,checkoutAPIBridge:g,experiments:y,initialScreen:f,logger:v,requestService:S,paymentMethodAvailabilityManagerRepository:b,mailingAddressCustomization:E}=e;const A=new aE(PE.SESSION_UPDATE_DEBOUNCE),N=new Bw(a,n,u,A,S),P=new uP(N,s,o),x=new rP(n,s,m,o,i,h,N,y,a,u,b,E,{flowType:et.STOCK},P),k=new sP(x),w=new Gw(k,n,N),D=function(e,t,n){const i=e.campaign.config;return new Uw(i,t,e,n)}(n,r,k),T=new qw({screenSet:{stockConfirmation:_r.STOCK_CONFIRMATION}}),O=yP(n.campaign.config),_=new JA(N,s,n.infrastructureParams.livemode,{currency:n.company.defaultCurrency}),I=new Vw(N),R=new cP(N),L=function(e,t){return new Kw(e,t,{screens:{firstScreen:Hw,unrestrictedExitScreens:Qw,remindMeLaterUnavailableScreens:Jw,mobileExitScreens:eD,alwaysRenderedScreens:tD,screensWithoutTributeBadge:Yw,mobileScreensWithoutAskTitle:nD,mobileScreensWithAskText:Zw,mobileScreensWithoutFaqLinks:iD,mobileScreensWithoutAskPage:aD,screensWithoutAskOverlay:zw,canNotGoBackScreens:Xw,alwaysShowCloseButtonScreens:Ww,conditionallyShowCloseButtonScreens:$w}})}(O,D),M=new dP(l,n,s,k.getDataPoint("FiatDonation"),k.getDataPoint("PostDonationUpsell"),k.getDataPoint("DonorName"),k.getDataPoint("DonorEmail"),k.getDataPoint("Designation")),j=new Fw(k,n,D,L,w,N,a,s,i,c,u,T,p,g,r,_,I,y,R,v,M,{screenSet:{thankYou:un.THANK_YOU}}),F=new hD(j,i,r,d,E,s,y),U=f&&pD(f)?f:void 0;var B;return{checkoutService:j,formFlow:tE(F,(B=U,{defaultInitial:()=>mD,initial:()=>B||mD,screens:{[_r.STOCK_BROKERAGE]:{next:e=>e().comment.isRequired?un.COMMENT:_r.STOCK_SECURITIES},[un.COMMENT]:{next:()=>_r.STOCK_BROKERAGE},[un.PRIVACY]:{next:()=>un.MAILING_ADDRESS},[un.MAILING_ADDRESS]:{guard:e=>!e().mailingAddress.isEnabled,next:()=>_r.STOCK_SIGNATURE},[_r.STOCK_SECURITIES]:{next:()=>un.PRIVACY},[_r.STOCK_SIGNATURE]:{next:()=>_r.STOCK_CO_OWNER},[_r.STOCK_CO_OWNER]:{next:()=>_r.STOCK_CO_OWNER_SIGNATURE},[_r.STOCK_CO_OWNER_SIGNATURE]:{guard:e=>!e().coOwner.isEnabled,next:()=>_r.STOCK_CONFIRMATION},[_r.STOCK_CONFIRMATION]:{next:()=>un.QUESTIONS},[un.QUESTIONS]:{guard:e=>!e().questions.isEnabled,next:()=>un.THANK_YOU},[un.THANK_YOU]:{},[un.REMIND_ME]:{final:!0,guard:e=>!e().remindMeLater.show}}}),C()(t=D.get).call(t,D))}}const yD={[et.MONEY]:()=>(0,d.mG)(void 0,void 0,void 0,(function*(){return jw})),[et.CRYPTO]:()=>(0,d.mG)(void 0,void 0,void 0,(function*(){return fx})),[et.STOCK]:()=>(0,d.mG)(void 0,void 0,void 0,(function*(){return gD}))};function fD(e,t,i,a,r,s){var o,c;return(0,d.mG)(this,void 0,void 0,(function*(){const l=t.createInstance("Checkout");l.log("checkoutCreateParams",r);const u=yield Wb(r),d=N("#root",u),h=P(u),m=null===(o=r.infrastructureQueryParams)||void 0===o?void 0:o._fundraiseup_country;if(!r.livemode&&m){const e=yield function(e){return(0,y.mG)(this,void 0,void 0,(function*(){return function(e,t){const n=e[t];return{location:{countryCode:t,city:"TEST_PANEL",country:"TEST_PANEL"},langCurrencies:n||["USD"],countryCurrencies:n||["USD"]}}((yield Promise.resolve().then(n.t.bind(n,59222,19))).default,e)}))}(m);r.resolvedConfig.config.currencies.countryCurrencies=e.countryCurrencies,r.resolvedConfig.config.currencies.langCurrencies=e.langCurrencies,r.resolvedConfig.user.address.countryCode=m}(null===(c=r.infrastructureQueryParams)||void 0===c?void 0:c.checkoutIntent)&&(r.externalConfig.checkoutIntent=function(e){var t,n,i,a,r,s,o,c,l,u,d,h,m,p;if(e)try{const g=JSON.parse(function(e){try{return Buffer.from(e,"base64").toString()}catch(t){return atob(e)}}(e));return{flowType:g.flowType,donation:g.donation?{amount:null===(t=g.donation)||void 0===t?void 0:t.amount,currency:null===(n=g.donation)||void 0===n?void 0:n.currency,recurring:null===(i=g.donation)||void 0===i?void 0:i.recurring,frequency:null===(a=g.donation)||void 0===a?void 0:a.frequency,selectedHintId:null===(r=g.donation)||void 0===r?void 0:r.selectedHintId}:void 0,supporter:g.supporter?{firstName:null===(s=g.supporter)||void 0===s?void 0:s.firstName,lastName:null===(o=g.supporter)||void 0===o?void 0:o.lastName,email:null===(c=g.supporter)||void 0===c?void 0:c.email}:void 0,campaign:g.campaign?{id:g.campaign.id}:void 0,element:g.element?{key:null===(l=g.element)||void 0===l?void 0:l.key,type:null===(u=g.element)||void 0===u?void 0:u.type}:void 0,comment:g.comment,tribute:g.tribute,checkoutSettings:g.checkoutSettings?{designation:null===(d=g.checkoutSettings)||void 0===d?void 0:d.designation,customFields:null===(h=g.checkoutSettings)||void 0===h?void 0:h.customFields,modifyAmount:null===(m=g.checkoutSettings)||void 0===m?void 0:m.modifyAmount,modifyDesignation:null===(p=g.checkoutSettings)||void 0===p?void 0:p.modifyDesignation}:void 0,fundraisingPage:g.fundraisingPage?{key:g.fundraisingPage.key,customerKey:g.fundraisingPage.customerKey}:void 0,feeCovered:g.feeCovered}}catch(e){return}}(r.infrastructureQueryParams.checkoutIntent));const p=new(g()),f=new js(e,l,i,p,h.target,h.global,r,yD,s),v=new Gb(d,u,p,f.sentryInstance,l,f);u.configure({locale:f.intl.locale,styles:yield $b(f.intl.language)}),yield u.waitUntilFontsLoaded(),a.on("checkoutOpen",(()=>{u.onShow()}));const S=new A(h.global),C=new w(v,f,S);return yield f.run(),C.initialize(),yield v.onHide((e=>{C.destroy(e),l.log("Closed")})).open(),S.hideAll(),l.log("Opened"),f.logger.checkoutOpen({key:f.checkoutConfiguration.campaign.key,name:f.checkoutConfiguration.campaign.name},f.checkoutAPIBridge.getOpenParams()),C}))}class vD{constructor(e){this.errorsStack=[],this.sentry=null,e.forceOff||(e.sentry?this.sentry=e.sentry:Promise.all([n.e(206),n.e(897)]).then(n.bind(n,20764)).then((t=>{this.sentry=t.initSentry(e,this.errorsStack,e.ignoreErrors),this.errorsStack=[]})))}getErrorHandler(){return(e,t)=>this.captureError(e,t)}captureError(e,t){if(this.sentry)return this.sentry.captureException(e,t),void console.error(e);this.errorsStack.push(e),console.error(e)}getSentryInstance(){return{captureException:(e,t)=>this.captureError(e,t),configureScope:e=>{this.sentry&&this.sentry.configureScope(e)}}}}class SD extends w{constructor(e,t,n,i,a,r,s,o,c){super(e,t),this.checkoutUI=e,this.embedTracker=n,this.debug=i,this.keysKeeper=a,this.targetWindow=r,this.globalWindow=s,this.params=o,this.sentry=c}get questionsScreenPageCount(){return this.checkoutCore.flowManager.questionsScreenPageCount}update(e){return(0,d.mG)(this,void 0,void 0,(function*(){this.checkoutCore.dispose(),this.removeStripeIframes(this.globalWindow.document),this.removeStripeIframes(this.targetWindow.document);const t=new js(this.embedTracker,this.debug,this.keysKeeper,new(g()),this.targetWindow,this.globalWindow,k()(k()({},this.params),{resolvedConfig:this.convertShowcaseConfigToCheckoutConfig(e),isMobile:e.isMobile,localeCode:e.localeCode||""}),yD,this.sentry),n=this.isFlowTypeChanged(t);this.checkoutCore=t,yield t.run({initialScreen:e.initialScreen,localeCode:e.localeCode||t.checkoutConfiguration.campaign.config.localization.defaultLocale}),yield this.checkoutUI.replaceCore(this.checkoutCore,{forceRender:n}),this.updateIframeHtmlClass(e.isMobile)}))}removeStripeIframes(e){const t=e.querySelectorAll('iframe[name*="privateStripe"]');v()(t).call(t,(e=>{e.remove()}))}convertShowcaseConfigToCheckoutConfig(e){return(0,ot.zm)(e)}isFlowTypeChanged(e){return this.checkoutCore.checkoutConfiguration.defaultFlowType!==e.checkoutConfiguration.defaultFlowType}updateIframeHtmlClass(e){const t=this.targetWindow.document.querySelector("html");e?null==t||t.classList.remove("desktop-view"):null==t||t.classList.add("desktop-view")}}class CD extends Gb{replaceCore(e,t){return(0,d.mG)(this,void 0,void 0,(function*(){this.checkoutCore=e,(null==t?void 0:t.forceRender)?yield this.forceRender():(yield this.configure(),yield this.render(),yield this.checkoutCore.flowManager.restart())}))}configure(){return(0,d.mG)(this,void 0,void 0,(function*(){this.iframe.configure({locale:this.checkoutCore.intl.locale,styles:yield $b(this.checkoutCore.intl.language),showcase:!0})}))}forceRender(){return(0,d.mG)(this,void 0,void 0,(function*(){this.regenerateKey(),yield this.render(),this.show()}))}}const bD=(e,t,i,a,r,o)=>(0,d.mG)(void 0,void 0,void 0,(function*(){const c=function(e){return function(e){const t=[/^https?:\/\/translate\.googleusercontent\.com/i,/^file:\/\/\//,/^https?:\/\/craigchurchministries\.org/i,/^https?:\/\/heartwoodhaven\.org/i,/^https?:\/\/wordpress-506039-2071925\.cloudwaysapps\.com/i];window.FUN_EXPERIMENTAL_SENTRY||t.push(/^https?:\/\/.*\.?mozilla\.org/i);const n="SQUARESPACE_ROLLUPS"in window||"Squarespace"in window,i=E()(t).call(t,(e=>e.test(window.location.href))),a=window.Sentry,r=window.FUN_DASHBOARD;return new vD({env:e.env,uri:e.uri,mainDomain:e.mainDomain,version:e.version,forceOff:!r&&(i||n||!!a),sentry:r&&a?a:void 0,isBrowserSupported:e.isBrowserSupported,isBrowserSupportedVersion:e.isBrowserSupportedVersion,scope:e.scope})}({uri:e.integrations.sentryUri,version:e.embedVersion,mainDomain:e.mainDomain,env:e.env,isBrowserSupported:e.browserData.isCommonBrowser,isBrowserSupportedVersion:e.browserData.isSupported,scope:"checkout"}).getSentryInstance()}(r);try{if(r.showcase){const n=yield function(e,t,n,i,a,r){return(0,d.mG)(this,void 0,void 0,(function*(){const s=t.createInstance("ShowcaseCheckout");s.log("checkoutCreateParams",i);const o=yield Wb(i),c=N("#root",o),l=P(o),u=new(g()),d=new js(e,s,n,u,l.target,l.global,i,yD,a),h=new CD(c,o,u,d.sentryInstance,s,d),m=new SD(h,d,e,s,n,l.target,l.global,i,a);yield d.run({initialScreen:i.initialScreen,localeCode:d.checkoutConfiguration.campaign.config.localization.defaultLocale});const p={locale:d.intl.locale};return o.configure(p),yield h.open({abortController:r}),s.log("Opened"),m}))}(e,t,i,r,c,o);return n}return s===h.CB.DEVELOPMENT&&(yield function(){return(0,d.mG)(this,void 0,void 0,(function*(){(yield function(){return(0,d.mG)(this,void 0,void 0,(function*(){return(yield n.e(477).then(n.t.bind(n,42477,23))).default}))}())(m,{trackAllPureComponents:!0})}))}()),yield fD(e,t,i,a,r,c)}catch(e){throw c.captureException(e),e}}));(0,u.k)().provide(17,(()=>bD))},45758:function(e,t,n){"use strict";n.d(t,{f:function(){return i}});const i=(0,n(2784).createContext)(null)},50970:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var i=n(2784),a=n(45758);function r(){const e=(0,i.useContext)(a.f);if(!e)throw new Error("IntlService is not provided");return e}},10041:function(e,t,n){"use strict";var i;n.d(t,{X:function(){return i}}),function(e){e.DUMMY_EXPERIMENT="DummyExperiment",e.UPSELL_CURTAIN_EXPERIMENT="UpsellCurtainExperiment",e.CHECKOUT_BUNDLE_EXPERIMENT="CheckoutBundleExperiment",e.MOBILE_FIRST_PAGES_EXPERIMENT="MobileFirstPagesExperiment",e.OPTIMIZATION_OF_DONATION_RETRY_SETTINGS_EXPERIMENT="OptimizationOfDonationRetrySettings",e.UPSELL_SCREEN_V_3_EXPERIMENT="UpsellScreenV3Experiment",e.FLOATING_LABELS_CHECKOUT_EXPERIMENT="FloatingLabelsCheckoutExperiment",e.FLOATING_LABELS_CAMPAIGN_PAGES_EXPERIMENT="FloatingLabelsCampaignPagesExperiment",e.DONOR_PORTAL_TEST_EXPERIMENT="DonorPortalTestExperiment",e.CAMPAIGN_PAGE_TEST_EXPERIMENT="CampaignPageTestExperiment",e.RADICAL_SCREENS_ORDER_CHANGE_EXPERIMENT="RadicalScreensOrderChangeExperiment",e.UPGRADE_LINKS_PAGE_AI_EXPERIMENT="UpgradeLinksPageAIExperiment",e.EMBED_TEST_EXPERIMENT="EmbedTestExperiment",e.UPGRADE_LINKS_IN_INSTALLMENT_EMAILS_AI_EXPERIMENT="UpgradeLinksInInstallmentEmailsAIExperiment",e.ML_POST_DONATION_UPSELL_CHECKOUT_EXPERIMENT="MlPostDonationUpsellCheckoutExperiment",e.ML_POST_DONATION_UPSELL_CAMPAIGN_PAGES_EXPERIMENT="MlPostDonationUpsellCampaignPagesExperiment",e.DEFAULT_AMOUNT_IN_DONATION_FORM_EXPERIMENT="DefaultAmountInDonationFormExperiment",e.MATCH_DONATION_IN_SOCIAL_PROOF_EXPERIMENT="MatchDonationInSocialProofExperiment",e.CHECKOUT_MODAL_VS_CAMPAIGN_PAGES_EXPERIMENT="CheckoutModalVsCampaignPagesExperiment",e.ML_DEFAULT_AMOUNT_CHECKOUT_EXPERIMENT="MlDefaultAmountCheckoutExperiment",e.ML_DEFAULT_AMOUNT_CAMPAIGN_PAGES_EXPERIMENT="MlDefaultAmountCampaignPagesExperiment",e.PAGES_ASK_VIDEO_VS_IMAGE_EXPERIMENT="PagesAskVideoVsImageExperiment",e.IMPACT_SLIDER_ML_DATA_COLLECTING_EXPERIMENT="ImpactSliderMlDataCollectingExperiment",e.CHECKOUT_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT="CheckoutWithoutPreDonationUpsellExperiment",e.CAMPAIGN_PAGES_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT="CampaignPagesWithoutPreDonationUpsellExperiment",e.ML_FREQUENCY_DATA_COLLECT_CHECKOUT_EXPERIMENT="MLFrequencyDataCollectCheckoutExperiment",e.ML_FREQUENCY_DATA_COLLECT_CAMPAIGN_PAGES_EXPERIMENT="MLFrequencyDataCollectCampaignPagesExperiment",e.LESS_PAYMENT_OPTIONS_EXPERIMENT="LessPaymentOptionsExperiment",e.ONE_TIME_RECEIPT_TO_RECURRING_UPGRADE_EMAIL_EXPERIMENT="OneTimeReceiptToRecurringUpgradeEmailExperiment",e.ML_DONATION_RETRY_SETTINGS_EXPERIMENT="MlDonationRetrySettingsExperiment",e.ML_SMART_COVERING_FEE_CHECKOUT_EXPERIMENT="MlSmartCoveringFeeCheckoutExperiment",e.ML_SMART_COVERING_FEE_CAMPAIGN_PAGES_EXPERIMENT="MlSmartCoveringFeeCampaignPagesExperiment"}(i||(i={}))},85632:function(e,t,n){"use strict";n.d(t,{p:function(){return h}});var i=n(90899),a=n.n(i),r=n(50381),s=n.n(r),o=n(49924),c=n.n(o);n(33093),n(20929);var l=n(67550);class u{constructor(e,t){this.intlService=e,this.params=t,this.countries=this.getInitialCountriesList()}getMailingAddressCountriesList(){var e;return a()(e=this.countries).call(e,(e=>{let{countryName:t,countryCode:n}=e;return{countryName:t,countryCode:n}}))}getTelInputCountries(){var e;const t=s()(e=this.countries).call(e,(e=>"dialCode"in e));return a()(t).call(t,(e=>({name:e.countryName,iso2:e.countryCode,dialCode:e.dialCode,priority:e.priority||0,areaCodes:e.areaCodes||null})))}get language(){return this.intlService.language}getInitialCountriesList(){var e;let t=[{countryName:this.intlService.translate("countries.afghanistan")||"Afghanistan",countryCode:"AF",dialCode:"93"},{countryName:this.intlService.translate("countries.albania")||"Albania",countryCode:"AL",dialCode:"355"},{countryName:this.intlService.translate("countries.algeria")||"Algeria",countryCode:"DZ",dialCode:"213"},{countryName:this.intlService.translate("countries.americanSamoa")||"American Samoa",countryCode:"AS",dialCode:"1684"},{countryName:this.intlService.translate("countries.andorra")||"Andorra",countryCode:"AD",dialCode:"376"},{countryName:this.intlService.translate("countries.angola")||"Angola",countryCode:"AO",dialCode:"244"},{countryName:this.intlService.translate("countries.anguilla")||"Anguilla",countryCode:"AI",dialCode:"1264"},{countryName:this.intlService.translate("countries.antiguaAndBarbuda")||"Antigua and Barbuda",countryCode:"AG",dialCode:"1268"},{countryName:this.intlService.translate("countries.argentina")||"Argentina",countryCode:"AR",dialCode:"54"},{countryName:this.intlService.translate("countries.armenia")||"Armenia",countryCode:"AM",dialCode:"374"},{countryName:this.intlService.translate("countries.aruba")||"Aruba",countryCode:"AW",dialCode:"297"},{countryName:this.intlService.translate("countries.australia")||"Australia",countryCode:"AU",dialCode:"61",priority:0},{countryName:this.intlService.translate("countries.austria")||"Austria",countryCode:"AT",dialCode:"43"},{countryName:this.intlService.translate("countries.alandIslands")||"land Islands",countryCode:"AX",dialCode:"358",priority:1},{countryName:this.intlService.translate("countries.azerbaijan")||"Azerbaijan",countryCode:"AZ",dialCode:"994"},{countryName:this.intlService.translate("countries.bahamas")||"Bahamas",countryCode:"BS",dialCode:"1242"},{countryName:this.intlService.translate("countries.bahrain")||"Bahrain",countryCode:"BH",dialCode:"973"},{countryName:this.intlService.translate("countries.bangladesh")||"Bangladesh",countryCode:"BD",dialCode:"880"},{countryName:this.intlService.translate("countries.barbados")||"Barbados",countryCode:"BB",dialCode:"1246"},{countryName:this.intlService.translate("countries.belarus")||"Belarus",countryCode:"BY",dialCode:"375"},{countryName:this.intlService.translate("countries.belgium")||"Belgium",countryCode:"BE",dialCode:"32"},{countryName:this.intlService.translate("countries.belize")||"Belize",countryCode:"BZ",dialCode:"501"},{countryName:this.intlService.translate("countries.benin")||"Benin",countryCode:"BJ",dialCode:"229"},{countryName:this.intlService.translate("countries.bermuda")||"Bermuda",countryCode:"BM",dialCode:"1441"},{countryName:this.intlService.translate("countries.bhutan")||"Bhutan",countryCode:"BT",dialCode:"975"},{countryName:this.intlService.translate("countries.bolivia")||"Bolivia",countryCode:"BO",dialCode:"591"},{countryName:this.intlService.translate("countries.bosniaAndHerzegovina")||"Bosnia and Herzegovina",countryCode:"BA",dialCode:"387"},{countryName:this.intlService.translate("countries.botswana")||"Botswana",countryCode:"BW",dialCode:"267"},{countryName:this.intlService.translate("countries.brazil")||"Brazil",countryCode:"BR",dialCode:"55"},{countryName:this.intlService.translate("countries.britishIndianOceanTerritory")||"British Indian Ocean Territory",countryCode:"IO",dialCode:"246"},{countryName:this.intlService.translate("countries.britishVirginIslands")||"British Virgin Islands",countryCode:"VG",dialCode:"1284"},{countryName:this.intlService.translate("countries.brunei")||"Brunei",countryCode:"BN",dialCode:"673"},{countryName:this.intlService.translate("countries.bulgaria")||"Bulgaria",countryCode:"BG",dialCode:"359"},{countryName:this.intlService.translate("countries.burkinaFaso")||"Burkina Faso",countryCode:"BF",dialCode:"226"},{countryName:this.intlService.translate("countries.burundi")||"Burundi",countryCode:"BI",dialCode:"257"},{countryName:this.intlService.translate("countries.cambodia")||"Cambodia",countryCode:"KH",dialCode:"855"},{countryName:this.intlService.translate("countries.cameroon")||"Cameroon",countryCode:"CM",dialCode:"237"},{countryName:this.intlService.translate("countries.canada")||"Canada",countryCode:"CA",dialCode:"1",priority:1,areaCodes:["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]},{countryName:this.intlService.translate("countries.capeVerde")||"Cape Verde",countryCode:"CV",dialCode:"238"},{countryName:this.intlService.translate("countries.caribbeanNetherlands")||"Caribbean Netherlands",countryCode:"BQ",dialCode:"599",priority:1},{countryName:this.intlService.translate("countries.caymanIslands")||"Cayman Islands",countryCode:"KY",dialCode:"1345"},{countryName:this.intlService.translate("countries.centralAfricanRepublic")||"Central African Republic",countryCode:"CF",dialCode:"236"},{countryName:this.intlService.translate("countries.chad")||"Chad",countryCode:"TD",dialCode:"235"},{countryName:this.intlService.translate("countries.chile")||"Chile",countryCode:"CL",dialCode:"56"},{countryName:this.intlService.translate("countries.china")||"China",countryCode:"CN",dialCode:"86"},{countryName:this.intlService.translate("countries.christmasIsland")||"Christmas Island",countryCode:"CX",dialCode:"61",priority:2},{countryName:this.intlService.translate("countries.cocos")||"Cocos Islands",countryCode:"CC",dialCode:"61",priority:1},{countryName:this.intlService.translate("countries.colombia")||"Colombia",countryCode:"CO",dialCode:"57"},{countryName:this.intlService.translate("countries.comoros")||"Comoros",countryCode:"KM",dialCode:"269"},{countryName:this.intlService.translate("countries.congoDRC")||"Congo (DRC)",countryCode:"CD",dialCode:"243"},{countryName:this.intlService.translate("countries.congoRepublic")||"Congo (Republic)",countryCode:"CG",dialCode:"242"},{countryName:this.intlService.translate("countries.cookIslands")||"Cook Islands",countryCode:"CK",dialCode:"682"},{countryName:this.intlService.translate("countries.costaRica")||"Costa Rica",countryCode:"CR",dialCode:"506"},{countryName:this.intlService.translate("countries.coteDIvoire")||"Cte dIvoire",countryCode:"CI",dialCode:"225"},{countryName:this.intlService.translate("countries.croatia")||"Croatia",countryCode:"HR",dialCode:"385"},{countryName:this.intlService.translate("countries.cuba")||"Cuba",countryCode:"CU",dialCode:"53"},{countryName:this.intlService.translate("countries.curasao")||"Curaao",countryCode:"CW",dialCode:"599",priority:0},{countryName:this.intlService.translate("countries.cyprus")||"Cyprus",countryCode:"CY",dialCode:"357"},{countryName:this.intlService.translate("countries.czechRepublic")||"Czech Republic",countryCode:"CZ",dialCode:"420"},{countryName:this.intlService.translate("countries.denmark")||"Denmark",countryCode:"DK",dialCode:"45"},{countryName:this.intlService.translate("countries.djibouti")||"Djibouti",countryCode:"DJ",dialCode:"253"},{countryName:this.intlService.translate("countries.dominica")||"Dominica",countryCode:"DM",dialCode:"1767"},{countryName:this.intlService.translate("countries.dominicanRepublic")||"Dominican Republic",countryCode:"DO",dialCode:"1",priority:2,areaCodes:["809","829","849"]},{countryName:this.intlService.translate("countries.ecuador")||"Ecuador",countryCode:"EC",dialCode:"593"},{countryName:this.intlService.translate("countries.egypt")||"Egypt",countryCode:"EG",dialCode:"20"},{countryName:this.intlService.translate("countries.elSalvador")||"El Salvador",countryCode:"SV",dialCode:"503"},{countryName:this.intlService.translate("countries.equatorialGuinea")||"Equatorial Guinea",countryCode:"GQ",dialCode:"240"},{countryName:this.intlService.translate("countries.eritrea")||"Eritrea",countryCode:"ER",dialCode:"291"},{countryName:this.intlService.translate("countries.estonia")||"Estonia",countryCode:"EE",dialCode:"372"},{countryName:this.intlService.translate("countries.ethiopia")||"Ethiopia",countryCode:"ET",dialCode:"251"},{countryName:this.intlService.translate("countries.falklandIslands")||"Falkland Islands",countryCode:"FK",dialCode:"500"},{countryName:this.intlService.translate("countries.faroeIslands")||"Faroe Islands",countryCode:"FO",dialCode:"298"},{countryName:this.intlService.translate("countries.fiji")||"Fiji",countryCode:"FJ",dialCode:"679"},{countryName:this.intlService.translate("countries.finland")||"Finland",countryCode:"FI",dialCode:"358",priority:0},{countryName:this.intlService.translate("countries.france")||"France",countryCode:"FR",dialCode:"33"},{countryName:this.intlService.translate("countries.frenchGuiana")||"French Guiana",countryCode:"GF",dialCode:"594"},{countryName:this.intlService.translate("countries.frenchPolynesia")||"French Polynesia",countryCode:"PF",dialCode:"689"},{countryCode:"TF",countryName:this.intlService.translate("countries.frenchSouthernTerritories")||"French Southern Territories"},{countryName:this.intlService.translate("countries.gabon")||"Gabon",countryCode:"GA",dialCode:"241"},{countryName:this.intlService.translate("countries.gambia")||"Gambia",countryCode:"GM",dialCode:"220"},{countryName:this.intlService.translate("countries.georgia")||"Georgia",countryCode:"GE",dialCode:"995"},{countryName:this.intlService.translate("countries.germany")||"Germany",countryCode:"DE",dialCode:"49"},{countryName:this.intlService.translate("countries.ghana")||"Ghana",countryCode:"GH",dialCode:"233"},{countryName:this.intlService.translate("countries.gibraltar")||"Gibraltar",countryCode:"GI",dialCode:"350"},{countryName:this.intlService.translate("countries.greece")||"Greece",countryCode:"GR",dialCode:"30"},{countryName:this.intlService.translate("countries.greenland")||"Greenland",countryCode:"GL",dialCode:"299"},{countryName:this.intlService.translate("countries.grenada")||"Grenada",countryCode:"GD",dialCode:"1473"},{countryName:this.intlService.translate("countries.guadeloupe")||"Guadeloupe",countryCode:"GP",dialCode:"590",priority:0},{countryName:this.intlService.translate("countries.guam")||"Guam",countryCode:"GU",dialCode:"1671"},{countryName:this.intlService.translate("countries.guatemala")||"Guatemala",countryCode:"GT",dialCode:"502"},{countryName:this.intlService.translate("countries.guernsey")||"Guernsey",countryCode:"GG",dialCode:"44",priority:1},{countryName:this.intlService.translate("countries.guinea")||"Guinea",countryCode:"GN",dialCode:"224"},{countryName:this.intlService.translate("countries.guineaBissau")||"Guinea-Bissau",countryCode:"GW",dialCode:"245"},{countryName:this.intlService.translate("countries.guyana")||"Guyana",countryCode:"GY",dialCode:"592"},{countryName:this.intlService.translate("countries.haiti")||"Haiti",countryCode:"HT",dialCode:"509"},{countryName:this.intlService.translate("countries.honduras")||"Honduras",countryCode:"HN",dialCode:"504"},{countryName:this.intlService.translate("countries.hongKong")||"Hong Kong",countryCode:"HK",dialCode:"852"},{countryName:this.intlService.translate("countries.hungary")||"Hungary",countryCode:"HU",dialCode:"36"},{countryName:this.intlService.translate("countries.iceland")||"Iceland",countryCode:"IS",dialCode:"354"},{countryName:this.intlService.translate("countries.india")||"India",countryCode:"IN",dialCode:"91"},{countryName:this.intlService.translate("countries.indonesia")||"Indonesia",countryCode:"ID",dialCode:"62"},{countryName:this.intlService.translate("countries.iran")||"Iran",countryCode:"IR",dialCode:"98"},{countryName:this.intlService.translate("countries.iraq")||"Iraq",countryCode:"IQ",dialCode:"964"},{countryName:this.intlService.translate("countries.ireland")||"Ireland",countryCode:"IE",dialCode:"353"},{countryName:this.intlService.translate("countries.isleOfMan")||"Isle of Man",countryCode:"IM",dialCode:"44",priority:2},{countryName:this.intlService.translate("countries.israel")||"Israel",countryCode:"IL",dialCode:"972"},{countryName:this.intlService.translate("countries.italy")||"Italy",countryCode:"IT",dialCode:"39",priority:0},{countryName:this.intlService.translate("countries.jamaica")||"Jamaica",countryCode:"JM",dialCode:"1876"},{countryName:this.intlService.translate("countries.japan")||"Japan",countryCode:"JP",dialCode:"81"},{countryName:this.intlService.translate("countries.jersey")||"Jersey",countryCode:"JE",dialCode:"44",priority:3},{countryName:this.intlService.translate("countries.jordan")||"Jordan",countryCode:"JO",dialCode:"962"},{countryName:this.intlService.translate("countries.kazakhstan")||"Kazakhstan",countryCode:"KZ",dialCode:"7",priority:1},{countryName:this.intlService.translate("countries.kenya")||"Kenya",countryCode:"KE",dialCode:"254"},{countryName:this.intlService.translate("countries.kiribati")||"Kiribati",countryCode:"KI",dialCode:"686"},{countryName:this.intlService.translate("countries.kosovo")||"Kosovo",countryCode:"XK",dialCode:"383"},{countryName:this.intlService.translate("countries.kuwait")||"Kuwait",countryCode:"KW",dialCode:"965"},{countryName:this.intlService.translate("countries.kyrgyzstan")||"Kyrgyzstan",countryCode:"KG",dialCode:"996"},{countryName:this.intlService.translate("countries.laos")||"Laos",countryCode:"LA",dialCode:"856"},{countryName:this.intlService.translate("countries.latvia")||"Latvia",countryCode:"LV",dialCode:"371"},{countryName:this.intlService.translate("countries.lebanon")||"Lebanon",countryCode:"LB",dialCode:"961"},{countryName:this.intlService.translate("countries.lesotho")||"Lesotho",countryCode:"LS",dialCode:"266"},{countryName:this.intlService.translate("countries.liberia")||"Liberia",countryCode:"LR",dialCode:"231"},{countryName:this.intlService.translate("countries.libya")||"Libya",countryCode:"LY",dialCode:"218"},{countryName:this.intlService.translate("countries.liechtenstein")||"Liechtenstein",countryCode:"LI",dialCode:"423"},{countryName:this.intlService.translate("countries.lithuania")||"Lithuania",countryCode:"LT",dialCode:"370"},{countryName:this.intlService.translate("countries.luxembourg")||"Luxembourg",countryCode:"LU",dialCode:"352"},{countryName:this.intlService.translate("countries.macau")||"Macau",countryCode:"MO",dialCode:"853"},{countryName:this.intlService.translate("countries.macedonia")||"Macedonia (FYROM)",countryCode:"MK",dialCode:"389"},{countryName:this.intlService.translate("countries.madagascar")||"Madagascar",countryCode:"MG",dialCode:"261"},{countryName:this.intlService.translate("countries.malawi")||"Malawi",countryCode:"MW",dialCode:"265"},{countryName:this.intlService.translate("countries.malaysia")||"Malaysia",countryCode:"MY",dialCode:"60"},{countryName:this.intlService.translate("countries.maldives")||"Maldives",countryCode:"MV",dialCode:"960"},{countryName:this.intlService.translate("countries.mali")||"Mali",countryCode:"ML",dialCode:"223"},{countryName:this.intlService.translate("countries.malta")||"Malta",countryCode:"MT",dialCode:"356"},{countryName:this.intlService.translate("countries.marshallIslands")||"Marshall Islands",countryCode:"MH",dialCode:"692"},{countryName:this.intlService.translate("countries.martinique")||"Martinique",countryCode:"MQ",dialCode:"596"},{countryName:this.intlService.translate("countries.mauritania")||"Mauritania",countryCode:"MR",dialCode:"222"},{countryName:this.intlService.translate("countries.mauritius")||"Mauritius",countryCode:"MU",dialCode:"230"},{countryName:this.intlService.translate("countries.mayotte")||"Mayotte",countryCode:"YT",dialCode:"262",priority:1},{countryName:this.intlService.translate("countries.mexico")||"Mexico",countryCode:"MX",dialCode:"52"},{countryName:this.intlService.translate("countries.micronesia")||"Micronesia",countryCode:"FM",dialCode:"691"},{countryName:this.intlService.translate("countries.moldova")||"Moldova",countryCode:"MD",dialCode:"373"},{countryName:this.intlService.translate("countries.monaco")||"Monaco",countryCode:"MC",dialCode:"377"},{countryName:this.intlService.translate("countries.mongolia")||"Mongolia",countryCode:"MN",dialCode:"976"},{countryName:this.intlService.translate("countries.montenegro")||"Montenegro",countryCode:"ME",dialCode:"382"},{countryName:this.intlService.translate("countries.montserrat")||"Montserrat",countryCode:"MS",dialCode:"1664"},{countryName:this.intlService.translate("countries.morocco")||"Morocco",countryCode:"MA",dialCode:"212",priority:0},{countryName:this.intlService.translate("countries.mozambique")||"Mozambique",countryCode:"MZ",dialCode:"258"},{countryName:this.intlService.translate("countries.myanmar")||"Myanmar (Burma)",countryCode:"MM",dialCode:"95"},{countryName:this.intlService.translate("countries.namibia")||"Namibia",countryCode:"NA",dialCode:"264"},{countryName:this.intlService.translate("countries.nauru")||"Nauru",countryCode:"NR",dialCode:"674"},{countryName:this.intlService.translate("countries.nepal")||"Nepal",countryCode:"NP",dialCode:"977"},{countryName:this.intlService.translate("countries.netherlands")||"Netherlands",countryCode:"NL",dialCode:"31"},{countryName:this.intlService.translate("countries.newCaledonia")||"New Caledonia",countryCode:"NC",dialCode:"687"},{countryName:this.intlService.translate("countries.newZealand")||"New Zealand",countryCode:"NZ",dialCode:"64"},{countryName:this.intlService.translate("countries.nicaragua")||"Nicaragua",countryCode:"NI",dialCode:"505"},{countryName:this.intlService.translate("countries.niger")||"Niger",countryCode:"NE",dialCode:"227"},{countryName:this.intlService.translate("countries.nigeria")||"Nigeria",countryCode:"NG",dialCode:"234"},{countryName:this.intlService.translate("countries.niue")||"Niue",countryCode:"NU",dialCode:"683"},{countryName:this.intlService.translate("countries.norfolkIsland")||"Norfolk Island",countryCode:"NF",dialCode:"672"},{countryName:this.intlService.translate("countries.northKorea")||"North Korea",countryCode:"KP",dialCode:"850"},{countryName:this.intlService.translate("countries.northernMarianaIslands")||"Northern Mariana Islands",countryCode:"MP",dialCode:"1670"},{countryName:this.intlService.translate("countries.norway")||"Norway",countryCode:"NO",dialCode:"47",priority:0},{countryName:this.intlService.translate("countries.oman")||"Oman",countryCode:"OM",dialCode:"968"},{countryName:this.intlService.translate("countries.pakistan")||"Pakistan",countryCode:"PK",dialCode:"92"},{countryName:this.intlService.translate("countries.palau")||"Palau",countryCode:"PW",dialCode:"680"},{countryName:this.intlService.translate("countries.palestine")||"Palestine",countryCode:"PS",dialCode:"970"},{countryName:this.intlService.translate("countries.panama")||"Panama",countryCode:"PA",dialCode:"507"},{countryName:this.intlService.translate("countries.papuaNewGuinea")||"Papua New Guinea",countryCode:"PG",dialCode:"675"},{countryName:this.intlService.translate("countries.paraguay")||"Paraguay",countryCode:"PY",dialCode:"595"},{countryName:this.intlService.translate("countries.peru")||"Peru",countryCode:"PE",dialCode:"51"},{countryName:this.intlService.translate("countries.philippines")||"Philippines",countryCode:"PH",dialCode:"63"},{countryCode:"PN",countryName:this.intlService.translate("countries.pitcairn")||"Pitcairn"},{countryName:this.intlService.translate("countries.poland")||"Poland",countryCode:"PL",dialCode:"48"},{countryName:this.intlService.translate("countries.portugal")||"Portugal",countryCode:"PT",dialCode:"351"},{countryName:this.intlService.translate("countries.puertoRico")||"Puerto Rico",countryCode:"PR",dialCode:"1",priority:3,areaCodes:["787","939"]},{countryName:this.intlService.translate("countries.qatar")||"Qatar",countryCode:"QA",dialCode:"974"},{countryName:this.intlService.translate("countries.reunion")||"Runion",countryCode:"RE",dialCode:"262",priority:0},{countryName:this.intlService.translate("countries.romania")||"Romania",countryCode:"RO",dialCode:"40"},{countryName:this.intlService.translate("countries.russia")||"Russia",countryCode:"RU",dialCode:"7",priority:0},{countryName:this.intlService.translate("countries.rwanda")||"Rwanda",countryCode:"RW",dialCode:"250"},{countryName:this.intlService.translate("countries.saintBarthelemy")||"Saint Barthlemy",countryCode:"BL",dialCode:"590",priority:1},{countryName:this.intlService.translate("countries.saintHelena")||"Saint Helena",countryCode:"SH",dialCode:"290"},{countryName:this.intlService.translate("countries.saintKittsAndNevis")||"Saint Kitts and Nevis",countryCode:"KN",dialCode:"1869"},{countryName:this.intlService.translate("countries.saintLucia")||"Saint Lucia",countryCode:"LC",dialCode:"1758"},{countryName:this.intlService.translate("countries.saintMartin")||"Saint Martin (Saint-Martin",countryCode:"MF",dialCode:"590",priority:2},{countryName:this.intlService.translate("countries.saintPierreAndMiquelon")||"Saint Pierre and Miquelon",countryCode:"PM",dialCode:"508"},{countryName:this.intlService.translate("countries.saintVincentAndTheGrenadines")||"Saint Vincent and the Grenadines",countryCode:"VC",dialCode:"1784"},{countryName:this.intlService.translate("countries.samoa")||"Samoa",countryCode:"WS",dialCode:"685"},{countryName:this.intlService.translate("countries.sanMarino")||"San Marino",countryCode:"SM",dialCode:"378"},{countryName:this.intlService.translate("countries.saoTomeAndPrincipe")||"So Tom and Prncipe",countryCode:"ST",dialCode:"239"},{countryName:this.intlService.translate("countries.saudiArabia")||"Saudi Arabia",countryCode:"SA",dialCode:"966"},{countryName:this.intlService.translate("countries.senegal")||"Senegal",countryCode:"SN",dialCode:"221"},{countryName:this.intlService.translate("countries.serbia")||"Serbia",countryCode:"RS",dialCode:"381"},{countryName:this.intlService.translate("countries.seychelles")||"Seychelles",countryCode:"SC",dialCode:"248"},{countryName:this.intlService.translate("countries.sierraLeone")||"Sierra Leone",countryCode:"SL",dialCode:"232"},{countryName:this.intlService.translate("countries.singapore")||"Singapore",countryCode:"SG",dialCode:"65"},{countryName:this.intlService.translate("countries.sintMaarten")||"Sint Maarten",countryCode:"SX",dialCode:"1721"},{countryName:this.intlService.translate("countries.slovakia")||"Slovakia",countryCode:"SK",dialCode:"421"},{countryName:this.intlService.translate("countries.slovenia")||"Slovenia",countryCode:"SI",dialCode:"386"},{countryName:this.intlService.translate("countries.solomonIslands")||"Solomon Islands",countryCode:"SB",dialCode:"677"},{countryName:this.intlService.translate("countries.somalia")||"Somalia",countryCode:"SO",dialCode:"252"},{countryName:this.intlService.translate("countries.southAfrica")||"South Africa",countryCode:"ZA",dialCode:"27"},{countryCode:"GS",countryName:this.intlService.translate("countries.southGeorgiaAndTheSouthSandwichIslands")||"South Georgia and the South Sandwich Islands"},{countryName:this.intlService.translate("countries.southKorea")||"South Korea",countryCode:"KR",dialCode:"82"},{countryName:this.intlService.translate("countries.southSudan")||"South Sudan",countryCode:"SS",dialCode:"211"},{countryName:this.intlService.translate("countries.spain")||"Spain",countryCode:"ES",dialCode:"34"},{countryName:this.intlService.translate("countries.sriLanka")||"Sri Lanka",countryCode:"LK",dialCode:"94"},{countryName:this.intlService.translate("countries.sudan")||"Sudan",countryCode:"SD",dialCode:"249"},{countryName:this.intlService.translate("countries.suriname")||"Suriname",countryCode:"SR",dialCode:"597"},{countryName:this.intlService.translate("countries.svalbardAndJanMayen")||"Svalbard and Jan Mayen",countryCode:"SJ",dialCode:"47",priority:1},{countryName:this.intlService.translate("countries.swaziland")||"Swaziland",countryCode:"SZ",dialCode:"268"},{countryName:this.intlService.translate("countries.sweden")||"Sweden",countryCode:"SE",dialCode:"46"},{countryName:this.intlService.translate("countries.switzerland")||"Switzerland",countryCode:"CH",dialCode:"41"},{countryName:this.intlService.translate("countries.syria")||"Syria",countryCode:"SY",dialCode:"963"},{countryName:this.intlService.translate("countries.taiwan")||"Taiwan",countryCode:"TW",dialCode:"886"},{countryName:this.intlService.translate("countries.tajikistan")||"Tajikistan",countryCode:"TJ",dialCode:"992"},{countryName:this.intlService.translate("countries.tanzania")||"Tanzania",countryCode:"TZ",dialCode:"255"},{countryName:this.intlService.translate("countries.thailand")||"Thailand",countryCode:"TH",dialCode:"66"},{countryName:this.intlService.translate("countries.timorLeste")||"Timor-Leste",countryCode:"TL",dialCode:"670"},{countryName:this.intlService.translate("countries.togo")||"Togo",countryCode:"TG",dialCode:"228"},{countryName:this.intlService.translate("countries.tokelau")||"Tokelau",countryCode:"TK",dialCode:"690"},{countryName:this.intlService.translate("countries.tonga")||"Tonga",countryCode:"TO",dialCode:"676"},{countryName:this.intlService.translate("countries.trinidadAndTobago")||"Trinidad and Tobago",countryCode:"TT",dialCode:"1868"},{countryName:this.intlService.translate("countries.tunisia")||"Tunisia",countryCode:"TN",dialCode:"216"},{countryName:this.intlService.translate("countries.turkey")||"Turkey",countryCode:"TR",dialCode:"90"},{countryName:this.intlService.translate("countries.turkmenistan")||"Turkmenistan",countryCode:"TM",dialCode:"993"},{countryName:this.intlService.translate("countries.turksAndCaicosIslands")||"Turks and Caicos Islands",countryCode:"TC",dialCode:"1649"},{countryName:this.intlService.translate("countries.tuvalu")||"Tuvalu",countryCode:"TV",dialCode:"688"},{countryName:this.intlService.translate("countries.usVirginIslands")||"U.S. Virgin Islands",countryCode:"VI",dialCode:"1340"},{countryName:this.intlService.translate("countries.uganda")||"Uganda",countryCode:"UG",dialCode:"256"},{countryName:this.intlService.translate("countries.ukraine")||"Ukraine",countryCode:"UA",dialCode:"380"},{countryName:this.intlService.translate("countries.unitedArabEmirates")||"United Arab Emirates",countryCode:"AE",dialCode:"971"},{countryName:this.intlService.translate("countries.unitedKingdom")||"United Kingdom",countryCode:"GB",dialCode:"44",priority:0},{countryCode:"UM",countryName:this.intlService.translate("countries.unitedStatesMinorOutlyingIslands")||"United States Minor Outlying Islands"},{countryName:this.intlService.translate("countries.unitedStates")||"United States",countryCode:"US",dialCode:"1",priority:0},{countryName:this.intlService.translate("countries.uruguay")||"Uruguay",countryCode:"UY",dialCode:"598"},{countryName:this.intlService.translate("countries.uzbekistan")||"Uzbekistan",countryCode:"UZ",dialCode:"998"},{countryName:this.intlService.translate("countries.vanuatu")||"Vanuatu",countryCode:"VU",dialCode:"678"},{countryName:this.intlService.translate("countries.vaticanCity")||"Vatican City",countryCode:"VA",dialCode:"39",priority:1},{countryName:this.intlService.translate("countries.venezuela")||"Venezuela",countryCode:"VE",dialCode:"58"},{countryName:this.intlService.translate("countries.vietnam")||"Vietnam",countryCode:"VN",dialCode:"84"},{countryName:this.intlService.translate("countries.wallisAndFutuna")||"Wallis and Futuna",countryCode:"WF",dialCode:"681"},{countryName:this.intlService.translate("countries.westernSahara")||"Western Sahara",countryCode:"EH",dialCode:"212",priority:1},{countryName:this.intlService.translate("countries.yemen")||"Yemen",countryCode:"YE",dialCode:"967"},{countryName:this.intlService.translate("countries.zambia")||"Zambia",countryCode:"ZM",dialCode:"260"},{countryName:this.intlService.translate("countries.zimbabwe")||"Zimbabwe",countryCode:"ZW",dialCode:"263"}];return this.language&&this.language!==l.uZ.EN&&(t=this.sortCountryListAlphabetically(t)),n=t,(null===(e=this.params)||void 0===e?void 0:e.excludePalestineFromCountriesList)?s()(n).call(n,(e=>{let{countryCode:t}=e;return"PS"!==t})):n;var n}sortCountryListAlphabetically(e){return c()(e).call(e,((e,t)=>{const n=e.countryName.toLowerCase(),i=t.countryName.toLowerCase();return n<i?-1:n>i?1:0}))}}const d={language:null,translate:()=>null};function h(e){const t=(null==e?void 0:e.intl)||d;return new u(t,{excludePalestineFromCountriesList:null==e?void 0:e.excludePalestineFromCountriesList})}},91551:function(e,t,n){"use strict";n.d(t,{ZP:function(){return y},OQ:function(){return f}});var i,a,r=n(50418),s=n.n(r),o=n(90899),c=n.n(o),l=n(33415),u=n.n(l),d=n(97006),h=n(61695),m=n(76271);n(59222);const p=m,g=h;function y(e){const t=d.I.formatFiatCurrencies(p,e),n=d.I.formatCryptoCurrencies(g);return s()(s()({},t),n)}c()(i=u()(p)).call(i,(e=>e.code)),c()(a=u()(h)).call(a,(e=>e.code));const f=e=>"IDR"===e?12:8},97006:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});var i=n(22970),a=n(62871),r=n(76271);class s{loadFiat(e){const t=r;return s.formatFiatCurrencies(t,e)}loadCrypto(){return(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.getCryptoCurrencies();return s.formatCryptoCurrencies(e)}))}static formatFiatCurrencies(e,t){t||(t={translate:()=>null});const n={};for(const i in e){const r=e[i];n[i]={name:t.translate(`currencies.${i}`)||r.name,code:i,symbol:r.symbol,digits:r.digits,type:a.x.FIAT,sources:[a.x.FIAT]}}return n}static formatCryptoCurrencies(e){const t={};for(const n in e){const i=e[n];t[n]={name:i.name,code:n,symbol:i.symbol,digits:i.digits,protocol:i.protocol,networkName:i.networkName,network:i.network,provider:i.provider,type:a.x.CRYPTO,sources:i.provider}}return t}}},32493:function(e,t,n){"use strict";n.d(t,{Rt:function(){return i},JX:function(){return a},qA:function(){return r}});const i=2,a='RangeError: currencyDisplay must be either "code", "symbol", or "name"',r="symbol"},94305:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var i=n(33093),a=n.n(i),r=n(98419);function s(e,t){return t&&a()(r.y).call(r.y,e)?"":e}},98419:function(e,t,n){"use strict";n.d(t,{y:function(){return r},i:function(){return s}});var i=n(33093),a=n.n(i);const r=["GBP"];function s(e){return a()(r).call(r,e)}},62871:function(e,t,n){"use strict";var i;n.d(t,{x:function(){return i}}),function(e){e.FIAT="fiat",e.CRYPTO="crypto"}(i||(i={}))},77689:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var i=n(36004),a=n.n(i);class r{constructor(){this.providers=new(a()),this.cache=new(a())}get(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.providers.get(e);if(!n)throw new Error(`${String(e)} is not provided`);if(t&&this.cache.has(e))return this.cache.get(e);const i=n();return t?(this.cache.has(e)||this.cache.set(e,i),i):i}provide(e,t){return this.providers.has(e)?(console.warn(`14 ${String(e)}`),this):(this.providers.set(e,t),this)}}function s(){return window.FUN_SERVICE_CONTAINER||(window.FUN_SERVICE_CONTAINER=new r),window.FUN_SERVICE_CONTAINER}},40695:function(e,t,n){"use strict";n.d(t,{O5:function(){return c},FX:function(){return l},um:function(){return u},Lb:function(){return d},f0:function(){return h},j5:function(){return m},zm:function(){return p}});var i=n(50418),a=n.n(i),r=(n(49401),n(8005),n(26562),n(85738)),s=n.n(r);n(77689);const o=/#(.+?)(&|$)/;function c(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return{};const n=/([^=&#?]+)=([^=&#?]+)/gi,i={};for(;;){const a=n.exec(e);if(!a)break;const[,r,s]=a;try{t?i[decodeURIComponent(r)]=decodeURIComponent(s):i[r]=s}catch(e){console.error(e)}}return i}function l(e,t){let n=e;for(;;){if(t(n))return n;if(!n.parentNode)return;n=n.parentNode}}function u(e,t){if(e.getAttribute)return e.getAttribute("data-"+t)||void 0}function d(e){if(!e)return null;if(!o.test(e))return null;const t=/(#.+?)$/.exec(e);if(!t)return null;const n=t[0],i=o.exec(n);if(!i)return null;const r=i[1],s=c(n),l={key:r};return a()(l,s),l}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=[];for(const i in e){const a=e[i];t?n.push(`${encodeURIComponent(i)}=${encodeURIComponent(a)}`):n.push(`${i}=${a}`)}return n.join("&")}function m(e,t){const n=e.storage;let i=0;const a=n.getField("xFactor");if(a)return Number(a)||0;if(!e.sessionAt)return i;try{const n=s()(),a=e.sessionPage,r=n-e.sessionAt;t&&(i+=10),/win/i.test(window.navigator.platform)&&(i-=10),/mac/i.test(window.navigator.platform)&&(i+=5),r>648e4&&(i+=10),a<=2&&(i+=15),a>5&&(i+=5),r<6e3&&(i+=5),r>=18e3&&(i+=10)}catch(e){i=0,console.error(e)}return i&&n.setField("xFactor",String(i)),i}function p(e,t){var n;const i=a()({},e,{campaign:a()(a()({},e.widget),{recentDonations:(null==t?void 0:t.campaign.recentDonations)||null,config:a()(a()({},e.widget.config),{experimentsSettings:{desktop:{},mobile:{}},trend:{once:0,daily:0,weekly:0,biweekly:0,every4weeks:0,monthly:0,bimonthly:0,quarterly:0,semiannual:0,annual:0}})}),config:a()({},e.serverConfig),goals:[],aiSuggestions:[],fundraisingPage:null,user:{address:a()(a()({},e.user.address),{region:""})}});return t&&i.campaign.config.campaignPage&&(i.campaign.config.campaignPage.goal.raisedAmount=(null===(n=t.campaign.config.campaignPage)||void 0===n?void 0:n.goal.raisedAmount)||null),i}},10140:function(e,t,n){"use strict";n.d(t,{WY:function(){return C},Lu:function(){return E},J6:function(){return A}});var i=n(36004),a=n.n(i),r=n(74426),s=n.n(r),o=n(33093),c=n.n(o),l=n(87636),u=n.n(l),d=n(42461),h=n.n(d),m=n(32142),p=n.n(m),g=n(29275),y=n.n(g),f=n(22970),v=n(61681);const S=new(a());function C(e){return(0,f.mG)(this,void 0,void 0,(function*(){var t;const n=new b(e),i=S.get(e.url);e.cancelSimilar&&i&&i(),S.set(e.url,s()(t=n.abort).call(t,n));try{const t=yield n.send();return S.delete(e.url),t}catch(t){throw"AbortError"!==(null==t?void 0:t.originalErrorName)&&S.delete(e.url),t}}))}class b{constructor(e){this.options=e,this.abortController=function(){try{return void 0!==window.AbortController}catch(e){return!1}}()?new AbortController:null}abort(){var e;null===(e=this.abortController)||void 0===e||e.abort()}send(){var e,t;return(0,f.mG)(this,void 0,void 0,(function*(){const n=this.getUrl(),i=this.getHeaders(),a=this.getBody(),r=this.getCredentials();let s;try{s=yield fetch(n,{method:this.options.method,signal:null===(e=this.abortController)||void 0===e?void 0:e.signal,headers:i,credentials:r,body:a})}catch(e){const t=e instanceof Error?e.message:"Network Error";throw new E(0,t,this.options.method,this.options.url,null==e?void 0:e.name,this.options.setCustomFingerprint)}const o=s.status;let l;const u=s.headers.get("content-type");if(l=(null==u?void 0:c()(u).call(u,"application/json"))?yield s.json():yield s.text(),o>=500&&this.options.rejectOnInvalid)throw new E(o,s.statusText,this.options.method,this.options.url,"",this.options.setCustomFingerprint);const d=o>=200&&o<400||(null===(t=this.options.validStatuses)||void 0===t?void 0:c()(t).call(t,o));return{data:l,valid:Boolean(d)}}))}getHeaders(){const e=new Headers,t=this.options.headers;var n;return t&&u()(n=h()(t)).call(n,(n=>{const i=t[n];void 0!==i&&e.append(n,i)})),e}getBody(){return void 0!==this.options.params&&"GET"!==this.options.method?p()(this.options.params):null}getUrl(){let e=this.options.url;if("GET"===this.options.method&&this.options.params){const t=new(y());for(const e of h()(this.options.params))void 0!==this.options.params[e]&&t.set(e,String(this.options.params[e]));e+=`?${t.toString()}`}return e}getCredentials(){return"withCredentials"in this.options?this.options.withCredentials?"include":"omit":"include"}}class E extends Error{constructor(e,t,n,i,a,r){super(`[Checkout Shared]: Server ${n} response status ${e}, ${t} for url ${i}`),this.originalErrorName=a,r&&(this[v.qH]=[i,t]),this.statusCode=e}}class A extends Error{constructor(){super('Request returned failure result with "rejectOnInvalid" flag set')}}},3619:function(e,t,n){"use strict";n.d(t,{dI:function(){return l},j9:function(){return g},w0:function(){return p},C3:function(){return d}}),n(69117),n(16465),n(87636),n(11052);var i=n(33093),a=n.n(i);n(71899);var r=n(41563),s=n(44712);const o=[s.c.AR_001],c=[r.u.AR];function l(e){return e.split("-")[0]}s.c.AR_001;const u={"&amp;":"&"};function d(e){let t=e;for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&a()(e).call(e,r)&&(n=r,i=u[r],t=t.replace(new RegExp(n,"g"),i));var n,i;return t}function h(e){return a()(o).call(o,e)}function m(e){return a()(c).call(c,e)}function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!t&&h(e)?"rtl":"ltr"}function g(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!t&&m(e)?"rtl":"ltr"}},61681:function(e,t,n){"use strict";n.d(t,{qH:function(){return r}});var i=n(4707),a=n.n(i);const r=a()("CUSTOM_FINGERPRINT");var s;a()("EXTRA"),a()("TAGS"),function(e){e.COMMON="common",e.ADMIN="admin",e.DASHBOARD="dashboard",e.DONOR_PORTAL="donorPortal",e.CAMPAIGN_PAGE="campaign-page",e.INTEGRATION="integration",e.BILLING="billing"}(s||(s={}))},75334:function(e,t,n){"use strict";function i(){const e=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);return Boolean(e)}n.d(t,{Z:function(){return i}})},4024:function(e,t,n){"use strict";var i;n.d(t,{G:function(){return i}}),function(e){e.CARD="creditCard",e.APPLE_PAY="applePay",e.GOOGLE_PAY="googlePay",e.CLICK_TO_PAY="clickToPay",e.ACH="ach",e.PLAID="plaid",e.PAYPAL="paypal",e.VENMO="venmo",e.AU_BECS="auBecsDebit",e.UK_BACS="ukBacs",e.ACSS="acss",e.SEPA="sepa",e.IDEAL="ideal",e.CRYPTO="crypto",e.STOCK="stock",e.US_BANK_ACCOUNT="usBankAccount"}(i||(i={}))},96670:function(e,t,n){"use strict";var i;n.d(t,{GZ:function(){return T.G},rL:function(){return f},Ey:function(){return l},fx:function(){return d},xB:function(){return w},El:function(){return v},OQ:function(){return A}}),function(e){e.ACH_VERIFICATION_REQUIRED="ach_verification_required",e.INCOMPLETE="incomplete",e.RETRYING="retrying",e.WAITING_FOR_TRANSFER="waiting_for_transfer",e.PAYPAL_ACTION_REQUIRED="paypal_action_required",e.SCHEDULED="scheduled",e.DISPUTE_LOST="dispute_lost",e.ACCOUNT_CLOSED="account_closed",e.ACCOUNT_FROZEN="account_frozen",e.AUTHENTICATION_REQUIRED="authentication_required",e.BANK_ACCOUNT_RESTRICTED="bank_account_restricted",e.CARD_DECLINED="card_declined",e.CREDIT_CARD_ACTION_REQUIRED="credit_card_action_required",e.DEBIT_NOT_AUTHORIZED="debit_not_authorized",e.EXPIRED_CARD="expired_card",e.INCORRECT_CVC="incorrect_cvc",e.INCORRECT_NUMBER="incorrect_number",e.INCORRECT_ZIP="incorrect_zip",e.INSUFFICIENT_FUNDS="insufficient_funds",e.INVALID_ACCOUNT_NUMBER="invalid_account_number",e.NO_ACCOUNT="no_account",e.PARAMETER_INVALID_INTEGER="parameter_invalid_integer",e.PROCESSING_ERROR="processing_error",e.RESOURCE_MISSING="resource_missing",e.ACH_VERIFICATION_FAILED="ach_verification_failed",e.ACH_VERIFICATION_EXPIRED="ach_verification_expired",e.FUN_VERIFICATION_CANCEL="fun_verification_cancel",e.SUBSCRIPTION_CANCELLED_BY_COMPANY="subscription_cancelled_by_company",e.SUBSCRIPTION_CANCELLED_BY_CUSTOMER="subscription_cancelled_by_customer",e.SUBSCRIPTION_SKIPPED_BY_COMPANY="subscription_skipped_by_company",e.SUBSCRIPTION_SKIPPED_BY_CUSTOMER="subscription_skipped_by_customer",e.PAYMENT_METHOD_INVALIDATED="payment_method_invalidated",e.FAILED_BY_TERMINATION_FLOW="failed_by_termination_flow",e.NOT_ELIGIBLE="not_eligible",e.UNKNOWN_REASON="unknown_reason",e.CANCELLED_BY_CUSTOMER="cancelled_by_customer",e.CANCELLED_BY_COMPANY="cancelled_by_company"}(i||(i={}));var a,r,s,o,c,l,u,d,h,m,p,g,y,f,v,S,C,b,E,A,N,P,x,k,w,D,T=n(4024);!function(e){e.BITCOIN="bitcoin",e.ETHEREUM="ethereum",e.BITCOINCASH="bitcoincash",e.LITECOIN="litecoin",e.ZCASH="zcash",e.FILECOIN="filecoin",e.DOGECOIN="dogecoin",e.TEZOS="tezos",e.SOLANA="solana",e.POLKADOT="polkadot"}(a||(a={})),function(e){e.PENDING="pending",e.FAILED="failed",e.SUCCESS="success",e.REFUNDED="refunded"}(r||(r={})),function(e){e.FAIL="fail",e.FAIL_NOT_ELIGIBLE="fail_not_eligible",e.WAIT_FOR_TRANSFER="wait_for_transfer",e.SUCCEED="succeed"}(s||(s={})),function(e){e.PENDING="pending",e.SUCCESS="success",e.FAILED="failed"}(o||(o={})),function(e){e.ACH="ach",e.GOOGLE_PAY="android_pay",e.APPLE_PAY="apple_pay",e.CLICK_TO_PAY="masterpass",e.PLAID="plaid"}(c||(c={})),function(e){e.CARD="card",e.BANK_ACCOUNT="bank_account",e.PAYPAL="paypal",e.VENMO="venmo",e.SOURCE="source",e.AU_BECS="au_becs_debit",e.UK_BACS="bacs_debit",e.ACSS="acss_debit",e.SEPA="sepa_debit",e.IDEAL="ideal",e.CRYPTO="crypto",e.STOCK="stock",e.US_BANK_ACCOUNT="us_bank_account"}(l||(l={})),function(e){e.CHARGEABLE="chargeable",e.NEW="new",e.VERIFICATION_FAILED="verification_failed",e.VERIFIED="verified",e.VALIDATED="validated",e.ERRORED="errored"}(u||(u={})),function(e){e.STRIPE="stripe",e.PAYPAL="paypal",e.MANUAL_BROKERAGE="manualBrokerage",e.GEMINI="gemini",e.COINBASE_COMMERCE="coinbaseCommerce"}(d||(d={})),function(e){e.STRIPE_TOKEN="stripeToken",e.CLICK_TO_PAY="clickToPay",e.STRIPE_PAYMENT_METHOD="stripePaymentMethod"}(h||(h={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.FAILED="failed"}(m||(m={})),function(e){e.RETRYING="retrying",e.ACH_VERIFICATION_REQUIRED="ach_verification_required",e.SCHEDULED="scheduled",e.PAUSED="paused",e.CANCELLED_BY_COMPANY="cancelled_by_company",e.CANCELLED_BY_CUSTOMER="cancelled_by_customer",e.CANCELLED_BY_TERMINATION_FLOW="cancelled_by_termination_flow",e.CANCELLED_BY_DISPUTE_LOST="cancelled_by_dispute_lost",e.CANCELLED_BY_LIMIT="cancelled_by_limit",e.ACH_VERIFICATION_FAILED="ach_verification_failed",e.ACH_VERIFICATION_EXPIRED="ach_verification_expired",e.PAYMENT_METHOD_INVALIDATED="payment_method_invalidated",e.FAILED_BY_INSUFFICIENT="failed_by_insufficient_data"}(p||(p={})),function(e){e.CARD="card",e.BANK_ACCOUNT="bank_account",e.US_BANK_ACCOUNT="us_bank_account",e.AU_BECS="au_becs_debit",e.UK_BACS="bacs_debit",e.ACSS="acss_debit",e.SEPA="sepa_debit",e.IDEAL="ideal"}(g||(g={})),function(e){e.VISA="Visa",e.VISA_ELECTRON="Visa Electron",e.MASTER_CARD="MasterCard",e.AMERICAN_EXPRESS="American Express",e.DINERS_CLUB="Diners Club",e.DISCOVER="Discover",e.JCB="JCB",e.UNION_PAY="UnionPay"}(y||(y={})),function(e){e.VISA="visa",e.AMERICAN_EXPRESS="amex",e.MASTERCARD="mastercard",e.DISCOVER="discover"}(f||(f={})),function(e){e[e.STANDARD=290]="STANDARD",e[e.NON_PROFIT=220]="NON_PROFIT"}(v||(v={})),function(e){e[e.AUTO=-1]="AUTO",e[e.NEVER=0]="NEVER",e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR",e[e.FIVE=5]="FIVE",e[e.SIX=6]="SIX"}(S||(S={})),function(e){e.NEW="new",e.VALIDATED="validated",e.VERIFIED="verified",e.FAILED="verification_failed",e.ERRORED="errored"}(C||(C={})),function(e){e.INDIVIDUAL="individual",e.COMPANY="company"}(b||(b={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.DISABLED="disabled"}(E||(E={})),function(e){e.REQUIRES_ACTION="requires_action",e.REQUIRES_CONFIRMATION="requires_confirmation",e.REQUIRES_PAYMENT_METHOD="requires_payment_method",e.REQUIRES_CAPTURE="requires_capture",e.PROCESSING="processing",e.SUCCEEDED="succeeded",e.CANCELLED="canceled"}(A||(A={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(N||(N={})),function(e){e.ACH_VERIFICATION_REQUIRED="ach_verification_required",e.ACH_VERIFICATION_FAILED="ach_verification_failed",e.ACH_VERIFICATION_CANCELLED="ach_verification_cancelled",e.ACH_VERIFICATION_EXPIRED="ach_verification_expired",e.UNKNOWN_ERROR="unknown_error",e.DEACTIVATED_ON_PROVIDER_SIDE="deactivated_on_provider_side",e.ACCOUNT_CLOSED="account_closed",e.ACCOUNT_FROZEN="account_frozen",e.AUTHENTICATION_REQUIRED="authentication_required",e.BANK_ACCOUNT_RESTRICTED="bank_account_restricted",e.CARD_DECLINED="card_declined",e.DEBIT_NOT_AUTHORIZED="debit_not_authorized",e.EXPIRED_CARD="expired_card",e.FUN_VERIFICATION_CANCEL="fun_verification_cancel",e.FUN_WRONG_PAYMENT_METHOD="fun_wrong_payment_method",e.INCORRECT_CVC="incorrect_cvc",e.INCORRECT_NUMBER="incorrect_number",e.INCORRECT_ZIP="incorrect_zip",e.INSUFFICIENT_FUNDS="insufficient_funds",e.INVALID_ACCOUNT_NUMBER="invalid_account_number",e.NO_ACCOUNT="no_account",e.PROCESSING_ERROR="processing_error",e.RESOURCE_MISSING="resource_missing",e.MANDATE_INACTIVE="mandate_inactive",e.STRIPE_CUSTOMER_REQUIRED="stripe_customer_required",e.STRIPE_CUSTOMER_NONE="stripe_customer_none"}(P||(P={})),function(e){e.PAYMENT_METHOD_INVALIDATED="fun_payment_method_invalidated",e.CHARGE_VERIFICATION_CANCELLED="fun_verification_cancel",e.PAYMENT_METHOD_VERIFICATION_EXPIRED="fun_verification_expired",e.PAYMENT_METHOD_VERIFICATION_FAILED="fun_verification_failed",e.CHARGE_VERIFICATION_CANCELLED_BY_COMPANY="fun_verification_cancel_by_company",e.CHARGE_VERIFICATION_CANCELLED_BY_SUPPORTER="fun_verification_cancel_by_supporter",e.PAYMENT_WAS_CANCELLED="fun_payment_was_cancelled",e.ACCOUNT_WAS_TERMINATED="fun_account_was_terminated"}(x||(x={})),function(e){e.UPDATE_SUBSCRIPTION_CUSTOMER_ADDRESS="update_subscription_customer_address",e.UPDATE_CHARGE_CUSTOMER_ADDRESS="update_charge_customer_address",e.UPDATE_SUBSCRIPTION_QUESTIONS="update_subscription_questions",e.UPDATE_CHARGE_RECEIPT="update_charge_receipt",e.UPDATE_SUBSCRIPTION_AMOUNT="update_subscription_amount",e.UPDATE_SUBSCRIPTION_CUSTOM_FIELDS="update_subscription_custom_fields",e.UPDATE_SUBSCRIPTION_GOAL="update_subscription_goal",e.UPDATE_CHARGE_GOAL="update_charge_goal",e.REFUND_APPLICATION_FEE="refund_application_fee",e.UPDATE_CHARGE_WIDGET="update_charge_widget",e.UPDATE_SUBSCRIPTION_LIMITS="update_subscription_limits"}(k||(k={})),function(e){e.PAYPAL_ERROR="PAYPAL_ERROR",e.PAYPAL_REQUEST_ERROR="PAYPAL_REQUEST_ERROR",e.REFUND_FAILED_INSUFFICIENT_FUNDS="REFUND_FAILED_INSUFFICIENT_FUNDS",e.TRANSACTION_REFUSED="TRANSACTION_REFUSED",e.TRANSACTION_ALREADY_REFUNDED="TRANSACTION_ALREADY_REFUNDED",e.USER_ACCOUNT_RESTRICTED="USER_ACCOUNT_RESTRICTED",e.INTERNAL="INTERNAL",e.UNAVAILABLE="UNAVAILABLE",e.EXECUTE_AGREEMENT_BUYER_NOT_ACCEPTED="EXECUTE_AGREEMENT_BUYER_NOT_ACCEPTED",e.ORDER_EXPIRED="ORDER_EXPIRED"}(w||(w={})),function(e){let t;!function(e){let t,n,i,a,r,s,o;!function(e){e.CREATED="charge.created",e.PENDING="charge.pending",e.REFUNDED="charge.refunded",e.FAILED="charge.failed",e.UPDATED="charge.updated",e.SUCCESS="charge.success",e.SUCCESS_DISPUTE_CREATED="charge.success_dispute_created",e.SUCCESS_EARLY_FRAUD_WARNING="charge.success_early_fraud_warning",e.SUCCESS_DISPUTE_LOST="charge.success_dispute_lost",e.PENDING_ACH_VERIFICATION_REQUIRED="charge.pending_ach_verification_required",e.PENDING_INCOMPLETE="charge.pending_incomplete",e.PENDING_SCHEDULED="charge.pending_scheduled",e.PENDING_WAITING_FOR_TRANSFER="charge.pending_waiting_for_transfer",e.PENDING_PAYPAL_ACTION_REQUIRED="charge.pending_paypal_action_required",e.PENDING_RETRYING="charge.pending_retrying",e.PERSONAL_DATA_DELETED="charge.personal_data_deleted"}(t=e.EChargeEvent||(e.EChargeEvent={})),function(e){e.ACTIVATED="subscription.activated",e.SCHEDULED="subscription.scheduled",e.FAILED="subscription.failed",e.COMPLETED="subscription.completed",e.CANCELLED="subscription.cancelled",e.TERMS_UPDATED="subscription.subscription_terms.updated",e.DETAILS_UPDATED="subscription.details.updated",e.PAUSED="subscription.paused",e.RETRYING="subscription.retrying",e.PERSONAL_DATA_DELETED="subscription.personal_data_deleted"}(n=e.ESubscriptionEvent||(e.ESubscriptionEvent={})),function(e){e.PENDING="charge_attempt.pending",e.SUCCESS="charge_attempt.success",e.FAILED="charge_attempt.failed"}(i=e.EChargeAttemptEvent||(e.EChargeAttemptEvent={})),function(e){e.ACTIVATE="payment_method.active",e.DEACTIVATE="payment_method.inactive",e.CREATED="payment_method.created",e.PERSONAL_DATA_DELETED="payment_method.personal_data_deleted"}(a=e.EPaymentMethodEvent||(e.EPaymentMethodEvent={})),function(e){e.CREATED="tribute.created",e.UPDATED="tribute.updated",e.SHARED="tribute.shared"}(r=e.ETributeEvent||(e.ETributeEvent={})),function(e){e.CREATED="abandoned_donation.created",e.OPEN="abandoned_donation.open",e.CANCELLED="abandoned_donation.cancelled",e.COMPLETED="abandoned_donation.completed",e.PERSONAL_DATA_DELETED="abandoned_donation.personal_data_deleted"}(s=e.EAbandonedDonationEvent||(e.EAbandonedDonationEvent={})),function(e){e.PERSONAL_DATA_DELETED="customer.personal_data_deleted",e.CREATED="customer.created",e.UPDATED="customer.updated"}(o=e.ECustomerEvent||(e.ECustomerEvent={}))}(t=e.DomainEvent||(e.DomainEvent={}))}(D||(D={}))},49685:function(e,t,n){"use strict";var i;n.d(t,{C:function(){return i}}),function(e){e.DEVELOPMENT="development",e.PRODUCTION="production",e.STAGING="staging",e.TESTING="testing"}(i||(i={}))},20929:function(e,t,n){"use strict";var i;n.d(t,{GZ:function(){return C.GZ},Ey:function(){return C.Ey},CB:function(){return b.C},xR:function(){return d},C9:function(){return r},h2:function(){return c},Tl:function(){return u},__:function(){return i},Bx:function(){return l}}),function(e){e.DEFAULT_YES="defaultYes",e.DEFAULT_NO="defaultNo",e.ONLY_YES="onlyYes",e.ONLY_NO="onlyNo",e.SMART_COVERING="smartCovering"}(i||(i={}));var a,r,s,o,c,l,u,d,h,m,p,g,y,f,v,S,C=n(96670),b=n(49685);!function(e){e.DONOR_PORTAL="donorPortal",e.PARTNER_PORTAL="partnerPortal",e.DASHBOARD="dashboard"}(a||(a={})),function(e){e.AUSTRALIA="AU",e.AUSTRIA="AT",e.BELGIUM="BE",e.BRAZIL="BR",e.BULGARIA="BG",e.CANADA="CA",e.CROATIA="HR",e.CYPRUS="CY",e.CZECH_REPUBLIC="CZ",e.DENMARK="DK",e.ESTONIA="EE",e.FINLAND="FI",e.FRANCE="FR",e.GERMANY="DE",e.GREECE="GR",e.HONG_KONG="HK",e.HUNGARY="HU",e.INDIA="IN",e.INDONESIA="ID",e.IRELAND="IE",e.ITALY="IT",e.JAPAN="JP",e.LATVIA="LV",e.LITHUANIA="LT",e.LUXEMBOURG="LU",e.MALAYSIA="MY",e.MALTA="MT",e.MEXICO="MX",e.NETHERLANDS="NL",e.NEW_ZEALAND="NZ",e.NORWAY="NO",e.POLAND="PL",e.PORTUGAL="PT",e.ROMANIA="RO",e.SINGAPORE="SG",e.SLOVAKIA="SK",e.SLOVENIA="SI",e.SPAIN="ES",e.SWEDEN="SE",e.SWITZERLAND="CH",e.THAILAND="TH",e.UNITED_ARAB_EMIRATES="AE",e.UNITED_KINGDOM="GB",e.UNITED_STATES="US",e.GIBRALTAR="GI",e.LIECHTENSTEIN="LI",e.PHILIPPINES="PH",e.ISRAEL="IL"}(r||(r={})),function(e){e.PAN_ONLY="PAN_ONLY",e.CRYPTOGRAM_3DS="CRYPTOGRAM_3DS"}(s||(s={})),function(e){e.AMEX="AMEX",e.DISCOVER="DISCOVER",e.JCB="JCB",e.MASTERCARD="MASTERCARD",e.VISA="VISA"}(o||(o={})),function(e){e.IN_HONOR_MEMORY="inHonorMemory",e.DEDICATION="dedication"}(c||(c={})),function(e){e.DEFAULT_MONTHLY="defaultMonthly",e.ONLY_MONTHLY="onlyMonthly",e.DEFAULT_ONETIME="defaultOnetime",e.ONLY_ONETIME="onlyOnetime"}(l||(l={})),function(e){e.FUNDRAISING_PAGE="fundraisingPage",e.REDIRECT="redirect",e.THANK_YOU_SCREEN="thankYouScreen"}(u||(u={})),function(e){e.DESKTOP="desktop",e.MOBILE="mobile"}(d||(d={})),function(e){e.DISABLED="disabled",e.DRY_RUN="dry-run",e.ENABLED="enabled"}(h||(h={})),function(e){e.LIVE="live",e.TEST="test"}(m||(m={})),function(e){e.TEXT="text",e.EMAIL="email"}(p||(p={})),function(e){e.WEBSITE="website",e.CAMPAIGN_PAGE="campaignPage",e.VIRTUAL_TERMINAL="virtualTerminal",e.DONOR_PORTAL="donorPortal",e.DASHBOARD="dashboard",e.RECURRING_MIGRATION="recurringMigration"}(g||(g={})),function(e){e.DAY_7="7d",e.MONTH="1m",e.MONTH_3="3m",e.YEAR_TO_DAY="ytd",e.YEAR="1y",e.YEAR_5="5y"}(y||(y={})),function(e){e.FULL="full",e.CHUNK="chunk"}(f||(f={})),function(e){e.CHARGES="charges",e.COMPANIES="companies",e.CUSTOMERS="customers",e.ELEMENTS="elements",e.SUBSCRIPTIONS="subscriptions",e.WIDGETS="widgets",e.FUNDRAISING_PAGES="fundraisingpages",e.USERS="users"}(v||(v={})),function(e){e.FULL="full",e.FROM="from"}(S||(S={})),y.DAY_7,y.MONTH,y.MONTH_3,y.YEAR_TO_DAY,y.YEAR,y.YEAR_5},86606:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var i=n(44712);const a=[i.c.EN_US,i.c.EN_GB,i.c.EN_CA,i.c.FR_CA,i.c.FR_FR,i.c.ES,i.c.NL,i.c.NO,i.c.DE,i.c.FI_FI,i.c.SV,i.c.IT,i.c.PT_PT,i.c.PT_BR,i.c.AR_001,i.c.ZH_CN,i.c.ZH_TW,i.c.JA,i.c.KO,i.c.HU,i.c.DA,i.c.ES_US,i.c.RU_RU]},67550:function(e,t,n){"use strict";n.d(t,{dI:function(){return l.d},nx:function(){return c},uZ:function(){return u.u},c0:function(){return d.c}});var i,a,r,s,o,c,l=n(86606),u=n(41563),d=n(44712);!function(e){e.EN_US="English (USA)",e.EN_GB="English (Great Britain)",e.EN_CA="English (Canada)",e.FR_CA="French (Canada)",e.FR_FR="French (France)",e.ES="Spanish",e.NL="Dutch",e.NO="Norwegian",e.DE="German",e.FI_FI="Finnish",e.AR_001="Arabic (World)",e.SV="Swedish",e.IT="Italian",e.PT_PT="Portuguese (Portugal)",e.PT_BR="Portuguese (Brazil)",e.ZH_CN="Chinese Simplified",e.ZH_TW="Chinese Traditional",e.JA="Japanese",e.KO="Korean",e.HU="Hungarian",e.DA="Danish",e.ES_US="Spanish (United States)",e.RU_RU="Russian"}(i||(i={})),u.u.EN,u.u.FR,u.u.ES,u.u.NL,u.u.NO,u.u.DE,u.u.FI,u.u.AR,u.u.SV,u.u.IT,u.u.PT,u.u.ZH,u.u.JA,u.u.KO,u.u.HU,u.u.DA,u.u.RU,function(e){e.LOCALE="locale",e.PREFERRED_LOCALE="preferredLocale"}(a||(a={})),a.PREFERRED_LOCALE,function(e){e.EN="English",e.ES="Spanish",e.FR="French",e.NL="Dutch",e.NO="Norwegian",e.DE="German",e.FI="Finnish",e.AR="Arabic",e.SV="Swedish",e.IT="Italian",e.PT="Portuguese",e.ZH="Chinese",e.JA="Japanese",e.KO="Korean",e.HU="Hungarian",e.DA="Danish",e.RU="Russian"}(r||(r={})),u.u.EN,r.EN,u.u.ES,r.ES,u.u.FR,r.FR,u.u.NL,r.NL,u.u.NO,r.NO,u.u.DE,r.DE,u.u.FI,r.FI,u.u.AR,r.AR,u.u.SV,r.SV,u.u.IT,r.IT,u.u.PT,r.PT,u.u.ZH,r.ZH,u.u.JA,r.JA,u.u.KO,r.KO,u.u.HU,r.HU,u.u.DA,r.DA,u.u.RU,r.RU,u.u.EN,d.c.EN_US,u.u.ES,d.c.ES,u.u.FR,d.c.FR_CA,u.u.NL,d.c.NL,u.u.NO,d.c.NO,u.u.DE,d.c.DE,u.u.FI,d.c.FI_FI,u.u.AR,d.c.AR_001,u.u.SV,d.c.SV,u.u.IT,d.c.IT,u.u.PT,d.c.PT_PT,u.u.ZH,d.c.ZH_TW,u.u.JA,d.c.JA,u.u.KO,d.c.KO,u.u.HU,d.c.HU,u.u.DA,d.c.DA,u.u.RU,d.c.RU_RU,function(e){e.EN_US="English (USA)",e.EN_GB="English (Great Britain)",e.EN_CA="English (Canada)",e.FR_CA="Franais (Canada)",e.FR_FR="Franais (France)",e.ES="Espaol",e.NL="Nederlands",e.NO="Norsk",e.DE="Deutsch",e.FI_FI="Suomi",e.AR_100=" ",e.SV="Svenska",e.IT="Italiano",e.PT_PT="Portugus (Portugal)",e.PT_BR="Portugus (Brazil)",e.ZH_CN="",e.ZH_TW="",e.JA="",e.KO="",e.HU="Magyar",e.DA="Dansk",e.ES_US="Espaol (Estados Unidos)",e.RU_RU=""}(s||(s={})),function(e){e.EN_US="English",e.EN_GB="English",e.EN_CA="English",e.FR_CA="French",e.FR_FR="French",e.ES="Spanish",e.NL="Dutch",e.NO="Norwegian",e.DE="German",e.FI_FI="Finnish",e.AR_001="Arabic",e.SV="Swedish",e.IT="Italian",e.PT_PT="Portuguese",e.PT_BR="Portuguese",e.ZH_CN="Chinese",e.ZH_TW="Chinese",e.JA="Japanese",e.KO="Korean",e.HU="Hungarian",e.DA="Danish",e.ES_US="Spanish (United States)",e.RU_RU="Russian"}(o||(o={})),d.c.EN_US,i.EN_US,d.c.EN_GB,i.EN_GB,d.c.EN_CA,i.EN_CA,d.c.FR_CA,i.FR_CA,d.c.FR_FR,i.FR_FR,d.c.ES,i.ES,d.c.NL,i.NL,d.c.NO,i.NO,d.c.DE,i.DE,d.c.FI_FI,i.FI_FI,d.c.AR_001,i.AR_001,d.c.SV,i.SV,d.c.IT,i.IT,d.c.PT_PT,i.PT_PT,d.c.PT_BR,i.PT_BR,d.c.ZH_CN,i.ZH_CN,d.c.ZH_TW,i.ZH_TW,d.c.JA,i.JA,d.c.KO,i.KO,d.c.HU,i.HU,d.c.DA,i.DA,d.c.ES_US,i.ES_US,d.c.RU_RU,i.RU_RU,d.c.EN_US,o.EN_US,d.c.EN_GB,o.EN_GB,d.c.EN_CA,o.EN_CA,d.c.FR_CA,o.FR_CA,d.c.FR_FR,o.FR_FR,d.c.ES,o.ES,d.c.NL,o.NL,d.c.NO,o.NO,d.c.DE,o.DE,d.c.FI_FI,o.FI_FI,d.c.AR_001,o.AR_001,d.c.SV,o.SV,d.c.IT,o.IT,d.c.PT_PT,o.PT_PT,d.c.PT_BR,o.PT_BR,d.c.ZH_CN,o.ZH_CN,d.c.ZH_TW,o.ZH_TW,d.c.JA,o.JA,d.c.KO,o.KO,d.c.HU,o.HU,d.c.DA,o.DA,d.c.ES_US,o.ES_US,d.c.RU_RU,o.RU_RU,d.c.EN_US,s.EN_US,d.c.EN_GB,s.EN_GB,d.c.EN_CA,s.EN_CA,d.c.FR_CA,s.FR_CA,d.c.FR_FR,s.FR_FR,d.c.ES,s.ES,d.c.NL,s.NL,d.c.NO,s.NO,d.c.DE,s.DE,d.c.FI_FI,s.FI_FI,d.c.AR_001,s.AR_100,d.c.SV,s.SV,d.c.IT,s.IT,d.c.PT_PT,s.PT_PT,d.c.PT_BR,s.PT_BR,d.c.ZH_CN,s.ZH_CN,d.c.ZH_TW,s.ZH_TW,d.c.JA,s.JA,d.c.KO,s.KO,d.c.HU,s.HU,d.c.DA,s.DA,d.c.ES_US,s.ES_US,d.c.RU_RU,s.RU_RU,function(e){e.LONG="long",e.SHORT="short",e.LONG_WITH_YEAR="longWithYear"}(c||(c={}))},41563:function(e,t,n){"use strict";var i;n.d(t,{u:function(){return i}}),function(e){e.EN="en",e.ES="es",e.FR="fr",e.NL="nl",e.NO="no",e.DE="de",e.FI="fi",e.AR="ar",e.SV="sv",e.IT="it",e.PT="pt",e.ZH="zh",e.JA="ja",e.KO="ko",e.HU="hu",e.DA="da",e.RU="ru"}(i||(i={}))},44712:function(e,t,n){"use strict";var i;n.d(t,{c:function(){return i}}),function(e){e.EN_US="en-US",e.EN_GB="en-GB",e.EN_CA="en-CA",e.FR_CA="fr-CA",e.FR_FR="fr-FR",e.ES="es",e.NL="nl",e.NO="no",e.DE="de",e.FI_FI="fi-FI",e.AR_001="ar-001",e.SV="sv",e.IT="it",e.PT_PT="pt-PT",e.PT_BR="pt-BR",e.ZH_CN="zh-CN",e.ZH_TW="zh-TW",e.JA="ja",e.KO="ko",e.HU="hu",e.DA="da",e.RU_RU="ru-RU",e.ES_US="es-US"}(i||(i={}))},72909:function(e,t,n){var i={"./ar_001.json":[70499,671],"./da.json":[20130,592],"./de.json":[56586,524],"./en_CA.json":[51855,365],"./en_GB.json":[94176,881],"./en_US.json":[52689,503],"./es.json":[5322,598],"./es_US.json":[28122,377],"./fi_FI.json":[43965,842],"./fr_CA.json":[67906,966],"./fr_FR.json":[3975,565],"./hu.json":[73502,870],"./it.json":[15142,906],"./ja.json":[82287,920],"./ko.json":[20439,831],"./nl.json":[29432,18],"./no.json":[12810,829],"./pl_PL.json":[48774,655],"./pt_BR.json":[26201,895],"./pt_PT.json":[86792,330],"./ru_RU.json":[76321,412],"./sv.json":[12649,665],"./zh_CN.json":[56428,465],"./zh_TW.json":[64714,183]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,19)}))}a.keys=function(){return Object.keys(i)},a.id=72909,e.exports=a},36427:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/ideal-bank-abn_amro.8b659b9eaf73d0a5593c.svg"},74493:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/ideal-bank-asn_bank.75e9aaa2e49b54c63a84.svg"},86544:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/ideal-bank-bunq.0f2299d195d226c43f44.svg"},89103:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/ideal-bank-ing.d147726146c783b9f0c8.svg"},60869:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/ideal-bank-knab.ff3eb11c1e5b453423f1.svg"},1395:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/ideal-bank-rabobank.bc7c3bc447d28811f3f5.svg"},33065:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/ideal-bank-regiobank.754029ce41452201b2aa.svg"},79505:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/ideal-bank-revolut.07b817c42da8bc1ad174.svg"},61320:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/ideal-bank-sns_bank.20104828a8ec6ad204c9.svg"},35307:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/ideal-bank-triodos_bank.edfb3d33c27ef424b371.svg"},60340:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/ideal-bank-van_lanschot.5a90ff35bc8d50ed3098.svg"},40725:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/broker-default.235361bddc4d19ddbbf2.png"},5062:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/card-amex.f704acb7cb0f1c209efa.png"},74575:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/card-diners.b69117170ac25814aa42.png"},98635:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/card-discover.dbc0569d3c7cfb9e0c1e.png"},81749:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/card-jcb.12e905d1462fd708b795.png"},33580:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/card-mastercard.51e8e6a0a1b07ef9c09b.png"},69636:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/card-unionpay.98ea5861340fc8694663.png"},25717:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/card-unknown-error.7afd2ac2559f2f9f3960.png"},44317:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/card-unknown.265c1bce7f59ecbff072.png"},33653:function(e,t,n){"use strict";e.exports=n.p+"checkout-shared/src/images/card-visa.d358d698a9d21919e7c1.png"},65819:function(e,t,n){"use strict";e.exports=n.p+"common-fonts/ibm-plex-sans-arabic/ibmplexsans-arabic-v12-300.woff2"},55976:function(e,t,n){"use strict";e.exports=n.p+"common-fonts/ibm-plex-sans-arabic/ibmplexsans-arabic-v12-400.woff2"},77070:function(e,t,n){"use strict";e.exports=n.p+"common-fonts/ibm-plex-sans-arabic/ibmplexsans-arabic-v12-500.woff2"},4351:function(e,t,n){"use strict";e.exports=n.p+"common-fonts/ibm-plex-sans-arabic/ibmplexsans-arabic-v12-600.woff2"},21162:function(e,t,n){"use strict";e.exports=n.p+"common-fonts/ibm-plex-sans-arabic/ibmplexsans-arabic-v12-700.woff2"},80047:function(e,t,n){"use strict";e.exports=n.p+"common-fonts/ibm-plex-sans/ibmplexsans-v19-300.woff2"},54615:function(e,t,n){"use strict";e.exports=n.p+"common-fonts/ibm-plex-sans/ibmplexsans-v19-400.woff2"},17338:function(e,t,n){"use strict";e.exports=n.p+"common-fonts/ibm-plex-sans/ibmplexsans-v19-500.woff2"},51122:function(e,t,n){"use strict";e.exports=n.p+"common-fonts/ibm-plex-sans/ibmplexsans-v19-600.woff2"},71722:function(e,t,n){"use strict";e.exports=n.p+"common-fonts/ibm-plex-sans/ibmplexsans-v19-700.woff2"},75011:function(e,t,n){"use strict";e.exports=n.p+"common-fonts/sacramento/sacramento-v15-400.woff2"},10763:function(e){"use strict";e.exports=JSON.parse('{"u":"URL","ck":"companyKey","cm":"checkoutCompanyKey","cd":"clientId","ct":"clientTime","cz":"clientTimeZone","lo":"clientLocale","ek":"elementKey","el":"elementLocale","er":"elementReminderKey","ey":"elementType","ep":"elementParams","et":"eventType","te":"customEventType","ev":"customEventData","ed":"elementData","eg":"eventTags","pv":"pageViewId","pl":"pageViewLifetime","r":"referer","rh":"resolutionHeight","rw":"resolutionWidth","t":"title","hl":"uaHistoryLength","wk":"widgetKey","wh":"windowHeight","wx":"windowScrollX","wy":"windowScrollY","ww":"windowWidth","cv":"checkoutViewId","ce":"checkoutError","co":"checkoutOpenTime","cl":"checkoutLifetime","cs":"checkoutScreen","sd":"checkoutScreenData","cc":"checkoutClickElement","cf":"checkoutFrequency","fp":"clickDOMPath","fh":"clickAHref","ft":"clickText","dk":"chargeCampaignKey","dd":"chargeKey","du":"chargeInUSDAmount","di":"chargeInDefaultCurrencyAmount","da":"chargeAmount","dc":"chargeCurrency","df":"chargeFeeCovered","dm":"chargePaymentMethod","dr":"chargeIsRecurring","dn":"chargeHasComment","dh":"chargeHasTribute","dg":"chargeGoal","st":"splitTestName","sv":"splitTestVariant","pm":"paymentMethod","ws":"widgetSession","lm":"livemode","fv":"funSnippetVersion","fe":"funEmbedRelease","vf":"isFundraiseupVisitor","lc":"checkoutLocale","cr":"checkoutIsRecurring","cy":"checkoutCurrency","ca":"checkoutAmount","cu":"checkoutInUSDAmount","yr":"checkoutCurrencyRate","fa":"checkoutDefaultAmount","cp":"checkoutPresets","ps":"pageScripts","ol":"clientOnLine","dt":"clientDoNotTrack","pr":"clientDevicePixelRatio","rm":"clientDeviceMemory","hc":"clientHardwareConcurrency","nt":"clientConnectionType","nd":"clientConnectionDownlink","nr":"clientConnectionRTT","ne":"clientConnectionEffectiveType","bc":"clientBatteryCharging","bt":"clientBatteryChargingTime","bd":"clientBatteryDischargingTime","bl":"clientBatteryLevel","de":"dataLayerEventName","dp":"dataLayerParams","fn":"pixelEventName","fs":"pixelEventData","gk":"fundraisingGroupKey","pk":"fundraisingPageKey","pc":"fundraisingPageCustomerKey","ec":"eventComment","ba":"uaIsInApp","uw":"uaWebdriver","rd":"duration","se":"source","sk":"supporterKey","ak":"agentKey","pu":"pointingDeviceIsUsed","fo":"donationType","cn":"clientCookieConsent","tt":"checkoutType"}')},61695:function(e){"use strict";e.exports=JSON.parse('{"BTC":{"name":"Bitcoin","code":"BTC","symbol":"","digits":8,"network":"bitcoin","provider":["gemini","coinbaseCommerce"],"protocol":"","networkName":"Bitcoin","coin":true},"ETH":{"name":"Ethereum","code":"ETH","symbol":"","digits":8,"network":"ethereum","provider":["gemini","coinbaseCommerce"],"protocol":"ERC-20","networkName":"Ethereum","coin":true},"USDT":{"name":"Tether USD","code":"USDT","symbol":"","digits":8,"network":"ethereum","provider":["coinbaseCommerce"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"USDC":{"name":"USD Coin","code":"USDC","symbol":"","digits":8,"network":"ethereum","provider":["gemini","coinbaseCommerce"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SOL":{"name":"Solana","code":"SOL","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":true},"DOT":{"name":"Polkadot","code":"DOT","symbol":"","digits":8,"network":"polkadot","provider":["gemini"],"protocol":"","networkName":"Polkadot","coin":true},"DOGE":{"name":"Dogecoin","code":"DOGE","symbol":"","digits":8,"network":"dogecoin","provider":["gemini","coinbaseCommerce"],"protocol":"","networkName":"Dogecoin","coin":true},"MATIC":{"name":"Polygon","code":"MATIC","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"DAI":{"name":"Dai","code":"DAI","symbol":"","digits":8,"network":"ethereum","provider":["gemini","coinbaseCommerce"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SHIB":{"name":"Shiba Inu","code":"SHIB","symbol":"","digits":8,"network":"ethereum","provider":["gemini","coinbaseCommerce"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LTC":{"name":"Litecoin","code":"LTC","symbol":"","digits":8,"network":"litecoin","provider":["gemini","coinbaseCommerce"],"protocol":"","networkName":"Litecoin","coin":true},"BCH":{"name":"Bitcoin Cash","code":"BCH","symbol":"","digits":8,"network":"bitcoincash","provider":["gemini","coinbaseCommerce"],"protocol":"","networkName":"Bitcoin Cash","coin":true},"APE":{"name":"ApeCoin","code":"APE","symbol":"","digits":8,"network":"ethereum","provider":["gemini","coinbaseCommerce"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"XTZ":{"name":"Tezos","code":"XTZ","symbol":"","digits":8,"network":"tezos","provider":["gemini"],"protocol":"","networkName":"Tezos","coin":true},"AAVE":{"name":"Aave","code":"AAVE","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"1INCH":{"name":"1inch","code":"1INCH","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ALCX":{"name":"Alchemix","code":"ALCX","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ALI":{"name":"Alethea AI","code":"ALI","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"AMP":{"name":"Amp","code":"AMP","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ANKR":{"name":"Ankr Network","code":"ANKR","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"API3":{"name":"API3","code":"API3","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ASH":{"name":"Burn","code":"ASH","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"AUDIO":{"name":"Audius","code":"AUDIO","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"AXS":{"name":"Axie Infinity","code":"AXS","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"BAL":{"name":"Balancer","code":"BAL","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"BAT":{"name":"Basic Attention Token","code":"BAT","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"BNT":{"name":"Bancor Network","code":"BNT","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"BOND":{"name":"BarnBridge","code":"BOND","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"BTCG":{"name":"Bitcoin Galaxy","code":"BTCG","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"CHZ":{"name":"Chiliz","code":"CHZ","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"COMP":{"name":"Compound","code":"COMP","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"CRV":{"name":"Curve","code":"CRV","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"CTX":{"name":"Cryptex Finance","code":"CTX","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"CUBE":{"name":"Somnium Space","code":"CUBE","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"CVC":{"name":"Civic","code":"CVC","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"DPI":{"name":"DeFi Pulse Index","code":"DPI","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"EFIL":{"name":"Ethereum Wrapped Filecoin","code":"EFIL","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ENJ":{"name":"Enjin Coin","code":"ENJ","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ENS":{"name":"Ethereum Name Service","code":"ENS","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ERN":{"name":"Ethernity Chain","code":"ERN","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ETHG":{"name":"Ethereum Gold","code":"ETHG","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"FET":{"name":"Fetch.ai","code":"FET","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"FIDA":{"name":"Bonfida","code":"FIDA","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":false},"FIL":{"name":"Filecoin","code":"FIL","symbol":"","digits":8,"network":"filecoin","provider":["gemini"],"protocol":"","networkName":"Filecoin","coin":true},"FRAX":{"name":"Frax","code":"FRAX","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"FTM":{"name":"Fantom","code":"FTM","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"FXS":{"name":"Frax Share","code":"FXS","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"GALA":{"name":"Gala","code":"GALA","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"GMT":{"name":"STEPN","code":"GMT","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":false},"GFI":{"name":"Goldfinch","code":"GFI","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":false},"GRT":{"name":"The Graph","code":"GRT","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"GUSD":{"name":"Gemini dollar","code":"GUSD","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"INDEX":{"name":"Index Cooperative","code":"INDEX","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"INJ":{"name":"Injective","code":"INJ","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"JAM":{"name":"Geojam","code":"JAM","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"KNC":{"name":"Kyber Network","code":"KNC","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"KP3R":{"name":"Keep3rV1","code":"KP3R","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LDO":{"name":"Lido DAO Token","code":"LDO","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LINK":{"name":"Chainlink","code":"LINK","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LPT":{"name":"Livepeer","code":"LPT","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LRC":{"name":"Loopring","code":"LRC","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LUNA":{"name":"Terra","code":"LUNA","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LUSD":{"name":"Liquity USD","code":"LUSD","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LQTY":{"name":"Liquity","code":"LQTY","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MANA":{"name":"Decentraland","code":"MANA","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MASK":{"name":"Mask Network","code":"MASK","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MC":{"name":"Merit Circle","code":"MC","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MCO2":{"name":"Moss Carbon Credit","code":"MCO2","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"METIS":{"name":"Metis","code":"METIS","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MIM":{"name":"Magic Internet Money","code":"MIM","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MIR":{"name":"Mirror Protocol","code":"MIR","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MKR":{"name":"Maker","code":"MKR","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MPL":{"name":"Maple Finance","code":"MPL","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"NMR":{"name":"Numeraire","code":"NMR","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"OXT":{"name":"Orchid","code":"OXT","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ORCA":{"name":"Orca","code":"ORCA","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":false},"PAXG":{"name":"PAX Gold","code":"PAXG","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"QNT":{"name":"Quant","code":"QNT","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"QRDO":{"name":"Qredo","code":"QRDO","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"RAD":{"name":"Radicle","code":"RAD","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"RARE":{"name":"SuperRare","code":"RARE","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"RAY":{"name":"Raydium","code":"RAY","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":false},"REN":{"name":"Ren","code":"REN","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"REVV":{"name":"REVV","code":"REVV","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"RBN":{"name":"Ribbon Finance","code":"RBN","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"RLY":{"name":"Rally","code":"RLY","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"RNDR":{"name":"Render Token","code":"RNDR","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SAND":{"name":"The Sandbox","code":"SAND","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SBR":{"name":"Saber","code":"SBR","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":false},"SKL":{"name":"Skale","code":"SKL","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SLP":{"name":"Smooth Love Potion","code":"SLP","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SNX":{"name":"Synthetix","code":"SNX","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SPELL":{"name":"Spell Token","code":"SPELL","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"STORJ":{"name":"Storj","code":"STORJ","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SUSHI":{"name":"SushiSwap","code":"SUSHI","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"TOKE":{"name":"Tokemak","code":"TOKE","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"TRU":{"name":"TrueFi","code":"TRU","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"UMA":{"name":"Uma","code":"UMA","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"UNI":{"name":"Uniswap","code":"UNI","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"UST":{"name":"TerraUSD","code":"UST","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"WCFG":{"name":"Wrapped Centrifuge","code":"WCFG","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"YFI":{"name":"Yearn.finance","code":"YFI","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ZBC":{"name":"Zebec Protocol","code":"ZBC","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":false},"ZEC":{"name":"Zcash","code":"ZEC","symbol":"","digits":8,"network":"zcash","provider":["gemini"],"protocol":"","networkName":"Zcash","coin":true},"ZRX":{"name":"0x","code":"ZRX","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false}}')},76271:function(e){"use strict";e.exports=JSON.parse('{"SHP":{"name":"St. Helena Pound","code":"SHP","symbol":"","digits":2},"EUR":{"name":"Euro","code":"EUR","symbol":"","digits":2},"AED":{"name":"United Arab Emirates Dirham","code":"AED","symbol":"","digits":2},"AFN":{"name":"Afghan Afghani","code":"AFN","symbol":"","digits":2},"XCD":{"name":"East Caribbean Dollar","code":"XCD","symbol":"$","digits":2},"ALL":{"name":"Albanian Lek","code":"ALL","symbol":"","digits":2},"AMD":{"name":"Armenian Dram","code":"AMD","symbol":"","digits":2},"AOA":{"name":"Angolan Kwanza","code":"AOA","symbol":"Kz","digits":2},"ARS":{"name":"Argentine Peso","code":"ARS","symbol":"$","digits":2},"USD":{"name":"US Dollar","code":"USD","symbol":"$","digits":2},"AUD":{"name":"Australian Dollar","code":"AUD","symbol":"$","digits":2},"ANG":{"name":"Netherlands Antillean Guilder","code":"ANG","symbol":"","digits":2},"AWG":{"name":"Aruban Florin","code":"AWG","symbol":"","digits":2},"AZN":{"name":"Azerbaijani Manat","code":"AZN","symbol":"","digits":2},"BAM":{"name":"Bosnia-Herzegovina Convertible Mark","code":"BAM","symbol":"KM","digits":2},"BBD":{"name":"Barbadian Dollar","code":"BBD","symbol":"$","digits":2},"INR":{"name":"Indian Rupee","code":"INR","symbol":"","digits":2},"PKR":{"name":"Pakistani Rupee","code":"PKR","symbol":"Rs","digits":2},"BDT":{"name":"Bangladeshi Taka","code":"BDT","symbol":"","digits":2},"XOF":{"name":"West African CFA Franc","code":"XOF","symbol":"","digits":0},"BGN":{"name":"Bulgarian Lev","code":"BGN","symbol":"","digits":2},"BHD":{"name":"Bahraini Dinar","code":"BHD","symbol":"","digits":2},"BIF":{"name":"Burundian Franc","code":"BIF","symbol":"","digits":0},"BMD":{"name":"Bermudan Dollar","code":"BMD","symbol":"$","digits":2},"MYR":{"name":"Malaysian Ringgit","code":"MYR","symbol":"RM","digits":2},"BND":{"name":"Brunei Dollar","code":"BND","symbol":"$","digits":2},"BOB":{"name":"Bolivian Boliviano","code":"BOB","symbol":"Bs","digits":2},"BRL":{"name":"Brazilian Real","code":"BRL","symbol":"R$","digits":2},"BSD":{"name":"Bahamian Dollar","code":"BSD","symbol":"$","digits":2},"BTN":{"name":"Bhutanese Ngultrum","code":"BTN","symbol":"","digits":2},"NOK":{"name":"Norwegian Krone","code":"NOK","symbol":"kr","digits":2},"ZAR":{"name":"South African Rand","code":"ZAR","symbol":"R","digits":2},"BWP":{"name":"Botswanan Pula","code":"BWP","symbol":"P","digits":2},"BYN":{"name":"Belarusian Ruble","code":"BYN","symbol":"","digits":2},"BZD":{"name":"Belize Dollar","code":"BZD","symbol":"$","digits":2},"CAD":{"name":"Canadian Dollar","code":"CAD","symbol":"$","digits":2},"CDF":{"name":"Congolese Franc","code":"CDF","symbol":"","digits":2},"XAF":{"name":"Central African CFA Franc","code":"XAF","symbol":"","digits":0},"CHF":{"name":"Swiss Franc","code":"CHF","symbol":"","digits":2},"NZD":{"name":"New Zealand Dollar","code":"NZD","symbol":"$","digits":2},"CLP":{"name":"Chilean Peso","code":"CLP","symbol":"$","digits":0},"CNY":{"name":"Chinese Yuan","code":"CNY","symbol":"","digits":2},"COP":{"name":"Colombian Peso","code":"COP","symbol":"$","digits":2},"CRC":{"name":"Costa Rican Coln","code":"CRC","symbol":"","digits":2},"CVE":{"name":"Cape Verdean Escudo","code":"CVE","symbol":"","digits":2},"CZK":{"name":"Czech Koruna","code":"CZK","symbol":"K","digits":2},"DJF":{"name":"Djiboutian Franc","code":"DJF","symbol":"","digits":0},"DKK":{"name":"Danish Krone","code":"DKK","symbol":"kr","digits":2},"DOP":{"name":"Dominican Peso","code":"DOP","symbol":"$","digits":2},"DZD":{"name":"Algerian Dinar","code":"DZD","symbol":"","digits":2},"EGP":{"name":"Egyptian Pound","code":"EGP","symbol":"E","digits":2},"MAD":{"name":"Moroccan Dirham","code":"MAD","symbol":"","digits":2},"ETB":{"name":"Ethiopian Birr","code":"ETB","symbol":"","digits":2},"FJD":{"name":"Fijian Dollar","code":"FJD","symbol":"$","digits":2},"FKP":{"name":"Falkland Islands Pound","code":"FKP","symbol":"","digits":2},"JPY":{"name":"Japanese Yen","code":"JPY","symbol":"","digits":0},"GBP":{"name":"British Pound","code":"GBP","symbol":"","digits":2},"GEL":{"name":"Georgian Lari","code":"GEL","symbol":"","digits":2},"GHS":{"name":"Ghanaian Cedi","code":"GHS","symbol":"GH","digits":2},"GIP":{"name":"Gibraltar Pound","code":"GIP","symbol":"","digits":2},"GMD":{"name":"Gambian Dalasi","code":"GMD","symbol":"","digits":2},"GNF":{"name":"Guinean Franc","code":"GNF","symbol":"FG","digits":0},"GTQ":{"name":"Guatemalan Quetzal","code":"GTQ","symbol":"Q","digits":2},"GYD":{"name":"Guyanaese Dollar","code":"GYD","symbol":"$","digits":2},"HKD":{"name":"Hong Kong Dollar","code":"HKD","symbol":"$","digits":2},"HNL":{"name":"Honduran Lempira","code":"HNL","symbol":"L","digits":2},"HRK":{"name":"Croatian Kuna","code":"HRK","symbol":"kn","digits":2},"HTG":{"name":"Haitian Gourde","code":"HTG","symbol":"","digits":2},"HUF":{"name":"Hungarian Forint","code":"HUF","symbol":"Ft","digits":2},"IDR":{"name":"Indonesian Rupiah","code":"IDR","symbol":"Rp","digits":2},"ILS":{"name":"Israeli New Shekel","code":"ILS","symbol":"","digits":2},"ISK":{"name":"Icelandic Krna","code":"ISK","symbol":"kr","digits":2},"JMD":{"name":"Jamaican Dollar","code":"JMD","symbol":"$","digits":2},"JOD":{"name":"Jordanian Dinar","code":"JOD","symbol":"","digits":2},"KES":{"name":"Kenyan Shilling","code":"KES","symbol":"","digits":2},"KGS":{"name":"Kyrgystani Som","code":"KGS","symbol":"","digits":2},"KHR":{"name":"Cambodian Riel","code":"KHR","symbol":"","digits":2},"KMF":{"name":"Comorian Franc","code":"KMF","symbol":"CF","digits":0},"KRW":{"name":"South Korean Won","code":"KRW","symbol":"","digits":0},"KWD":{"name":"Kuwaiti Dinar","code":"KWD","symbol":"","digits":2},"KYD":{"name":"Cayman Islands Dollar","code":"KYD","symbol":"$","digits":2},"KZT":{"name":"Kazakhstani Tenge","code":"KZT","symbol":"","digits":2},"LAK":{"name":"Laotian Kip","code":"LAK","symbol":"","digits":2},"LBP":{"name":"Lebanese Pound","code":"LBP","symbol":"L","digits":2},"LKR":{"name":"Sri Lankan Rupee","code":"LKR","symbol":"Rs","digits":2},"LRD":{"name":"Liberian Dollar","code":"LRD","symbol":"$","digits":2},"LSL":{"name":"Lesotho Loti","code":"LSL","symbol":"","digits":2},"MDL":{"name":"Moldovan Leu","code":"MDL","symbol":"","digits":2},"MGA":{"name":"Malagasy Ariary","code":"MGA","symbol":"Ar","digits":0},"MKD":{"name":"Macedonian Denar","code":"MKD","symbol":"","digits":2},"MMK":{"name":"Myanmar Kyat","code":"MMK","symbol":"K","digits":2},"MNT":{"name":"Mongolian Tugrik","code":"MNT","symbol":"","digits":2},"MOP":{"name":"Macanese Pataca","code":"MOP","symbol":"","digits":2},"MRO":{"name":"Mauritanian Ouguiya (19732017)","code":"MRO","symbol":"","digits":2},"MUR":{"name":"Mauritian Rupee","code":"MUR","symbol":"Rs","digits":2},"MVR":{"name":"Maldivian Rufiyaa","code":"MVR","symbol":"","digits":2},"MWK":{"name":"Malawian Kwacha","code":"MWK","symbol":"","digits":2},"MXN":{"name":"Mexican Peso","code":"MXN","symbol":"$","digits":2},"MZN":{"name":"Mozambican Metical","code":"MZN","symbol":"","digits":2},"NAD":{"name":"Namibian Dollar","code":"NAD","symbol":"$","digits":2},"XPF":{"name":"CFP Franc","code":"XPF","symbol":"","digits":0},"NGN":{"name":"Nigerian Naira","code":"NGN","symbol":"","digits":2},"NIO":{"name":"Nicaraguan Crdoba","code":"NIO","symbol":"C$","digits":2},"SEK":{"name":"Swedish Krona","code":"SEK","symbol":"kr","digits":2},"NPR":{"name":"Nepalese Rupee","code":"NPR","symbol":"Rs","digits":2},"OMR":{"name":"Omani Rial","code":"OMR","symbol":"","digits":2},"PAB":{"name":"Panamanian Balboa","code":"PAB","symbol":"","digits":2},"PEN":{"name":"Peruvian Sol","code":"PEN","symbol":"","digits":2},"PGK":{"name":"Papua New Guinean Kina","code":"PGK","symbol":"","digits":2},"PHP":{"name":"Philippine Peso","code":"PHP","symbol":"","digits":2},"PLN":{"name":"Polish Zloty","code":"PLN","symbol":"z","digits":2},"PYG":{"name":"Paraguayan Guarani","code":"PYG","symbol":"","digits":0},"QAR":{"name":"Qatari Riyal","code":"QAR","symbol":"","digits":2},"RON":{"name":"Romanian Leu","code":"RON","symbol":"lei","digits":2},"RSD":{"name":"Serbian Dinar","code":"RSD","symbol":"","digits":2},"RUB":{"name":"Russian Ruble","code":"RUB","symbol":"","digits":2},"RWF":{"name":"Rwandan Franc","code":"RWF","symbol":"RF","digits":0},"SAR":{"name":"Saudi Riyal","code":"SAR","symbol":"","digits":2},"SBD":{"name":"Solomon Islands Dollar","code":"SBD","symbol":"$","digits":2},"SCR":{"name":"Seychellois Rupee","code":"SCR","symbol":"","digits":2},"SGD":{"name":"Singapore Dollar","code":"SGD","symbol":"$","digits":2},"SLL":{"name":"Sierra Leonean Leone (19642022)","code":"SLL","symbol":"","digits":2},"SLE":{"name":"Sierra Leonean Leone","code":"SLE","symbol":"","digits":2},"SOS":{"name":"Somali Shilling","code":"SOS","symbol":"","digits":2},"SRD":{"name":"Surinamese Dollar","code":"SRD","symbol":"$","digits":2},"STD":{"name":"So Tom & Prncipe Dobra (19772017)","code":"STD","symbol":"","digits":2},"SVC":{"name":"Salvadoran Coln","code":"SVC","symbol":"","digits":2},"SZL":{"name":"Swazi Lilangeni","code":"SZL","symbol":"","digits":2},"THB":{"name":"Thai Baht","code":"THB","symbol":"","digits":2},"TJS":{"name":"Tajikistani Somoni","code":"TJS","symbol":"","digits":2},"TND":{"name":"Tunisian Dinar","code":"TND","symbol":"","digits":2},"TOP":{"name":"Tongan Paanga","code":"TOP","symbol":"T$","digits":2},"TRY":{"name":"Turkish Lira","code":"TRY","symbol":"","digits":2},"TTD":{"name":"Trinidad & Tobago Dollar","code":"TTD","symbol":"$","digits":2},"TWD":{"name":"New Taiwan Dollar","code":"TWD","symbol":"$","digits":2},"TZS":{"name":"Tanzanian Shilling","code":"TZS","symbol":"","digits":2},"UAH":{"name":"Ukrainian Hryvnia","code":"UAH","symbol":"","digits":2},"UYU":{"name":"Uruguayan Peso","code":"UYU","symbol":"$","digits":2},"UZS":{"name":"Uzbekistani Som","code":"UZS","symbol":"","digits":2},"VND":{"name":"Vietnamese Dong","code":"VND","symbol":"","digits":0},"VUV":{"name":"Vanuatu Vatu","code":"VUV","symbol":"","digits":0},"WST":{"name":"Samoan Tala","code":"WST","symbol":"","digits":2},"YER":{"name":"Yemeni Rial","code":"YER","symbol":"","digits":2},"ZMW":{"name":"Zambian Kwacha","code":"ZMW","symbol":"ZK","digits":2}}')},59222:function(e){"use strict";e.exports=JSON.parse('{"AC":["SHP"],"AD":["EUR"],"AE":["AED"],"AF":["AFN"],"AG":["XCD"],"AI":["XCD"],"AL":["ALL"],"AM":["AMD"],"AO":["AOA"],"AR":["ARS"],"AS":["USD"],"AT":["EUR"],"AU":["AUD"],"AW":["AWG","ANG"],"AX":["EUR"],"AZ":["AZN"],"BA":["BAM"],"BB":["BBD","XCD"],"BD":["BDT","PKR","INR"],"BE":["EUR"],"BF":["XOF"],"BG":["BGN","EUR"],"BH":["BHD"],"BI":["BIF"],"BJ":["XOF"],"BL":["EUR"],"BM":["BMD"],"BN":["BND","MYR"],"BO":["BOB"],"BQ":["USD","ANG"],"BR":["BRL"],"BS":["BSD"],"BT":["BTN","INR"],"BV":["NOK"],"BW":["BWP","ZAR"],"BY":["BYN","EUR"],"BZ":["BZD"],"CA":["CAD","USD"],"CC":["AUD"],"CD":["CDF"],"CF":["XAF"],"CG":["XAF"],"CH":["CHF"],"CI":["XOF"],"CK":["NZD"],"CL":["CLP"],"CM":["XAF"],"CN":["CNY"],"CO":["COP"],"CR":["CRC"],"CS":["EUR"],"CU":["USD"],"CV":["CVE"],"CW":["ANG"],"CX":["AUD"],"CY":["EUR"],"CZ":["CZK","EUR"],"DE":["EUR"],"DG":["USD"],"DJ":["DJF"],"DK":["DKK","EUR"],"DM":["XCD"],"DO":["DOP","USD"],"DZ":["DZD"],"EA":["EUR"],"EC":["USD"],"EE":["EUR"],"EG":["EGP"],"EH":["MAD"],"ER":["ETB"],"ES":["EUR"],"ET":["ETB"],"EU":["EUR"],"FI":["EUR"],"FJ":["FJD"],"FK":["FKP"],"FM":["USD","JPY"],"FO":["DKK"],"FR":["EUR"],"GA":["XAF"],"GB":["GBP","EUR"],"GD":["XCD"],"GE":["GEL"],"GF":["EUR"],"GG":["GBP"],"GH":["GHS"],"GI":["GIP"],"GL":["DKK"],"GM":["GMD"],"GN":["GNF"],"GP":["EUR"],"GQ":["XAF"],"GR":["EUR"],"GS":["GBP"],"GT":["GTQ"],"GU":["USD"],"GW":["XOF"],"GY":["GYD"],"HK":["HKD"],"HM":["AUD"],"HN":["HNL"],"HR":["EUR"],"HT":["USD","HTG"],"HU":["HUF","EUR"],"IC":["EUR"],"ID":["IDR"],"IE":["EUR","GBP"],"IL":["ILS"],"IM":["GBP"],"IN":["INR"],"IO":["USD"],"IQ":["INR","EGP"],"IS":["ISK","DKK"],"IT":["EUR"],"JE":["GBP"],"JM":["JMD"],"JO":["JOD"],"JP":["JPY"],"KE":["KES"],"KG":["KGS"],"KH":["KHR"],"KI":["AUD"],"KM":["KMF"],"KN":["XCD"],"KR":["KRW"],"KW":["KWD"],"KY":["KYD","JMD"],"KZ":["KZT"],"LA":["LAK"],"LB":["LBP"],"LC":["XCD"],"LI":["CHF"],"LK":["LKR"],"LR":["LRD"],"LS":["LSL","ZAR"],"LT":["EUR"],"LU":["EUR"],"LV":["EUR"],"MA":["MAD"],"MC":["EUR"],"MD":["MDL"],"ME":["EUR"],"MF":["EUR"],"MG":["MGA"],"MH":["USD"],"MK":["MKD"],"ML":["XOF","XOF"],"MM":["MMK"],"MN":["MNT"],"MO":["MOP"],"MP":["USD"],"MQ":["EUR"],"MR":["MRO","XOF"],"MS":["XCD"],"MT":["EUR"],"MU":["MUR"],"MV":["MVR"],"MW":["MWK"],"MX":["MXN","USD"],"MY":["MYR"],"MZ":["MZN"],"NA":["NAD","ZAR"],"NC":["XPF"],"NE":["XOF"],"NF":["AUD"],"NG":["NGN"],"NI":["NIO"],"NL":["EUR"],"NO":["NOK","SEK","EUR"],"NP":["NPR","INR"],"NR":["AUD"],"NU":["NZD"],"NZ":["NZD"],"OM":["OMR"],"PA":["USD","PAB"],"PE":["PEN"],"PF":["XPF"],"PG":["PGK","AUD"],"PH":["PHP"],"PK":["PKR","INR"],"PL":["PLN","EUR"],"PM":["EUR"],"PN":["NZD"],"PR":["USD"],"PS":["JOD","ILS","JOD"],"PT":["EUR"],"PW":["USD"],"PY":["PYG"],"QA":["QAR"],"RE":["EUR"],"RO":["RON","EUR"],"RS":["RSD"],"RU":["RUB","EUR"],"RW":["RWF"],"SA":["SAR"],"SB":["SBD","AUD"],"SC":["SCR"],"SD":["GBP","EGP"],"SE":["SEK","EUR"],"SG":["SGD","MYR"],"SH":["SHP"],"SI":["EUR"],"SJ":["NOK"],"SK":["EUR"],"SL":["SLE","SLL","GBP"],"SM":["EUR"],"SN":["XOF"],"SO":["SOS"],"SR":["SRD"],"ST":["STD"],"SV":["USD"],"SX":["ANG"],"SZ":["SZL"],"TA":["GBP"],"TC":["USD"],"TD":["XAF"],"TF":["EUR"],"TG":["XOF"],"TH":["THB"],"TJ":["TJS"],"TK":["NZD"],"TL":["USD","IDR"],"TN":["TND"],"TO":["TOP"],"TP":["IDR"],"TR":["TRY"],"TT":["TTD"],"TV":["AUD"],"TW":["TWD"],"TZ":["TZS"],"UA":["UAH","EUR"],"UM":["USD"],"US":["USD"],"UY":["UYU"],"UZ":["UZS"],"VA":["EUR"],"VC":["XCD"],"VG":["GBP","USD"],"VI":["USD"],"VN":["VND"],"VU":["VUV"],"WF":["XPF"],"WS":["WST"],"XK":["EUR"],"YE":["YER"],"YT":["EUR","KMF"],"ZA":["ZAR"],"ZM":["ZMW"],"ZW":["USD"]}')},43948:function(e){"use strict";e.exports=JSON.parse('{"name":"ACH","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"minAmount":{"size":9500,"currency":"USD"}},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},68984:function(e){"use strict";e.exports=JSON.parse('{"name":"ACSS","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":["CAD"],"companyCountry":["CA","US"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["CAD"],"companyCountry":["CA","US"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"minAmount":{"size":1500,"currency":"CAD"}},"currency":["CAD"],"companyCountry":["CA","US"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["CAD"],"companyCountry":["CA","US"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},76826:function(e){"use strict";e.exports=JSON.parse('{"name":"Apple Pay","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},69455:function(e){"use strict";e.exports=JSON.parse('{"name":"BECS Direct Debit","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"minAmount":{"size":200,"currency":"AUD"}},"currency":["AUD"],"companyCountry":["AU"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["AUD"],"companyCountry":["AU"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"minAmount":{"size":200,"currency":"AUD"}},"currency":["AUD"],"companyCountry":["AU"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["AUD"],"companyCountry":["AU"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},23539:function(e){"use strict";e.exports=JSON.parse('{"name":"Click to Pay","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},3243:function(e){"use strict";e.exports=JSON.parse('{"name":"Credit Card","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},35655:function(e){"use strict";e.exports=JSON.parse('{"name":"Crypto","provider":"gemini","donorPortalSubscriptionEditor":{},"dashboardSubscriptionEditor":{},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once"]},"virtualTerminal":{}}')},25197:function(e){"use strict";e.exports=JSON.parse('{"name":"Google Pay","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},64006:function(e){"use strict";e.exports=JSON.parse('{"name":"iDEAL","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"minAmount":{"size":200,"currency":"EUR"}},"currency":["EUR"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE","NO","US","CH","AU","BG","CA","HR","CZ","DK","GI","HK","HU","JP","LI","MX","NZ","GB"],"customerCountry":["NL","BE","LU","DE"],"email":{"required":true},"address":{"required":false},"repeat":["once","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{},"widget":{"amount":{"minAmount":{"size":200,"currency":"EUR"}},"currency":["EUR"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE","NO","US","CH","AU","BG","CA","HR","CZ","DK","GI","HK","HU","JP","LI","MX","NZ","GB"],"customerCountry":["NL","BE","LU","DE"],"email":{"required":true},"address":{"required":false},"repeat":["once","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{}}')},45435:function(e){"use strict";e.exports=JSON.parse('{"name":"PayPal","provider":"paypal","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},32449:function(e){"use strict";e.exports=JSON.parse('{"name":"Plaid","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},88403:function(e){"use strict";e.exports=JSON.parse('{"name":"SEPA Direct Debit","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"minAmount":{"size":200,"currency":"EUR"}},"currency":["EUR"],"repeat":["once","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE","NO","US","CH","AU","BG","CA","HR","CZ","DK","GI","HK","HU","JP","LI","MX","NZ","GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true}},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["EUR"],"repeat":["once","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE","NO","US","CH","AU","BG","CA","HR","CZ","DK","GI","HK","HU","JP","LI","MX","NZ","GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true}},"widget":{"amount":{"minAmount":{"size":200,"currency":"EUR"}},"currency":["EUR"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE","NO","US","CH","AU","BG","CA","HR","CZ","DK","GI","HK","HU","JP","LI","MX","NZ","GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"requiredIfIbanCountry":["AD","PF","TF","GI","GB","GG","VA","IM","JE","MC","NC","BL","PM","SM","CH","WF"]},"repeat":["once","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["EUR"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE","NO","US","CH","AU","BG","CA","HR","CZ","DK","GI","HK","HU","JP","LI","MX","NZ","GB"],"address":{"requiredIfIbanCountry":["AD","PF","TF","GI","GB","GG","VA","IM","JE","MC","NC","BL","PM","SM","CH","WF"]},"email":{"required":true},"repeat":["once","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},21600:function(e){"use strict";e.exports=JSON.parse('{"name":"Stock","provider":"manualBrokerage","donorPortalSubscriptionEditor":{},"dashboardSubscriptionEditor":{},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once"]},"virtualTerminal":{}}')},21433:function(e){"use strict";e.exports=JSON.parse('{"name":"Bacs Direct Debit","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"minAmount":{"size":200,"currency":"GBP"}},"currency":["GBP"],"companyCountry":["GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true},"repeat":["weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["GBP"],"companyCountry":["GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true},"repeat":["weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"minAmount":{"size":200,"currency":"GBP"}},"currency":["GBP"],"companyCountry":["GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true},"repeat":["weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["GBP"],"companyCountry":["GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true},"repeat":["weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},67868:function(e){"use strict";e.exports=JSON.parse('{"name":"ACH","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},16660:function(e){"use strict";e.exports=JSON.parse('{"name":"Venmo","provider":"paypal","donorPortalSubscriptionEditor":{},"dashboardSubscriptionEditor":{},"widget":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once"]},"virtualTerminal":{}}')}},s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=r,e=[],o.O=function(t,n,i,a){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],a=e[u][2];for(var s=!0,c=0;c<n.length;c++)(!1&a||r>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[c])}))?n.splice(c--,1):(s=!1,a<r&&(r=a));if(s){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,i,a]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var a=Object.create(null);o.r(a);var r={};t=t||[null,n({}),n([]),n(n)];for(var s=2&i&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((function(t){r[t]=function(){return e[t]}}));return r.default=function(){return e},o.d(a,r),a},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))},o.u=function(e){return({18:"checkout-locale15",183:"checkout-locale23",206:"checkout-sentry-vendor",330:"checkout-locale19",365:"checkout-locale3",377:"checkout-locale7",412:"checkout-locale20",465:"checkout-locale22",503:"checkout-locale5",524:"checkout-locale2",565:"checkout-locale10",580:"checkout-styles",592:"checkout-locale1",598:"checkout-locale6",655:"checkout-locale17",661:"legacy-currency-filter",665:"checkout-locale21",671:"checkout-locale0",739:"checkout-rtl-styles",829:"checkout-locale16",831:"checkout-locale14",842:"checkout-locale8",870:"checkout-locale11",881:"checkout-locale4",895:"checkout-locale18",897:"sentry",906:"checkout-locale12",920:"checkout-locale13",966:"checkout-locale9"}[e]||e)+"."+{18:"20cd0804766b699b5ef4",21:"b1ec83c8430ba8b31f49",127:"eb65d29005ee5947bb6b",183:"6990d6f49f69c8a94c56",206:"b26ac72770da50f7b54c",330:"b8c14a0823c64904c8a6",359:"4783a96da188b6792ff1",365:"7d7cdd5912ed43636a41",377:"ebe3a59205f807926657",412:"1d0f2be7eb4fac9d4a58",465:"1a8801e39142a7a78cf4",477:"79976be11cce03531473",503:"0544ca3267ca0d172836",524:"098abfec66704c61e0de",565:"82f77460d2cc1cf7b3f7",580:"d6970049e7a54276a0e5",592:"0c0cdead7e907e070b25",598:"361aa05a686dc67cc6ae",655:"f0388eeefc55ecbf010f",661:"d178252b33c1146325a7",665:"8bf76ce4119897821dbe",671:"875bb08792de18b95d35",739:"bd3d5a9a465564b7f414",829:"b7c564fe7683b7ebb63f",831:"16a662b9d62b06e5b297",842:"fdfaad19088d12b0e45a",870:"192d70cea87594c58faa",881:"d6e3dcdde8c094c9ae1a",895:"be582f8377af1c77fbcc",897:"6f8322562d20ad9dc128",906:"1cc7c248ef412fdcc8df",920:"61d21317b90db011d099",966:"ab8fa13d8d2c81e7f848"}[e]+".js"},o.miniCssF=function(e){},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i={},a="@fundraiseup/checkout:",o.l=function(e,t,n,r){if(i[e])i[e].push(t);else{var s,c;if(void 0!==n)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==a+n){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",a+n),s.src=e),i[e]=[t];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(m);var a=i[e];if(delete i[e],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(n)})),t)return t(n)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},o.p="https://static.fundraiseup.com/",function(){o.b=document.baseURI||self.location.href;var e={231:0};o.f.j=function(t,n){var i=o.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise((function(n,a){i=e[t]=[n,a]}));n.push(i[2]=a);var r=o.p+o.u(t),s=new Error;o.l(r,(function(n){if(o.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",s.name="ChunkLoadError",s.type=a,s.request=r,i[1](s)}}),"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,a,r=n[0],s=n[1],c=n[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(c)var u=c(o)}for(t&&t(n);l<r.length;l++)a=r[l],o.o(e,a)&&e[a]&&e[a][0](),e[r[l]]=0;return o.O(u)},n=self.webpackChunk_fundraiseup_checkout=self.webpackChunk_fundraiseup_checkout||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var c=o.O(void 0,[82],(function(){return o(93854)}));c=o.O(c)}();
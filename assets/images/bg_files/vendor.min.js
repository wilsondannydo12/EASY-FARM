"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Glide=t()}(void 0,function(){function n(e){return(n="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function e(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n),t=(e=i?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(!e||"object"!=_typeof(e)&&"function"!=typeof e){if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=t))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}}function t(){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}var R={type:"slider",startAt:0,perView:1,focusAt:0,gap:10,autoplay:!1,hoverpause:!0,keyboard:!0,bound:!1,swipeThreshold:80,dragThreshold:120,perSwipe:"",touchRatio:.5,touchAngle:45,animationDuration:400,rewind:!0,rewindDuration:800,animationTimingFunc:"cubic-bezier(.165, .840, .440, 1)",waitForTransition:!0,throttle:10,direction:"ltr",peek:0,cloningRatio:1,breakpoints:{},classes:{swipeable:"glide--swipeable",dragging:"glide--dragging",direction:{ltr:"glide--ltr",rtl:"glide--rtl"},type:{slider:"glide--slider",carousel:"glide--carousel"},slide:{clone:"glide__slide--clone",active:"glide__slide--active"},arrow:{disabled:"glide__arrow--disabled"},nav:{active:"glide__bullet--active"}}};function d(e){console.error("[Glide warn]: ".concat(e))}function p(e){return parseInt(e)}function s(e){return"string"==typeof e}function l(e){var t=n(e);return"function"===t||"object"===t&&e}function c(e){return"function"==typeof e}function u(e){return void 0===e}function h(e){return e.constructor===Array}function m(e,t,n){Object.defineProperty(e,t,n)}function f(e,t){var n=Object.assign({},e,t);return t.hasOwnProperty("classes")&&(n.classes=Object.assign({},e.classes,t.classes),t.classes.hasOwnProperty("direction")&&(n.classes.direction=Object.assign({},e.classes.direction,t.classes.direction)),t.classes.hasOwnProperty("type")&&(n.classes.type=Object.assign({},e.classes.type,t.classes.type)),t.classes.hasOwnProperty("slide")&&(n.classes.slide=Object.assign({},e.classes.slide,t.classes.slide)),t.classes.hasOwnProperty("arrow")&&(n.classes.arrow=Object.assign({},e.classes.arrow,t.classes.arrow)),t.classes.hasOwnProperty("nav")&&(n.classes.nav=Object.assign({},e.classes.nav,t.classes.nav))),t.hasOwnProperty("breakpoints")&&(n.breakpoints=Object.assign({},e.breakpoints,t.breakpoints)),n}e(b,[{key:"on",value:function(e,t){var n;if(!h(e))return this.hop.call(this.events,e)||(this.events[e]=[]),n=this.events[e].push(t)-1,{remove:function(){delete this.events[e][n]}};for(var i=0;i<e.length;i++)this.on(e[i],t)}},{key:"emit",value:function(e,t){if(h(e))for(var n=0;n<e.length;n++)this.emit(e[n],t);else this.hop.call(this.events,e)&&this.events[e].forEach(function(e){e(t||{})})}}]);var D=b,g=(e(y,[{key:"mount",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this._e.emit("mount.before"),l(e)?this._c=function(e,t,n){var i,r,o={};for(i in t)c(t[i])?o[i]=t[i](e,o,n):d("Extension must be a function");for(r in o)c(o[r].mount)&&o[r].mount();return o}(this,e,this._e):d("You need to provide a object on `mount()`"),this._e.emit("mount.after"),this}},{key:"mutate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return h(e)?this._t=e:d("You need to provide a array on `mutate()`"),this}},{key:"update",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.settings=f(this.settings,e),e.hasOwnProperty("startAt")&&(this.index=e.startAt),this._e.emit("update"),this}},{key:"go",value:function(e){return this._c.Run.make(e),this}},{key:"move",value:function(e){return this._c.Transition.disable(),this._c.Move.make(e),this}},{key:"destroy",value:function(){return this._e.emit("destroy"),this}},{key:"play",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return e&&(this.settings.autoplay=e),this._e.emit("play"),this}},{key:"pause",value:function(){return this._e.emit("pause"),this}},{key:"disable",value:function(){return this.disabled=!0,this}},{key:"enable",value:function(){return this.disabled=!1,this}},{key:"on",value:function(e,t){return this._e.on(e,t),this}},{key:"isType",value:function(e){return this.settings.type===e}},{key:"settings",get:function(){return this._o},set:function(e){l(e)?this._o=e:d("Options must be an `object` instance.")}},{key:"index",get:function(){return this._i},set:function(e){this._i=p(e)}},{key:"type",get:function(){return this.settings.type}},{key:"disabled",get:function(){return this._d},set:function(e){this._d=!!e}}]),y);function y(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,y),this._c={},this._t=[],this._e=new D,this.disabled=!1,this.selector=e,this.settings=f(R,t),this.index=this.settings.startAt}function b(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,b),this.events=e,this.hop=e.hasOwnProperty}function v(){return(new Date).getTime()}function w(n,i,r){function o(){u=!1===r.leading?0:v(),a=null,c=n.apply(s,l),a||(s=l=null)}function e(){var e=v(),t=(u||!1!==r.leading||(u=e),i-(e-u));return s=this,l=arguments,t<=0||i<t?(a&&(clearTimeout(a),a=null),u=e,c=n.apply(s,l),a||(s=l=null)):a||!1===r.trailing||(a=setTimeout(o,t)),c}var a,s,l,c,u=0;r=r||{};return e.cancel=function(){clearTimeout(a),u=0,a=s=l=null},e}var k={ltr:["marginLeft","marginRight"],rtl:["marginRight","marginLeft"]};function T(e){if(e&&e.parentNode){for(var t=e.parentNode.firstChild,n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}return[]}function S(e){return e&&e instanceof window.HTMLElement}var _='[data-glide-el="track"]',A=(e(C,[{key:"on",value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];s(e)&&(e=[e]);for(var r=0;r<e.length;r++)this.listeners[e[r]]=n,t.addEventListener(e[r],this.listeners[e[r]],i)}},{key:"off",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];s(e)&&(e=[e]);for(var i=0;i<e.length;i++)t.removeEventListener(e[i],this.listeners[e[i]],n)}},{key:"destroy",value:function(){delete this.listeners}}]),C);function C(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,C),this.listeners=e}var q=["ltr","rtl"],F={">":"<","<":">","=":"="};function V(e,t){return{modify:function(e){return t.Direction.is("rtl")?-e:e}}}var E=!1;try{var P=Object.defineProperty({},"passive",{get:function(){E=!0}});window.addEventListener("testPassive",null,P),window.removeEventListener("testPassive",null,P)}catch(n){}var x=E,M=["touchstart","mousedown"],O=["touchmove","mousemove"],L=["touchend","touchcancel","mouseup","mouseleave"],j=["mousedown","mousemove","mouseup","mouseleave"],I='[data-glide-el^="controls"]',B="".concat(I,' [data-glide-dir*="<"]'),U="".concat(I,' [data-glide-dir*=">"]');function W(e){return l(e)?(n=e,Object.keys(n).sort().reduce(function(e,t){return e[t]=n[t],e[t],e},{})):(d("Breakpoints option must be an object"),{});var n}var z={Html:function(t,e,n){var i={mount:function(){this.root=t.selector,this.track=this.root.querySelector(_),this.collectSlides()},collectSlides:function(){this.slides=Array.prototype.slice.call(this.wrapper.children).filter(function(e){return!e.classList.contains(t.settings.classes.slide.clone)})}};return m(i,"root",{get:function(){return i._r},set:function(e){S(e=s(e)?document.querySelector(e):e)?i._r=e:d("Root element must be a existing Html node")}}),m(i,"track",{get:function(){return i._t},set:function(e){S(e)?i._t=e:d("Could not find track element. Please use ".concat(_," attribute."))}}),m(i,"wrapper",{get:function(){return i.track.children[0]}}),n.on("update",function(){i.collectSlides()}),i},Translate:function(a,s,t){var n={set:function(e){r=s,o=[function(e,n){return{modify:function(e){var t=Math.floor(e/n.Sizes.slideWidth);return e+n.Gaps.value*t}}},function(e,t){return{modify:function(e){return e+t.Clones.grow/2}}},function(n,i){return{modify:function(e){var t;return 0<=n.settings.focusAt?l(t=i.Peek.value)?e-t.before:e-t:e}}},function(o,a){return{modify:function(e){var t=a.Gaps.value,n=a.Sizes.width,i=o.settings.focusAt,r=a.Sizes.slideWidth;return"center"===i?e-(n/2-r/2):e-r*i-t*i}}}].concat((i=a)._t,[V]);var i,r,o,e=function(e){for(var t=0;t<o.length;t++){var n=o[t];c(n)&&c(n().modify)?e=n(i,r,void 0).modify(e):d("Transformer should be a function that returns an object with `modify()` method")}return e}(e),e="translate3d(".concat(-1*e,"px, 0px, 0px)");s.Html.wrapper.style.mozTransform=e,s.Html.wrapper.style.webkitTransform=e,s.Html.wrapper.style.transform=e},remove:function(){s.Html.wrapper.style.transform=""},getStartIndex:function(){var e=s.Sizes.length,t=a.index,n=a.settings.perView;return s.Run.isOffset(">")||s.Run.isOffset("|>")?e+(t-n):(t+n)%e},getTravelDistance:function(){var e=s.Sizes.slideWidth*a.settings.perView;return s.Run.isOffset(">")||s.Run.isOffset("|>")?-1*e:e}};return t.on("move",function(e){if(!a.isType("carousel")||!s.Run.isOffset())return n.set(e.movement);s.Transition.after(function(){t.emit("translate.jump"),n.set(s.Sizes.slideWidth*a.index)});e=s.Sizes.slideWidth*s.Translate.getStartIndex();return n.set(e-s.Translate.getTravelDistance())}),t.on("destroy",function(){n.remove()}),n},Transition:function(n,t,e){var i=!1,r={compose:function(e){var t=n.settings;return(i?"".concat(e," 0ms "):"".concat(e," ").concat(this.duration,"ms ")).concat(t.animationTimingFunc)},set:function(){t.Html.wrapper.style.transition=this.compose(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"transform")},remove:function(){t.Html.wrapper.style.transition=""},after:function(e){setTimeout(function(){e()},this.duration)},enable:function(){i=!1,this.set()},disable:function(){i=!0,this.set()}};return m(r,"duration",{get:function(){var e=n.settings;return n.isType("slider")&&t.Run.offset?e.rewindDuration:e.animationDuration}}),e.on("move",function(){r.set()}),e.on(["build.before","resize","translate.jump"],function(){r.disable()}),e.on("run",function(){r.enable()}),e.on("destroy",function(){r.remove()}),r},Direction:function(e,t,n){var i={mount:function(){this.value=e.settings.direction},resolve:function(e){var t=e.slice(0,1);return this.is("rtl")?e.split(t).join(F[t]):e},is:function(e){return this.value===e},addClass:function(){t.Html.root.classList.add(e.settings.classes.direction[this.value])},removeClass:function(){t.Html.root.classList.remove(e.settings.classes.direction[this.value])}};return m(i,"value",{get:function(){return i._v},set:function(e){-1<q.indexOf(e)?i._v=e:d("Direction value must be `ltr` or `rtl`")}}),n.on(["destroy","update"],function(){i.removeClass()}),n.on("update",function(){i.mount()}),n.on(["build.before","update"],function(){i.addClass()}),i},Peek:function(n,e,t){var i={mount:function(){this.value=n.settings.peek}};return m(i,"value",{get:function(){return i._v},set:function(e){l(e)?(e.before=p(e.before),e.after=p(e.after)):e=p(e),i._v=e}}),m(i,"reductor",{get:function(){var e=i.value,t=n.settings.perView;return l(e)?e.before/t+e.after/t:2*e/t}}),t.on(["resize","update"],function(){i.mount()}),i},Sizes:function(e,i,t){var n={setupSlides:function(){for(var e="".concat(this.slideWidth,"px"),t=i.Html.slides,n=0;n<t.length;n++)t[n].style.width=e},setupWrapper:function(){i.Html.wrapper.style.width="".concat(this.wrapperSize,"px")},remove:function(){for(var e=i.Html.slides,t=0;t<e.length;t++)e[t].style.width="";i.Html.wrapper.style.width=""}};return m(n,"length",{get:function(){return i.Html.slides.length}}),m(n,"width",{get:function(){return i.Html.track.offsetWidth}}),m(n,"wrapperSize",{get:function(){return n.slideWidth*n.length+i.Gaps.grow+i.Clones.grow}}),m(n,"slideWidth",{get:function(){return n.width/e.settings.perView-i.Peek.reductor-i.Gaps.reductor}}),t.on(["build.before","resize","update"],function(){n.setupSlides(),n.setupWrapper()}),t.on("destroy",function(){n.remove()}),n},Gaps:function(t,o,e){var n={apply:function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t].style,r=o.Direction.value;i[k[r][0]]=0!==t?"".concat(this.value/2,"px"):"",t!==e.length-1?i[k[r][1]]="".concat(this.value/2,"px"):i[k[r][1]]=""}},remove:function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t].style;i.marginLeft="",i.marginRight=""}}};return m(n,"value",{get:function(){return p(t.settings.gap)}}),m(n,"grow",{get:function(){return n.value*o.Sizes.length}}),m(n,"reductor",{get:function(){var e=t.settings.perView;return n.value*(e-1)/e}}),e.on(["build.after","update"],w(function(){n.apply(o.Html.wrapper.children)},30)),e.on("destroy",function(){n.remove(o.Html.wrapper.children)}),n},Move:function(e,n,t){var i={mount:function(){this._o=0},make:function(){var e=this;this.offset=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t.emit("move",{movement:this.value}),n.Transition.after(function(){t.emit("move.after",{movement:e.value})})}};return m(i,"offset",{get:function(){return i._o},set:function(e){i._o=u(e)?0:p(e)}}),m(i,"translate",{get:function(){return n.Sizes.slideWidth*e.index}}),m(i,"value",{get:function(){var e=this.offset,t=this.translate;return n.Direction.is("rtl")?t+e:t-e}}),t.on(["build.before","run"],function(){i.make()}),i},Clones:function(p,f,e){var t={mount:function(){this.items=[],p.isType("carousel")&&(this.items=this.collect())},collect:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=f.Html.slides,n=p.settings,i=n.perView,r=n.classes,o=n.cloningRatio;if(0!==t.length)for(var n=i+ +!!p.settings.peek+Math.round(i/2),a=t.slice(0,n).reverse(),s=t.slice(-1*n),l=0;l<Math.max(o,Math.floor(i/t.length));l++){for(var c=0;c<a.length;c++){var u=a[c].cloneNode(!0);u.classList.add(r.slide.clone),e.push(u)}for(var d=0;d<s.length;d++){var h=s[d].cloneNode(!0);h.classList.add(r.slide.clone),e.unshift(h)}}return e},append:function(){for(var e=this.items,t=f.Html,n=t.wrapper,i=t.slides,t=Math.floor(e.length/2),r=e.slice(0,t).reverse(),o=e.slice(-1*t).reverse(),a="".concat(f.Sizes.slideWidth,"px"),s=0;s<o.length;s++)n.appendChild(o[s]);for(var l=0;l<r.length;l++)n.insertBefore(r[l],i[0]);for(var c=0;c<e.length;c++)e[c].style.width=a},remove:function(){for(var e=this.items,t=0;t<e.length;t++)f.Html.wrapper.removeChild(e[t])}};return m(t,"grow",{get:function(){return(f.Sizes.slideWidth+f.Gaps.value)*t.items.length}}),e.on("update",function(){t.remove(),t.mount(),t.append()}),e.on("build.before",function(){p.isType("carousel")&&t.append()}),e.on("destroy",function(){t.remove()}),t},Resize:function(e,t,n){var i=new A,r={mount:function(){this.bind()},bind:function(){i.on("resize",window,w(function(){n.emit("resize")},e.settings.throttle))},unbind:function(){i.off("resize",window)}};return n.on("destroy",function(){r.unbind(),i.destroy()}),r},Build:function(i,r,e){var t={mount:function(){e.emit("build.before"),this.typeClass(),this.activeClass(),e.emit("build.after")},typeClass:function(){r.Html.root.classList.add(i.settings.classes.type[i.settings.type])},activeClass:function(){var t=i.settings.classes,e=r.Html.slides[i.index];e&&(e.classList.add(t.slide.active),T(e).forEach(function(e){e.classList.remove(t.slide.active)}))},removeClasses:function(){var e=i.settings.classes,t=e.type,n=e.slide;r.Html.root.classList.remove(t[i.settings.type]),r.Html.slides.forEach(function(e){e.classList.remove(n.active)})}};return e.on(["destroy","update"],function(){t.removeClasses()}),e.on(["resize","update"],function(){t.mount()}),e.on("move.after",function(){t.activeClass()}),t},Run:function(c,n,i){var u={mount:function(){this._o=!1},make:function(e){var t=this;c.disabled||(c.settings.waitForTransition&&c.disable(),this.move=e,i.emit("run.before",this.move),this.calculate(),i.emit("run",this.move),n.Transition.after(function(){t.isStart()&&i.emit("run.start",t.move),t.isEnd()&&i.emit("run.end",t.move),t.isOffset()&&(t._o=!1,i.emit("run.offset",t.move)),i.emit("run.after",t.move),c.enable()}))},calculate:function(){var e,t,n,i,r,o=this.move,a=this.length,s=o.steps,o=o.direction,l=1;if("="===o)return c.settings.bound&&p(s)>a?void(c.index=a):void(c.index=s);">"!==o||">"!==s?"<"!==o||"<"!==s?("|"===o&&(l=c.settings.perView||1),">"===o||"|"===o&&">"===s?(i=l,r=c.index,a<(r=c.isType("carousel")?r+i:r+(i-r%i))&&(this._o=!0),c.index=(i=r,r=l,n=u.length,i<=n?i:c.isType("carousel")?i-(n+1):c.settings.rewind?u.isBound()&&!u.isEnd()?n:0:u.isBound()?n:Math.floor(n/r)*r)):"<"===o||"|"===o&&"<"===s?(i=l,n=c.index,(r=c.isType("carousel")?n-i:(Math.ceil(n/i)-1)*i)<0&&(this._o=!0),c.index=(e=r,l=l,t=u.length,0<=e?e:c.isType("carousel")?e+(t+1):c.settings.rewind?u.isBound()&&u.isStart()?t:Math.floor(t/l)*l:0)):d("Invalid direction pattern [".concat(o).concat(s,"] has been used"))):c.index=0:c.index=a},isStart:function(){return c.index<=0},isEnd:function(){return c.index>=this.length},isOffset:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return e?!!this._o&&("|>"===e?"|"===this.move.direction&&">"===this.move.steps:"|<"===e?"|"===this.move.direction&&"<"===this.move.steps:this.move.direction===e):this._o},isBound:function(){return c.isType("slider")&&"center"!==c.settings.focusAt&&c.settings.bound}};return m(u,"move",{get:function(){return this._m},set:function(e){var t=e.substr(1);this._m={direction:e.substr(0,1),steps:t?p(t)?p(t):t:0}}}),m(u,"length",{get:function(){var e=c.settings,t=n.Html.slides.length;return this.isBound()?t-1-(p(e.perView)-1)+p(e.focusAt):t-1}}),m(u,"offset",{get:function(){return this._o}}),u},Swipe:function(s,l,c){var i=new A,u=0,d=0,h=0,t=!1,r=!!x&&{passive:!0},e={mount:function(){this.bindSwipeStart()},start:function(e){t||s.disabled||(this.disable(),e=this.touches(e),u=null,d=p(e.pageX),h=p(e.pageY),this.bindSwipeMove(),this.bindSwipeEnd(),c.emit("swipe.start"))},move:function(e){if(!s.disabled){var t=s.settings,n=t.touchAngle,i=t.touchRatio,t=t.classes,r=this.touches(e),o=p(r.pageX)-d,r=p(r.pageY)-h,a=Math.abs(o<<2),r=Math.abs(r<<2),a=Math.sqrt(a+r),r=Math.sqrt(r);if(!(180*(u=Math.asin(r/a))/Math.PI<n))return!1;e.stopPropagation(),l.Move.make(o*parseFloat(i)),l.Html.root.classList.add(t.dragging),c.emit("swipe.move")}},end:function(e){var t,n,i,r,o;s.disabled||(t=(i=s.settings).perSwipe,n=i.touchAngle,i=i.classes,r=this.touches(e),e=this.threshold(e),r=r.pageX-d,o=180*u/Math.PI,this.enable(),e<r&&o<n?l.Run.make(l.Direction.resolve("".concat(t,"<"))):r<-e&&o<n?l.Run.make(l.Direction.resolve("".concat(t,">"))):l.Move.make(),l.Html.root.classList.remove(i.dragging),this.unbindSwipeMove(),this.unbindSwipeEnd(),c.emit("swipe.end"))},bindSwipeStart:function(){var t=this,e=s.settings,n=e.swipeThreshold,e=e.dragThreshold;n&&i.on(M[0],l.Html.wrapper,function(e){t.start(e)},r),e&&i.on(M[1],l.Html.wrapper,function(e){t.start(e)},r)},unbindSwipeStart:function(){i.off(M[0],l.Html.wrapper,r),i.off(M[1],l.Html.wrapper,r)},bindSwipeMove:function(){var t=this;i.on(O,l.Html.wrapper,w(function(e){t.move(e)},s.settings.throttle),r)},unbindSwipeMove:function(){i.off(O,l.Html.wrapper,r)},bindSwipeEnd:function(){var t=this;i.on(L,l.Html.wrapper,function(e){t.end(e)})},unbindSwipeEnd:function(){i.off(L,l.Html.wrapper)},touches:function(e){return-1<j.indexOf(e.type)?e:e.touches[0]||e.changedTouches[0]},threshold:function(e){var t=s.settings;return-1<j.indexOf(e.type)?t.dragThreshold:t.swipeThreshold},enable:function(){return t=!1,l.Transition.enable(),this},disable:function(){return t=!0,l.Transition.disable(),this}};return c.on("build.after",function(){l.Html.root.classList.add(s.settings.classes.swipeable)}),c.on("destroy",function(){e.unbindSwipeStart(),e.unbindSwipeMove(),e.unbindSwipeEnd(),i.destroy()}),e},Images:function(e,t,n){var i=new A,r={mount:function(){this.bind()},bind:function(){i.on("dragstart",t.Html.wrapper,this.dragstart)},unbind:function(){i.off("dragstart",t.Html.wrapper)},dragstart:function(e){e.preventDefault()}};return n.on("destroy",function(){r.unbind(),i.destroy()}),r},Anchors:function(e,t,n){var i=new A,r=!1,o=!1,a={mount:function(){this._a=t.Html.wrapper.querySelectorAll("a"),this.bind()},bind:function(){i.on("click",t.Html.wrapper,this.click)},unbind:function(){i.off("click",t.Html.wrapper)},click:function(e){o&&(e.stopPropagation(),e.preventDefault())},detach:function(){if(o=!0,!r){for(var e=0;e<this.items.length;e++)this.items[e].draggable=!1;r=!0}return this},attach:function(){if(o=!1,r){for(var e=0;e<this.items.length;e++)this.items[e].draggable=!0;r=!1}return this}};return m(a,"items",{get:function(){return a._a}}),n.on("swipe.move",function(){a.detach()}),n.on("swipe.end",function(){t.Transition.after(function(){a.attach()})}),n.on("destroy",function(){a.attach(),a.unbind(),i.destroy()}),a},Controls:function(r,n,e){var i=new A,o=!!x&&{passive:!0},a={mount:function(){this._n=n.Html.root.querySelectorAll('[data-glide-el="controls[nav]"]'),this._c=n.Html.root.querySelectorAll(I),this._arrowControls={previous:n.Html.root.querySelectorAll(B),next:n.Html.root.querySelectorAll(U)},this.addBindings()},setActive:function(){for(var e=0;e<this._n.length;e++)this.addClass(this._n[e].children)},removeActive:function(){for(var e=0;e<this._n.length;e++)this.removeClass(this._n[e].children)},addClass:function(e){var t=r.settings,e=e[r.index];e&&(e.classList.add(t.classes.nav.active),T(e).forEach(function(e){e.classList.remove(t.classes.nav.active)}))},removeClass:function(e){e=e[r.index];e&&e.classList.remove(r.settings.classes.nav.active)},setArrowState:function(){var e,t;r.settings.rewind||(e=a._arrowControls.next,t=a._arrowControls.previous,this.resetArrowState(e,t),0===r.index&&this.disableArrow(t),r.index===n.Run.length&&this.disableArrow(e))},resetArrowState:function(){for(var t=r.settings,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(e){e.forEach(function(e){e.classList.remove(t.classes.arrow.disabled)})})},disableArrow:function(){for(var t=r.settings,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(e){e.forEach(function(e){e.classList.add(t.classes.arrow.disabled)})})},addBindings:function(){for(var e=0;e<this._c.length;e++)this.bind(this._c[e].children)},removeBindings:function(){for(var e=0;e<this._c.length;e++)this.unbind(this._c[e].children)},bind:function(e){for(var t=0;t<e.length;t++)i.on("click",e[t],this.click),i.on("touchstart",e[t],this.click,o)},unbind:function(e){for(var t=0;t<e.length;t++)i.off(["click","touchstart"],e[t])},click:function(e){x||"touchstart"!==e.type||e.preventDefault();e=e.currentTarget.getAttribute("data-glide-dir");n.Run.make(n.Direction.resolve(e))}};return m(a,"items",{get:function(){return a._c}}),e.on(["mount.after","move.after"],function(){a.setActive()}),e.on(["mount.after","run"],function(){a.setArrowState()}),e.on("destroy",function(){a.removeBindings(),a.removeActive(),i.destroy()}),a},Keyboard:function(n,i,e){var t=new A,r={mount:function(){n.settings.keyboard&&this.bind()},bind:function(){t.on("keyup",document,this.press)},unbind:function(){t.off("keyup",document)},press:function(e){var t=n.settings.perSwipe;39===e.keyCode&&i.Run.make(i.Direction.resolve("".concat(t,">"))),37===e.keyCode&&i.Run.make(i.Direction.resolve("".concat(t,"<")))}};return e.on(["destroy","update"],function(){r.unbind()}),e.on("update",function(){r.mount()}),e.on("destroy",function(){t.destroy()}),r},Autoplay:function(t,n,i){var r=new A,e={mount:function(){this.enable(),this.start(),t.settings.hoverpause&&this.bind()},enable:function(){this._e=!0},disable:function(){this._e=!1},start:function(){var e=this;this._e&&(this.enable(),t.settings.autoplay&&u(this._i)&&(this._i=setInterval(function(){e.stop(),n.Run.make(">"),e.start(),i.emit("autoplay")},this.time)))},stop:function(){this._i=clearInterval(this._i)},bind:function(){var e=this;r.on("mouseover",n.Html.root,function(){e._e&&e.stop()}),r.on("mouseout",n.Html.root,function(){e._e&&e.start()})},unbind:function(){r.off(["mouseover","mouseout"],n.Html.root)}};return m(e,"time",{get:function(){return p(n.Html.slides[t.index].getAttribute("data-glide-autoplay")||t.settings.autoplay)}}),i.on(["destroy","update"],function(){e.unbind()}),i.on(["run.before","swipe.start","update"],function(){e.stop()}),i.on(["pause","destroy"],function(){e.disable(),e.stop()}),i.on(["run.after","swipe.end"],function(){e.start()}),i.on(["play"],function(){e.enable(),e.start()}),i.on("update",function(){e.mount()}),i.on("destroy",function(){r.destroy()}),e},Breakpoints:function(e,t,n){var i=new A,r=e.settings,o=W(r.breakpoints),a=Object.assign({},r),s={match:function(e){if(void 0!==window.matchMedia)for(var t in e)if(e.hasOwnProperty(t)&&window.matchMedia("(max-width: ".concat(t,"px)")).matches)return e[t];return a}};return Object.assign(r,s.match(o)),i.on("resize",window,w(function(){e.settings=f(r,s.match(o))},e.settings.throttle)),n.on("update",function(){o=W(o),a=Object.assign({},r)}),n.on("destroy",function(){i.off("resize",window)}),s}},P=N;if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(g.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),a(P,g);var K=H(N);function N(){return i(this,N),K.apply(this,arguments)}return e(N,[{key:"mount",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t(o(N.prototype),"mount",this).call(this,Object.assign({},z,e))}}]),N});var _excluded=["premium","referrerPolicy"];function _objectWithoutProperties(e,t){if(null==e)return{};var n,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),o=0;o<r.length;o++)n=r[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n]);return i}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};for(var n,i={},r=Object.keys(e),o=0;o<r.length;o++)n=r[o],0<=t.indexOf(n)||(i[n]=e[n]);return i}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ownKeys(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"object"==("undefined"==typeof navigator?"undefined":_typeof(navigator))&&function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Plyr",t):(e="undefined"!=typeof globalThis?globalThis:e||self).Plyr=t()}(void 0,function(){if("undefined"!=typeof window)try{var o=new window.CustomEvent("test",{cancelable:!0});if(o.preventDefault(),!0!==o.defaultPrevented)throw new Error("Could not prevent default")}catch(o){var R=function(e,t){var n,i;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i=n.preventDefault,n.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};R.prototype=window.Event.prototype,window.CustomEvent=R}var D,q,F,V,e,R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function B(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function U(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function W(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}F=R,V=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),function(){try{var e=F.URLSearchParams;return"a=1"===new e("?a=1").toString()&&"function"==typeof e.prototype.set&&"function"==typeof e.prototype.entries}catch(e){}}()||((e=Q.prototype).append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},e.delete=function(e){delete this._entries[e]},e.get=function(e){return e in this._entries?this._entries[e][0]:null},e.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},e.has=function(e){return e in this._entries},e.set=function(e,t){this._entries[e]=[String(t)]},e.forEach=function(e,t){for(var n in this._entries)if(this._entries.hasOwnProperty(n))for(var i=this._entries[n],r=0;r<i.length;r++)e.call(t,i[r],n,this)},e.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),Y(n)},e.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),Y(t)},e.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),Y(n)},V&&(e[Symbol.iterator]=e.entries),e.toString=function(){var n=[];return this.forEach(function(e,t){n.push(G(t)+"="+G(e))}),n.join("&")},F.URLSearchParams=Q),"function"!=typeof(e=F.URLSearchParams.prototype).sort&&(e.sort=function(){var n=this,i=[];this.forEach(function(e,t){i.push([t,e]),n._entries||n.delete(t)}),i.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),n._entries&&(n._entries={});for(var e=0;e<i.length;e++)this.append(i[e][0],i[e][1])}),"function"!=typeof e._fromString&&Object.defineProperty(e,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var n=[];this.forEach(function(e,t){n.push(t)});for(var t=0;t<n.length;t++)this.delete(n[t])}for(var i,r=(e=e.replace(/^\?/,"")).split("&"),t=0;t<r.length;t++)i=r[t].split("="),this.append(X(i[0]),1<i.length?X(i[1]):"")}});var u=R;if(function(){try{var e=new u.URL("b","http://a");return e.pathname="c d","http://a/c%20d"===e.href&&e.searchParams}catch(e){}}()||(D=u.URL,q=K.prototype,["hash","host","hostname","port","protocol"].forEach(function(e){var t;t=e,Object.defineProperty(q,t,{get:function(){return this._anchorElement[t]},set:function(e){this._anchorElement[t]=e},enumerable:!0})}),Object.defineProperty(q,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(q,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],e=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(e?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),K.createObjectURL=function(e){return D.createObjectURL.apply(D,arguments)},K.revokeObjectURL=function(e){return D.revokeObjectURL.apply(D,arguments)},u.URL=K),void 0!==u.location&&!("origin"in u.location)){var z=function(){return u.location.protocol+"//"+u.location.hostname+(u.location.port?":"+u.location.port:"")};try{Object.defineProperty(u.location,"origin",{get:z,enumerable:!0})}catch(e){setInterval(function(){u.location.origin=z()},100)}}function K(e,t){"string"!=typeof e&&(e=String(e)),t&&"string"!=typeof t&&(t=String(t));var n=document;if(t&&(void 0===u.location||t!==u.location.href)){t=t.toLowerCase(),(r=(n=document.implementation.createHTMLDocument("")).createElement("base")).href=t,n.head.appendChild(r);try{if(0!==r.href.indexOf(t))throw new Error(r.href)}catch(e){throw new Error("URL unable to set base "+t+" due to "+e)}}var i=n.createElement("a"),r=(i.href=e,r&&(n.body.appendChild(i),i.href=i.href),n.createElement("input"));if(r.type="url",r.value=e,":"===i.protocol||!/:/.test(i.href)||!r.checkValidity()&&!t)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:i});var o=new u.URLSearchParams(this.search),a=!0,s=!0,l=this,c=(["append","delete","set"].forEach(function(e){var t=o[e];o[e]=function(){t.apply(o,arguments),a&&(s=!1,l.search=o.toString(),s=!0)}}),Object.defineProperty(this,"searchParams",{value:o,enumerable:!0}),void 0);Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==c&&(c=this.search,s&&(a=!1,this.searchParams._fromString(this.search),a=!0))}})}function Y(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return V&&(e[Symbol.iterator]=function(){return e}),e}function G(e){return encodeURIComponent(e).replace(/%20/g,"+")}function X(e){return decodeURIComponent(String(e).replace(/\+/g," "))}function Q(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=_typeof(e);if("undefined"!==t)if("string"===t)""!==e&&this._fromString(e);else if(e instanceof Q){var n=this;e.forEach(function(e,t){n.append(t,e)})}else{if(null===e||"object"!==t)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var i=0;i<e.length;i++){var r=e[i];if("[object Array]"!==Object.prototype.toString.call(r)&&2===r.length)throw new TypeError("Expected [string, any] as entry at index "+i+" of URLSearchParams's input");this.append(r[0],r[1])}else for(var o in e)e.hasOwnProperty(o)&&this.append(o,e[o])}}var $={addCSS:!0,thumbWidth:15,watch:!0};function J(e){return null!=e?e.constructor:null}function Z(e){return ne(e,Element)}function ee(e){return ne(e,Event)}function te(e){return ie(e)||(oe(e)||ae(e)||se(e))&&!e.length||re(e)&&!Object.keys(e).length}var ne=function(e,t){return!!(e&&t&&e instanceof t)},ie=function(e){return null==e},re=function(e){return J(e)===Object},oe=function(e){return J(e)===String},ae=function(e){return Array.isArray(e)},se=function(e){return ne(e,NodeList)},le=oe,ce=ae,ue=se;i=[{key:"setup",value:function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=null;if(te(n)||le(n)?e=Array.from(document.querySelectorAll(le(n)?n:'input[type="range"]')):Z(n)?e=[n]:ue(n)?e=Array.from(n):ce(n)&&(e=n.filter(Z)),te(e))return null;var i=W({},$,{},t);return le(n)&&i.watch&&new MutationObserver(function(e){Array.from(e).forEach(function(e){Array.from(e.addedNodes).forEach(function(e){var t;Z(e)&&(t=n,function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t))&&new a(e,i)})})}).observe(document.body,{childList:!0,subtree:!0}),e.map(function(e){return new a(e,t)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}],B((t=a).prototype,[{key:"init",value:function(){a.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){a.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(e){t.element[n](e,function(e){return t.set(e)},!1)})}},{key:"get",value:function(e){if(!a.enabled||!ee(e))return null;var t=e.target,e=e.changedTouches[0],n=parseFloat(t.getAttribute("min"))||0,i=parseFloat(t.getAttribute("max"))||100,r=parseFloat(t.getAttribute("step"))||1,t=t.getBoundingClientRect(),o=100/t.width*(this.config.thumbWidth/2)/100;return(e=100/t.width*(e.clientX-t.left))<0?e=0:100<e&&(e=100),e<50?e-=(100-2*e)*o:50<e&&(e+=2*(e-50)*o),n+(t=e/100*(i-n),(o=r)<1?(e=(e="".concat(o).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0,parseFloat(t.toFixed(e))):Math.round(t/o)*o)}},{key:"set",value:function(e){var t;a.enabled&&ee(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),t=e.target,e="touchend"===e.type?"change":"input",t&&e&&(e=new Event(e,{bubbles:!0}),t.dispatchEvent(e)))}}]),B(t,i);var de=a;function a(e,t){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");Z(e)?this.element=e:le(e)&&(this.element=document.querySelector(e)),Z(this.element)&&te(this.element.rangeTouch)&&(this.config=W({},$,{},t),this.init())}function he(e){return null==e}function pe(e){return ke(e)===Object}function fe(e){return ke(e)===String}function me(e){return Array.isArray(e)}function ge(e){return n(e,NodeList)}function ye(e){return he(e)||(fe(e)||me(e)||ge(e))&&!e.length||pe(e)&&!Object.keys(e).length}function m(e){return ke(e)===Boolean}function l(e){return n(e,Event)}function d(e){return n(e,KeyboardEvent)}function be(e){return n(e,TextTrack)||!he(e)&&fe(e.kind)}function ve(e){if(n(e,window.URL))return!0;if(!fe(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!ye(new URL(t).hostname)}catch(e){return!1}}var we,ke=function(e){return null!=e?e.constructor:null},n=function(e,t){return Boolean(e&&t&&e instanceof t)},Te=function(e){return ke(e)===Function},Se=he,s=pe,g=function(e){return ke(e)===Number&&!Number.isNaN(e)},h=fe,p=Te,y=me,_e=ge,b=function(e){return null!==e&&"object"==_typeof(e)&&1===e.nodeType&&"object"==_typeof(e.style)&&"object"==_typeof(e.ownerDocument)},v=ye,Ae=(we=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(t).find(function(e){return void 0!==we.style[e]}),!!h(i)&&t[i]);function Ce(e,t){setTimeout(function(){try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}},t)}var w={isIE:Boolean(window.document.documentMode),isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints||/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function Ee(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]},e)}function k(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(!n.length)return t;var r=n.shift();return s(r)?(Object.keys(r).forEach(function(e){s(r[e])?(Object.keys(t).includes(e)||Object.assign(t,_defineProperty({},e,{})),k(t[e],r[e])):Object.assign(t,_defineProperty({},e,r[e]))}),k.apply(void 0,[t].concat(n))):t}function Pe(e,r){e=e.length?e:[e];Array.from(e).reverse().forEach(function(e,t){var t=0<t?r.cloneNode(!0):r,n=e.parentNode,i=e.nextSibling;t.appendChild(e),i?n.insertBefore(t,i):n.appendChild(t)})}function xe(n,e){b(n)&&!v(e)&&Object.entries(e).filter(function(e){e=_slicedToArray(e,2)[1];return!Se(e)}).forEach(function(e){var e=_slicedToArray(e,2),t=e[0],e=e[1];return n.setAttribute(t,e)})}function T(e,t,n){e=document.createElement(e);return s(t)&&xe(e,t),h(n)&&(e.innerText=n),e}function Me(e,t,n,i){b(t)&&t.appendChild(T(e,n,i))}function f(e){_e(e)||y(e)?Array.from(e).forEach(f):b(e)&&b(e.parentNode)&&e.parentNode.removeChild(e)}function Oe(e){if(b(e))for(var t=e.childNodes.length;0<t;)e.removeChild(e.lastChild),--t}function Le(e,t){return b(t)&&b(t.parentNode)&&b(e)?(t.parentNode.replaceChild(e,t),e):null}function S(e,t){if(!h(e)||v(e))return{};var o={},a=k({},t);return e.split(",").forEach(function(e){var t=e.trim(),n=t.replace(".",""),e=t.replace(/[[\]]/g,"").split("="),i=_slicedToArray(e,1)[0],r=1<e.length?e[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":h(a.class)?o.class="".concat(a.class," ").concat(n):o.class=n;break;case"#":o.id=t.replace("#","");break;case"[":o[i]=r}}),k(a,o)}function _(e,t){b(e)&&(m(t=t)||(t=!e.hidden),e.hidden=t)}function A(e,t,n){return _e(e)?Array.from(e).map(function(e){return A(e,t,n)}):!!b(e)&&(e.classList[void 0!==n?n?"add":"remove":"toggle"](t),e.classList.contains(t))}function je(e,t){return b(e)&&e.classList.contains(t)}function C(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function Ie(e){return this.elements.container.querySelectorAll(e)}function r(e){return this.elements.container.querySelector(e)}function Ne(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];b(e)&&(e.focus({preventScroll:!0}),t&&A(e,this.config.classNames.tabFocus))}var t,He={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},E={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,n){n=w.isIPhone&&n&&E.playsinline,t=E[e]||"html5"!==t;return{api:t,ui:t&&E.rangeInput&&("video"!==e||!w.isIPhone||n)}},pip:!(w.isIPhone||!p(T("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||T("video").disablePictureInPicture)),airplay:p(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(v(e))return!1;var t=_slicedToArray(e.split("/"),1)[0],n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(He).includes(n)&&(n+='; codecs="'.concat(He[e],'"'));try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:((t=document.createElement("input")).type="range")===t.type,touch:"ontouchstart"in document.documentElement,transitions:!1!==Ae,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Re=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function De(t,e,n){var i,r=this,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],s=5<arguments.length&&void 0!==arguments[5]&&arguments[5];t&&"addEventListener"in t&&!v(e)&&p(n)&&(e=e.split(" "),i=Re?{passive:a,capture:s}:s,e.forEach(function(e){r&&r.eventListeners&&o&&r.eventListeners.push({element:t,type:e,callback:n,options:i}),t[o?"addEventListener":"removeEventListener"](e,n,i)}))}function P(e){De.call(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",2<arguments.length?arguments[2]:void 0,!0,!(3<arguments.length&&void 0!==arguments[3])||arguments[3],4<arguments.length&&void 0!==arguments[4]&&arguments[4])}function qe(e){De.call(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",2<arguments.length?arguments[2]:void 0,!1,!(3<arguments.length&&void 0!==arguments[3])||arguments[3],4<arguments.length&&void 0!==arguments[4]&&arguments[4])}function Fe(r){var o=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",s=2<arguments.length?arguments[2]:void 0,l=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],c=4<arguments.length&&void 0!==arguments[4]&&arguments[4];De.call(this,r,a,function e(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];qe(r,a,e,l,c),s.apply(o,n)},!0,l,c)}function x(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};b(e)&&!v(t)&&(t=new CustomEvent(t,{bubbles:n,detail:_objectSpread(_objectSpread({},i),{},{plyr:this})}),e.dispatchEvent(t))}function M(e){var t;n(t=e,Promise)&&Te(t.then)&&e.then(null,function(){})}function Ve(n){return y(n)?n.filter(function(e,t){return n.indexOf(e)===t}):n}function Be(e,n){return y(e)&&e.length?e.reduce(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}):null}function Ue(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}var We=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(function(e,t){var t=_slicedToArray(t,2),n=t[0],t=t[1];return _objectSpread(_objectSpread({},e),{},_defineProperty({},n/t,[n,t]))},{});function ze(e){return(y(e)||h(e)&&e.includes(":"))&&(y(e)?e:e.split(":")).map(Number).every(g)}function Ke(e){if(!y(e)||!e.every(g))return null;var e=_slicedToArray(e,2),t=e[0],e=e[1],n=function e(t,n){return 0===n?t:e(n,t%n)}(t,e);return[t/n,e/n]}function Ye(e){function t(e){return ze(e)?e.split(":").map(Number):null}var n,e=t(e);return Ke(e=null===(e=null===(e=null===e?t(this.config.ratio):e)&&!v(this.embed)&&y(this.embed.ratio)?this.embed.ratio:e)&&this.isHTML5?[(n=this.media).videoWidth,n.videoHeight]:e)}function Ge(e){if(!this.isVideo)return{};var t=this.elements.wrapper,e=Ye.call(this,e);if(!y(e))return{};var n=_slicedToArray(Ke(e),2),i=n[0],n=n[1],r=100/i*n;return Ue("aspect-ratio: ".concat(i,"/").concat(n))?t.style.aspectRatio="".concat(i,"/").concat(n):t.style.paddingBottom="".concat(r,"%"),this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui?(n=((i=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10))-r)/(i/50),this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform="translateY(-".concat(n,"%)")):this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio),{padding:r,ratio:e}}function Xe(e,t,n){var n=2<arguments.length&&void 0!==n?n:.05,i=e/t,r=Be(Object.keys(We),i);return Math.abs(r-i)<=n?We[r]:[e,t]}var O={getSources:function(){var t=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(function(e){e=e.getAttribute("type");return!!v(e)||E.mime.call(t,e)}):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:O.getSources.call(this).map(function(e){return Number(e.getAttribute("size"))}).filter(Boolean)},setup:function(){var l;this.isHTML5&&((l=this).options.speed=l.config.speed.options,v(this.config.ratio)||Ge.call(l),Object.defineProperty(l.media,"quality",{get:function(){var e=O.getSources.call(l).find(function(e){return e.getAttribute("src")===l.source});return e&&Number(e.getAttribute("size"))},set:function(t){if(l.quality!==t){if(l.config.quality.forced&&p(l.config.quality.onChange))l.config.quality.onChange(t);else{var e=O.getSources.call(l).find(function(e){return Number(e.getAttribute("size"))===t});if(!e)return;var n=l.media,i=n.currentTime,r=n.paused,o=n.preload,a=n.readyState,s=n.playbackRate;l.media.src=e.getAttribute("src"),"none"===o&&!a||(l.once("loadedmetadata",function(){l.speed=s,l.currentTime=i,r||M(l.play())}),l.media.load())}x.call(l,l.media,"qualitychange",!1,{quality:t})}}}))},cancelRequests:function(){this.isHTML5&&(f(O.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Qe(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return v(e)?e:e.toString().replace(/{(\d+)}/g,function(e,t){return n[t].toString()})}function $e(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString())}function Je(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})}function Ze(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}var et={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},L=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(v(e)||v(t))return"";var n=Ee(t.i18n,e);if(v(n))return Object.keys(et).includes(e)?et[e]:"";e={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(e).forEach(function(e){var e=_slicedToArray(e,2),t=e[0],e=e[1];n=$e(n,t,e)}),n},tt=function(){function i(e){var n=this;_classCallCheck(this,i),c(this,"get",function(e){if(!i.supported||!n.enabled)return null;var t=window.localStorage.getItem(n.key);if(v(t))return null;t=JSON.parse(t);return h(e)&&e.length?t[e]:t}),c(this,"set",function(e){if(i.supported&&n.enabled&&s(e)){var t=n.get();k(t=v(t)?{}:t,e);try{window.localStorage.setItem(n.key,JSON.stringify(t))}catch(e){}}}),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}return _createClass(i,null,[{key:"supported",get:function(){try{if(!("localStorage"in window))return!1;var e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}]),i}();function nt(e,t){var r=1<arguments.length&&void 0!==t?t:"text";return new Promise(function(t,n){try{var i=new XMLHttpRequest;"withCredentials"in i&&(i.addEventListener("load",function(){if("text"===r)try{t(JSON.parse(i.responseText))}catch(e){t(i.responseText)}else t(i.response)}),i.addEventListener("error",function(){throw new Error(i.status)}),i.open("GET",e,!0),i.responseType=r,i.send())}catch(e){n(e)}})}function it(e,t){var n,i,r,o,a,s;h(e)&&(n=h(t),i=function(){return null!==document.getElementById(t)},r=function(e,t){e.innerHTML=t,n&&i()||document.body.insertAdjacentElement("afterbegin",e)},n&&i()||(o=tt.supported,(a=document.createElement("div")).setAttribute("hidden",""),n&&a.setAttribute("id",t),o&&null!==(s=window.localStorage.getItem("cache-".concat(t)))&&(s=JSON.parse(s),r(a,s.content)),nt(e).then(function(e){if(!v(e)){if(o)try{window.localStorage.setItem("cache-".concat(t),JSON.stringify({content:e}))}catch(e){}r(a,e)}}).catch(function(){})))}function rt(e){return Math.trunc(e/60/60%60,10)}function ot(e,t,n){e=0<arguments.length&&void 0!==e?e:0,t=1<arguments.length&&void 0!==t&&t,n=2<arguments.length&&void 0!==n&&n;if(!g(e))return ot(void 0,t,n);function i(e){return"0".concat(e).slice(-2)}var r=rt(e),o=Math.trunc(e/60%60,10),a=Math.trunc(e%60,10),r=t||0<r?"".concat(r,":"):"";return"".concat(n&&0<e?"-":"").concat(r).concat(i(o),":").concat(i(a))}var j={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location),t=window.location.host||window.top.location.host,e=e.host!==t||w.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=r.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:Ie.call(this,this.config.selectors.buttons.play),pause:r.call(this,this.config.selectors.buttons.pause),restart:r.call(this,this.config.selectors.buttons.restart),rewind:r.call(this,this.config.selectors.buttons.rewind),fastForward:r.call(this,this.config.selectors.buttons.fastForward),mute:r.call(this,this.config.selectors.buttons.mute),pip:r.call(this,this.config.selectors.buttons.pip),airplay:r.call(this,this.config.selectors.buttons.airplay),settings:r.call(this,this.config.selectors.buttons.settings),captions:r.call(this,this.config.selectors.buttons.captions),fullscreen:r.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=r.call(this,this.config.selectors.progress),this.elements.inputs={seek:r.call(this,this.config.selectors.inputs.seek),volume:r.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:r.call(this,this.config.selectors.display.buffer),currentTime:r.call(this,this.config.selectors.display.currentTime),duration:r.call(this,this.config.selectors.display.duration)},b(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var n="http://www.w3.org/2000/svg",i=j.getIconUrl.call(this),i="".concat(i.cors?"":i.url,"#").concat(this.config.iconPrefix),r=document.createElementNS(n,"svg"),t=(xe(r,k(t,{"aria-hidden":"true",focusable:"false"})),document.createElementNS(n,"use")),n="".concat(i,"-").concat(e);return"href"in t&&t.setAttributeNS("http://www.w3.org/1999/xlink","href",n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n),r.appendChild(t),r},createLabel:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=L(e,this.config);return T("span",_objectSpread(_objectSpread({},t),{},{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),e)},createBadge:function(e){if(v(e))return null;var t=T("span",{class:this.config.classNames.menu.value});return t.appendChild(T("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var n=this,i=k({},t),r=function(e){return(e=function(e){e=(0<arguments.length&&void 0!==e?e:"").toString(),e=$e(e,"-"," ");return e=$e(e,"_"," "),e=Je(e),$e(e," ","")}(e=(0<arguments.length&&void 0!==e?e:"").toString())).charAt(0).toLowerCase()+e.slice(1)}(e),o={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(function(e){Object.keys(i).includes(e)&&(o[e]=i[e],delete i[e])}),"button"!==o.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some(function(e){return e===n.config.classNames.control})||k(i,{class:"".concat(i.class," ").concat(this.config.classNames.control)}):i.class=this.config.classNames.control,e){case"play":o.toggle=!0,o.label="play",o.labelPressed="pause",o.icon="play",o.iconPressed="pause";break;case"mute":o.toggle=!0,o.label="mute",o.labelPressed="unmute",o.icon="volume",o.iconPressed="muted";break;case"captions":o.toggle=!0,o.label="enableCaptions",o.labelPressed="disableCaptions",o.icon="captions-off",o.iconPressed="captions-on";break;case"fullscreen":o.toggle=!0,o.label="enterFullscreen",o.labelPressed="exitFullscreen",o.icon="enter-fullscreen",o.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),o.label=r="play",o.icon="play";break;default:v(o.label)&&(o.label=r),v(o.icon)&&(o.icon=e)}t=T(o.element);return o.toggle?(t.appendChild(j.createIcon.call(this,o.iconPressed,{class:"icon--pressed"})),t.appendChild(j.createIcon.call(this,o.icon,{class:"icon--not-pressed"})),t.appendChild(j.createLabel.call(this,o.labelPressed,{class:"label--pressed"})),t.appendChild(j.createLabel.call(this,o.label,{class:"label--not-pressed"}))):(t.appendChild(j.createIcon.call(this,o.icon)),t.appendChild(j.createLabel.call(this,o.label))),k(i,S(this.config.selectors.buttons[r],i)),xe(t,i),"play"===r?(y(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(t)):this.elements.buttons[r]=t,t},createRange:function(e,t){t=T("input",k(S(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":L(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=t,j.updateRangeFill.call(this,t),de.setup(t),t},createProgress:function(e,t){var n,t=T("progress",k(S(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));return"volume"!==e&&(t.appendChild(T("span",null,"0")),n=(n={played:"played",buffer:"buffered"}[e])?L(n,this.config):"",t.innerText="% ".concat(n.toLowerCase())),this.elements.display[e]=t},createTime:function(e,t){t=S(this.config.selectors.display[e],t),t=T("div",k(t,{class:"".concat(t.class||""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":L(e,this.config)}),"00:00");return this.elements.display[e]=t},bindMenuItemShortcuts:function(i,r){var o=this;P.call(this,i,"keydown keyup",function(e){var t,n;["Space","ArrowUp","ArrowDown","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),"keydown"!==e.type&&(!(t=C(i,'[role="menuitemradio"]'))&&["Space","ArrowRight"].includes(e.key)?j.showMenuPanel.call(o,r,!0):"Space"!==e.key&&("ArrowDown"===e.key||t&&"ArrowRight"===e.key?(n=i.nextElementSibling,b(n)||(n=i.parentNode.firstElementChild)):(n=i.previousElementSibling,b(n)||(n=i.parentNode.lastElementChild)),Ne.call(o,n,!0))))},!1),P.call(this,i,"keyup",function(e){"Return"===e.key&&j.focusFirstMenuItem.call(o,null,!0)})},createMenuItem:function(e){var t=this,n=e.value,i=e.list,r=e.type,o=e.title,a=e.badge,a=void 0===a?null:a,e=e.checked,e=void 0!==e&&e,s=S(this.config.selectors.inputs[r]),l=T("button",k(s,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(s.class||"").trim(),"aria-checked":e,value:n})),s=T("span");s.innerHTML=o,b(a)&&s.appendChild(a),l.appendChild(s),Object.defineProperty(l,"checked",{enumerable:!0,get:function(){return"true"===l.getAttribute("aria-checked")},set:function(e){e&&Array.from(l.parentNode.children).filter(function(e){return C(e,'[role="menuitemradio"]')}).forEach(function(e){return e.setAttribute("aria-checked","false")}),l.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(l,"click keyup",function(e){if(!d(e)||"Space"===e.key){switch(e.preventDefault(),e.stopPropagation(),l.checked=!0,r){case"language":t.currentTrack=Number(n);break;case"quality":t.quality=n;break;case"speed":t.speed=parseFloat(n)}j.showMenuPanel.call(t,"home",d(e))}},r,!1),j.bindMenuItemShortcuts.call(this,l,r),i.appendChild(l)},formatTime:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return g(e)?ot(e,0<rt(this.duration),t):e},updateTimeDisplay:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];b(e)&&g(t)&&(e.innerText=j.formatTime(t,n))},updateVolume:function(){this.supported.ui&&(b(this.elements.inputs.volume)&&j.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),b(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;b(e)&&(e.value=t,j.updateRangeFill.call(this,e))},updateProgress:function(e){var t=this;if(this.supported.ui&&l(e)){var n,i;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":n=this.currentTime,i=this.duration,n=0===n||0===i||Number.isNaN(n)||Number.isNaN(i)?0:(n/i*100).toFixed(2),"timeupdate"===e.type&&j.setRange.call(this,this.elements.inputs.seek,n);break;case"playing":case"progress":i=this.elements.display.buffer,n=100*this.buffered,n=g(n)?n:0,i=b(i)?i:t.elements.display.buffer,b(i)&&(i.value=n,i=i.getElementsByTagName("span")[0],b(i)&&(i.childNodes[0].nodeValue=n))}}},updateRangeFill:function(e){var t,n,i,e=l(e)?e.target:e;b(e)&&"range"===e.getAttribute("type")&&(C(e,this.config.selectors.inputs.seek)?(e.setAttribute("aria-valuenow",this.currentTime),t=j.formatTime(this.currentTime),n=j.formatTime(this.duration),i=L("seekLabel",this.config),e.setAttribute("aria-valuetext",i.replace("{currentTime}",t).replace("{duration}",n))):C(e,this.config.selectors.inputs.volume)?(i=100*e.value,e.setAttribute("aria-valuenow",i),e.setAttribute("aria-valuetext","".concat(i.toFixed(1),"%"))):e.setAttribute("aria-valuenow",e.value),w.isWebkit&&e.style.setProperty("--value",e.value/e.max*100+"%"))},updateSeekTooltip:function(e){if(this.config.tooltips.seek&&b(this.elements.inputs.seek)&&b(this.elements.display.seekTooltip)&&0!==this.duration){var t=this.elements.display.seekTooltip,n="".concat(this.config.classNames.tooltip,"--visible"),i=function(e){return A(t,n,e)};if(this.touch)i(!1);else{var r=0,o=this.elements.progress.getBoundingClientRect();if(l(e))r=100/o.width*(e.pageX-o.left);else{if(!je(t,n))return;r=parseFloat(t.style.left,10)}r<0?r=0:100<r&&(r=100);var a=this.duration/100*r,o=(t.innerText=j.formatTime(a),null==(o=this.config.markers)||null==(o=o.points)?void 0:o.find(function(e){return e.time===Math.round(a)}));o&&t.insertAdjacentHTML("afterbegin","".concat(o.label,"<br>")),t.style.left="".concat(r,"%"),l(e)&&["mouseenter","mouseleave"].includes(e.type)&&i("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!b(this.elements.display.duration)&&this.config.invertTime;j.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||j.updateProgress.call(this,e)},durationUpdate:function(){var e;!this.supported.ui||!this.config.invertTime&&this.currentTime||(this.duration>=Math.pow(2,32)?(_(this.elements.display.currentTime,!0),_(this.elements.progress,!0)):(b(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration),!(e=b(this.elements.display.duration))&&this.config.displayDuration&&this.paused&&j.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&j.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&j.setMarkers.call(this),j.updateSeekTooltip.call(this)))},toggleMenuButton:function(e,t){_(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,n){var i=this.elements.settings.panels[e],r=null;if("captions"===e)r=this.currentTrack;else{if(r=v(n)?this[e]:n,v(r)&&(r=this.config[e].default),!v(this.options[e])&&!this.options[e].includes(r))return void this.debug.warn("Unsupported value of '".concat(r,"' for ").concat(e));if(!this.config[e].options.includes(r))return void this.debug.warn("Disabled value of '".concat(r,"' for ").concat(e))}b(t)||(t=i&&i.querySelector('[role="menu"]')),b(t)&&(this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=j.getLabel.call(this,e,r),n=t&&t.querySelector('[value="'.concat(r,'"]')),b(n)&&(n.checked=!0))},getLabel:function(e,t){switch(e){case"speed":return 1===t?L("normal",this.config):"".concat(t,"&times;");case"quality":var n;return g(t)?(n=L("qualityLabel.".concat(t),this.config)).length?n:"".concat(t,"p"):Je(t);case"captions":return I.getLabel.call(this);default:return null}},setQualityMenu:function(e){var t,n,i=this;b(this.elements.settings.panels.quality)&&(t="quality",n=this.elements.settings.panels.quality.querySelector('[role="menu"]'),y(e)&&(this.options.quality=Ve(e).filter(function(e){return i.config.quality.options.includes(e)})),e=!v(this.options.quality)&&1<this.options.quality.length,j.toggleMenuButton.call(this,t,e),Oe(n),j.checkMenu.call(this),e&&(this.options.quality.sort(function(e,t){var n=i.config.quality.options;return n.indexOf(e)>n.indexOf(t)?1:-1}).forEach(function(e){j.createMenuItem.call(i,{value:e,list:n,type:t,title:j.getLabel.call(i,"quality",e),badge:function(e){e=L("qualityBadge.".concat(e),i.config);return e.length?j.createBadge.call(i,e):null}(e)})}),j.updateSetting.call(this,t,n)))},setCaptionsMenu:function(){var e,n,t,i,r=this;b(this.elements.settings.panels.captions)&&(e="captions",n=this.elements.settings.panels.captions.querySelector('[role="menu"]'),t=I.getTracks.call(this),i=Boolean(t.length),j.toggleMenuButton.call(this,e,i),Oe(n),j.checkMenu.call(this),i&&((i=t.map(function(e,t){return{value:t,checked:r.captions.toggled&&r.currentTrack===t,title:I.getLabel.call(r,e),badge:e.language&&j.createBadge.call(r,e.language.toUpperCase()),list:n,type:"language"}})).unshift({value:-1,checked:!this.captions.toggled,title:L("disabled",this.config),list:n,type:"language"}),i.forEach(j.createMenuItem.bind(this)),j.updateSetting.call(this,e,n)))},setSpeedMenu:function(){var t,n,e,i=this;b(this.elements.settings.panels.speed)&&(t="speed",n=this.elements.settings.panels.speed.querySelector('[role="menu"]'),this.options.speed=this.options.speed.filter(function(e){return e>=i.minimumSpeed&&e<=i.maximumSpeed}),e=!v(this.options.speed)&&1<this.options.speed.length,j.toggleMenuButton.call(this,t,e),Oe(n),j.checkMenu.call(this),e&&(this.options.speed.forEach(function(e){j.createMenuItem.call(i,{value:e,list:n,type:t,title:j.getLabel.call(i,"speed",e)})}),j.updateSetting.call(this,t,n)))},checkMenu:function(){var e=this.elements.settings.buttons,e=!v(e)&&Object.values(e).some(function(e){return!e.hidden});_(this.elements.settings.menu,!e)},focusFirstMenuItem:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.elements.settings.popup.hidden||(e=(e=b(e=e)?e:Object.values(this.elements.settings.panels).find(function(e){return!e.hidden})).querySelector('[role^="menuitem"]'),Ne.call(this,e,t))},toggleMenu:function(e){var t=this.elements.settings.popup,n=this.elements.buttons.settings;if(b(t)&&b(n)){var i=t.hidden,r=i;if(m(e))r=e;else if(d(e)&&"Escape"===e.key)r=!1;else if(l(e)){var o=p(e.composedPath)?e.composedPath()[0]:e.target,o=t.contains(o);if(o||!o&&e.target!==n&&r)return}n.setAttribute("aria-expanded",r),_(t,!r),A(this.elements.container,this.config.classNames.menu.open,r),r&&d(e)?j.focusFirstMenuItem.call(this,null,!0):r||i||Ne.call(this,n,d(e))}},getMenuSize:function(e){var t=e.cloneNode(!0),e=(t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t),t.scrollWidth),n=t.scrollHeight;return f(t),{width:e,height:n}},showMenuPanel:function(){var n,e,t,i=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(r));b(r)&&(n=r.parentNode,e=Array.from(n.children).find(function(e){return!e.hidden}),E.transitions&&!E.reducedMotion&&(n.style.width="".concat(e.scrollWidth,"px"),n.style.height="".concat(e.scrollHeight,"px"),t=j.getMenuSize.call(this,r),P.call(this,n,Ae,function e(t){t.target===n&&["width","height"].includes(t.propertyName)&&(n.style.width="",n.style.height="",qe.call(i,n,Ae,e))}),n.style.width="".concat(t.width,"px"),n.style.height="".concat(t.height,"px")),_(e,!0),_(r,!1),j.focusFirstMenuItem.call(this,r,o))},setDownloadUrl:function(){var e=this.elements.buttons.download;b(e)&&e.setAttribute("href",this.download)},create:function(a){var s=this,l=j.bindMenuItemShortcuts,c=j.createButton,u=j.createProgress,d=j.createRange,h=j.createTime,e=j.setQualityMenu,t=j.setSpeedMenu,p=j.showMenuPanel,f=(this.elements.controls=null,y(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(c.call(this,"play-large")),T("div",S(this.config.selectors.controls.wrapper))),m=(this.elements.controls=f,{class:"plyr__controls__item"});return Ve(y(this.config.controls)?this.config.controls:[]).forEach(function(e){var t,r,o,n,i;"restart"===e&&f.appendChild(c.call(s,"restart",m)),"rewind"===e&&f.appendChild(c.call(s,"rewind",m)),"play"===e&&f.appendChild(c.call(s,"play",m)),"fast-forward"===e&&f.appendChild(c.call(s,"fast-forward",m)),"progress"===e&&(t=T("div",{class:"".concat(m.class," plyr__progress__container")}),(n=T("div",S(s.config.selectors.progress))).appendChild(d.call(s,"seek",{id:"plyr-seek-".concat(a.id)})),n.appendChild(u.call(s,"buffer")),s.config.tooltips.seek&&(i=T("span",{class:s.config.classNames.tooltip},"00:00"),n.appendChild(i),s.elements.display.seekTooltip=i),s.elements.progress=n,t.appendChild(s.elements.progress),f.appendChild(t)),"current-time"===e&&f.appendChild(h.call(s,"currentTime",m)),"duration"===e&&f.appendChild(h.call(s,"duration",m)),"mute"!==e&&"volume"!==e||(i=s.elements.volume,b(i)&&f.contains(i)||(i=T("div",k({},m,{class:"".concat(m.class," plyr__volume").trim()})),s.elements.volume=i,f.appendChild(i)),"mute"===e&&i.appendChild(c.call(s,"mute")),"volume"!==e||w.isIos||(n={max:1,step:.05,value:s.config.volume},i.appendChild(d.call(s,"volume",k(n,{id:"plyr-volume-".concat(a.id)}))))),"captions"===e&&f.appendChild(c.call(s,"captions",m)),"settings"!==e||v(s.config.settings)||((t=T("div",k({},m,{class:"".concat(m.class," plyr__menu").trim(),hidden:""}))).appendChild(c.call(s,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(a.id),"aria-expanded":!1})),i=T("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(a.id),hidden:""}),r=T("div"),n=T("div",{id:"plyr-settings-".concat(a.id,"-home")}),o=T("div",{role:"menu"}),n.appendChild(o),r.appendChild(n),s.elements.settings.panels.home=n,s.config.settings.forEach(function(e){var t=T("button",k(S(s.config.selectors.buttons.settings),{type:"button",class:"".concat(s.config.classNames.control," ").concat(s.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""})),n=(l.call(s,t,e),P.call(s,t,"click",function(){p.call(s,e,!1)}),T("span",null,L(e,s.config))),i=T("span",{class:s.config.classNames.menu.value}),i=(i.innerHTML=a[e],n.appendChild(i),t.appendChild(n),o.appendChild(t),T("div",{id:"plyr-settings-".concat(a.id,"-").concat(e),hidden:""})),n=T("button",{type:"button",class:"".concat(s.config.classNames.control," ").concat(s.config.classNames.control,"--back")});n.appendChild(T("span",{"aria-hidden":!0},L(e,s.config))),n.appendChild(T("span",{class:s.config.classNames.hidden},L("menuBack",s.config))),P.call(s,i,"keydown",function(e){"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),p.call(s,"home",!0))},!1),P.call(s,n,"click",function(){p.call(s,"home",!1)}),i.appendChild(n),i.appendChild(T("div",{role:"menu"})),r.appendChild(i),s.elements.settings.buttons[e]=t,s.elements.settings.panels[e]=i}),i.appendChild(r),t.appendChild(i),f.appendChild(t),s.elements.settings.popup=i,s.elements.settings.menu=t),"pip"===e&&E.pip&&f.appendChild(c.call(s,"pip",m)),"airplay"===e&&E.airplay&&f.appendChild(c.call(s,"airplay",m)),"download"===e&&(n=k({},m,{element:"a",href:s.download,target:"_blank"}),s.isHTML5&&(n.download=""),i=s.config.urls.download,!ve(i)&&s.isEmbed&&k(n,{icon:"logo-".concat(s.provider),label:s.provider}),f.appendChild(c.call(s,"download",n))),"fullscreen"===e&&f.appendChild(c.call(s,"fullscreen",m))}),this.isHTML5&&e.call(this,O.getQualityOptions.call(this)),t.call(this),f},inject:function(){var n,t,e,i=this,r=(!this.config.loadSprite||(r=j.getIconUrl.call(this)).cors&&it(r.url,"sprite-plyr"),this.id=Math.floor(1e4*Math.random()),null),o=(this.elements.controls=null,{id:this.id,seektime:this.config.seekTime,title:this.config.title}),a=!0;p(this.config.controls)&&(this.config.controls=this.config.controls.call(this,o)),this.config.controls||(this.config.controls=[]),b(this.config.controls)||h(this.config.controls)?r=this.config.controls:(r=j.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:I.getLabel.call(this)}),a=!1),a&&h(this.config.controls)&&(n=r,Object.entries(o).forEach(function(e){var e=_slicedToArray(e,2),t=e[0],e=e[1];n=$e(n,"{".concat(t,"}"),e)}),r=n),h(this.config.selectors.controls.container)&&(e=document.querySelector(this.config.selectors.controls.container)),(e=b(e)?e:this.elements.container)[b(r)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",r),b(this.elements.controls)||j.findElements.call(this),v(this.elements.buttons)||(t=function(e){var t=i.config.classNames.controlPressed;Object.defineProperty(e,"pressed",{enumerable:!0,get:function(){return je(e,t)},set:function(){A(e,t,0<arguments.length&&void 0!==arguments[0]&&arguments[0])}})},Object.values(this.elements.buttons).filter(Boolean).forEach(function(e){y(e)||_e(e)?Array.from(e).filter(Boolean).forEach(t):t(e)})),w.isEdge&&Ce(e),this.config.tooltips.controls&&(o=(a=this.config).classNames,e=a.selectors,a="".concat(e.controls.wrapper," ").concat(e.labels," .").concat(o.hidden),e=Ie.call(this,a),Array.from(e).forEach(function(e){A(e,i.config.classNames.hidden,!1),A(e,i.config.classNames.tooltip,!0)}))},setMediaMetadata:function(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers:function(){var e,t,i,r,n,o,a=this;this.duration&&!this.elements.markers&&null!=(e=null==(e=this.config.markers)||null==(e=e.points)?void 0:e.filter(function(e){e=e.time;return 0<e&&e<a.duration}))&&e.length&&(t=document.createDocumentFragment(),i=document.createDocumentFragment(),r=null,n="".concat(this.config.classNames.tooltip,"--visible"),o=function(e){return A(r,n,e)},e.forEach(function(e){var t=T("span",{class:a.config.classNames.marker},""),n=e.time/a.duration*100+"%";r&&(t.addEventListener("mouseenter",function(){e.label||(r.style.left=n,r.innerHTML=e.label,o(!0))}),t.addEventListener("mouseleave",function(){o(!1)})),t.addEventListener("click",function(){a.currentTime=e.time}),t.style.left=n,i.appendChild(t)}),t.appendChild(i),this.config.tooltips.seek||(r=T("span",{class:this.config.classNames.tooltip},""),t.appendChild(r)),this.elements.markers={points:i,tip:r},this.elements.progress.appendChild(t))}};function at(e,t){var n=e;1<arguments.length&&void 0!==t&&!t||((t=document.createElement("a")).href=n,n=t.href);try{return new URL(n)}catch(e){return null}}function st(e){var n=new URLSearchParams;return s(e)&&Object.entries(e).forEach(function(e){var e=_slicedToArray(e,2),t=e[0],e=e[1];n.set(t,e)}),n}function lt(){}var I={setup:function(){var e,t,n;this.supported.ui&&(!this.isVideo||this.isYouTube||this.isHTML5&&!E.textTracks?y(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&j.setCaptionsMenu.call(this):(b(this.elements.captions)||(this.elements.captions=T("div",S(this.config.selectors.captions)),t=this.elements.captions,e=this.elements.wrapper,b(t)&&b(e)&&e.parentNode.insertBefore(t,e.nextSibling)),w.isIE&&window.URL&&(t=this.media.querySelectorAll("track"),Array.from(t).forEach(function(t){var e=t.getAttribute("src"),n=at(e);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&nt(e,"blob").then(function(e){t.setAttribute("src",window.URL.createObjectURL(e))}).catch(function(){f(t)})})),e=Ve((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(function(e){return e.split("-")[0]})),"auto"===(t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase())&&(t=_slicedToArray(e,1)[0]),n=this.storage.get("captions"),m(n)||(n=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:n,language:t,languages:e}),this.isHTML5&&(n=this.config.captions.update?"addtrack removetrack":"removetrack",P.call(this,this.media.textTracks,n,I.update.bind(this))),setTimeout(I.update.bind(this),0)))},update:function(){var t=this,e=I.getTracks.call(this,!0),n=this.captions,i=n.active,r=n.language,o=n.meta,n=n.currentTrackNode,a=Boolean(e.find(function(e){return e.language===r}));this.isHTML5&&this.isVideo&&e.filter(function(e){return!o.get(e)}).forEach(function(e){t.debug.log("Track added",e),o.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),P.call(t,e,"cuechange",function(){return I.updateCues.call(t)})}),(a&&this.language!==r||!e.includes(n))&&(I.setLanguage.call(this,r),I.toggle.call(this,i&&a)),this.elements&&A(this.elements.container,this.config.classNames.captions.enabled,!v(e)),y(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&j.setCaptionsMenu.call(this)},toggle:function(e){var t=this,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var i=this.captions.toggled,r=this.config.classNames.captions.active,o=Se(e)?!i:e;if(o!==i){if(n||(this.captions.active=o,this.storage.set({captions:o})),!this.language&&o&&!n)return e=I.getTracks.call(this),i=I.findTrack.call(this,[this.captions.language].concat(_toConsumableArray(this.captions.languages)),!0),this.captions.language=i.language,void I.set.call(this,e.indexOf(i));this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=o),A(this.elements.container,r,o),this.captions.toggled=o,j.updateSetting.call(this,"captions"),x.call(this,this.media,o?"captionsenabled":"captionsdisabled")}setTimeout(function(){o&&t.captions.toggled&&(t.captions.currentTrackNode.mode="hidden")})}},set:function(e){var t,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=I.getTracks.call(this);-1!==e?g(e)?e in i?(this.captions.currentTrack!==e&&(t=((i=i[this.captions.currentTrack=e])||{}).language,this.captions.currentTrackNode=i,j.updateSetting.call(this,"captions"),n||(this.captions.language=t,this.storage.set({language:t})),this.isVimeo&&this.embed.enableTextTrack(t),x.call(this,this.media,"languagechange")),I.toggle.call(this,!0,n),this.isHTML5&&this.isVideo&&I.updateCues.call(this)):this.debug.warn("Track not found",e):this.debug.warn("Invalid caption argument",e):I.toggle.call(this,!1,n)},setLanguage:function(e){var t,n,i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];h(e)?(n=e.toLowerCase(),this.captions.language=n,t=I.getTracks.call(this),n=I.findTrack.call(this,[n]),I.set.call(this,t.indexOf(n),i)):this.debug.warn("Invalid language argument",e)},getTracks:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter(function(e){return!t.isHTML5||n||t.captions.meta.has(e)}).filter(function(e){return["captions","subtitles"].includes(e.kind)})},findTrack:function(e){function n(e){return Number((t.captions.meta.get(e)||{}).default)}var i,t=this,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=I.getTracks.call(this),a=Array.from(o).sort(function(e,t){return n(t)-n(e)});return e.every(function(t){return!(i=a.find(function(e){return e.language===t}))}),i||(r?a[0]:void 0)},getCurrentTrack:function(){return I.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!be(t)&&E.textTracks&&this.captions.toggled&&(t=I.getCurrentTrack.call(this)),be(t)?v(t.label)?v(t.language)?L("enabled",this.config):e.language.toUpperCase():t.label:L("disabled",this.config)},updateCues:function(e){var t,n;this.supported.ui&&(b(this.elements.captions)?Se(e)||Array.isArray(e)?((n=e)||(t=I.getCurrentTrack.call(this),n=Array.from((t||{}).activeCues||[]).map(function(e){return e.getCueAsHTML()}).map(Ze)),(t=n.map(function(e){return e.trim()}).join("\n"))!==this.elements.captions.innerHTML&&(Oe(this.elements.captions),(n=T("span",S(this.config.selectors.caption))).innerHTML=t,this.elements.captions.appendChild(n),x.call(this,this.media,"cuechange"))):this.debug.warn("updateCues: Invalid input",e):this.debug.warn("No captions element to render to"))}},ct={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.2/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},ut="picture-in-picture",N={html5:"html5",youtube:"youtube",vimeo:"vimeo"},dt=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,t),this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}return _createClass(t,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):lt}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):lt}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):lt}}]),t}(),ht=function(){function i(e){var t,n,r=this;_classCallCheck(this,i),c(this,"onChange",function(){var e;r.enabled&&(e=r.player.elements.buttons.fullscreen,b(e)&&(e.pressed=r.active),e=r.target===r.player.media?r.target:r.player.elements.container,x.call(r.player,e,r.active?"enterfullscreen":"exitfullscreen",!0))}),c(this,"toggleFallback",function(){var e,t,n,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0];i?r.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(r.scrollPosition.x,r.scrollPosition.y),document.body.style.overflow=i?"hidden":"",A(r.target,r.player.config.classNames.fullscreen.fallback,i),w.isIos&&(e=document.head.querySelector('meta[name="viewport"]'),t="viewport-fit=cover",e||(e=document.createElement("meta")).setAttribute("name","viewport"),n=h(e.content)&&e.content.includes(t),i?(r.cleanupViewport=!n,n||(e.content+=",".concat(t))):r.cleanupViewport&&(e.content=e.content.split(",").filter(function(e){return e.trim()!==t}).join(","))),r.onChange()}),c(this,"trapFocus",function(e){var t,n,i;!w.isIos&&r.active&&"Tab"===e.key&&(t=document.activeElement,n=_slicedToArray(i=Ie.call(r.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),1)[0],t!==(i=i[i.length-1])||e.shiftKey?t===n&&e.shiftKey&&(i.focus(),e.preventDefault()):(n.focus(),e.preventDefault()))}),c(this,"update",function(){var e;r.enabled?(e=r.forceFallback?"Fallback (forced)":i.native?"Native":"Fallback",r.player.debug.log("".concat(e," fullscreen enabled"))):r.player.debug.log("Fullscreen not supported and fallback disabled"),A(r.player.elements.container,r.player.config.classNames.fullscreen.enabled,r.enabled)}),c(this,"enter",function(){r.enabled&&(w.isIos&&r.player.config.fullscreen.iosNative?r.player.isVimeo?r.player.embed.requestFullscreen():r.target.webkitEnterFullscreen():!i.native||r.forceFallback?r.toggleFallback(!0):r.prefix?v(r.prefix)||r.target["".concat(r.prefix,"Request").concat(r.property)]():r.target.requestFullscreen({navigationUI:"hide"}))}),c(this,"exit",function(){var e;r.enabled&&(w.isIos&&r.player.config.fullscreen.iosNative?(r.target.webkitExitFullscreen(),M(r.player.play())):!i.native||r.forceFallback?r.toggleFallback(!1):r.prefix?v(r.prefix)||(e="moz"===r.prefix?"Cancel":"Exit",document["".concat(r.prefix).concat(e).concat(r.property)]()):(document.cancelFullScreen||document.exitFullscreen).call(document))}),c(this,"toggle",function(){r.active?r.exit():r.enter()}),this.player=e,this.prefix=i.prefix,this.property=i.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,this.player.elements.fullscreen=e.config.fullscreen.container&&(t=this.player.elements.container,n=e.config.fullscreen.container,(Element.prototype.closest||function(){var e=this;do{if(C.matches(e,n))return e}while(null!==(e=e.parentElement||e.parentNode)&&1===e.nodeType);return null}).call(t,n)),P.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),function(){r.onChange()}),P.call(this.player,this.player.elements.container,"dblclick",function(e){b(r.player.elements.controls)&&r.player.elements.controls.contains(e.target)||r.player.listeners.proxy(e,r.toggle,"fullscreen")}),P.call(this,this.player.elements.container,"keydown",function(e){return r.trapFocus(e)}),this.update()}return _createClass(i,[{key:"usingNative",get:function(){return i.native&&!this.forceFallback}},{key:"enabled",get:function(){return(i.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){if(!this.enabled)return!1;if(!i.native||this.forceFallback)return je(this.target,this.player.config.classNames.fullscreen.fallback);var e=this.prefix?this.target.getRootNode()["".concat(this.prefix).concat(this.property,"Element")]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}},{key:"target",get:function(){return w.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(p(document.exitFullscreen))return"";var t="";return["webkit","moz","ms"].some(function(e){return!(!p(document["".concat(e,"ExitFullscreen")])&&!p(document["".concat(e,"CancelFullScreen")])||(t=e,0))}),t}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),i}();function pt(r,e){var o=1<arguments.length&&void 0!==e?e:1;return new Promise(function(e,t){function n(){delete i.onload,delete i.onerror,(i.naturalWidth>=o?e:t)(i)}var i=new Image;Object.assign(i,{onload:n,onerror:n,src:r})})}var H={addStyleHook:function(){A(this.elements.container,this.config.selectors.container.replace(".",""),!0),A(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;this.listeners.media(),this.supported.ui?(b(this.elements.controls)||(j.inject.call(this),this.listeners.controls()),H.toggleNativeControls.call(this),this.isHTML5&&I.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,j.updateVolume.call(this),j.timeUpdate.call(this),j.durationUpdate.call(this),H.checkPlaying.call(this),A(this.elements.container,this.config.classNames.pip.supported,E.pip&&this.isHTML5&&this.isVideo),A(this.elements.container,this.config.classNames.airplay.supported,E.airplay&&this.isHTML5),A(this.elements.container,this.config.classNames.isIos,w.isIos),A(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(function(){x.call(e,e.media,"ready")},0),H.setTitle.call(this),this.poster&&H.setPoster.call(this,this.poster,!1).catch(function(){}),this.config.duration&&j.durationUpdate.call(this),this.config.mediaMetadata&&j.setMediaMetadata.call(this)):(this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),H.toggleNativeControls.call(this,!0))},setTitle:function(){var e,t,n,i=L("play",this.config);h(this.config.title)&&!v(this.config.title)&&(i+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach(function(e){e.setAttribute("aria-label",i)}),this.isEmbed&&(e=r.call(this,"iframe"),b(e)&&(t=v(this.config.title)?"video":this.config.title,n=L("frameTitle",this.config),e.setAttribute("title",n.replace("{title}",t))))},togglePoster:function(e){A(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(t){var n=this;return(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",t),this.elements.poster.removeAttribute("hidden"),function(){var t=this;return new Promise(function(e){return t.ready?setTimeout(e,0):P.call(t,t.elements.container,"ready",e)}).then(function(){})}.call(this).then(function(){return pt(t)}).catch(function(e){throw t===n.poster&&H.togglePoster.call(n,!1),e}).then(function(){if(t!==n.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(function(){return Object.assign(n.elements.poster.style,{backgroundImage:"url('".concat(t,"')"),backgroundSize:""}),H.togglePoster.call(n,!0),t}))},checkPlaying:function(e){var t=this;A(this.elements.container,this.config.classNames.playing,this.playing),A(this.elements.container,this.config.classNames.paused,this.paused),A(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(function(e){Object.assign(e,{pressed:t.playing}),e.setAttribute("aria-label",L(t.playing?"pause":"play",t.config))}),l(e)&&"timeupdate"===e.type||H.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){A(t.elements.container,t.config.classNames.loading,t.loading),H.toggleControls.call(t)},this.loading?250:0)},toggleControls:function(e){var t,n=this.elements.controls;n&&this.config.hideControls&&(t=this.touch&&this.lastSeekTime+2e3>Date.now(),this.toggleControls(Boolean(e||this.loading||this.paused||n.pressed||n.hover||t)))},migrateStyles:function(){var t=this;Object.values(_objectSpread({},this.media.style)).filter(function(e){return!v(e)&&h(e)&&e.startsWith("--plyr")}).forEach(function(e){t.elements.container.style.setProperty(e,t.media.style.getPropertyValue(e)),t.media.style.removeProperty(e)}),v(this.media.style)&&this.media.removeAttribute("style")}},ft=function(){function t(e){var l=this;_classCallCheck(this,t),c(this,"firstTouch",function(){var e=l.player,t=e.elements;e.touch=!0,A(t.container,e.config.classNames.isTouch,!0)}),c(this,"setTabFocus",function(e){var t=l.player,n=t.elements,i=e.key,r=e.type,e=e.timeStamp;clearTimeout(l.focusTimer),"keydown"===r&&"Tab"!==i||("keydown"===r&&(l.lastKeyDown=e),i=e-l.lastKeyDown<=20,"focus"===r&&!i||(e=t.config.classNames.tabFocus,A(Ie.call(t,".".concat(e)),e,!1),"focusout"!==r&&(l.focusTimer=setTimeout(function(){var e=document.activeElement;n.container.contains(e)&&A(document.activeElement,t.config.classNames.tabFocus,!0)},10))))}),c(this,"global",function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=l.player;t.config.keyboard.global&&De.call(t,window,"keydown keyup",l.handleKey,e,!1),De.call(t,document.body,"click",l.toggleMenu,e),Fe.call(t,document.body,"touchstart",l.firstTouch),De.call(t,document.body,"keydown focus blur focusout",l.setTabFocus,e,!1,!0)}),c(this,"container",function(){function t(){clearTimeout(n.resized),n.resized=setTimeout(i,50)}var a=l.player,e=a.config,s=a.elements,n=a.timers,i=(!e.keyboard.global&&e.keyboard.focused&&P.call(a,s.container,"keydown keyup",l.handleKey,!1),P.call(a,s.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",function(e){var t=s.controls,t=(t&&"enterfullscreen"===e.type&&(t.pressed=!1,t.hover=!1),0);["touchstart","touchmove","mousemove"].includes(e.type)&&(H.toggleControls.call(a,!0),t=a.touch?3e3:2e3),clearTimeout(n.controls),n.controls=setTimeout(function(){return H.toggleControls.call(a,!1)},t)}),function(){var e,t,n,i,r,o;a.isVimeo&&!a.config.vimeo.premium&&(e=s.wrapper,r=a.fullscreen.active,t=(n=_slicedToArray(Ye.call(a),2))[0],n=n[1],i=Ue("aspect-ratio: ".concat(t," / ").concat(n)),r?(o=t/n<(r=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)])[0]/(r=r[1]),i?(e.style.width=o?"auto":"100%",e.style.height=o?"100%":"auto"):(e.style.maxWidth=o?r/n*t+"px":null,e.style.margin=o?"0 auto":null)):i?(e.style.width=null,e.style.height=null):(e.style.maxWidth=null,e.style.margin=null))});P.call(a,s.container,"enterfullscreen exitfullscreen",function(e){a.fullscreen.target!==s.container||!a.isEmbed&&v(a.config.ratio)||(i(),("enterfullscreen"===e.type?P:qe).call(a,window,"resize",t))})}),c(this,"media",function(){var n=l.player,i=n.elements;if(P.call(n,n.media,"timeupdate seeking seeked",function(e){return j.timeUpdate.call(n,e)}),P.call(n,n.media,"durationchange loadeddata loadedmetadata",function(e){return j.durationUpdate.call(n,e)}),P.call(n,n.media,"ended",function(){n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&(n.restart(),n.pause())}),P.call(n,n.media,"progress playing seeking seeked",function(e){return j.updateProgress.call(n,e)}),P.call(n,n.media,"volumechange",function(e){return j.updateVolume.call(n,e)}),P.call(n,n.media,"playing play pause ended emptied timeupdate",function(e){return H.checkPlaying.call(n,e)}),P.call(n,n.media,"waiting canplay seeked playing",function(e){return H.checkLoading.call(n,e)}),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){var t=r.call(n,".".concat(n.config.classNames.video));if(!b(t))return;P.call(n,i.container,"click",function(e){![i.container,t].includes(e.target)&&!t.contains(e.target)||n.touch&&n.config.hideControls||(n.ended?(l.proxy(e,n.restart,"restart"),l.proxy(e,function(){M(n.play())},"play")):l.proxy(e,function(){M(n.togglePlay())},"play"))})}n.supported.ui&&n.config.disableContextMenu&&P.call(n,i.wrapper,"contextmenu",function(e){e.preventDefault()},!1),P.call(n,n.media,"volumechange",function(){n.storage.set({volume:n.volume,muted:n.muted})}),P.call(n,n.media,"ratechange",function(){j.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})}),P.call(n,n.media,"qualitychange",function(e){j.updateSetting.call(n,"quality",null,e.detail.quality)}),P.call(n,n.media,"ready qualitychange",function(){j.setDownloadUrl.call(n)});var e=n.config.events.concat(["keyup","keydown"]).join(" ");P.call(n,n.media,e,function(e){var t=e.detail,t=void 0===t?{}:t;"error"===e.type&&(t=n.media.error),x.call(n,i.container,e.type,!0,t)})}),c(this,"proxy",function(e,t,n){var i=l.player,n=i.config.listeners[n],r=!0;!1!==(r=p(n)?n.call(i,e):r)&&p(t)&&t.call(i,e)}),c(this,"bind",function(e,t,n,i){var r=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],o=l.player,a=o.config.listeners[i],a=p(a);P.call(o,e,t,function(e){return l.proxy(e,n,i)},r&&!a)}),c(this,"controls",function(){var e,r=l.player,i=r.elements,t=w.isIE?"change":"input";i.buttons.play&&Array.from(i.buttons.play).forEach(function(e){l.bind(e,"click",function(){M(r.togglePlay())},"play")}),l.bind(i.buttons.restart,"click",r.restart,"restart"),l.bind(i.buttons.rewind,"click",function(){r.lastSeekTime=Date.now(),r.rewind()},"rewind"),l.bind(i.buttons.fastForward,"click",function(){r.lastSeekTime=Date.now(),r.forward()},"fastForward"),l.bind(i.buttons.mute,"click",function(){r.muted=!r.muted},"mute"),l.bind(i.buttons.captions,"click",function(){return r.toggleCaptions()}),l.bind(i.buttons.download,"click",function(){x.call(r,r.media,"download")},"download"),l.bind(i.buttons.fullscreen,"click",function(){r.fullscreen.toggle()},"fullscreen"),l.bind(i.buttons.pip,"click",function(){r.pip="toggle"},"pip"),l.bind(i.buttons.airplay,"click",r.airplay,"airplay"),l.bind(i.buttons.settings,"click",function(e){e.stopPropagation(),e.preventDefault(),j.toggleMenu.call(r,e)},null,!1),l.bind(i.buttons.settings,"keyup",function(e){["Space","Enter"].includes(e.key)&&("Enter"!==e.key?(e.preventDefault(),e.stopPropagation(),j.toggleMenu.call(r,e)):j.focusFirstMenuItem.call(r,null,!0))},null,!1),l.bind(i.settings.menu,"keydown",function(e){"Escape"===e.key&&j.toggleMenu.call(r,e)}),l.bind(i.inputs.seek,"mousedown mousemove",function(e){var t=i.progress.getBoundingClientRect(),t=100/t.width*(e.pageX-t.left);e.currentTarget.setAttribute("seek-value",t)}),l.bind(i.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",function(e){var t,n=e.currentTarget,i="play-on-seeked";d(e)&&!["ArrowLeft","ArrowRight"].includes(e.key)||(r.lastSeekTime=Date.now(),t=n.hasAttribute(i),e=["mouseup","touchend","keyup"].includes(e.type),t&&e?(n.removeAttribute(i),M(r.play())):!e&&r.playing&&(n.setAttribute(i,""),r.pause()))}),w.isIos&&(e=Ie.call(r,'input[type="range"]'),Array.from(e).forEach(function(e){return l.bind(e,t,function(e){return Ce(e.target)})})),l.bind(i.inputs.seek,t,function(e){var e=e.currentTarget,t=e.getAttribute("seek-value");v(t)&&(t=e.value),e.removeAttribute("seek-value"),r.currentTime=t/e.max*r.duration},"seek"),l.bind(i.progress,"mouseenter mouseleave mousemove",function(e){return j.updateSeekTooltip.call(r,e)}),l.bind(i.progress,"mousemove touchmove",function(e){var t=r.previewThumbnails;t&&t.loaded&&t.startMove(e)}),l.bind(i.progress,"mouseleave touchend click",function(){var e=r.previewThumbnails;e&&e.loaded&&e.endMove(!1,!0)}),l.bind(i.progress,"mousedown touchstart",function(e){var t=r.previewThumbnails;t&&t.loaded&&t.startScrubbing(e)}),l.bind(i.progress,"mouseup touchend",function(e){var t=r.previewThumbnails;t&&t.loaded&&t.endScrubbing(e)}),w.isWebkit&&Array.from(Ie.call(r,'input[type="range"]')).forEach(function(e){l.bind(e,"input",function(e){return j.updateRangeFill.call(r,e.target)})}),r.config.toggleInvert&&!b(i.display.duration)&&l.bind(i.display.currentTime,"click",function(){0!==r.currentTime&&(r.config.invertTime=!r.config.invertTime,j.timeUpdate.call(r))}),l.bind(i.inputs.volume,t,function(e){r.volume=e.target.value},"volume"),l.bind(i.controls,"mouseenter mouseleave",function(e){i.controls.hover=!r.touch&&"mouseenter"===e.type}),i.fullscreen&&Array.from(i.fullscreen.children).filter(function(e){return!e.contains(i.container)}).forEach(function(e){l.bind(e,"mouseenter mouseleave",function(e){i.controls&&(i.controls.hover=!r.touch&&"mouseenter"===e.type)})}),l.bind(i.controls,"mousedown mouseup touchstart touchend touchcancel",function(e){i.controls.pressed=["mousedown","touchstart"].includes(e.type)}),l.bind(i.controls,"focusin",function(){var e=r.config,t=r.timers,n=(A(i.controls,e.classNames.noTransition,!0),H.toggleControls.call(r,!0),setTimeout(function(){A(i.controls,e.classNames.noTransition,!1)},0),l.touch?3e3:4e3);clearTimeout(t.controls),t.controls=setTimeout(function(){return H.toggleControls.call(r,!1)},n)}),l.bind(i.inputs.volume,"wheel",function(e){var t=e.webkitDirectionInvertedFromDevice,n=_slicedToArray([e.deltaX,-e.deltaY].map(function(e){return t?-e:e}),2),i=n[0],n=n[1],i=Math.sign(Math.abs(i)>Math.abs(n)?i:n),n=(r.increaseVolume(i/50),r.media.volume);(1===i&&n<1||-1===i&&0<n)&&e.preventDefault()},"volume",!1)}),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return _createClass(t,[{key:"handleKey",value:function(e){var t,n=this.player,i=n.elements,r=e.key,o=e.type,a=e.altKey,s=e.ctrlKey,l=e.metaKey,c=e.shiftKey,o="keydown"===o,u=o&&r===this.lastKey;if(!(a||s||l||c)&&r)if(o){a=document.activeElement;if(b(a)){s=n.config.selectors.editable;if(a!==i.inputs.seek&&C(a,s))return;if("Space"===e.key&&C(a,'button, [role^="menuitem"]'))return}switch(["Space","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(r)&&(e.preventDefault(),e.stopPropagation()),r){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u||(t=parseInt(r,10),n.currentTime=n.duration/10*t);break;case"Space":case"k":u||M(n.togglePlay());break;case"ArrowUp":n.increaseVolume(.1);break;case"ArrowDown":n.decreaseVolume(.1);break;case"m":u||(n.muted=!n.muted);break;case"ArrowRight":n.forward();break;case"ArrowLeft":n.rewind();break;case"f":n.fullscreen.toggle();break;case"c":u||n.toggleCaptions();break;case"l":n.loop=!n.loop}"Escape"===r&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=r}else this.lastKey=null}},{key:"toggleMenu",value:function(e){j.toggleMenu.call(this.player,e)}}]),t}(),mt=(0,function(){var p=function(){},a={},u={},d={};function s(e,t){if(e){var n=d[e];if(u[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function h(e,t){e.call&&(e={success:e}),t.length?(e.error||p)(t):(e.success||p)(e)}function l(e,i,t){for(var r=(e=e.push?e:[e]).length,n=r,o=[],a=function(e,t,n){if("e"==t&&o.push(e),"b"==t){if(!n)return;o.push(e)}--r||i(o)},s=0;s<n;s++)!function n(i,r,o,a){var s,l,e=document,t=o.async,c=(o.numRetries||0)+1,u=o.before||p,d=i.replace(/[\?|#].*$/,""),h=i.replace(/^(css|img)!/,"");a=a||0,/(^css!|\.css$)/.test(d)?((l=e.createElement("link")).rel="stylesheet",l.href=h,(s="hideFocus"in l)&&l.relList&&(s=0,l.rel="preload",l.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)?(l=e.createElement("img")).src=h:((l=e.createElement("script")).src=i,l.async=void 0===t||t),l.onload=l.onerror=l.onbeforeload=function(e){var t=e.type[0];if(s)try{l.sheet.cssText.length||(t="e")}catch(e){18!=e.code&&(t="e")}if("e"==t){if((a+=1)<c)return n(i,r,o,a)}else if("preload"==l.rel&&"style"==l.as)return l.rel="stylesheet";r(i,t,e.defaultPrevented)},!1!==u(i,l)&&e.head.appendChild(l)}(e[s],a,t)}function f(e,t,n){var i,r;if(t&&t.trim&&(i=t),r=(i?n:t)||{},i){if(i in a)throw"LoadJS";a[i]=!0}function o(t,n){l(e,function(e){h(r,e),t&&h({success:t,error:n},e),s(i,e)},r)}if(r.returnPromise)return new Promise(o);o()}return f.ready=function(e,t){var n=e,i=function(e){h(t,e)};n=n.push?n:[n];for(var r,o,a=[],s=n.length,l=s,c=function(e,t){t.length&&a.push(e),--l||i(a)};s--;)r=n[s],(o=u[r])?c(r,o):(d[r]=d[r]||[]).push(c);return f},f.done=function(e){s(e,[])},f.reset=function(){a={},u={},d={}},f.isDefined=function(e){return e in a},f}());function gt(n){return new Promise(function(e,t){mt(n,{success:e,error:t})})}function yt(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,x.call(this,this.media,e?"play":"pause"))}var bt={setup:function(){var t=this;A(t.elements.wrapper,t.config.classNames.embed,!0),t.options.speed=t.config.speed.options,Ge.call(t),s(window.Vimeo)?bt.ready.call(t):gt(t.config.urls.vimeo.sdk).then(function(){bt.ready.call(t)}).catch(function(e){t.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready:function(){var n=this,a=this,e=a.config.vimeo,t=e.premium,i=e.referrerPolicy,r=_objectWithoutProperties(e,_excluded),o=a.media.getAttribute("src"),s="",l=(s=v(o)?(o=a.media.getAttribute(a.config.attributes.embed.id),a.media.getAttribute(a.config.attributes.embed.hash)):(l=o.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/))&&5===l.length?l[4]:null)?{h:s}:{},s=(t&&Object.assign(r,{controls:!1,sidedock:!1}),st(_objectSpread(_objectSpread({loop:a.config.loop.active,autoplay:a.autoplay,muted:a.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},l),r))),o=v(r=o)?null:!g(Number(r))&&r.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:r,r=T("iframe"),o=Qe(a.config.urls.vimeo.iframe,o,s),c=(r.setAttribute("src",o),r.setAttribute("allowfullscreen",""),r.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),v(i)||r.setAttribute("referrerPolicy",i),t||!e.customControls?(r.setAttribute("data-poster",a.poster),a.media=Le(r,a.media)):((s=T("div",{class:a.config.classNames.embedContainer,"data-poster":a.poster})).appendChild(r),a.media=Le(s,a.media)),e.customControls||nt(Qe(a.config.urls.vimeo.api,o)).then(function(e){!v(e)&&e.thumbnail_url&&H.setPoster.call(a,e.thumbnail_url).catch(function(){})}),a.embed=new window.Vimeo.Player(r,{autopause:a.config.autopause,muted:a.muted}),a.media.paused=!0,a.media.currentTime=0,a.supported.ui&&a.embed.disableTextTrack(),a.media.play=function(){return yt.call(a,!0),a.embed.play()},a.media.pause=function(){return yt.call(a,!1),a.embed.pause()},a.media.stop=function(){a.pause(),a.currentTime=0},a.media.currentTime),u=(Object.defineProperty(a.media,"currentTime",{get:function(){return c},set:function(e){var t=a.embed,n=a.media,i=a.paused,r=a.volume,o=i&&!t.hasPlayed;n.seeking=!0,x.call(a,n,"seeking"),Promise.resolve(o&&t.setVolume(0)).then(function(){return t.setCurrentTime(e)}).then(function(){return o&&t.pause()}).then(function(){return o&&t.setVolume(r)}).catch(function(){})}}),a.config.speed.selected),d=(Object.defineProperty(a.media,"playbackRate",{get:function(){return u},set:function(e){a.embed.setPlaybackRate(e).then(function(){u=e,x.call(a,a.media,"ratechange")}).catch(function(){a.options.speed=[1]})}}),a.config.volume),h=(Object.defineProperty(a.media,"volume",{get:function(){return d},set:function(e){a.embed.setVolume(e).then(function(){d=e,x.call(a,a.media,"volumechange")})}}),a.config.muted);Object.defineProperty(a.media,"muted",{get:function(){return h},set:function(e){var t=!!m(e)&&e;a.embed.setVolume(t?0:a.config.volume).then(function(){h=t,x.call(a,a.media,"volumechange")})}});var p,f=a.config.loop;Object.defineProperty(a.media,"loop",{get:function(){return f},set:function(e){var t=m(e)?e:a.config.loop.active;a.embed.setLoop(t).then(function(){f=t})}}),a.embed.getVideoUrl().then(function(e){p=e,j.setDownloadUrl.call(a)}).catch(function(e){n.debug.warn(e)}),Object.defineProperty(a.media,"currentSrc",{get:function(){return p}}),Object.defineProperty(a.media,"ended",{get:function(){return a.currentTime===a.duration}}),Promise.all([a.embed.getVideoWidth(),a.embed.getVideoHeight()]).then(function(e){var e=_slicedToArray(e,2),t=e[0],e=e[1];a.embed.ratio=Xe(t,e),Ge.call(n)}),a.embed.setAutopause(a.config.autopause).then(function(e){a.config.autopause=e}),a.embed.getVideoTitle().then(function(e){a.config.title=e,H.setTitle.call(n)}),a.embed.getCurrentTime().then(function(e){c=e,x.call(a,a.media,"timeupdate")}),a.embed.getDuration().then(function(e){a.media.duration=e,x.call(a,a.media,"durationchange")}),a.embed.getTextTracks().then(function(e){a.media.textTracks=e,I.setup.call(a)}),a.embed.on("cuechange",function(e){e=e.cues,e=(void 0===e?[]:e).map(function(e){return e=e.text,t=document.createDocumentFragment(),n=document.createElement("div"),t.appendChild(n),n.innerHTML=e,t.firstChild.innerText;var t,n});I.updateCues.call(a,e)}),a.embed.on("loaded",function(){a.embed.getPaused().then(function(e){yt.call(a,!e),e||x.call(a,a.media,"playing")}),b(a.embed.element)&&a.supported.ui&&a.embed.element.setAttribute("tabindex",-1)}),a.embed.on("bufferstart",function(){x.call(a,a.media,"waiting")}),a.embed.on("bufferend",function(){x.call(a,a.media,"playing")}),a.embed.on("play",function(){yt.call(a,!0),x.call(a,a.media,"playing")}),a.embed.on("pause",function(){yt.call(a,!1)}),a.embed.on("timeupdate",function(e){a.media.seeking=!1,c=e.seconds,x.call(a,a.media,"timeupdate")}),a.embed.on("progress",function(e){a.media.buffered=e.percent,x.call(a,a.media,"progress"),1===parseInt(e.percent,10)&&x.call(a,a.media,"canplaythrough"),a.embed.getDuration().then(function(e){e!==a.media.duration&&(a.media.duration=e,x.call(a,a.media,"durationchange"))})}),a.embed.on("seeked",function(){a.media.seeking=!1,x.call(a,a.media,"seeked")}),a.embed.on("ended",function(){a.media.paused=!0,x.call(a,a.media,"ended")}),a.embed.on("error",function(e){a.media.error=e,x.call(a,a.media,"error")}),e.customControls&&setTimeout(function(){return H.build.call(a)},0)}};function vt(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,x.call(this,this.media,e?"play":"pause"))}var wt={setup:function(){var e,t=this;A(this.elements.wrapper,this.config.classNames.embed,!0),s(window.YT)&&p(window.YT.Player)?wt.ready.call(this):(e=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=function(){p(e)&&e(),wt.ready.call(t)},gt(this.config.urls.youtube.sdk).catch(function(e){t.debug.warn("YouTube API failed to load",e)}))},getTitle:function(e){var i=this;nt(Qe(this.config.urls.youtube.api,e)).then(function(e){var t,n;s(e)&&(t=e.title,n=e.height,e=e.width,i.config.title=t,H.setTitle.call(i),i.embed.ratio=Xe(e,n)),Ge.call(i)}).catch(function(){Ge.call(i)})},ready:function(){var r,e,o=this,a=o.config.youtube,t=o.media&&o.media.getAttribute("id");!v(t)&&t.startsWith("youtube-")||(t=o.media.getAttribute("src"),v(t)&&(t=o.media.getAttribute(this.config.attributes.embed.id)),r=v(t=t)?null:t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:t,t=T("div",{id:"".concat(o.provider,"-").concat(Math.floor(1e4*Math.random())),"data-poster":a.customControls?o.poster:void 0}),o.media=Le(t,o.media),a.customControls&&pt((e=function(e){return"https://i.ytimg.com/vi/".concat(r,"/").concat(e,"default.jpg")})("maxres"),121).catch(function(){return pt(e("sd"),121)}).catch(function(){return pt(e("hq"))}).then(function(e){return H.setPoster.call(o,e.src)}).then(function(e){e.includes("maxres")||(o.elements.poster.style.backgroundSize="cover")}).catch(function(){}),o.embed=new window.YT.Player(o.media,{videoId:r,host:a.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0,playerVars:k({},{autoplay:o.config.autoplay?1:0,hl:o.config.hl,controls:o.supported.ui&&a.customControls?0:1,disablekb:1,playsinline:o.config.fullscreen.iosNative?0:1,cc_load_policy:o.captions.active?1:0,cc_lang_pref:o.config.captions.language,widget_referrer:window?window.location.href:null},a),events:{onError:function(e){o.media.error||(e=e.data,o.media.error={code:e,message:{2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[e]||"An unknown error occured"},x.call(o,o.media,"error"))},onPlaybackRateChange:function(e){e=e.target;o.media.playbackRate=e.getPlaybackRate(),x.call(o,o.media,"ratechange")},onReady:function(e){var t,n,i;p(o.media.play)||(t=e.target,wt.getTitle.call(o,r),o.media.play=function(){vt.call(o,!0),t.playVideo()},o.media.pause=function(){vt.call(o,!1),t.pauseVideo()},o.media.stop=function(){t.stopVideo()},o.media.duration=t.getDuration(),o.media.paused=!0,o.media.currentTime=0,Object.defineProperty(o.media,"currentTime",{get:function(){return Number(t.getCurrentTime())},set:function(e){o.paused&&!o.embed.hasPlayed&&o.embed.mute(),o.media.seeking=!0,x.call(o,o.media,"seeking"),t.seekTo(e)}}),Object.defineProperty(o.media,"playbackRate",{get:function(){return t.getPlaybackRate()},set:function(e){t.setPlaybackRate(e)}}),n=o.config.volume,Object.defineProperty(o.media,"volume",{get:function(){return n},set:function(e){n=e,t.setVolume(100*n),x.call(o,o.media,"volumechange")}}),i=o.config.muted,Object.defineProperty(o.media,"muted",{get:function(){return i},set:function(e){e=m(e)?e:i;t[(i=e)?"mute":"unMute"](),t.setVolume(100*n),x.call(o,o.media,"volumechange")}}),Object.defineProperty(o.media,"currentSrc",{get:function(){return t.getVideoUrl()}}),Object.defineProperty(o.media,"ended",{get:function(){return o.currentTime===o.duration}}),e=t.getAvailablePlaybackRates(),o.options.speed=e.filter(function(e){return o.config.speed.options.includes(e)}),o.supported.ui&&a.customControls&&o.media.setAttribute("tabindex",-1),x.call(o,o.media,"timeupdate"),x.call(o,o.media,"durationchange"),clearInterval(o.timers.buffering),o.timers.buffering=setInterval(function(){o.media.buffered=t.getVideoLoadedFraction(),(null===o.media.lastBuffered||o.media.lastBuffered<o.media.buffered)&&x.call(o,o.media,"progress"),o.media.lastBuffered=o.media.buffered,1===o.media.buffered&&(clearInterval(o.timers.buffering),x.call(o,o.media,"canplaythrough"))},200),a.customControls&&setTimeout(function(){return H.build.call(o)},50))},onStateChange:function(e){var t=e.target;switch(clearInterval(o.timers.playing),o.media.seeking&&[1,2].includes(e.data)&&(o.media.seeking=!1,x.call(o,o.media,"seeked")),e.data){case-1:x.call(o,o.media,"timeupdate"),o.media.buffered=t.getVideoLoadedFraction(),x.call(o,o.media,"progress");break;case 0:vt.call(o,!1),o.media.loop?(t.stopVideo(),t.playVideo()):x.call(o,o.media,"ended");break;case 1:a.customControls&&!o.config.autoplay&&o.media.paused&&!o.embed.hasPlayed?o.media.pause():(vt.call(o,!0),x.call(o,o.media,"playing"),o.timers.playing=setInterval(function(){x.call(o,o.media,"timeupdate")},50),o.media.duration!==t.getDuration()&&(o.media.duration=t.getDuration(),x.call(o,o.media,"durationchange")));break;case 2:o.muted||o.embed.unMute(),vt.call(o,!1);break;case 3:x.call(o,o.media,"waiting")}x.call(o,o.elements.container,"statechange",!1,{code:e.data})}}}))}},kt={setup:function(){this.media?(A(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),A(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&A(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=T("div",{class:this.config.classNames.video}),Pe(this.media,this.elements.wrapper),this.elements.poster=T("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?O.setup.call(this):this.isYouTube?wt.setup.call(this):this.isVimeo&&bt.setup.call(this)):this.debug.warn("No media element found!")}},Tt=function(){function t(e){var o=this;_classCallCheck(this,t),c(this,"load",function(){o.enabled&&(s(window.google)&&s(window.google.ima)?o.ready():gt(o.player.config.urls.googleIMA.sdk).then(function(){o.ready()}).catch(function(){o.trigger("error",new Error("Google IMA SDK failed to load"))}))}),c(this,"ready",function(){var e;o.enabled||((e=o).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),o.startSafetyTimer(12e3,"ready()"),o.managerPromise.then(function(){o.clearSafetyTimer("onAdsManagerLoaded()")}),o.listeners(),o.setupIMA()}),c(this,"setupIMA",function(){o.elements.container=T("div",{class:o.player.config.classNames.ads}),o.player.elements.container.appendChild(o.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(o.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(o.player.config.playsinline),o.elements.displayContainer=new google.ima.AdDisplayContainer(o.elements.container,o.player.media),o.loader=new google.ima.AdsLoader(o.elements.displayContainer),o.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){return o.onAdsManagerLoaded(e)},!1),o.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return o.onAdError(e)},!1),o.requestAds()}),c(this,"requestAds",function(){var e=o.player.elements.container;try{var t=new google.ima.AdsRequest;t.adTagUrl=o.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!o.player.muted),o.loader.requestAds(t)}catch(e){o.onAdError(e)}}),c(this,"pollCountdown",function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]?o.countdownTimer=setInterval(function(){var e=ot(Math.max(o.manager.getRemainingTime(),0)),e="".concat(L("advertisement",o.player.config)," - ").concat(e);o.elements.container.setAttribute("data-badge-text",e)},100):(clearInterval(o.countdownTimer),o.elements.container.removeAttribute("data-badge-text"))}),c(this,"onAdsManagerLoaded",function(e){var t;o.enabled&&((t=new google.ima.AdsRenderingSettings).restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,o.manager=e.getAdsManager(o.player,t),o.cuePoints=o.manager.getCuePoints(),o.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return o.onAdError(e)}),Object.keys(google.ima.AdEvent.Type).forEach(function(e){o.manager.addEventListener(google.ima.AdEvent.Type[e],function(e){return o.onAdEvent(e)})}),o.trigger("loaded"))}),c(this,"addCuePoints",function(){v(o.cuePoints)||o.cuePoints.forEach(function(e){var t,n;0!==e&&-1!==e&&e<o.player.duration&&(t=o.player.elements.progress,b(t)&&(e=100/o.player.duration*e,(n=T("span",{class:o.player.config.classNames.cues})).style.left="".concat(e.toString(),"%"),t.appendChild(n)))})}),c(this,"onAdEvent",function(e){var t,n=o.player.elements.container,i=e.getAd(),r=e.getAdData();switch(t=e.type,x.call(o.player,o.player.media,"ads".concat(t.replace(/_/g,"").toLowerCase())),e.type){case google.ima.AdEvent.Type.LOADED:o.trigger("loaded"),o.pollCountdown(!0),i.isLinear()||(i.width=n.offsetWidth,i.height=n.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:o.manager.setVolume(o.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:o.player.ended?o.loadAds():o.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:o.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:o.pollCountdown(),o.resumeContent();break;case google.ima.AdEvent.Type.LOG:r.adError&&o.player.debug.warn("Non-fatal ad error: ".concat(r.adError.getMessage()))}}),c(this,"onAdError",function(e){o.cancel(),o.player.debug.warn("Ads error",e)}),c(this,"listeners",function(){var i,e=o.player.elements.container;o.player.on("canplay",function(){o.addCuePoints()}),o.player.on("ended",function(){o.loader.contentComplete()}),o.player.on("timeupdate",function(){i=o.player.currentTime}),o.player.on("seeked",function(){var n=o.player.currentTime;v(o.cuePoints)||o.cuePoints.forEach(function(e,t){i<e&&e<n&&(o.manager.discardAdBreak(),o.cuePoints.splice(t,1))})}),window.addEventListener("resize",function(){o.manager&&o.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)})}),c(this,"play",function(){var e=o.player.elements.container;o.managerPromise||o.resumeContent(),o.managerPromise.then(function(){o.manager.setVolume(o.player.volume),o.elements.displayContainer.initialize();try{o.initialized||(o.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),o.manager.start()),o.initialized=!0}catch(e){o.onAdError(e)}}).catch(function(){})}),c(this,"resumeContent",function(){o.elements.container.style.zIndex="",o.playing=!1,M(o.player.media.play())}),c(this,"pauseContent",function(){o.elements.container.style.zIndex=3,o.playing=!0,o.player.media.pause()}),c(this,"cancel",function(){o.initialized&&o.resumeContent(),o.trigger("error"),o.loadAds()}),c(this,"loadAds",function(){o.managerPromise.then(function(){o.manager&&o.manager.destroy(),o.managerPromise=new Promise(function(e){o.on("loaded",e),o.player.debug.log(o.manager)}),o.initialized=!1,o.requestAds()}).catch(function(){})}),c(this,"trigger",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e=o.events[e];y(e)&&e.forEach(function(e){p(e)&&e.apply(o,n)})}),c(this,"on",function(e,t){return y(o.events[e])||(o.events[e]=[]),o.events[e].push(t),o}),c(this,"startSafetyTimer",function(e,t){o.player.debug.log("Safety timer invoked from: ".concat(t)),o.safetyTimer=setTimeout(function(){o.cancel(),o.clearSafetyTimer("startSafetyTimer()")},e)}),c(this,"clearSafetyTimer",function(e){Se(o.safetyTimer)||(o.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(o.safetyTimer),o.safetyTimer=null)}),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(e,t){o.on("loaded",e),o.on("error",t)}),this.load()}return _createClass(t,[{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!v(e.publisherId)||ve(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;return ve(e.tagUrl)?e.tagUrl:"https://go.aniview.com/api/adserver6/vast/?".concat(st({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId}))}}]),t}();function St(e,t,n){e=0<arguments.length&&void 0!==e?e:0,t=1<arguments.length&&void 0!==t?t:0,n=2<arguments.length&&void 0!==n?n:255;return Math.min(Math.max(e,t),n)}function _t(e,t){var n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n}var At=function(){function t(e){var s=this;_classCallCheck(this,t),c(this,"load",function(){s.player.elements.display.seekTooltip&&(s.player.elements.display.seekTooltip.hidden=s.enabled),s.enabled&&s.getThumbnails().then(function(){s.enabled&&(s.render(),s.determineContainerAutoSizing(),s.loaded=!0)})}),c(this,"getThumbnails",function(){return new Promise(function(e){var t=s.player.config.previewThumbnails.src;if(v(t))throw new Error("Missing previewThumbnails.src config attribute");function n(){s.thumbnails.sort(function(e,t){return e.height-t.height}),s.player.debug.log("Preview thumbnails",s.thumbnails),e()}p(t)?t(function(e){s.thumbnails=e,n()}):(t=(h(t)?[t]:t).map(function(e){return s.getThumbnail(e)}),Promise.all(t).then(n))})}),c(this,"getThumbnail",function(o){return new Promise(function(r){nt(o).then(function(e){var t,n={frames:(t=[],e.split(/\r\n\r\n|\n\n|\r\r/).forEach(function(e){var i={};e.split(/\r\n|\n|\r/).forEach(function(e){var t,n;g(i.startTime)?!v(e.trim())&&v(i.text)&&(t=_slicedToArray(n=e.trim().split("#xywh="),1),i.text=t[0],n[1]&&(t=_slicedToArray(n[1].split(","),4),i.x=t[0],i.y=t[1],i.w=t[2],i.h=t[3])):(n=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/))&&(i.startTime=60*Number(n[1]||0)*60+60*Number(n[2])+Number(n[3])+Number("0.".concat(n[4])),i.endTime=60*Number(n[6]||0)*60+60*Number(n[7])+Number(n[8])+Number("0.".concat(n[9])))}),i.text&&t.push(i)}),t),height:null,urlPrefix:""},i=(n.frames[0].text.startsWith("/")||n.frames[0].text.startsWith("http://")||n.frames[0].text.startsWith("https://")||(n.urlPrefix=o.substring(0,o.lastIndexOf("/")+1)),new Image);i.onload=function(){n.height=i.naturalHeight,n.width=i.naturalWidth,s.thumbnails.push(n),r()},i.src=n.urlPrefix+n.frames[0].text})})}),c(this,"startMove",function(e){var t;s.loaded&&l(e)&&["touchmove","mousemove"].includes(e.type)&&s.player.media.duration&&("touchmove"===e.type?s.seekTime=s.player.media.duration*(s.player.elements.inputs.seek.value/100):(t=100/(t=s.player.elements.progress.getBoundingClientRect()).width*(e.pageX-t.left),s.seekTime=s.player.media.duration*(t/100),s.seekTime<0&&(s.seekTime=0),s.seekTime>s.player.media.duration-1&&(s.seekTime=s.player.media.duration-1),s.mousePosX=e.pageX,s.elements.thumb.time.innerText=ot(s.seekTime),(t=null==(t=s.player.config.markers)||null==(e=t.points)?void 0:e.find(function(e){return e.time===Math.round(s.seekTime)}))&&s.elements.thumb.time.insertAdjacentHTML("afterbegin","".concat(t.label,"<br>"))),s.showImageAtCurrentTime())}),c(this,"endMove",function(){s.toggleThumbContainer(!1,!0)}),c(this,"startScrubbing",function(e){!Se(e.button)&&!1!==e.button&&0!==e.button||(s.mouseDown=!0,s.player.media.duration&&(s.toggleScrubbingContainer(!0),s.toggleThumbContainer(!1,!0),s.showImageAtCurrentTime()))}),c(this,"endScrubbing",function(){s.mouseDown=!1,Math.ceil(s.lastTime)===Math.ceil(s.player.media.currentTime)?s.toggleScrubbingContainer(!1):Fe.call(s.player,s.player.media,"timeupdate",function(){s.mouseDown||s.toggleScrubbingContainer(!1)})}),c(this,"listeners",function(){s.player.on("play",function(){s.toggleThumbContainer(!1,!0)}),s.player.on("seeked",function(){s.toggleThumbContainer(!1)}),s.player.on("timeupdate",function(){s.lastTime=s.player.media.currentTime})}),c(this,"render",function(){s.elements.thumb.container=T("div",{class:s.player.config.classNames.previewThumbnails.thumbContainer}),s.elements.thumb.imageContainer=T("div",{class:s.player.config.classNames.previewThumbnails.imageContainer}),s.elements.thumb.container.appendChild(s.elements.thumb.imageContainer);var e=T("div",{class:s.player.config.classNames.previewThumbnails.timeContainer});s.elements.thumb.time=T("span",{},"00:00"),e.appendChild(s.elements.thumb.time),s.elements.thumb.imageContainer.appendChild(e),b(s.player.elements.progress)&&s.player.elements.progress.appendChild(s.elements.thumb.container),s.elements.scrubbing.container=T("div",{class:s.player.config.classNames.previewThumbnails.scrubbingContainer}),s.player.elements.wrapper.appendChild(s.elements.scrubbing.container)}),c(this,"destroy",function(){s.elements.thumb.container&&s.elements.thumb.container.remove(),s.elements.scrubbing.container&&s.elements.scrubbing.container.remove()}),c(this,"showImageAtCurrentTime",function(){s.mouseDown?s.setScrubbingContainerSize():s.setThumbContainerSizeAndPos();var n=s.thumbnails[0].frames.findIndex(function(e){return s.seekTime>=e.startTime&&s.seekTime<=e.endTime}),e=0<=n,i=0;s.mouseDown||s.toggleThumbContainer(e),e&&(s.thumbnails.forEach(function(e,t){s.loadedImages.includes(e.frames[n].text)&&(i=t)}),n!==s.showingThumb&&(s.showingThumb=n,s.loadImage(i)))}),c(this,"loadImage",function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=s.showingThumb,i=s.thumbnails[t],r=i.urlPrefix,o=i.frames[n],a=i.frames[n].text,i=r+a;s.currentImageElement&&s.currentImageElement.dataset.filename===a?(s.showImage(s.currentImageElement,o,t,n,a,!1),s.currentImageElement.dataset.index=n,s.removeOldImages(s.currentImageElement)):(s.loadingImage&&s.usingSprites&&(s.loadingImage.onload=null),(e=new Image).src=i,e.dataset.index=n,e.dataset.filename=a,s.showingThumbFilename=a,s.player.debug.log("Loading image: ".concat(i)),e.onload=function(){return s.showImage(e,o,t,n,a,!0)},s.loadingImage=e,s.removeOldImages(e))}),c(this,"showImage",function(e,t,n,i,r){var o=!(5<arguments.length&&void 0!==arguments[5])||arguments[5];s.player.debug.log("Showing thumb: ".concat(r,". num: ").concat(i,". qual: ").concat(n,". newimg: ").concat(o)),s.setImageSizeAndOffset(e,t),o&&(s.currentImageContainer.appendChild(e),s.currentImageElement=e,s.loadedImages.includes(r)||s.loadedImages.push(r)),s.preloadNearby(i,!0).then(s.preloadNearby(i,!1)).then(s.getHigherQuality(n,e,t,r))}),c(this,"removeOldImages",function(i){Array.from(s.currentImageContainer.children).forEach(function(e){var t,n;"img"===e.tagName.toLowerCase()&&(t=s.usingSprites?500:1e3,e.dataset.index===i.dataset.index||e.dataset.deleting||(e.dataset.deleting=!0,n=s.currentImageContainer,setTimeout(function(){n.removeChild(e),s.player.debug.log("Removing thumb: ".concat(e.dataset.filename))},t)))})}),c(this,"preloadNearby",function(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return new Promise(function(o){setTimeout(function(){var e,i,r=s.thumbnails[0].frames[t].text;s.showingThumbFilename===r&&(e=n?s.thumbnails[0].frames.slice(t):s.thumbnails[0].frames.slice(0,t).reverse(),i=!1,e.forEach(function(e){var t,n=e.text;n===r||s.loadedImages.includes(n)||(i=!0,s.player.debug.log("Preloading thumb filename: ".concat(n)),e=s.thumbnails[0].urlPrefix+n,(t=new Image).src=e,t.onload=function(){s.player.debug.log("Preloaded thumb filename: ".concat(n)),s.loadedImages.includes(n)||s.loadedImages.push(n),o()})}),i||o())},300)})}),c(this,"getHigherQuality",function(e,t,n,i){e<s.thumbnails.length-1&&(t=t.naturalHeight,(t=s.usingSprites?n.h:t)<s.thumbContainerHeight&&setTimeout(function(){s.showingThumbFilename===i&&(s.player.debug.log("Showing higher quality thumb for: ".concat(i)),s.loadImage(e+1))},300))}),c(this,"toggleThumbContainer",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=s.player.config.classNames.previewThumbnails.thumbContainerShown;s.elements.thumb.container.classList.toggle(n,e),!e&&t&&(s.showingThumb=null,s.showingThumbFilename=null)}),c(this,"toggleScrubbingContainer",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=s.player.config.classNames.previewThumbnails.scrubbingContainerShown;s.elements.scrubbing.container.classList.toggle(t,e),e||(s.showingThumb=null,s.showingThumbFilename=null)}),c(this,"determineContainerAutoSizing",function(){(20<s.elements.thumb.imageContainer.clientHeight||20<s.elements.thumb.imageContainer.clientWidth)&&(s.sizeSpecifiedInCSS=!0)}),c(this,"setThumbContainerSizeAndPos",function(){var e,t=s.elements.thumb.imageContainer;s.sizeSpecifiedInCSS?20<t.clientHeight&&t.clientWidth<20?(e=Math.floor(t.clientHeight*s.thumbAspectRatio),t.style.width="".concat(e,"px")):t.clientHeight<20&&20<t.clientWidth&&(e=Math.floor(t.clientWidth/s.thumbAspectRatio),t.style.height="".concat(e,"px")):(e=Math.floor(s.thumbContainerHeight*s.thumbAspectRatio),t.style.height="".concat(s.thumbContainerHeight,"px"),t.style.width="".concat(e,"px")),s.setThumbContainerPos()}),c(this,"setThumbContainerPos",function(){var e=s.player.elements.progress.getBoundingClientRect(),t=s.player.elements.container.getBoundingClientRect(),n=s.elements.thumb.container,i=t.left-e.left+10,t=t.right-e.left-n.clientWidth-10,e=s.mousePosX-e.left-n.clientWidth/2,i=St(e,i,t);n.style.left="".concat(i,"px"),n.style.setProperty("--preview-arrow-offset",e-i+"px")}),c(this,"setScrubbingContainerSize",function(){var e=_t(s.thumbAspectRatio,{width:s.player.media.clientWidth,height:s.player.media.clientHeight}),t=e.width,e=e.height;s.elements.scrubbing.container.style.width="".concat(t,"px"),s.elements.scrubbing.container.style.height="".concat(e,"px")}),c(this,"setImageSizeAndOffset",function(e,t){var n;s.usingSprites&&(n=s.thumbContainerHeight/t.h,e.style.height=e.naturalHeight*n+"px",e.style.width=e.naturalWidth*n+"px",e.style.left="-".concat(t.x*n,"px"),e.style.top="-".concat(t.y*n,"px"))}),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return _createClass(t,[{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?_t(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}).height:this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),t}(),Ct={insertElements:function(t,e){var n=this;h(e)?Me(t,this.media,{src:e}):y(e)&&e.forEach(function(e){Me(t,n.media,e)})},change:function(o){var a=this;Ee(o,"sources.length")?(O.cancelRequests.call(this),this.destroy.call(this,function(){a.options.quality=[],f(a.media),a.media=null,b(a.elements.container)&&a.elements.container.removeAttribute("class");var e=o.sources,t=o.type,n=_slicedToArray(e,1)[0],i=n.provider,i=void 0===i?N.html5:i,n=n.src,r="html5"===i?t:"div",n="html5"===i?{}:{src:n};Object.assign(a,{provider:i,type:t,supported:E.check(t,i,a.config.playsinline),media:T(r,n)}),a.elements.container.appendChild(a.media),m(o.autoplay)&&(a.config.autoplay=o.autoplay),a.isHTML5&&(a.config.crossorigin&&a.media.setAttribute("crossorigin",""),a.config.autoplay&&a.media.setAttribute("autoplay",""),v(o.poster)||(a.poster=o.poster),a.config.loop.active&&a.media.setAttribute("loop",""),a.config.muted&&a.media.setAttribute("muted",""),a.config.playsinline&&a.media.setAttribute("playsinline","")),H.addStyleHook.call(a),a.isHTML5&&Ct.insertElements.call(a,"source",e),a.config.title=o.title,kt.setup.call(a),a.isHTML5&&Object.keys(o).includes("tracks")&&Ct.insertElements.call(a,"track",o.tracks),(a.isHTML5||a.isEmbed&&!a.supported.ui)&&H.build.call(a),a.isHTML5&&a.media.load(),v(o.previewThumbnails)||(Object.assign(a.config.previewThumbnails,o.previewThumbnails),a.previewThumbnails&&a.previewThumbnails.loaded&&(a.previewThumbnails.destroy(),a.previewThumbnails=null),a.config.previewThumbnails.enabled&&(a.previewThumbnails=new At(a))),a.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}},i=function(){function s(e,t){var i=this;if(_classCallCheck(this,s),c(this,"play",function(){return p(i.media.play)?(i.ads&&i.ads.enabled&&i.ads.managerPromise.then(function(){return i.ads.play()}).catch(function(){return M(i.media.play())}),i.media.play()):null}),c(this,"pause",function(){return i.playing&&p(i.media.pause)?i.media.pause():null}),c(this,"togglePlay",function(e){return(m(e)?e:!i.playing)?i.play():i.pause()}),c(this,"stop",function(){i.isHTML5?(i.pause(),i.restart()):p(i.media.stop)&&i.media.stop()}),c(this,"restart",function(){i.currentTime=0}),c(this,"rewind",function(e){i.currentTime-=g(e)?e:i.config.seekTime}),c(this,"forward",function(e){i.currentTime+=g(e)?e:i.config.seekTime}),c(this,"increaseVolume",function(e){var t=i.media.muted?0:i.volume;i.volume=t+(g(e)?e:0)}),c(this,"decreaseVolume",function(e){i.increaseVolume(-e)}),c(this,"airplay",function(){E.airplay&&i.media.webkitShowPlaybackTargetPicker()}),c(this,"toggleControls",function(e){var t;return!(!i.supported.ui||i.isAudio)&&(t=je(i.elements.container,i.config.classNames.hideControls),(e=A(i.elements.container,i.config.classNames.hideControls,void 0===e?void 0:!e))&&y(i.config.controls)&&i.config.controls.includes("settings")&&!v(i.config.settings)&&j.toggleMenu.call(i,!1),e!==t&&x.call(i,i.media,e?"controlshidden":"controlsshown"),!e)}),c(this,"on",function(e,t){P.call(i,i.elements.container,e,t)}),c(this,"once",function(e,t){Fe.call(i,i.elements.container,e,t)}),c(this,"off",function(e,t){qe(i.elements.container,e,t)}),c(this,"destroy",function(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];i.ready&&(t=function(){document.body.style.overflow="",i.embed=null,n?(Object.keys(i.elements).length&&(f(i.elements.buttons.play),f(i.elements.captions),f(i.elements.controls),f(i.elements.wrapper),i.elements.buttons.play=null,i.elements.captions=null,i.elements.controls=null,i.elements.wrapper=null),p(e)&&e()):(function(){this&&this.eventListeners&&(this.eventListeners.forEach(function(e){var t=e.element,n=e.type,i=e.callback,e=e.options;t.removeEventListener(n,i,e)}),this.eventListeners=[])}.call(i),O.cancelRequests.call(i),Le(i.elements.original,i.elements.container),x.call(i,i.elements.original,"destroyed",!0),p(e)&&e.call(i.elements.original),i.ready=!1,setTimeout(function(){i.elements=null,i.media=null},200))},i.stop(),clearTimeout(i.timers.loading),clearTimeout(i.timers.controls),clearTimeout(i.timers.resized),i.isHTML5?(H.toggleNativeControls.call(i,!0),t()):i.isYouTube?(clearInterval(i.timers.buffering),clearInterval(i.timers.playing),null!==i.embed&&p(i.embed.destroy)&&i.embed.destroy(),t()):i.isVimeo&&(null!==i.embed&&i.embed.unload().then(t),setTimeout(t,200)))}),c(this,"supports",function(e){return E.mime.call(i,e)}),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=E.touch,this.media=e,h(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||_e(this.media)||y(this.media))&&(this.media=this.media[0]),this.config=k({},ct,s.defaults,t||{},function(){try{return JSON.parse(i.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new dt(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",E),Se(this.media)||!b(this.media))this.debug.error("Setup failed: no suitable element passed");else if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(E.check().api){var e=this.media.cloneNode(!0),n=(e.autoplay=!1,this.elements.original=e,this.media.tagName.toLowerCase()),r=null,o=null;switch(n){case"div":var a,r=this.media.querySelector("iframe");if(b(r)?(o=at(r.getAttribute("src")),this.provider=(a=o.toString(),/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(a)?N.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(a)?N.vimeo:null),this.elements.container=this.media,this.media=r,this.elements.container.className="",o.search.length&&((a=["1","true"]).includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),a.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=a.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0)):(this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider)),v(this.provider)||!Object.values(N).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type="video";break;case"video":case"audio":this.type=n,this.provider=N.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=E.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new ft(this),this.storage=new tt(this),this.media.plyr=this,b(this.elements.container)||(this.elements.container=T("div",{tabindex:0}),Pe(this.media,this.elements.container)),H.migrateStyles.call(this),H.addStyleHook.call(this),kt.setup.call(this),this.config.debug&&P.call(this,this.elements.container,this.config.events.join(" "),function(e){i.debug.log("event: ".concat(e.type))}),this.fullscreen=new ht(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&H.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Tt(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",function(){return M(i.play())}),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new At(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config")}return _createClass(s,[{key:"isHTML5",get:function(){return this.provider===N.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===N.youtube}},{key:"isVimeo",get:function(){return this.provider===N.vimeo}},{key:"isVideo",get:function(){return"video"===this.type}},{key:"isAudio",get:function(){return"audio"===this.type}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",get:function(){return Number(this.media.currentTime)},set:function(e){var t;this.duration&&(t=g(e)&&0<e,this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds")))}},{key:"buffered",get:function(){var e=this.media.buffered;return g(e)?e:e&&e.length&&0<this.duration?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,t=g(t)&&t!==1/0?t:0;return e||t}},{key:"volume",get:function(){return Number(this.media.volume)},set:function(e){var t=e;h(t)&&(t=Number(t)),g(t)||(t=this.storage.get("volume")),g(t)||(t=this.config.volume),this.config.volume=t=(t=1<t?1:t)<0?0:t,this.media.volume=t,!v(e)&&this.muted&&0<t&&(this.muted=!1)}},{key:"muted",get:function(){return Boolean(this.media.muted)},set:function(e){m(e)||(e=this.storage.get("muted")),m(e)||(e=this.config.muted),this.config.muted=e,this.media.muted=e}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",get:function(){return Number(this.media.playbackRate)},set:function(e){var t=this,n=null,e=(g(e)&&(n=e),g(n)||(n=this.storage.get("speed")),g(n)||(n=this.config.speed.selected),this.minimumSpeed),i=this.maximumSpeed,n=St(n,e,i);this.config.speed.selected=n,setTimeout(function(){t.media&&(t.media.playbackRate=n)},0)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,_toConsumableArray(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,_toConsumableArray(this.options.speed)):this.isVimeo?2:16}},{key:"quality",get:function(){return this.media.quality},set:function(e){var t,n=this.config.quality,i=this.options.quality;i.length&&(e=[!v(e)&&Number(e),this.storage.get("quality"),n.selected,n.default].find(g),t=!0,i.includes(e)||(i=Be(i,e),this.debug.warn("Unsupported quality option: ".concat(e,", using ").concat(i," instead")),e=i,t=!1),n.selected=e,this.media.quality=e,t&&this.storage.set({quality:e}))}},{key:"loop",get:function(){return Boolean(this.media.loop)},set:function(e){e=m(e)?e:this.config.loop.active;this.config.loop.active=e,this.media.loop=e}},{key:"source",get:function(){return this.media.currentSrc},set:function(e){Ct.change.call(this,e)}},{key:"download",get:function(){var e=this.config.urls.download;return ve(e)?e:this.source},set:function(e){ve(e)&&(this.config.urls.download=e,j.setDownloadUrl.call(this))}},{key:"poster",get:function(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null},set:function(e){this.isVideo?H.setPoster.call(this,e,!1).catch(function(){}):this.debug.warn("Poster can only be set for video")}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=Ke(Ye.call(this));return y(e)?e.join(":"):e},set:function(e){this.isVideo?h(e)&&ze(e)?(this.config.ratio=Ke(e),Ge.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",get:function(){return Boolean(this.config.autoplay)},set:function(e){this.config.autoplay=m(e)?e:this.config.autoplay}},{key:"toggleCaptions",value:function(e){I.toggle.call(this,e,!1)}},{key:"currentTrack",get:function(){var e=this.captions,t=e.toggled,e=e.currentTrack;return t?e:-1},set:function(e){I.set.call(this,e,!1),I.setup.call(this)}},{key:"language",get:function(){return(I.getCurrentTrack.call(this)||{}).language},set:function(e){I.setLanguage.call(this,e,!1)}},{key:"pip",get:function(){return E.pip?v(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===ut:null},set:function(e){E.pip&&(e=m(e)?e:!this.pip,p(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(e?ut:"inline"),p(this.media.requestPictureInPicture)&&(!this.pip&&e?this.media.requestPictureInPicture():this.pip&&!e&&document.exitPictureInPicture()))}},{key:"setPreviewThumbnails",value:function(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new At(this))}}],[{key:"supported",value:function(e,t,n){return E.check(e,t,n)}},{key:"loadSprite",value:it},{key:"setup",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=null;return h(e)?n=Array.from(document.querySelectorAll(e)):_e(e)?n=Array.from(e):y(e)&&(n=e.filter(b)),v(n)?null:n.map(function(e){return new s(e,t)})}}]),s}();return i.defaults=JSON.parse(JSON.stringify(ct)),i});